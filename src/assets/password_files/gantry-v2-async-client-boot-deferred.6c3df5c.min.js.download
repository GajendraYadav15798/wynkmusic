(()=>{var oo=Object.defineProperty;var h=(J,i)=>oo(J,"name",{value:i,configurable:!0});(window.webpackJsonp=window.webpackJsonp||[]).push([["gantry-v2-async-client-boot-deferred"],{"+8Px":function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("X6iR"),t=e("pu3F");function a(s){return Object(n.a)(s,t.P)}h(a,"isSlackAction")},"+8pe":function(J,i,e){"use strict";e.d(i,"a",function(){return t});const n={NOT_STARTED:"not_started",IN_PROGRESS:"in_progress",DONE:"done"},t={LINK:"link",MESSAGE:"message",FILE:"file",FOLDER:"local_folder",PINNED_MESSAGE:"pinned_message",SHORTCUT:"shortcut",AUTO_GEN_SHORTCUT:"auto_gen_shortcut",LEGACY_WORKFLOW:"legacy_workflow",AUTO_GEN_LEGACY_WORKFLOW:"auto_gen_legacy_workflow",CHANNEL_CANVAS:"channel_canvas",FILES:"files"}},"+HIp":function(J,i,e){"use strict";e.d(i,"f",function(){return r}),e.d(i,"g",function(){return c}),e.d(i,"e",function(){return u}),e.d(i,"c",function(){return d}),e.d(i,"a",function(){return p}),e.d(i,"d",function(){return v}),e.d(i,"b",function(){return g});var n=e("uZL6"),t=e("ZKjC"),a=e("JoR1"),s=e("O86Y"),l=e("ZOzc"),o=e("s4P+"),f=e("ZgSn");const r=Object(n.a)(O=>Object(a.u)(O,f.a),O=>Object(s.g)(O),function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"{}",b=arguments.length>1?arguments[1]:void 0;try{return JSON.parse(O)}catch(y){return Object(o.a)({teamId:b}).error("ID-LINKS","Unable to parse user prefs. Defaulting to {}.",y),{}}}),m=Object(t.b)(O=>Object(l.a)(O,f.a));m.meta={name:"createSelector",key:"createSelectorselectIdentityLinksTeamPrefs",description:O=>Object(l.a)(O,f.a)};const c=Object(t.b)(O=>{const b=m(O);var y;return(y=b==null?void 0:b.is_enabled)!==null&&y!==void 0?y:!1});c.meta={name:"createSelector",key:"createSelectorselectIsIdentityLinksEnabledByAdmin",description:O=>{const b=m(O);var y;return(y=b==null?void 0:b.is_enabled)!==null&&y!==void 0?y:!1}};const u=Object(t.b)((O,b)=>{const y=r(O);var C;return(C=y==null?void 0:y[b])!==null&&C!==void 0?C:!1});u.meta={name:"createSelector",key:"createSelectorselectIdentityLinkPrefByAppId",description:(O,b)=>{const y=r(O);var C;return(C=y==null?void 0:y[b])!==null&&C!==void 0?C:!1}};const d=Object(t.b)((O,b)=>{const y=u(O,b);var C;return(C=y==null?void 0:y.date_opted_out)!==null&&C!==void 0?C:null});d.meta={name:"createSelector",key:"createSelectorgetDateOptedOut",description:(O,b)=>{const y=u(O,b);var C;return(C=y==null?void 0:y.date_opted_out)!==null&&C!==void 0?C:null}};const p=Object(t.b)((O,b)=>{const y=u(O,b);var C;return(C=y==null?void 0:y.completed_transfer)!==null&&C!==void 0?C:!1});p.meta={name:"createSelector",key:"createSelectorgetCompletedTransferPref",description:(O,b)=>{const y=u(O,b);var C;return(C=y==null?void 0:y.completed_transfer)!==null&&C!==void 0?C:!1}};const v=Object(t.b)((O,b)=>{const y=u(O,b);var C;return(C=y==null?void 0:y.num_skipped)!==null&&C!==void 0?C:0});v.meta={name:"createSelector",key:"createSelectorgetNumSkipped",description:(O,b)=>{const y=u(O,b);var C;return(C=y==null?void 0:y.num_skipped)!==null&&C!==void 0?C:0}};const g=Object(t.b)((O,b)=>{const y=u(O,b);var C;return(C=y==null?void 0:y.date_disconnected)!==null&&C!==void 0?C:null});g.meta={name:"createSelector",key:"createSelectorgetDateDisconnected",description:(O,b)=>{const y=u(O,b);var C;return(C=y==null?void 0:y.date_disconnected)!==null&&C!==void 0?C:null}}},"+J8q":function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("lhZz"),t=e("yrot"),a=e("TyLq");function s(l,o,f){const r=f&&Object(n.getStateByTeamId)(f);return r&&Object(t.o)(r,{text:l,teamId:f})&&Object(a.a)(o)?`${l}::skin-tone-${o}`:l}h(s,"getSkinToneModifiedName")},"+QGB":function(J,i,e){"use strict";e.d(i,"a",function(){return E});var n=e("ifKl"),t=e("q1tI"),a=e.n(t),s=e("/MKj"),l=e("4YJR"),o=e("9oTK"),f=e("SQ0V"),r=e("Oyf8"),m=e("IaLB"),c=e("v5z3");const u=Object(f.c)("Dismiss all Progressive Disclosure tips from user clicking 'Don't show tips' option",function(){var M=Object(o.coroutine)(function*(T,P){const B=P();Object(m.Y)(B)&&(T(Object(l.k)(null)),T(Object(l.k)({tip:c.f.DismissedAll,state:c.g.Success})),yield T(Object(r.a)()))});return function(T,P){return M.apply(this,arguments)}}());u.meta={name:"createThunk",key:"createThunkdismissAllProgressiveDisclosureTips",description:"Dismiss all Progressive Disclosure tips from user clicking 'Don't show tips' option"};var d=e("T1zM"),p=e("ktUG"),v=e("Trx9"),g=e("WM2Z"),O=e("zxER"),b=e("83nZ"),y=e("eWGC"),C=e("7+Lm"),_=e("uVZW");function j(){return j=Object.assign||function(M){for(var T=1;T<arguments.length;T++){var P=arguments[T];for(var B in P)Object.prototype.hasOwnProperty.call(P,B)&&(M[B]=P[B])}return M},j.apply(this,arguments)}h(j,"_extends");const E=h(M=>{let{onDismiss:T=n.a,onDismissAll:P=n.a,shouldClearMessageInputCtaOnClose:B,tipState:R=c.g.Explainer,...U}=M;const K=Object(t.useRef)(),V=Object(t.useCallback)(L=>{K.current=L},[]),z=Object(O.c)(L=>Object(C.c)(L,_.g.PROGRESSIVE_DISCLOSURE)),N=Object(s.useDispatch)(),A=Object(t.useCallback)(()=>{B&&N(Object(b.a)({pref:"message_input_cta_complete",value:!0}))},[N,B]),x=Object(t.useCallback)(()=>{B&&N(Object(b.a)({pref:"has_dismissed_first_message_tip",value:!0}))},[N,B]),k=Object(t.useCallback)(L=>{var S;L.stopPropagation(),(S=K.current)===null||S===void 0||S.call(K,{action:p.UiAction.CLICK,elementName:`prog_disc_${R}_tip_dismiss_single`}),A(),x(),N(Object(l.k)(null)),N(Object(l.m)(void 0)),N(Object(y.a)({notificationName:z,action:_.f.DISMISS})),T()},[z,N,A,x,T,R]),F=Object(t.useCallback)(L=>{var S;L.stopPropagation(),(S=K.current)===null||S===void 0||S.call(K,{action:p.UiAction.CLICK,elementName:`prog_disc_${R}_tip_dismiss_all`}),A(),x(),N(u()),N(Object(l.m)(void 0)),N(Object(d.f)({pref:"onboarding_tip_opt_out",value:!0})),N(Object(y.a)({notificationName:z,action:_.f.DISMISS,notificationParams:{dismiss_all_education:!0}})),P()},[z,N,A,x,P,R]);return a.a.createElement(v.a,{elementName:`prog_disc_${R}_tip_dismiss`,trackClogRef:V},a.a.createElement(g.a,j({onClickCloseThis:k,onClickDismissAllTips:F},U)))},"ProgressiveDisclosureDismissalMenu");E.displayName="ProgressiveDisclosureDismissalMenu"},"+iwk":function(J,i,e){J.exports=e.p+"connection-0b04091.svg"},"+oez":function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("SQ0V"),t=e("E3dU");const a=Object(n.c)("get channel by id",(s,l,o)=>{let{channelId:f,fetchIfMissing:r=!0}=o;const m=l();return Object(t.d)(m,f,r)});a.meta={name:"createThunk",key:"createThunkgetChannelById",description:"get channel by id"}},"+uU3":function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("ALys"),t=e("F294"),a=e("7jFJ"),s=e("m5Yc");function l(o){const f=Object(t.a)(o.attachments);if(!f||!f.is_msg_unfurl)return!1;const r=f.from_url;if(Object(n.a)(o)){const m=Object(t.a)(o.blocks);if(!m||!m.elements)return!1;const c=Object(a.a)(m.elements,{hasMsgLink:!1,hasOtherContent:!1},(u,d)=>d.type===s.b.LINK&&d.url===r&&(!d.text||d.text===r)?{...u,hasMsgLink:!0}:{...u,hasOtherContent:!0});return c.length===1&&c[0].hasMsgLink&&!c[0].hasOtherContent}return!o.text||o.text===`<${r}>`}h(l,"isSimpleMessageUnfurl")},"+wAm":function(J,i,e){"use strict";var n=e("Lgge"),t=e("n3tL"),a=e("2XU3"),s=e("WCk1");const l=Object(s.a)("API call for slack-action:// URL",(d,p,v)=>{let{botId:g,payload:O}=v;return d(Object(a.apiCall)({method:"chat.action",args:{bot:g,payload:decodeURIComponent(O)}}))});l.meta={name:"createFetcher",key:"createFetcherpostChatAction",description:"API call for slack-action:// URL"},l.propTypes={botId:t.default.string.isRequired,payload:t.default.string.isRequired};var o=l,f=e("SQ0V"),r=e("+8Px"),m=e("pu3F");const c=Object(f.c)("Execute slack-action:// URL",(d,p,v)=>{if(Object(r.a)(v)){const g=v.replace(m.P,"").split("/"),O=g.shift(),b=g.join("/");return d(o({botId:O,payload:b}))}return n.a.reject(new Error("Not a Slack action URL"))});c.meta={name:"createThunk",key:"createThunkdoSlackAction",description:"Execute slack-action:// URL"},c.propTypes=t.default.string.isRequired;var u=i.a=c},"/+/u":function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("C3vN"),t=e("52Wj"),a=e("2oNE");function s(l){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object(a.a)(Object(n.m)(l)||"",`@${Object(t.b)(l)}`,o)}h(s,"makeSlackmentionForMember")},"/0iu":function(J,i,e){"use strict";e.d(i,"c",function(){return t}),e.d(i,"b",function(){return a}),e.d(i,"a",function(){return l}),e.d(i,"e",function(){return o}),e.d(i,"d",function(){return f});var n=e("2VFn");const t="QuipEmbed",a=[t,"QuipInsertionToolbar","QuipFloatingFormattingBar","QuipEmbeddeddUIToolbar"],s=["QuipHeaderView","QuipMegaphoneHeader","QuipActivityHistoryFloatingBar","QuipEmptyStateOptions","QuipSystemMessageBanner","QuipFlexpaneFooter"],l=["HuddleWindowBottomToolbar","HuddleWindowFlexpane","HuddleWindowTitlebar","HuddleWindowThread","HuddleWindowContent","HuddleWindowVideoStrip"],o=["WFBTemplatePreviewSidebar","WFBTemplatePreviewPrimary","WFBCanvas","WFBStepLibrary"],f=[...a,...s,"WorkspaceTabRail","WorkspaceSwitcherRail","WorkspaceSwitcher","TopNav","ControlStrip",n.i.Sidebar,n.i.Primary,n.i.Secondary,n.i.Modal,"HuddleWorkspace"]},"/2YZ":function(J,i,e){"use strict";e.d(i,"b",function(){return n}),e.d(i,"h",function(){return t}),e.d(i,"i",function(){return a}),e.d(i,"d",function(){return s}),e.d(i,"g",function(){return l}),e.d(i,"f",function(){return o}),e.d(i,"a",function(){return f}),e.d(i,"c",function(){return r}),e.d(i,"e",function(){return m});const n=[0,-1],t=[0,2],a=250,s=2;var l;(function(c){c.EMOJI="emoji",c.GIF="gif"})(l||(l={}));const o=3,f=16,r={"Frequently Used":0,"Smileys & People":1,"Animals & Nature":2,"Food & Drink":3,"Travel & Places":4,Activities:5,Objects:6,Symbols:7,Flags:8,Custom:9},m={"Smileys & People":"emoji",People:"emoji","Frequently Used":"clock","Animals & Nature":"emoji-nature","Food & Drink":"emoji-food",Activities:"emoji-activities","Travel & Places":"emoji-travel",Objects:"emoji-objects",Symbols:"emoji-symbols",Flags:"emoji-flag",Custom:"slack-logo",Search:"search"}},"/ArA":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("UXvI"),l=e("ifKl"),o=e("+wAm"),f=e("5IZy"),r=e("qiCS");function m(U){let K=Object(r.e)(U).state;K=K?K.match(/(\{.*\})/g):null,K=K?K[0]:null;try{K=K?JSON.parse(K):null}catch{K=null}return K}h(m,"extractStateObjectFromUrl");var c=e("+8Px"),u=e("FWtP"),d=e("orxu"),p=e("HKlo"),v=e("qDEp"),g=e("AwEi"),O=e("UnpP"),b=e("NV6F"),y=e("WBOM"),C=e("9Gfp"),_=e("O86Y"),j=e("53ci");const E=["","default","primary","danger","tractor"];let M=h(class extends n.PureComponent{componentDidUpdate(K){const{hideConfirmDialog:V,isLoading:z}=this.props;K.isLoading&&!z&&V&&V(!0)}onClick(K){const{clogLinkClick:V,confirm:z,url:N,onClick:A,showConfirmDialog:x,triggerAction:k,clogger:F,parsedPermalink:L,dispatchOpenPermalink:S}=this.props,I=!!N,W=K.currentTarget.href,D=!!z,H=Object(c.a)(N||"");if(I){V&&V({link_attachment_field:"attachment_link_button",url:N});const te=m(N);if(te&&te.is_external_auth_url){var Z;const se=te.ask==="auto"?"PLATFORM_APPS_TARGETED_SUGGESTIONS_SELECTED":"PLATFORM_APPS_TARGETED_SUGGESTIONS_JUST_THIS_ONCE_SELECTED";F.track(se,{app_id:te.service_type_id,app_name:(Z=te.app_name)===null||Z===void 0?void 0:Z.split("+").join(" "),old:!0})}}else V&&V();if(A){A(K);return}let G=k;I&&(K.preventDefault(),H?G=h(()=>this.props.doSlackAction(N),"buttonActionFn"):L?G=h(()=>S({permalink:N}),"buttonActionFn"):G=h(()=>window.open(W,"_blank"),"buttonActionFn")),D?x&&x({onConfirmDialogGo:G}):G&&G()}getFocusTransitionListeners(K,V){return{[p.c.LEGACY_ATTACHMENT_ACTIONS]:z=>{var N,A;return z.uiState.focusId!==K||V?!1:((N=this.ref)===null||N===void 0||(A=N.current)===null||A===void 0||A.focus(),!0)}}}isDefaultVariant(){return this.props.variant&&["","default"].includes(this.props.variant)}isValidVariant(){return this.props.variant&&E.includes(this.props.variant)}render(){const{text:K,variant:V,isDisabled:z,url:N,autoClogProps:A,focusId:x}=this.props,k=this.isDefaultVariant()||!this.isValidVariant()?"outline":`outline-${V}`,F=`message_attachment_button${this.isDefaultVariant()||!this.isValidVariant()?"":`_${V}`}`;return t.a.createElement(d.a,{listeners:this.getFocusTransitionListeners(x,z)},t.a.createElement(v.f,{className:"c-message_attachment__button",href:Object(c.a)(N||"")?void 0:N,key:"attachment-action-button",onClick:this.throttledOnClick,size:"small",type:k,disabled:z,"data-qa":F,ref:this.ref,autoClogProps:A},t.a.createElement(g.a,{className:"overflow_ellipsis",text:K,noJumbomoji:!0,emojiSize:O.a.SMALL})))}constructor(K){super(K),this.getFocusTransitionListeners=Object(u.a)(this.getFocusTransitionListeners.bind(this)),this.throttledOnClick=Object(s.a)(this.onClick.bind(this),250,{trailing:!1}),this.ref=t.a.createRef()}},"AttachmentActionButton");M.displayName="AttachmentActionButton",M.defaultProps={variant:"",isLoading:!1,isDisabled:!1,triggerAction:l.a,clogLinkClick:l.a,showConfirmDialog:l.a,hideConfirmDialog:l.a,parsedPermalink:null};const T=h((U,K)=>{let{url:V}=K;return{clogger:Object(f.a)({state:U}),parsedPermalink:Object(y.e)(U,V||""),currentUserId:Object(C.a)(U),teamId:Object(_.g)(U)}},"mapStateToProps"),P=h(U=>({doSlackAction:K=>U(Object(o.a)(K)),dispatchOpenPermalink:K=>U(Object(b.s)(K))}),"mapDispatchToProps"),B=Object(a.a)(T,P)(M);var R=i.a=Object(j.a)(B)},"/CFe":function(J,i,e){"use strict";e.d(i,"b",function(){return n}),e.d(i,"a",function(){return t});var n;(function(a){a.MODAL="canvas_share_dialog",a.ACCESS_SELECT="canvas_share_dialog_access_select",a.SAVE_CHANGES="canvas_share_dialog_canvas_save",a.SKIP_FOR_NOW="canvas_share_dialog_skip_for_now",a.ORG_SHARING_MESSAGE_SECTION="canvas_share_dialog_org_message_section",a.ORG_SHARING_MESSAGE="canvas_share_dialog_org_message",a.ORG_SHARING_MESSAGE_LABEL="canvas_share_dialog_org_message_label",a.CHANGE_ACCESS_SPEEDBUMP="canvas_share_dialog_change_access_speedbump",a.REVOKE_ACCESS_SPEEDBUMP="canvas_share_dialog_revoke_access_speedbump",a.AWAY_CANVAS_SPEEDBUMP="away_canvas_share_speedbump",a.EXTERNAL_WORKSPACE_CANVAS_SHARING_WARNING_SPEEDBUMP="external_workspace_canvas_sharing_warning_speedbump",a.SC_CANVAS_SHARING_BLOCKED_SPEEDBUMP="sc_sharing_blocked_speedbump",a.SHARE_DIALOG_ORG_SHARING_TEAM="canvas_share_dialog_org_sharing_team",a.SHARE_DIALOG_MESSAGE_INPUT="canvas_share_dialog_message_input",a.CANVAS_TEMPLATE_CONVERSION_LABEL="canvas_share_dialog_convert_canvas_template_label",a.AWAY_LIST_SPEEDBUMP="away_list_share_speedbump",a.SC_LIST_SHARING_BLOCKED_SPEEDBUMP="sc_list_sharing_blocked_speedbump"})(n||(n={}));var t;(function(a){a.OFFLINE_ALERT="canvas_share_dialog_alert_sharing_offline_message",a.SHARED_WIDELY_ALERT="canvas_share_dialog_share_alert_shared_widely",a.CANVAS_ALERT="canvas_share_dialog_alert_canvas_message",a.NOT_IN_ONE_CHANNEL_ALERT="canvas_share_dialog_alert_sharing_not_in_one_channel_message",a.CANVAS_SHARE_ALERT="canvas_share_dialog_share_alert",a.LIST_ALERT="list_share_dialog_alert_list_message"})(t||(t={}))},"/L8c":function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("ZKjC"),t=e("E3dU"),a=e("Z6bF"),s=e("hjzp");const l=Object(n.b)((o,f)=>{const r=Object(t.d)(o,f),{fileId:m}=Object(a.a)(r);return m&&Object(s.a)(m)});l.meta={name:"createSelector",key:"createSelectorgetFileChannelIdForChannelId",description:(o,f)=>{const r=Object(t.d)(o,f),{fileId:m}=Object(a.a)(r);return m&&Object(s.a)(m)}}},"/Mil":function(J,i,e){"use strict";e.d(i,"b",function(){return s}),e.d(i,"a",function(){return l});var n=e("q1tI"),t=e.n(n),a=e("weKX");const s=Object(a.d)("Embedded UI Provider",null),l=t.a.createContext({embeddedUIContainerElement:null,embeddedUiData:null,inChannelCanvas:!1,slackFileId:void 0,docEmbed:void 0})},"/NRl":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("m5Yc"),s=e("9oTK"),l=e("/MKj"),o=e("zxER"),f=e("nNoG"),r=e("m8R6"),m=e("Muja"),c=e("WMzb"),u=e("/ArA"),d=e("mNau"),p=e("Tsh7"),v=e("8Bjr"),g=e("9zMb"),O=e("rZ8V");const b=new f.b("string_format"),y=h(E=>{let{colors:M}=E;const T=Object(l.useDispatch)(),P=Object(o.c)(d.b),B=Object(o.c)(O.B),R=Object(c.a)(),[U,K]=Object(n.useState)(null),V=Object(n.useMemo)(()=>Object(g.h)({themePref:P,colors:M,isIA4InvertedSidebarV2Enabled:B}),[M,P,B]),z=Object(n.useMemo)(()=>Object(r.a)(P,["mode"]),[P]),N=Object(n.useMemo)(()=>Object(r.a)(V,["mode"]),[V]),A=Object(m.a)(z,N),x=Object(n.useCallback)(()=>{V&&(K(P),T(Object(v.a)(V)))},[T,V,P]),k=Object(n.useCallback)(Object(s.coroutine)(function*(){yield T(Object(v.a)(U)),K(null)}),[T,U]);return M?A?t.a.createElement("div",{className:"display_flex gap_50"},t.a.createElement(p.d,{tip:b.t("This is your current Slack theme")},t.a.createElement("span",null,t.a.createElement(u.a,{isDisabled:!0,text:b.t("Apply Slack theme")}))),U&&t.a.createElement(u.a,{onClick:k,text:b.t("Undo")})):t.a.createElement(u.a,{onClick:x,text:b.t("Apply Slack theme")}):(R.warn("RICH_TEXT","Theme update button not rendered because colors are not provided."),null)},"ThemeIa4InstallButton");y.displayName="ThemeIa4InstallButton";var C=y;const _=h(E=>{let{type:M,colors:T}=E;return M!==a.b._THEME_INSTALL_BUTTON||!T||!T.length||!T.every(P=>Object(g.u)(P))?null:t.a.createElement("div",{className:"p-rich_text_block__theme_install_btn_wrapper"},t.a.createElement(C,{colors:T}))},"ThemeInstallButton");_.displayName="ThemeInstallButton";var j=i.a=_},"/Q0P":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),s=e("SQ0V"),l=e("3l96"),o=e("MeLy"),f=e("/k71"),r=e("5Yu9");const m={errorSubtype:a.default.string,children:a.default.node.isRequired},c={errorSubtype:"lazy_modal"},u=h(()=>t.a.createElement(f.a,null),"renderError");function d(O){const{children:b,errorSubtype:y}=O;return t.a.createElement(o.a,{subtype:y,renderError:u},t.a.createElement(n.Suspense,{fallback:t.a.createElement(r.a,null)},b))}h(d,"LazyModal"),d.displayName="LazyModal",d.propTypes=m,d.defaultProps=c;var p=d;const v=Object(s.c)("Open a React.lazy modal",(O,b,y)=>{let{element:C,errorSubtype:_,...j}=y;O(Object(l.a)({element:t.a.createElement(p,{errorSubtype:_},C),...j}))});v.meta={name:"createThunk",key:"createThunkopenLazyModal",description:"Open a React.lazy modal"},v.propTypes={element:a.default.node,errorSubtype:a.default.string};var g=i.a=v},"/Qyu":function(J,i,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the ShareContactModal in client (noop)");t.meta={name:"createAction",key:"createActionopenShareContactModalCircular",description:"Triggers a side-effect that opens the ShareContactModal in client (noop)"},i.a=t},"/YJq":function(J,i,e){"use strict";var n=e("SQ0V"),t=e("ohbk"),a=e("3NZ6"),s=e("oUrV"),l=e("hjzp"),o=e("O86Y"),f=e("xcHN"),r=e("jJ7u"),m=e("WUSA"),c=e("nNoG"),u=e("gPPH"),d=e("bczA");const p=new c.b("client"),v=Object(n.c)("Jumps to a primary view with a specified thread",(g,O,b)=>{let{channelId:y,threadTs:C,threadTsToHighlight:_,teamId:j,isSpaceship:E=!1}=b;const M=O(),T=Object(d.a)(M),P=C&&T===r.b,B=C&&(T==null?void 0:T.includes("FLEX"));return E?g(Object(a.a)({fileId:Object(l.b)(y),source:s.a.OPEN_PRIMARY_VIEW_WITH_THREAD_THUNK,threadTs:C})).finally(()=>{P?g(Object(m.a)({message:p.t("Secondary view has opened")})):B&&g(Object(m.a)({message:p.t("Secondary view has changed"),uuid:Object(u.a)()}))}):j!==Object(o.g)(M)?g(Object(t.a)({teamId:j,id:y,startTs:C,openThread:!0,routeParams:{threadId:Object(f.c)(y,C)}})):g(Object(t.a)({teamId:j,id:y,startTs:C,reason:"open-primary-with-thread",openThread:!0,routeParams:{threadId:Object(f.c)(y,C),replyTs:_}})).finally(()=>{P?g(Object(m.a)({message:p.t("Secondary view has opened"),uuid:Object(u.a)()})):B&&g(Object(m.a)({message:p.t("Secondary view has changed"),uuid:Object(u.a)()}))})});v.meta={name:"createThunk",key:"createThunkopenPrimaryViewWithThread",description:"Jumps to a primary view with a specified thread"},i.a=v},"/ZWZ":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("fujP"),l=e("nNoG"),o=e("zxER"),f=e("JoR1"),r=e("8dl9"),m=e("uHvG"),c=e("YKBt"),u=e("WSQ4");function d(){return d=Object.assign||function(y){for(var C=1;C<arguments.length;C++){var _=arguments[C];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(y[j]=_[j])}return y},d.apply(this,arguments)}h(d,"_extends");const p=new l.b("stories_av"),v=1,g=10,O=h(y=>{let{duration:C,elapsed:_,color:j="#1D9BD1",scrubbable:E=!0,interpolate:M=!1,videoRef:T,isPlaying:P=!1,autoFocus:B=!1,backgroundIsDark:R=!1,reactions:U}=y;const K=Object(o.c)(H=>Object(f.u)(H,"media_playback_speed")||1),{window:V}=Object(n.useContext)(u.a),[z,N]=Object(n.useState)(_),A=Object(n.useRef)(void 0),x=Object(n.useRef)(M),k=Object(n.useRef)(P);Object(n.useLayoutEffect)(()=>{if(!M){A.current&&(V.cancelAnimationFrame(A.current),x.current=!1);return}const H=Date.now(),Z=h(()=>{if(!x.current)return;const G=Date.now()-H;N(_+G/1e3*K),A.current=V.requestAnimationFrame(Z)},"tick");return N(_),A.current=V.requestAnimationFrame(Z),x.current=!0,()=>{A.current&&V.cancelAnimationFrame(A.current)}},[_,M,K,V]);const F=Object(n.useCallback)(H=>{var Z;T==null||(Z=T.current)===null||Z===void 0||Z.setCurrentTime(H,!1)},[T]),L=Object(n.useCallback)(()=>{var H;k.current=P,T==null||(H=T.current)===null||H===void 0||H.pause()},[T,P]),S=Object(n.useCallback)(()=>{if(k.current){var H;T==null||(H=T.current)===null||H===void 0||H.play()}},[T]),I=Object(n.useCallback)(H=>t.a.createElement("div",d({className:Object(a.default)("p-media_progress_bar",{"p-media_progress_bar--scrubbable":E,"p-media_progress_bar--dark":R})},H)),[R,E]),W=Object(n.useCallback)(H=>t.a.createElement(t.a.Fragment,null,t.a.createElement("div",d({className:"p-media_progress_bar__track"},H)),U&&!Object(s.a)(U)&&t.a.createElement(m.a,{duration:C,reactions:U,className:"p-video_controls_scrubber__reactions"})),[C,U]),D=Object(n.useCallback)(H=>t.a.createElement("div",d({},H,{className:"p-media_progress_bar__bar",style:{...H.style,backgroundColor:j}})),[j]);return t.a.createElement(c.a,{value:M?z:_,max:C,tick:v,jump:g,onChange:F,renderContainer:I,renderTrack:W,renderInner:D,onMouseDown:L,onMouseUp:S,autoFocus:B,"aria-label":p.t("Time scrubber",{currentTime:Object(r.a)(_),totalTime:Object(r.a)(C),fallbackHash:"638b3954642581b284074f5e0f0f6dd701690df1"}),"aria-valuetext":Object(r.a)(_)})},"MediaProgressBar");O.displayName="MediaProgressBar";var b=i.a=O},"/k71":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("7JUD"),l=e("AEEY"),o=e("9org"),f=e("Tevt"),r=e("0csk"),m=e("+kJ4"),c=e("nNoG"),u=e("d/xU"),d=e("9v4y");const p=new c.b("error_boundary");function v(g){return t.a.createElement(s.a,{closeModal:g.closeModal},t.a.createElement(l.a,null,t.a.createElement(o.a,null,t.a.createElement("div",{className:"c-error_modal","data-qa":"error_modal"},t.a.createElement("h1",{className:"margin_bottom_50"},t.a.createElement("span",null,p.t("Something went wrong")),t.a.createElement("span",{className:"p-error_boundary__turtle",role:"img","aria-label":p.t("Something went wrong")},"\u{1F422}")),t.a.createElement("p",null,p.rt("If the problem persists, please <a>drop us a line.</a>",null,O=>{let{text:b,key:y}=O;return t.a.createElement(f.a,{href:`https://${Object(u.n)()}/help/contact`,rel:"noopener noreferrer",key:y},b)})),g.errCode&&t.a.createElement(r.a,{errCode:g.errCode})))))}h(v,"ErrorModal"),v.displayName="ErrorModal",i.a=Object(a.a)(null,g=>({closeModal:function(){for(var O=arguments.length,b=new Array(O),y=0;y<O;y++)b[y]=arguments[y];return g(Object(m.a)(...b))}}))(v)},"/lKr":function(J,i,e){"use strict";var n=e("n3tL"),t=e("ifKl"),a=e("SQ0V"),s=e("VmGj"),l=e("/o10"),o=e("Qyw2"),f=e("4hjS"),r=e("MY1y"),m=e("ekM3"),c=e("x6tY"),u=e("U3SE"),d=e("dmdh"),p=e("Ilel"),v=e("ytio"),g=e("Z4Ux"),O=e("IA19"),b=e("7vR1");const y=Object(a.c)("expand or collapse a file based on current state",function(z,N){let{fileId:A,ts:x,channelId:k,threadTs:F,viewContext:L}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const S=Object(v.b)(N(),{fileId:A,channelId:k,ts:x,viewContext:L}),I=Object(v.c)(N(),{fileId:A,channelId:k,ts:x,viewContext:L});S&&!I?/\d{10}\.?\d{6}/.test(x)?z(Object(g.a)({fileId:A,ts:x,channelId:k,threadTs:F,viewContext:L})):z(Object(O.a)({fileId:A,ts:x,channelId:k,viewContext:L})):!S&&!I&&z(Object(b.a)({fileId:A,channelId:k,ts:x,viewContext:L}))});y.meta={name:"createThunk",key:"createThunktoggleExpandCollapse",description:"expand or collapse a file based on current state"};var C=e("IuGH"),_=e("FcR8"),j=e("oUrV"),E=e("Ki3U"),M=e("9oTK"),T=e("Lgge"),P=e("/Rv1");const B=Object(a.c)("Open a Slack doc from the file details view.",function(){var z=Object(M.coroutine)(function*(N,A,x){let{fileId:k,inTile:F}=x;yield T.a.resolve(N(Object(P.a)())),N(Object(_.a)({fileId:k,forceNewWindow:F,source:j.a.FILE_DETAILS}))});return function(N,A,x){return z.apply(this,arguments)}}());B.meta={name:"createThunk",key:"createThunkopenDocFromFileDetails",description:"Open a Slack doc from the file details view."};var R=B,U=e("i9jZ");const K=Object(a.c)("Handles user click on file container",function(z,N){let{e:A,fileId:x,clogLinkClick:k=t.a,ts:F,channelId:L,threadTs:S,viewContext:I,showPreview:W,isExpandable:D,isExpanded:H,isFileDetails:Z,isStackable:G,fileChannelMediaInfo:te,source:se}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!x)return;const $=Object(d.e)(N(),x);if(Object(u.a)(A)&&!Object(c.u)($))return;const X=Object(m.a)(N(),$),q={item_type:$.id[0],item_id:$.id};switch(X){case"view":{A==null||A.preventDefault();const Y={...q,link_action:"file_preview_action",contexts:{ui_context:{action:"open",ui_component:"file_preview"}}};Object(c.i)($)&&(Y.contexts.ui_context.ui_properties={element_name:"office_file_preview"}),k(Y),z(Object(l.a)({fileId:$.id,ts:F,channelId:L,threadTs:S,viewContext:I,isStackable:G,fileChannelMediaInfo:te}));break}case"download":{A==null||A.preventDefault(),k(q),z(Object(p.a)({file:$}));break}case"detail":{A==null||A.preventDefault(),Object(c.t)($)?W?D&&(z(y({fileId:$.id,ts:F,channelId:L,threadTs:S,viewContext:I})),k(H?{subtype:"file_collapse"}:{subtype:"file_expand"})):$.mode==="post"?z(Object(s.a)({fileId:$.id})):z(Object(o.a)({file:$})):Object(f.j)(N())==="files"&&Object(c.t)($)?z(Object(o.a)({file:$})):z(Object(s.a)({fileId:$.id}));break}case"open":{Object(c.u)($)&&(A==null||A.preventDefault(),k({...q,link_action:"file_show_action",contexts:{ui_context:{action:"open",ui_component:"file_preview",ui_properties:{element_name:"quip_preview"}}}}),z(Z?R({fileId:x,inTile:Object(U.d)(A)}):Object(_.a)({fileId:x,channelId:L,forceNewWindow:Object(U.d)(A),source:se??j.a.FILE_CONTAINER,viewContext:I,openedFromId:L}))),Object(c.h)($)&&(A==null||A.preventDefault(),k({...q,link_action:"file_show_action",contexts:{ui_context:{action:"open",ui_component:"file_preview",ui_properties:{element_name:"channel_canvas_preview"}}}}),z(Object(E.a)({channelId:$.linked_channel_id,source:se??j.a.FILE_CONTAINER}))),Object(c.o)($)&&(A==null||A.preventDefault(),k({...q,link_action:"file_show_action",contexts:{ui_context:{action:"open",ui_component:"file_preview",ui_properties:{element_name:"list_preview"}}}}),z(Object(C.a)({listFileId:x,shouldCloseFlexpane:Z,viewContext:I})));break}case"remote":{A==null||A.preventDefault();const Y={...q,contexts:{ui_context:{action:"open",ui_component:"remote_file"}}};k(Y),window.open(Object(r.b)(N(),$),"_blank","noreferrer,noopener");break}case"external":{A==null||A.preventDefault();const Y={...q,link_action:"file_viewer_external_link"};if($.external_type==="gdrive"){const ee=$.mimetype&&$.mimetype.indexOf("image/")!==-1;Y.contexts={platform:{service_type:"GSUITE",app_id:9,has_rich_preview:$.has_rich_preview&&!ee}}}k(Y),window.open(Object(r.b)(N(),$),"_blank","noreferrer,noopener");break}case"window":{A==null||A.preventDefault();const Y={...q};k(Y),z(Object(o.a)({file:$}));break}default:break}});K.meta={name:"createThunk",key:"createThunkhandleFileContainerClick",description:"Handles user click on file container"},K.propTypes={e:n.default.object,fileId:n.default.string,channelId:n.default.string,threadTs:n.default.string,viewContext:n.default.string,clogLinkClick:n.default.func,showPreview:n.default.bool,isExpandable:n.default.bool,isExpanded:n.default.bool,isFileDetails:n.default.bool};var V=i.a=K},"/mzS":function(J,i,e){"use strict";e.d(i,"b",function(){return b}),e.d(i,"a",function(){return y});var n=e("9oTK"),t=e("Ybt4"),a=e("lhZz"),s=e("O6kw"),l=e("SQ0V"),o=e("6Q+y"),f=e("Mqk2"),r=e("Lgge"),m=e("O86Y"),c=e("x6tY");const u={thumb_64:64,thumb_80:80,thumb_160:160},d=Object(l.c)("Upload files from Slack Doc",function(){var C=Object(n.coroutine)(function*(_,j,E){const M=Object(m.g)(j());let T={fileIds:[]};M&&(T=yield _(Object(o.a)({teamId:M,files:E.files,hideBanner:!E.showBanner})));const P=T.fileIds.map(R=>_(Object(f.d)({fileId:R,reason:"quip-file-upload.fetchFileInfo"})));return(yield r.a.all(P)).map(R=>{const U=[];var K,V;if(U.push({width:(K=R.original_w)!==null&&K!==void 0?K:0,height:(V=R.original_h)!==null&&V!==void 0?V:0,sizeName:"original"}),R.thumb_64&&U.push({width:u.thumb_64,height:u.thumb_64,sizeName:"thumb_64"}),R.thumb_80&&U.push({width:u.thumb_80,height:u.thumb_80,sizeName:"thumb_80"}),R.thumb_160&&U.push({width:u.thumb_160,height:u.thumb_160,sizeName:"thumb_160"}),R.thumb_360){var z,N;U.push({width:(z=R.thumb_360_w)!==null&&z!==void 0?z:0,height:(N=R.thumb_360_h)!==null&&N!==void 0?N:0,sizeName:"thumb_360"})}if(R.thumb_360_gif){var A,x;U.push({width:(A=R.thumb_360_w)!==null&&A!==void 0?A:0,height:(x=R.thumb_360_h)!==null&&x!==void 0?x:0,sizeName:"thumb_360_gif"})}if(R.thumb_480){var k,F;U.push({width:(k=R.thumb_480_w)!==null&&k!==void 0?k:0,height:(F=R.thumb_480_h)!==null&&F!==void 0?F:0,sizeName:"thumb_480"})}if(R.thumb_480_gif){var L,S;U.push({width:(L=R.thumb_480_w)!==null&&L!==void 0?L:0,height:(S=R.thumb_480_h)!==null&&S!==void 0?S:0,sizeName:"thumb_480_gif"})}if(R.thumb_720){var I,W;U.push({width:(I=R.thumb_720_w)!==null&&I!==void 0?I:0,height:(W=R.thumb_720_h)!==null&&W!==void 0?W:0,sizeName:"thumb_720"})}if(R.thumb_800){var D,H;U.push({width:(D=R.thumb_800_w)!==null&&D!==void 0?D:0,height:(H=R.thumb_800_h)!==null&&H!==void 0?H:0,sizeName:"thumb_800"})}if(R.thumb_960){var Z,G;U.push({width:(Z=R.thumb_960_w)!==null&&Z!==void 0?Z:0,height:(G=R.thumb_960_h)!==null&&G!==void 0?G:0,sizeName:"thumb_960"})}if(R.thumb_1024){var te,se;U.push({width:(te=R.thumb_1024_w)!==null&&te!==void 0?te:0,height:(se=R.thumb_1024_h)!==null&&se!==void 0?se:0,sizeName:"thumb_1024"})}if(R.thumb_video){var $,X;U.push({width:($=R.thumb_video_w)!==null&&$!==void 0?$:0,height:(X=R.thumb_video_h)!==null&&X!==void 0?X:0,sizeName:"thumb_video"})}if(R.thumb_pdf){var q,Y;U.push({width:(q=R.thumb_pdf_w)!==null&&q!==void 0?q:0,height:(Y=R.thumb_pdf_h)!==null&&Y!==void 0?Y:0,sizeName:"thumb_pdf"})}if(R.deanimate){var ee,w;U.push({width:(ee=R.original_w)!==null&&ee!==void 0?ee:0,height:(w=R.original_h)!==null&&w!==void 0?w:0,sizeName:"deanimate"})}if(R.deanimate_gif){var ne,ae;U.push({width:(ne=R.original_w)!==null&&ne!==void 0?ne:0,height:(ae=R.original_h)!==null&&ae!==void 0?ae:0,sizeName:"deanimate_gif"})}var de,ge;return{name:Object(c.L)(R),size:(de=R.size)!==null&&de!==void 0?de:0,id:R.id,slackFileId:R.id,mimeType:(ge=R.mimetype)!==null&&ge!==void 0?ge:"",sizes:U,...Object(c.K)(R),url:Object(c.fb)(R),deleted:Object(c.zb)(R),altText:Object(c.E)(R),permalink:Object(c.N)(R,M??"","","")}})});return function(_,j,E){return C.apply(this,arguments)}}());d.meta={name:"createThunk",key:"createThunkfilesUploadFromDoc",description:"Upload files from Slack Doc"};var p=e("twB+"),v=e("7XZu"),g=e("bCCa"),O=e("gPPH");const b=new p.a;let y=h(class Ys{static getOrCreate(_){return b.get(_,(j,E)=>new Ys({teamId:j}))}uploadFiles(_){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var E=this;return Object(n.coroutine)(function*(){if(!_||_.length===0){const P="No files passed to uploadFiles",B=new Error(P);throw E.logger.error(B),B}const M=yield Object(a.dispatchForTeamId)(E.teamId,Object(s.a)({selectedFiles:_}));if(!M||M.length===0){const P="No allowed files passed to uploadFiles",B=new Error(P);throw E.logger.error(B),B.disallowedFiles=!0,B}return{results:yield Object(a.dispatchForTeamId)(E.teamId,d({files:M,showBanner:j}))}})()}processAndDecorateFileForUpload(_){const j=Object(O.a)();return _.id=j,Object(a.dispatchForTeamId)(this.teamId,Object(v.c)({files:[_]})),Object(a.dispatchForTeamId)(this.teamId,Object(g.a)({file:_})),_}constructor({teamId:_}){this.teamId=_,this.logger=Object(t.b)({state:Object(a.getStateByTeamId)(_)})}},"QuipFileDataProvider")},"/n9c":function(J,i,e){"use strict";e.d(i,"a",function(){return T});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("O86Y"),l=e("zxER"),o=e("nNoG"),f=e("ktUG"),r=e("Vzni"),m=e("7ibc"),c=e("x6tY"),u=e("Os2i"),d=e("E3dU"),p=e("gNhz"),v=e("+kJ4"),g=e("ylvb"),O=e("YUBf"),b=e("9WS/"),y=e("hUMe"),C=e("CmyG"),_=e("Trx9");const j=new o.b("quip"),E={elementName:"cancel",elementType:f.ElementType.BUTTON,action:f.UiAction.CLICK,onClick:{enableClogAction:!0}},M={elementName:"share",elementType:f.ElementType.BUTTON,action:f.UiAction.CLICK,onClick:{enableClogAction:!0}};var T;(function(B){B.TOOLBAR="insertion_toolbar",B.LINK="paste_link",B.CARD="paste_card",B.INLINE="paste_title",B.OTHER="other"})(T||(T={}));function P(B){let{parentCanvas:R,embeddedCanvas:U,source:K}=B;const V=Object(a.useDispatch)(),z=Object(l.c)(m.e),N=Object(l.c)(X=>Object(d.d)(X,R.linked_channel_id)),A=Object(l.c)(s.i),x=Object(l.c)(X=>!!R.linked_channel_id&&Object(u.b)(X,R.linked_channel_id,R)),k=R.is_channel_space_disabled_on_connected_team,F=x||k,L=Object(c.Yb)(U)?p.a.Write:p.a.Read,[S,I]=Object(n.useState)(Object(r.a)(U,L)),[W,D]=Object(n.useState)(!1),H=Object(n.useCallback)(()=>V(Object(v.a)()),[V]),Z=Object(n.useCallback)(()=>{D(!0),V(Object(g.a)({parentCanvasId:R.id,embeddedCanvasId:U.id,accessLevel:S.value,reason:"share-embedded-canvas-modal"})).then(()=>{H()}).finally(()=>{D(!1)})},[V,S.value,U.id,R.id,H]);if(!z||!N)return null;const G=h(()=>F?j.t("Some people can\u2019t view this canvas"):j.rt("Share this canvas with {channel}?",{channel:t.a.createElement(b.a,{channel:N,includeChannelPrefix:!0,bold:!1})}),"getModalTitle");G.displayName="getModalTitle";const te=h(()=>x?j.rt("Your admins turned off external sharing so only people from {currentTeam} will be able to open it.",{currentTeam:t.a.createElement(y.a,{id:A,className:"no_wrap"})}):k?j.rt("Other organizations in this channel may have disabled canvas sharing, so not everyone will be able to view this canvas."):j.rt("When you share a canvas here, anyone in {channel} can access it.",{channel:t.a.createElement(b.a,{channel:N,includeChannelPrefix:!0,bold:!1})}),"getModalContent");te.displayName="getModalContent";const se="share_embedded_canvas_modal_title",$="share_embedded_canvas_modal_content";return t.a.createElement(_.a,{eventId:f.EventId.QUIP_SHARE,elementType:f.ElementType.MODAL,uiComponentName:f.UiComponentName.QUIP_EMBED_SHARE_DIALOG,uiComponentVariant:K},t.a.createElement(O.a,{closeModal:H,labelledby:se,describedby:$},t.a.createElement(O.i,null,t.a.createElement(O.l,{id:se,title:G(),"data-qa":"share_embedded_canvas_modal_title"})),t.a.createElement(O.d,null,t.a.createElement(O.e,{"data-qa":"share_embedded_canvas_modal_content"},t.a.createElement("p",{id:$},te()))),t.a.createElement(O.g,null,t.a.createElement(O.h,{className:"display_flex full_width"},t.a.createElement(C.a,{file:U,selectedOption:S,setSelectedOption:I}),t.a.createElement("div",{className:"display_flex margin_left_auto"},t.a.createElement(O.c,{type:"outline",className:"margin_right_50",onClick:H,autoClogProps:E},j.t("Don\u2019t Grant Access")),t.a.createElement(O.c,{type:"primary",onClick:Z,loading:W,autoClogProps:M,autoFocus:!0},F?j.t("Share Anyway"):j.t("Share")))))))}h(P,"ShareEmbeddedCanvasModal"),P.displayName="ShareEmbeddedCanvasModal",i.b=P},"/o10":function(J,i,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the File Viewer modal in client (noop)");t.meta={name:"createAction",key:"createActionopenFileViewerCircular",description:"Triggers a side-effect that opens the File Viewer modal in client (noop)"},i.a=t},"/uJc":function(J,i,e){"use strict";var n=e("SQ0V"),t=e("pu3F"),a=e("coh6"),s=e("GS6c"),l=e("O86Y"),o=e("wWBL");const f=Object(n.c)("Find channels that match a search query",function(r,m){let{query:c,limit:u=t.c,searchViewContext:d,searcherKey:p="texty-autocomplete"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const v=m(),g={entities:{channels:{includePrivate:!0,includeFromAnotherTeam:!0,searchPreviousNames:!0}},allowEmptyQuery:!0,sort:{source:"texty-autocomplete"},limit:u,tiered:!0,returnMetadata:!0,searchViewContext:d};return Object(o.c)(v)?Object(s.a)({teamId:Object(l.g)(v),key:p}).search({query:c,options:g}):r(Object(a.F)({query:c,options:g}))});f.meta={name:"createThunk",key:"createThunkautocompleteChannels",description:"Find channels that match a search query"},i.a=f},"/xaE":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("zxER"),l=e("DneB"),o=e("+CZ0"),f=e("E97Y"),r=e("+kJ4"),m=e("qDEp"),c=e("GNR7"),u=e("lhZz"),d=e("SIMs"),p=e("5IZy"),v=e("ktUG"),g=e("1I7x"),O=e("74tS"),b=e("lpU5"),y=e("jaNT"),C=e("HoeF"),_=e("QIbu"),j=e("RpF1"),E=e("F5gv"),M=e("nR/p"),T=e("Z9Pi");const P=h(A=>{let{fileId:x,entryPoint:k}=A;const F=Object(a.useDispatch)(),L=Object(u.getStateForClientStore)(),S=Object(o.a)(L),I=Object(s.c)(te=>Object(c.s)(te,S)),W=I==null?void 0:I.channels[0],D=Object(s.c)(te=>Object(d.Z)(te,{huddleId:I==null?void 0:I.id})),H=D==null?void 0:D.ts,Z=Object(s.c)(te=>Object(p.a)({state:te})),G=Object(s.c)(te=>Object(d.a)(te,{huddleId:S,surface:_.b.WINDOW_COMPACT}));return Object(n.useCallback)(()=>{if(!(!W||!S)){if(F(Object(M.a)({fileId:x,draftId:Object(T.b)({channelId:W,threadTs:H}),channelId:W,threadTs:H,isFromComposer:!1,reason:"insert-canvas-share-modal"})),F(Object(r.a)()),!Object(g.b)(W))F(Object(C.S)({huddleId:S,surface:_.b.WINDOW_COMPACT,areTabsOpen:!0})),F(Object(C.a)({huddleId:S,surface:_.b.WINDOW_COMPACT,height:780,width:j.f})),F(Object(b.c)({}));else{const te=Object(E.a)(W);te&&!G&&F(Object(y.a)({huddleId:S,surface:_.b.WINDOW_COMPACT,areTabsOpen:!0,window:te}))}Object(O.a)(W),F(Object(C.A)({isThreadOpen:!0})),Z.track(v.EventId.CANVAS_EVENT,{contexts:{ui_context:{entry_point:k,action:v.UiAction.CLICK}}})}},[W,S,F,x,H,Z,k,G])},"useShareFileToHuddle");var B=e("jWAO"),R=e("E3dU"),U=e("Yauy"),K=e("nNoG");const V=new K.b("huddles"),z=h(A=>{let{fileId:x}=A;const k=Object(a.useDispatch)(),F=Object(l.b)(o.a),L=Object(s.c)(Z=>{var G;return(G=Object(c.s)(Z,F))===null||G===void 0?void 0:G.channels[0]}),S=P({fileId:x,entryPoint:"HUDDLE_CANVAS_SHARE_DIALOG"}),I=Object(n.useCallback)(()=>{S(),k(Object(r.a)())},[k,S]),W=Object(s.c)(Z=>Object(R.d)(Z,L)),D=Object(f.h)(W),H=Object(s.c)(Z=>Object(U.t)(Z,W));return!F||!H?null:t.a.createElement("div",{className:"c-sk-modal_title_bar p-share_dialog_send_to_huddle"},t.a.createElement(B.d,{type:B.c.custom,level:B.b.info,className:"p-share_dialog_send_to_huddle__alert"},t.a.createElement("div",{className:"p-share_dialog_send_to_huddle__text"},t.a.createElement("div",null,D?V.t("Want to share this with {channelName}?",{channelName:Object(K.k)(H),fallbackHash:"73a88734a46ddb68ffbfae8bb9ac14c4861af763"}):V.t("Want to share this in {channelName}?",{channelName:Object(K.k)(H),fallbackHash:"73a88734a46ddb68ffbfae8bb9ac14c4861af763"})),t.a.createElement(m.d,{className:"p-share_dialog_send_to_huddle__share",onClick:I},V.t("Share in huddle",{fallbackHash:"0b9efdc0aed2790db109dee6687853b144b7845c"})))))},"ShareDialogSendToHuddle");z.displayName="ShareDialogSendToHuddle";var N=i.a=t.a.memo(z)},"0/8Q":function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"a",function(){return a});var n=e("DwFS");const t=Object(n.a)("Sets the origin view the Composer page was opened from");t.meta={name:"createAction",key:"createActionsetComposerOrigin",description:"Sets the origin view the Composer page was opened from"};const a=Object(n.a)("Sets a value indicating whether email classification is supported in the composer");a.meta={name:"createAction",key:"createActionsetComposerEmailClassificationSupported",description:"Sets a value indicating whether email classification is supported in the composer"}},"03PU":function(J,i,e){"use strict";e.d(i,"a",function(){return l}),e.d(i,"b",function(){return f});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("P8PK");const l={TopLeft:"top-left",Top:"top",TopRight:"top-right",BottomLeft:"bottom-left",Bottom:"bottom",BottomRight:"bottom-right",LeftTop:"left-top",Left:"left",LeftBottom:"left-bottom",RightTop:"right-top",Right:"right",RightBottom:"right-bottom"},o=["top-left","top","top-right","bottom-left","bottom","bottom-right","left-top","left","left-bottom","right-top","right","right-bottom"];function f(r){let{children:m,coachmarkAnchorClassNames:c,coachmarkElement:u,orientation:d,style:p}=r;const v=Object(n.useRef)(null),[g,O]=Object(n.useState)(0),b=Object(s.a)(),y=Object(a.default)("c-coachmark-anchor",c);return Object(n.useEffect)(()=>{O(C=>C+1)},[]),t.a.createElement("div",{role:"none",id:`c-coachmark-anchor_${b}`,ref:v,className:y,style:p},m,u&&t.a.cloneElement(u,{anchorRef:v,orientation:d}))}h(f,"CoachmarkAnchor")},"0LZ2":function(J,i,e){"use strict";var n=e("V2uK"),t=e("nTNk"),a=e("bOhH"),s=e.n(a);const l=Object(n.c)(n.a.QUILL,o=>o===window?Object(t.a)():s()(o));i.a=l},"0Qg5":function(J,i,e){"use strict";e.d(i,"b",function(){return m}),e.d(i,"c",function(){return u}),e.d(i,"e",function(){return d}),e.d(i,"d",function(){return p}),e.d(i,"a",function(){return v});var n=e("NFsq"),t=e("HI9p"),a=e("nNoG"),s=e("x3CK"),l=e("kBpe");const o=new a.b("shortcuts_flexpane"),f=/key_(Cmd|Option|Ctrl|CtrlAlternative|ShiftAlternative|Enter|Space)/,r=h(g=>{let{keyboardLocale:O,enableUnreadView:b}=g;return y=>{const C=Object(l.i)()?"":Object(l.c)(),_=Object(l.f)();if(y.isSsbOnly&&!Object(l.i)()||y.isDisabled)return!1;const j=y.browserBlockList||[];return!(Object(n.a)(j,C)||Object(n.a)(j,_)||Object(n.a)(y.localeBlockList,O)||y.id==="open_all_unreads"&&!b)}},"makeShortcutFilterFn"),m=h((g,O)=>{const b=Object(l.x)(),y=Object(l.o)(),C=b||y;return(g==="Cmd"||g==="Ctrl")&&C&&O==="de"?"Strg":g==="Cmd"&&C?"Ctrl":g==="Option"&&C?"Alt":g==="CtrlAlternative"?"Ctrl":g==="ShiftAlternative"?"Shift":g},"getModifierKeyForOS"),c=h(g=>O=>{if(!f.test(O))return O;const b=O.split("key_")[1];if(!b)return O;const y=m(b,g);return O.replace(b,y)},"makeReplaceModifierKeyFn"),u=h(g=>O=>{const{keys:b,keysWin:y,keysLinux:C,..._}=O;if(Object(l.x)()&&y)return{..._,keys:y};if(Object(l.o)()&&C)return{..._,keys:C};const j=c(g);return{..._,keys:b.map(j)}},"makeReplaceModifierKeysForOSFn"),d=h(function(){let{keyboardLocale:g,enableUnreadView:O,featureAppViewsReminders:b=!1,featureHuddlesI18n:y=!1,upToEditMessage:C=!1,isScreenReaderEnabled:_=!1,canAccessCanvas:j=!1,canCreateCanvas:E=!1,canUndoSendMessages:M=!1,isWindowingSupported:T=!1,experimentFeMessageForwardingM2GroupOn:P=!1,experimentDesktopCopyTextGroupOn:B=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const U=Object(l.c)(),K=[{title:o.t("Basics"),id:"basics",shortcuts:[{title:o.t("New message",{ns:"drafts"}),keys:["key_Cmd","key_N"],id:"new_message",isSsbOnly:!0,isDisabled:!1},{title:o.t("New canvas"),keys:["key_Cmd","key_Shift","key_N"],id:"new_canvas",isSsbOnly:!0,isDisabled:!E},{title:o.t("Jump to a conversation"),keys:Object(l.i)()?["key_Cmd","key_K",o.t("  or  "),"key_T"]:["key_Cmd","key_K"],hasInfoButton:!0,infoButtonMessage:o.t("Jump to another conversation by just typing its name"),id:"quick_switcher"},{title:o.t("Search"),keys:["key_Cmd","key_G"],isSsbOnly:!0},{title:o.t("Search current conversation"),keys:["key_Cmd","key_F"],isSsbOnly:!0},{title:o.t("Edit last message (in empty text input)"),keys:C?["key_Cmd","key_\u2191"]:["key_\u2191",o.t("  or  "),"key_Cmd","key_\u2191"]},{title:o.t("Unsend last message (in empty text input)"),keys:["key_Cmd","key_Z"],isDisabled:!M},{title:o.t("Back in history"),keys:["key_Cmd","key_["],keysWin:["key_Alt","key_\u2190"],keysLinux:["key_Alt","key_\u2190"],localeBlockList:["de","fr","it","zh-pinyin","zh-cangjie-zhuyin","ru"]},{title:o.t("Forward in history"),keys:["key_Cmd","key_]"],keysWin:["key_Alt","key_\u2192"],keysLinux:["key_Alt","key_\u2192"],localeBlockList:["de","fr","it","zh-pinyin","zh-cangjie-zhuyin","ru"]},{title:o.t("Back in history"),keys:["key_Cmd","key_\u2190"],keysWin:["key_Alt","key_\u2190"],keysLinux:["key_Alt","key_\u2190"],localeBlockList:["us","gb","es","ja"]},{title:o.t("Forward in history"),keys:["key_Cmd","key_\u2192"],keysWin:["key_Alt","key_\u2192"],keysLinux:["key_Alt","key_\u2192"],localeBlockList:["us","gb","es","ja"]},{title:o.t("All Unreads"),keys:["key_Shift","key_Cmd","key_A"],id:"open_all_unreads"},{title:o.t("Threads"),keys:["key_Shift","key_Cmd","key_T"],id:"open_all_threads",isSsbOnly:!0},{title:o.t("Dismiss dialogs"),keys:["key_Esc"]}]},{title:o.t("Sidebar"),id:"sidebar",shortcuts:[{title:o.t("Show / hide"),keys:["key_Shift","key_Cmd","key_D"],isSsbOnly:!0},{title:o.t("Resize (with focus on the resizer)"),keys:["key_\u2190",o.t("  or  "),"key_\u2192"],isSsbOnly:!1}]},{title:o.t("Navigation"),id:"navigation",shortcuts:[{title:o.t("Home",{ns:"view"}),keys:[...Object(l.p)()?["key_Ctrl"]:["key_Ctrl","key_Shift"],"key_1"],id:"home"},{title:o.t("DMs",{ns:"view"}),keys:[...Object(l.p)()?["key_Ctrl"]:["key_Ctrl","key_Shift"],"key_2",o.t("  or  "),"key_Shift","key_Cmd","key_K"],id:"browse_dms"},{title:o.t("Activity",{ns:"view"}),keys:[...Object(l.p)()?["key_Ctrl"]:["key_Ctrl","key_Shift"],"key_3",...Object(l.i)()||Object(l.c)()!=="chrome"?[o.t("  or  "),"key_Shift","key_Cmd","key_M"]:[]],id:"open_activity"},{title:o.t("Later",{ns:"view"}),keys:[...Object(l.p)()?["key_Ctrl"]:["key_Ctrl","key_Shift"],"key_4"],id:"open_later"},{title:o.t("Open More menu"),keys:[...Object(l.p)()?["key_Ctrl"]:["key_Ctrl","key_Shift"],"key_0"]},{title:o.t("Move focus through messages"),keys:["key_\u2191",o.t("  or  "),"key_\u2193"]},{title:o.t("Move focus to the next section"),keys:[...Object(l.i)()?["key_F6"]:["key_Cmd","key_F6"],...Object(l.p)()?[o.t("  or  "),"key_Ctrl","key_Cmd","key_\u2192"]:[]]},{title:o.t("Move focus to the previous section"),keys:[...Object(l.i)()?["key_Shift","key_F6"]:["key_Shift","key_Cmd","key_F6"],...Object(l.p)()?[o.t("  or  "),"key_Ctrl","key_Cmd","key_\u2190"]:[]]},{title:o.t('Take action or "click" on selected element'),keys:["key_Enter"]},{title:o.t("Increase text size"),keys:["key_Cmd","key_+"]},{title:o.t("Decrease text size"),keys:["key_Cmd","key_-"]},{title:o.t("Scroll up"),keys:["key_\u2191",o.t("  or  "),"key_Page Up"]},{title:o.t("Scroll down"),keys:["key_\u2193",o.t("  or  "),"key_Page Down"]},{title:o.t("Scroll to previous day"),keys:["key_Shift","key_Page Up"]},{title:o.t("Scroll to next day"),keys:["key_Shift","key_Page Down"]},{title:o.t("Preferences"),keys:["key_Cmd",`key_${Object(s.c)(",",{kb:g},R)}`],id:"open_preferences",isSsbOnly:!0,browserBlockList:["windows","linux"]},{title:T?o.t("Close right pane"):o.t("Close or re-open right pane"),keys:["key_Cmd",`key_${Object(s.c)(".",{kb:g},R)}`]},{title:o.t("Open channel canvas"),keys:["key_Cmd","key_Option",`key_${Object(s.c)(".",{kb:g},R)}`]},{title:o.t("Channel Info"),keys:["key_Shift","key_Cmd","key_I"],isSsbOnly:!0},{title:o.t("Browse channels",{ns:"channel_browser"}),keys:["key_Shift","key_Cmd","key_L"],id:"browse_channels"},{title:o.t("Directory"),keys:["key_Shift","key_Cmd","key_E"],browserBlockList:["firefox"]},{title:o.t("Toggle full screen"),keys:["key_Ctrl","key_Cmd","key_F"],...!Object(l.i)()||Object(l.j)("4.30.0")?{keysWin:["key_F11"],keysLinux:["key_F11"]}:{keysWin:["key_Ctrl","key_Shift","key_F"],keysLinux:["key_Ctrl","key_Shift","key_F"]}}]},{title:o.t("Screen readers"),id:"screen_readers",shortcuts:[{title:o.t("Play back a number of recent messages"),keys:[...Object(l.p)()?["key_Cmd","key_Option"]:["key_Alt"],o.t(",  "),"key_0",o.t("  -  "),"key_9"]},{title:o.t("Play summary of notifications across workspaces"),keys:[...Object(l.p)()?["key_Cmd","key_Option","key_S"]:["key_Ctrl","key_Alt","key_S"]]}]},{title:o.t("Messaging"),id:"messaging",shortcuts:[{title:o.t("Select text to beginning of current line"),keys:["key_Shift","key_\u2191"]},{title:o.t("Select text to end of current line"),keys:["key_Shift","key_\u2193"]},{title:o.t("Start a new line"),keys:["key_Shift","key_Enter"]},{title:o.t("React to last message (or message with focus)"),keys:["key_Shift","key_Cmd",`key_${Object(s.c)("\\",{kb:g},R)}`]},{title:o.t("Autocomplete @username"),keys:["key_@"]},{title:o.t("Autocomplete channel"),keys:["key_#"]},{title:o.t("Autocomplete emoji"),keys:["key_:"]}]},{title:o.t("Mark Messages Read and Unread"),id:"mark_messages_read_unread",shortcuts:[{title:o.t("Mark all messages in current channel as read"),keys:["key_Esc"]},{title:o.t("Mark all messages as read"),keys:["key_Shift","key_Esc"]},{title:o.t("Mark a message as unread"),keys:["key_Option",o.t("  and click message")],keysWin:["key_Alt",o.t("  and click message")],keysLinux:["key_Alt",o.t("  and click message")]}]},{title:o.t("Channels & Direct Messages"),shortcuts:[{title:o.t("Previous channel or DM"),keys:["key_Option","key_\u2191"]},{title:o.t("Next channel or DM"),keys:["key_Option","key_\u2193"]},{title:o.t("Previous unread channel or DM"),keys:["key_Option","key_Shift","key_\u2191"]},{title:o.t("Next unread channel or DM"),keys:["key_Option","key_Shift","key_\u2193"]}]},{title:o.t("All Unreads"),id:"all_unreads",shortcuts:[{title:o.t("Expand channel"),keys:["key_\u2192"]},{title:o.t("Collapse channel"),keys:["key_\u2190"]},{title:o.t("Mark channel as read"),keys:["key_Esc"]},{title:o.t("Previous channel"),keys:["key_Shift","key_Page Up"]},{title:o.t("Next channel"),keys:["key_Shift","key_Page Down"]}]},{title:o.t("Files and Snippets"),shortcuts:[{title:o.t("Add a file"),keys:["key_Cmd","key_U"],browserBlockList:["firefox"]},{title:o.t("Create a snippet"),keys:["key_Shift","key_Cmd","key_Enter"]},{title:o.t("View all downloads"),keys:["key_Shift","key_Cmd","key_J"]}]},{title:o.t("Calls"),id:"calls_shortcuts",shortcuts:[{title:o.t("Toggle mute"),keys:["key_M"]},{title:o.t("Toggle video"),keys:["key_V"]},{title:o.t("Invite list"),keys:["key_+",o.t("  or  "),"key_A"]},{title:o.t("Emoji reactions"),keys:["key_E",o.t("  then 1-9")]}]},{title:o.t("Workspace Switching"),id:"workspaces",shortcuts:[{title:o.t("Next workspace"),keys:["key_Ctrl","key_Tab"]},{title:o.t("Previous workspace"),keys:["key_Ctrl","key_Shift","key_Tab"]},{title:o.t("A specific workspace"),keys:["key_Cmd",o.t("  and 1-9")]},{title:o.t("Open workspace switcher"),keys:["key_Shift","key_Cmd","key_S"],browserBlockList:["firefox"]}]},{title:o.t("Tab Switching"),id:"tabs",shortcuts:[{title:o.t("Next tab"),keys:["key_Ctrl","key_PageDown"]},{title:o.t("Previous tab"),keys:["key_Ctrl","key_PageUp"]}]}],V=[{title:o.t("Edit (your own message)"),keys:["key_E"]},{title:o.t("Delete (your own message)"),keys:["key_Delete"]},{title:o.t("Add an emoji reaction"),keys:["key_R"]},{title:o.t("Open a thread"),keys:["key_\u2192",o.t("or"),"key_T"]},{title:o.t("Pin / unpin"),keys:["key_P"]},{title:P?o.t("Forward"):o.t("Share"),keys:P?["key_F"]:["key_S"]},{title:o.t("Save / remove from Later"),keys:["key_A"]},{title:o.t("Mark as unread from this message"),keys:["key_U"]}];b&&V.push({title:o.t("Remind me about this message"),keys:["key_M"]}),B&&V.push({title:o.t("Copy a link to this message"),keys:["key_L"]}),K.push({title:o.t("When focused on a message"),id:"message_shortcuts",shortcuts:V});const z=[{title:o.t("Collapse or expand all"),keys:["key_Option",o.t("  and click section")],keysWin:["key_Alt",o.t("  and click section")]}];K.push({title:o.t("Channel Sections"),id:"channel_sections",shortcuts:z});const N=K[Object(t.a)(K,["id","basics"])].shortcuts,A=K[Object(t.a)(K,["id","navigation"])].shortcuts,x=K[Object(t.a)(K,["id","messaging"])].shortcuts,k=Object(t.a)(K,["id","calls_shortcuts"]),F=Object(t.a)(K,["id","workspaces"]);if(y){const W={title:o.t("Huddles"),id:"huddles_shortcuts",shortcuts:[]};Object(l.i)()?W.shortcuts.push({title:o.t("Toggle huddles start / stop"),keys:["key_Shift","key_Cmd","key_H"],keysWin:["key_Ctrl","key_Shift","key_H"]}):W.shortcuts.push({title:o.t("Toggle huddles start / stop"),keys:["key_Cmd","key_Option","key_Shift","key_H"],keysWin:["key_Ctrl","key_Alt","key_Shift","key_H"]}),W.shortcuts.push({title:o.t("Toggle huddles mute / unmute"),keys:["key_Shift","key_Cmd","key_Space"],keysWin:["key_Ctrl","key_Shift","key_Space"]}),K.splice(k+1,0,W)}if(Object(l.i)()&&A.push({title:o.t("Jump to unread messages"),keys:["key_Cmd","key_J"]}),T&&(A.push({title:o.t("Open sidebar item in a new window"),keys:["key_Cmd",o.t("  and click")]}),A.push({title:o.t("Open a conversation in a new window"),keys:["key_Cmd","key_Enter"]})),T&&(A.push({title:o.t("Close window"),keys:["key_Cmd","key_W"]}),A.push({title:o.t("Reopen last closed window"),keys:["key_Cmd","key_Shift","key_W"]})),j){const W=[{title:o.t("View comment thread"),keys:["key_Cmd","key_Option","key_T"]},{title:o.t("Open context menu"),keys:["key_Cmd","key_Shift",`key_${Object(s.c)("/",{kb:g},R)}`],keysWin:["key_Shift","key_F10"]},{title:o.t("Show reader / edit view"),keys:U===l.a.SAFARI?["key_Ctrl","key_R"]:["key_Cmd","key_Option","key_R"]},{title:o.t("Find"),keys:["key_Cmd","key_F"]},{title:o.t("Find next"),keys:["key_Cmd","key_G"]},{title:o.t("Find previous"),keys:["key_Cmd","key_Shift","key_G"]},{title:o.t("Insert link"),keys:["key_Cmd","key_Shift","key_U"]},{title:o.t("Copy anchor link"),keys:["key_Ctrl","key_Option","key_Q"]},{title:o.t("Undo"),keys:["key_Cmd","key_Z"]},{title:o.t("Redo"),keys:["key_Cmd","key_Shift","key_Z"]},{title:o.t("Move list item up"),keys:["key_Cmd","key_Option","key_\u2191"]},{title:o.t("Move list item down"),keys:["key_Cmd","key_Option","key_\u2193"]},{title:o.t("Bold"),keys:["key_Cmd","key_B"]},{title:o.t("Italic"),keys:["key_Cmd","key_I"]},{title:o.t("Strikethrough"),keys:["key_Cmd","key_Shift","key_X"]},{title:o.t("Inline code"),keys:["key_Cmd","key_Shift","key_C"]},{title:o.t("Paragraph (normal text) style"),keys:["key_Cmd","key_Option","key_0"]},{title:o.t("Big heading style"),keys:["key_Cmd","key_Option","key_1"]},{title:o.t("Medium heading style"),keys:["key_Cmd","key_Option","key_2"]},{title:o.t("Small heading style"),keys:["key_Cmd","key_Option","key_3"]},{title:o.t("Block quote style"),keys:["key_Cmd","key_Shift",`key_${Object(s.c)(">",{kb:g},R)}`]},{title:o.t("Code block style"),keys:["key_Cmd","key_Option","key_Shift","key_C"]},{title:o.t("Checklist style"),keys:["key_Cmd","key_Shift","key_9"]},{title:o.t("Bulleted list style"),keys:["key_Cmd","key_Shift","key_8"]},{title:o.t("Numbered list style"),keys:["key_Cmd","key_Shift","key_7"]},{title:o.t("Toggle heading and list styles"),keys:["key_Ctrl",`key_${Object(s.c)("`",{kb:g},R)}`]},{title:o.t("Insert file"),keys:["key_Cmd","key_U"]},{title:o.t("Interact with card view"),keys:["key_Cmd","key_Enter"]}];K.splice(F,0,{title:o.t("Canvas Editing"),id:"canvas_shortcuts",shortcuts:W})}x.push({title:o.t("Bold text"),keys:["key_Cmd","key_B"]}),x.push({title:o.t("Italic text"),keys:["key_Cmd","key_I"]}),x.push({title:o.t("Strikethrough text"),keys:["key_Shift","key_Cmd","key_X"]}),x.push({title:o.t("Format text as code"),keys:["key_Shift","key_Cmd","key_C"]}),x.push({title:o.t("Format selection as bullet list"),keys:["key_Shift","key_Cmd","key_8"]}),x.push({title:o.t("Format selection as numbered list"),keys:["key_Shift","key_Cmd","key_7"]}),x.push({title:o.t("Format selection as quote"),keys:["key_Shift","key_Cmd","key_9"]}),x.push({title:o.t("Format selection as code block"),keys:["key_Option","key_Shift","key_Cmd","key_c"],keysWin:["key_Alt","key_Shift","key_Cmd","key_c"]}),N.push({title:o.t("Set a status"),keys:["key_Shift","key_Cmd","key_Y"],id:"set_a_status"}),N.push({title:o.t("Open Help"),keys:["key_F1"],id:"open_help",isSsbOnly:!0});const L=Object(l.f)();L==="windows"||L==="linux"?N.push({title:o.t("Open context menu"),keys:["key_Shift","key_F10"]}):L==="mac"&&_&&N.push({title:o.t("Open context menu (with VoiceOver on)"),keys:["key_Ctrl","key_Option","key_Shift","key_M"]});const S=r({keyboardLocale:g,enableUnreadView:O}),I=u(g);return K.map(W=>{const{shortcuts:D,...H}=W;return{...H,shortcuts:D.filter(S).map(I)}})},"shortcutsData"),p=h(function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=arguments.length>1?arguments[1]:void 0;return(d(g,O)||[]).reduce((y,C)=>{let{shortcuts:_}=C;return y.concat(_)},[]).filter(y=>{let{id:C}=y;return C}).reduce((y,C)=>(y[C.id]=C,y),{})},"shortcutsById"),v=h(function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=arguments.length>1?arguments[1]:void 0;const b=p(g,O),y={Cmd:"Meta",Ctrl:"Control","\u2193":"ArrowDown","\u2190":"ArrowLeft","\u2192":"ArrowRight","\u2191":"ArrowUp",Esc:"Escape",Option:"Alt","Page Down":"PageDown","Page Up":"PageUp","+":"Plus"};return Object.keys(b).reduce((C,_)=>(C[_]=b[_].keys.map(j=>{const E=j.replace("key_","");return y[E]||E}).join("+"),C),{})},"ariaShortcutsById")},"0SKT":function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("RVJP");function t(a){return Object(n.d)(a,"private_message_sharing")==="on"}h(t,"isPrivateMessageSharingEnabled")},"0SZ4":function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("s4P+"),t=e("p9fx");function a(s){let{globalIndex:l,results:o,matchLength:f,formats:r}=s;const m=o[0];return Object(n.b)().info("AUTOSLUG",`Creating emoji (${m.id})`),{id:m.id,label:`:${Object(t.a)({name:m.name||""})}:`,globalIndex:l,length:f,formats:r,type:"emoji"}}h(a,"createPotentialEmojiObject")},"0UjO":function(J,i,e){"use strict";e.d(i,"a",function(){return s}),e.d(i,"b",function(){return o});var n=e("ZKjC"),t=e("UOL+"),a;const s=Object(n.b)(f=>{var r;return(a=(r=Object(t.a)(f))===null||r===void 0?void 0:r.draftImageThumbnails)!==null&&a!==void 0?a:f==null?void 0:f.draftImageThumbnails});var l;s.meta={name:"createSelector",key:"createSelectorgetAllDraftImageThumbnails",description:f=>{var r;return(l=(r=Object(t.a)(f))===null||r===void 0?void 0:r.draftImageThumbnails)!==null&&l!==void 0?l:f==null?void 0:f.draftImageThumbnails}};const o=Object(n.b)((f,r)=>{var m;return(m=s(f))===null||m===void 0?void 0:m[r]});o.meta={name:"createSelector",key:"createSelectorgetImageThumbnailByFileId",description:(f,r)=>{var m;return(m=s(f))===null||m===void 0?void 0:m[r]}}},"0YPf":function(J,i,e){"use strict";e.d(i,"a",function(){return T});var n=e("NFsq"),t=e("ifKl"),a=e("mM05"),s=e.n(a),l=e("fR2/"),o=e("dA19"),f=e("htTJ"),r=e("IOc2"),m=e("0qhH"),c=e("tfz1"),u=e("p21v"),d=e("CMoc"),p=e("5SjC"),v=e("K1vi"),g=e("ntGM");function O(B){return B.replace(/([^A-Za-z0-9]|^)"(\S)/g,"$1\u201C$2").replace(/(\u201c[^"]*)"([^"]*$|[^\u201c"]*\u201c)/g,"$1\u201D$2").replace(/([^0-9])"/g,"$1\u201D").replace(/([^A-Za-z0-9]|^)'(\S)/g,"$1\u2018$2").replace(/([a-z])'([a-z])/gi,"$1\u2019$2").replace(/((\u2018[^']*)|[a-z])'([^0-9]|$)/gi,"$1\u2019$3").replace(/(\u2018)([0-9]{2}[^\u2019]*)(\u2018([^0-9]|$)|$|\u2019[a-z])/gi,"\u2019$2$3").replace(/(\B|^)\u2018(?=([^\u2019]*\u2019\b)*([^\u2019\u2018]*\W[\u2019\u2018]\b|[^\u2019\u2018]*$))/gi,"$1\u2019").replace(/'/g,"\u2032")}h(O,"createSmartQuotes");function b(B){let R=B;R=R.replace(/[\u2018|\u2019]/g,"'"),R=R.replace(/[\u201c|\u201d]/g,'"');const U=[];R=Object(v.c)(U,R,{replace_pre:!0,replace_code:!0,replace_url:!0});const K=[];return R=R.replace(Object(g.a)(),V=>{const z=`<emoticon-placeholder-${Date.now()}>`;return K.push({emoticon:V,placeholder:z}),z}),R=O(R),K.forEach(V=>{R=R.replace(V.placeholder,V.emoticon)}),R=Object(v.d)(U,R),R}h(b,"replaceSmartQuotes");var y=e("0LZ2"),C=e("sLds"),_=e("3yyz"),j=e("p7YC");const E=["'",'"',"\u201C","\u201D","\u2018","\u2019"];function M(B){return B.reduce((R,U)=>{if(Object(o.a)(U))return Object(u.a)(U)?`${R} `:Object(d.a)(U)?`${R} `:`${R}a`;if(Object(l.a)(U)||Object(f.a)(U)){const V=(Object(l.a)(U)?Object(l.c)(U):Object(f.b)(U)).replace(/./g,"a");return R+V}if(Object(m.a)(U)){let K=Object(m.b)(U).replace(C.c,V=>V.replace(/./g,"a"));return K=K.replace(/:'\(/g,"aaa"),R+K}return R+U.insert},"")}h(M,"convertDeltaToTextForSmartQuotes");function T(B){const U=Object(y.a)(B).import("core/module");return h(class extends U{shouldDoSubstitutions(z){if(!z||!this.options.getTextPreferences())return!1;if(this.options.useWysiwyg&&!this.options.usePlainTextMode)return!0;const N=this.quill.getText(0,z.index+z.length);return!Object(j.a)(N)}listen(){this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0,format:{code:!1,"code-block":!1}},this.onSpace),this.quill.keyboard.addBinding({key:190,collapsed:!0,format:{code:!1,"code-block":!1},prefix:/\.\.$/},this.onEllipsis)}onSpace(z,N){if(this.options.isInComposition()||!this.shouldDoSubstitutions(z))return!0;const A=this.options.getTextPreferences(),x=N.prefix.substring(N.prefix.lastIndexOf(" ")+1);if(this.shouldStartSubstitution(x,A)){const k=z.index-x.length,F=this.quill.history.options.delay;return this.quill.history.options.delay=0,this.quill.updateContents(new s.a().retain(k).delete(x.length).insert(`${A.substitutions[x]} `,N.format)),this.quill.history.options.delay=F,this.lastSubstitutionMade=x,!1}return this.lastSubstitutionMade=null,!0}onEllipsis(z,N){if(this.options.isInComposition()||!this.shouldDoSubstitutions(z)||!this.options.getTextPreferences().useSmartDashes)return!0;const A=z.index-2;return this.quill.updateContents(new s.a().retain(A).delete(2).insert("\u2026",N.format)),!1}shouldBuildSmartQuotes(){const z=this.options.getTextPreferences();return!(!z||!z.useSmartQuotes)}shouldStartSubstitution(z,N){return!(this.lastSubstitutionMade===z||!Object.prototype.hasOwnProperty.call(N.substitutions,z)||!N.substitutions[z])}buildWysiwygSafeTextChangeDelta(z){const N=new s.a,A=M(z),x=A.replace(/[\u2018|\u2019]/g,"'").replace(/[\u201c|\u201d]/g,'"');if(!Object(n.a)(x,"'")&&!Object(n.a)(x,'"'))return N;const k=O(x),F=[];for(let I=0;I<A.length;I++)E.indexOf(A[I])!==-1&&E.indexOf(k[I])!==-1&&F.push(I);if(!F.length)return N;let L=0,S=0;return Object(p.a)(z,(I,W)=>{const D=Object(c.a)(W),H=Object(_.a)(I);if(S+H<F[0]||!Object(m.a)(I)){S+=H;return}F.filter(G=>G>=S&&G<S+H).forEach(G=>{let te=k[G];if(D||Object(r.a)(I)||Object(f.a)(I))te==="\u201C"||te==="\u201D"?te='"':(te==="\u2018"||te==="\u2019")&&(te="'");else if(!this.shouldBuildSmartQuotes())return;A[G]!==te&&(N.retain(G-L).delete(1).insert(te,I.attributes),L=G+1)}),S+=H}),N}buildTextChangeDelta(z,N){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{useWysiwyg:!1,usePlainTextMode:!1};if(A.useWysiwyg&&!A.usePlainTextMode)return this.buildWysiwygSafeTextChangeDelta(z);const x=new s.a;let k=0;if(!this.shouldBuildSmartQuotes())return x;const F=z.reduce((S,I)=>{if(Object(o.a)(I))return`${S}a`;if(Object(l.a)(I)){const W=Object(l.c)(I).replace(/./g,"a");return S+W}return S+I.insert},""),L=b(F);if(F===L)return x;for(let S=0;S<F.length;S++)F[S]!==L[S]&&E.indexOf(F[S])!==-1&&E.indexOf(L[S])!==-1&&(x.retain(S-k).delete(1).insert(L[S]),k=S+1);return x}constructor(z,N){super(z,N),this.lastSubstitutionMade=null,this.options.getTextPreferences=N.getTextPreferences||t.a,this.onSpace=this.onSpace.bind(this),this.onEllipsis=this.onEllipsis.bind(this),this.shouldDoSubstitutions=this.shouldDoSubstitutions.bind(this),this.listen()}},"TextSubstitutionsModule")}h(T,"getTextSubstitutionsModule");const P=T(window)},"0aqA":function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("ZKjC");const t=Object(n.b)((a,s)=>a.canvasReadOnly[s]?a.canvasReadOnly[s]:!1);t.meta={name:"createSelector",key:"createSelectorgetReadOnlyState",description:(a,s)=>a.canvasReadOnly[s]?a.canvasReadOnly[s]:!1}},"0f4s":function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("Y/OQ");function t(a,s,l){return Object(n.a)(a?a.ops:[]).substr(s,l)}h(t,"getDeltaSubStr")},"0kN6":function(J,i,e){"use strict";e.d(i,"a",function(){return r});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),s=e("UIhb"),l=e("kcC6"),o=e("wla9"),f=e("O86Y");const r=Object(a.c)("Fetch and upsert messages",function(){var m=Object(n.coroutine)(function*(c,u,d){let{timestamps:p,reason:v="fetchAndUpsertMessages"}=d;const g=Object(f.g)(u()),O={},b=p.map(C=>{let{channelId:_,ts:j}=C;const E=Object(s.b)(u(),_,j,!1);return E||(O[_]=O[_]||new Set,O[_].add(j)),E}),y=Object.entries(O).map(C=>{let[_,j]=C;return{channel:_,timestamps:Array.from(j)}});if(y.length){const C=yield c(Object(l.a)({query:y,reason:v}));C.length>0&&g&&c(Object(o.a)(g,C))}return p.map((C,_)=>{let{channelId:j,ts:E}=C;return Object(s.b)(u(),j,E,!1)||b[_]})});return function(c,u,d){return m.apply(this,arguments)}}());r.meta={name:"createThunk",key:"createThunkensureMessages",description:"Fetch and upsert messages"}},"0kyL":function(J,i,e){"use strict";e.d(i,"a",function(){return y});var n=e("+l5E"),t=e("lCmp"),a=e("pu3F");function s(C){return C?l(C.blocks)?!0:!!C.attachments&&Object(t.a)(C.attachments,_=>l(_.blocks)):!1}h(s,"hasCallBlockInMessage");function l(C){return!!C&&Object(t.a)(C,_=>_.type===a.e.call)}h(l,"hasCallBlock");var o=e("JQ3U"),f=e("s8RM"),r=e("rebY"),m=e("HYaO"),c=e("Yauy"),u=e("pZC0"),d=e("+KEP"),p=e("E97Y"),v=e("ccuj"),g=e("nnVK"),O=e("8agj"),b=e("9Gfp");function y(C,_){let{message:j,channel:E,ignoreMembership:M,ignoreImWithDeletedMmbr:T}=_;const P=Object(o.a)(j),B=Object(f.a)(P),R=Object(r.a)(j);if(B||R||Object(n.bb)(j)||Object(m.a)(j)||Object(c.T)(E)||Object(O.a)(P)||!Object(b.i)(C,"feature_threaded_call_block")&&s(j)||!Object(c.b)(C,E)||!T&&Object(c.bb)(C,E))return!1;const U=Object(p.l)(E)&&!Object(c.db)(E);if(!M&&U&&!Object(u.a)(E)||!Object(d.a)(C,E==null?void 0:E.id)&&Object(c.Y)(C,E))return!1;const K=Object(v.a)(j);return!(K&&(E!=null&&E.id)&&Object(g.a)(C,{threadTs:K,channelId:E==null?void 0:E.id}))}h(y,"canReplyOrComment")},"0mlZ":function(J,i,e){"use strict";e.d(i,"b",function(){return n}),e.d(i,"c",function(){return t}),e.d(i,"a",function(){return a});var n;(function(s){s.MESSAGE="message",s.SHORTCUT="shortcut",s.FILE="file",s.DOC_SECTION="doc_section",s.CHANNEL_SET="channel_set",s.RECORD="record",s.CANVAS="canvas",s.LIST="list"})(n||(n={}));function t(s){return s===n.FILE||s===n.CANVAS||s===n.LIST||s===n.RECORD||s===n.DOC_SECTION}h(t,"isFileShareType");const a={DLP_USER_WARNING:"dlp_user_warning",MESSAGE_LIMIT_EXCEEDED:"message_limit_exceeded",RESTRICTED_ACTION_EXTERNAL_WORKSPACE:"restricted_action_external_workspace"}},"0ufv":function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("E97Y"),t=e("FdVR"),a=e("C3vN"),s=e("K7jq"),l=e("ehcD");function o(f,r){if(!f||!r||!r.id)return[];if(Object(a.db)(r)){const m=Object(l.c)(f,r);if(Object(s.a)(r)&&m)return[m]}return Object(n.e)(r)?Object(t.a)(f,r):[]}h(o,"getConnectedTeamIdsForModelObject")},"13wQ":function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Set document title");t.meta={name:"createAction",key:"createActionupdateLatestTitle",description:"Set document title"}},"18hm":function(J,i,e){J.exports=e.p+"exchange-unlinked-760993c.svg"},"1Aeb":function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n=h(t=>{let{currentSelection:a,selection:s,cursorPosition:l,numPerRow:o,index:f}=t;const r=s===a,m=l[1]*o+l[0];return r&&f===m},"isCellSelected")},"1DMY":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),s=e("/MKj"),l=e("YpEo"),o=e("9Gfp"),f=e("2IYT"),r=e("NV6F");const m=h(c=>{let{id:u,children:d,forceOpen:p=!1,onClick:v,onClose:g,menuAriaLabel:O,sidebar:b,header:y,channelSection:C,onEnterEditModeClick:_,transitionFocusTo:j}=c;const E=Object(a.c)(o.h),M=Object(s.useDispatch)(),T=Object(n.useCallback)(()=>M(Object(r.b)({id:u,sidebar:b,header:y,channelSection:C,onEnterEditModeClick:_,transitionFocusTo:j})),[M,u,b,y,C,_,j]);return!E||!u?Object(l.a)(d):t.a.createElement(f.a,{menuAriaLabel:O,getTemplate:T,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,forceOpen:p,onClick:v,onClose:g,width:"auto"},d)},"ChannelContextMenu");m.displayName="ChannelContextMenu",i.a=m},"1FnB":function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n=h(t=>{var a;if(!(t!=null&&t.is_app_unfurl))return!1;var s;return(s=t==null||(a=t.blocks)===null||a===void 0?void 0:a.some(l=>l.type==="file"&&l.source==="remote"))!==null&&s!==void 0?s:!1},"isRemoteFileAppUnfurl")},"1LR9":function(J,i,e){"use strict";e.d(i,"e",function(){return t}),e.d(i,"b",function(){return a}),e.d(i,"d",function(){return s}),e.d(i,"a",function(){return l}),e.d(i,"g",function(){return o}),e.d(i,"c",function(){return f}),e.d(i,"f",function(){return r});var n=e("DwFS");const t=Object(n.a)("Set draft sending state");t.meta={name:"createAction",key:"createActionsetDraftSending",description:"Set draft sending state"};const a=Object(n.a)("Remove draft sending state");a.meta={name:"createAction",key:"createActionclearDraftSending",description:"Remove draft sending state"};const s=Object(n.a)("Set error state for a draft");s.meta={name:"createAction",key:"createActionsetDraftError",description:"Set error state for a draft"};const l=Object(n.a)("Clear error state for a draft");l.meta={name:"createAction",key:"createActionclearDraftError",description:"Clear error state for a draft"};const o=Object(n.a)("Set sending invites for draft state");o.meta={name:"createAction",key:"createActionsetSendingInvitesForDraft",description:"Set sending invites for draft state"};const f=Object(n.a)("Remove sending invites for draft state");f.meta={name:"createAction",key:"createActionclearSendingInvitesForDraft",description:"Remove sending invites for draft state"};const r=Object(n.a)("Mark the draft as sent");r.meta={name:"createAction",key:"createActionsetDraftSent",description:"Mark the draft as sent"}},"1PxT":function(J,i,e){"use strict";e.d(i,"a",function(){return l}),e.d(i,"b",function(){return o}),e.d(i,"c",function(){return r}),e.d(i,"f",function(){return m}),e.d(i,"d",function(){return c}),e.d(i,"e",function(){return u});var n=e("X/qK"),t=e("ZKjC"),a=e("Cnv9"),s=e("i5Ig");const l={CANT_UNFURL:"cant_unfurl",COMPLETE:"complete",ERROR:"error",FETCHING:"fetching",REMOVED:"removed"},o=Object(t.b)((d,p)=>{var v;return d==null||(v=d.draftContactUnfurls)===null||v===void 0?void 0:v[p]});o.meta={name:"createSelector",key:"createSelectorgetAllContactUnfurlEntriesForDraft",description:(d,p)=>{var v;return d==null||(v=d.draftContactUnfurls)===null||v===void 0?void 0:v[p]}};const f=Object(t.b)(function(d){let{draftId:p,contactUserId:v}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!p||!v)return null;const g=o(d,p);return g?g[v]:null});f.meta={name:"createSelector",key:"createSelectorgetContactUnfurlEntryForDraft",description:function(d){let{draftId:p,contactUserId:v}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!p||!v)return null;const g=o(d,p);return g?g[v]:null}};const r=Object(t.b)((d,p)=>{const v=o(d,p);return v?Object.keys(v):[]});r.meta={name:"createSelector",key:"createSelectorgetAllContactUnfurlIdsForDraft",description:(d,p)=>{const v=o(d,p);return v?Object.keys(v):[]}};const m=Object(t.b)((d,p)=>{let v=[];if(!p)return v;const g=o(d,p);return g&&(v=Object(n.a)(g,(O,b,y)=>{b&&b.status===l.REMOVED&&O.push(y)},[])),v});m.meta={name:"createSelector",key:"createSelectorgetRemovedContactUnfurlIdsForDraft",description:(d,p)=>{let v=[];if(!p)return v;const g=o(d,p);return g&&(v=Object(n.a)(g,(O,b,y)=>{b&&b.status===l.REMOVED&&O.push(y)},[])),v}};const c=Object(t.b)((d,p)=>{let v=[];if(!p)return v;const g=o(d,p);return g&&(v=Object(n.a)(g,(O,b,y)=>{b&&b.status===l.COMPLETE&&O.push(y)},[])),v});c.meta={name:"createSelector",key:"createSelectorgetCompleteContactUnfurlIdsForDraft",description:(d,p)=>{let v=[];if(!p)return v;const g=o(d,p);return g&&(v=Object(n.a)(g,(O,b,y)=>{b&&b.status===l.COMPLETE&&O.push(y)},[])),v}};const u=Object(t.b)((d,p)=>{if(!Object(a.b)(d)||!p)return s.a;const v=o(d,p);if(!v)return s.a;const g=Object(n.a)(v,(O,b)=>{b&&b.status===l.COMPLETE&&O.push(b.data)},[]);return g.length?g:s.a});u.meta={name:"createSelector",key:"createSelectorgetCompleteContactUnfurlsForDraft",description:(d,p)=>{if(!Object(a.b)(d)||!p)return s.a;const v=o(d,p);if(!v)return s.a;const g=Object(n.a)(v,(O,b)=>{b&&b.status===l.COMPLETE&&O.push(b.data)},[]);return g.length?g:s.a}}},"1TxD":function(J,i,e){"use strict"},"1VCh":function(J,i,e){"use strict";e.d(i,"a",function(){return m});var n=e("RVJP"),t=e("xwCZ"),a=e("C3vN"),s=e("x6tY"),l=e("QoUg"),o=e("awTC");const f="ALQ9XG76D",r=h(c=>Object(n.d)(c,"box_remote_file_previews")==="on","canPreviewBoxRemoteFilesEnabled"),m=h((c,u)=>{if(!r(c)||!u||!Object(s.Mb)(u)||!Object(o.d)(u))return!1;const d=u.bot_user_id||u.user;if(!d)return!1;const p=Object(t.g)(c,d),v=Object(a.d)(p);return v&&v===f?Object(l.a)(c,u):!1},"canPreviewBoxRemoteFiles")},"1Wxh":function(J,i,e){"use strict";e.d(i,"a",function(){return r}),e.d(i,"b",function(){return m});var n=e("mYQK"),t=e.n(n),a=e("nzWX"),s=e("9Gfp"),l=e("AFNo"),o=e("kBpe"),f=e("28Q5");const r=h(c=>Object(a.h)("no_download_banner")!=="1"&&Object(a.h)("defer_download_banner")!=="1"&&!c,"shouldShowDownloadAppBannerBoot"),m=Object(l.c)(c=>{const u=Object(s.e)(c,"userSawNotificationsBanner"),d=Object(a.f)();return Object(f.e)(c)&&u&&d.no_download_ssb_banner!=="1"&&d.defer_download_ssb_banner!=="1"&&d.no_download_banner!=="1"&&d.defer_download_banner!=="1"&&!Object(o.i)()&&!t.a.chromeBook});m.meta={name:"createSelector",key:"createSelectorshouldShowDownloadAppBannerWorkspace",description:c=>{const u=Object(s.e)(c,"userSawNotificationsBanner"),d=Object(a.f)();return Object(f.e)(c)&&u&&d.no_download_ssb_banner!=="1"&&d.defer_download_ssb_banner!=="1"&&d.no_download_banner!=="1"&&d.defer_download_banner!=="1"&&!Object(o.i)()&&!t.a.chromeBook}}},"1ao7":function(J,i,e){"use strict";var n=e("Lgge"),t=e("fujP"),a=e("OtLZ"),s=e("n3tL"),l=e("Kn+X"),o=e("SQ0V"),f=e("9Gfp"),r=e("CMT/"),m=e("jlq+"),c=e("E3dU");const u=Object(o.c)("Prepare a draft to be sent to a channel, DM, or MPDM",function(d,p){let{draft:v,isQuiet:g}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const O=Object(l.d)(v);if(!Object(t.a)(O))return d(Object(m.a)({channelId:O[0]})).then(()=>({channelId:O[0]}));const b=Object(l.m)(v);if(!Object(t.a)(b)){let y,C;if(b.length===1)C=b,y=Object(c.m)(p(),b[0]);else{const _=Object(f.a)(p());C=Object(a.a)(b,_);const j=[_,...C];y=Object(c.q)(p(),j)}return y&&g?n.a.resolve({channelId:y.id}):d(Object(r.a)({isQuiet:g,memberIds:C,shouldNavigateToChannel:!1})).then(_=>({channelId:_.id}))}return n.a.resolve({})});u.meta={name:"createThunk",key:"createThunkprepareDraftForSend",description:"Prepare a draft to be sent to a channel, DM, or MPDM"},u.propTypes={draft:s.default.object.isRequired},i.a=u},"1czH":function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"c",function(){return a}),e.d(i,"b",function(){return s});var n=e("ROZo");const t=Object(n.a)("TS.channels.left_sig.dispatch"),a=Object(n.a)("TS.channels.legacyOnJoin"),s=Object(n.a)("TS.channels.legacyAlertSetTopicError")},"1lhz":function(J,i,e){"use strict";var n=e("9oTK"),t=e("Lgge"),a=e("RVJP"),s=e("SQ0V"),l=e("3L56"),o=e("Btza"),f=e("7ibc"),r=e("TdVx"),m=e("NV6F"),c=e("Ybt4"),u=e("ktUG"),d=e("5IZy");const p=Object(s.c)("Clog the creation of a doc",(j,E,M)=>{let{fileId:T,source:P}=M;Object(d.a)({getState:E}).track(u.EventId.QUIP_DOC_CREATION,{contexts:{ui_context:{ui_properties:{element_name:P},ui_component_name:u.UiComponentName.QUIP_MAIN_EMBED,ui_step:u.UiStep.QUIP_CREATION},core:{quip_file_id:T,file_id:T}}})});p.meta={name:"createThunk",key:"createThunkclogCreateDoc",description:"Clog the creation of a doc"};var v=p,g=e("MRve"),O=e("u0LO");const b=40*1e3,y=Object(s.c)("Finalize a temporary document",function(){var j=Object(n.coroutine)(function*(E,M,T){let{tempId:P,finalId:B,onCreate:R,source:U}=T;const K=yield E(Object(l.a)({quipThreadId:B,reason:"finalize-quip-doc"}));E(Object(o.a)({fileId:K,lastReadByUser:Date.now()})),R&&(U!=="create-channel-space"&&E(v({fileId:K,source:U})),R({tempId:P,finalId:B,fileId:K}))});return function(E,M,T){return j.apply(this,arguments)}}());y.meta={name:"createThunk",key:"createThunkfinalizeDoc",description:"Finalize a temporary document"};const C=Object(s.c)("Create a Quip doc",function(){var j=Object(n.coroutine)(function*(E,M,T){let{onCreate:P,options:B,isChannelCanvas:R,source:U}=T;const K=Object(a.d)(M(),"canvas_tab_customization")==="on";if(!Object(r.a)(M()))return Object(c.b)({getState:M}).error(new Error("Failed to create a canvas - user does not have permission")),t.a.reject(new Error("Cannot create canvas"));const z={usesOnlyInlineTextComments:Object(f.a)(M()),...B},A=yield(yield E(Object(m.l)())).docs.create(z);if(A.isCreated())E(y({tempId:"",finalId:A.id.get(),onCreate:P,source:U}));else{const x=setTimeout(()=>{Object(c.b)({getState:M}).error(new Error("createDoc timeout"),{source:U,isChannelCanvas:R})},b),k=h((F,L)=>{A.isCreated()&&(clearTimeout(x),E(y({tempId:F,finalId:L,onCreate:P,source:U})),A.id.unlisten(k))},"listener");A.id.listen(k)}return K&&!R&&E(Object(g.b)({component:O.c.CanvasTabCanvasCreated,type:O.a.Click,reason:"canvas-created"})),A});return function(E,M,T){return j.apply(this,arguments)}}());C.meta={name:"createThunk",key:"createThunkcreateDoc",description:"Create a Quip doc"};var _=i.a=C},"1m8D":function(J,i,e){"use strict";e.d(i,"a",function(){return n}),e.d(i,"b",function(){return t});var n;(function(a){a.NONE="NONE",a.START="START",a.OPEN="OPEN"})(n||(n={}));function t(a){let{overrideDefaultFormats:s,overridesDefaultComposerButtons:l,useWorkflowTokens:o,useQuipTokens:f=!1,useVariables:r=!1,useExpandedRichText:m=!1,useChannelCanvasShareSelection:c=!1,quipThreadButtonType:u=n.NONE,reachMaxVariables:d=!1}=a;if(m)return{formats:["h1","h2","h3","bold","italic","strike","link","code","bullet-list","check-list","ordered-list","check-list","code-block","blockquote"],buttons:[["menu"],["bold","italic","strike","code","link"],["ordered-list","bullet-list","check-list","blockquote","code-block","slackhorizontalrule"]],menuItems:["h3","h2","h1","paragraph"],menuPosition:"top-left"};if(o)return{formats:["bold","italic","strike","link","code","bullet-list","ordered-list","code-block","blockquote"],buttons:[["bold","italic","strike","code","link"],["ordered-list","bullet-list","blockquote","code-block"]]};if(f){const g=[["menu"],["bold","italic","strike"],["code"]],O=r?["link",d?"variable-limit-reached":"insert-variable"]:["link"];switch(g.push(O),u){case n.START:g.push(["start-thread"]);break;case n.OPEN:g.push(["open-thread"]);break;default:break}return c&&g.push(["channel-canvas-share"]),{formats:["bold","italic","strike"],buttons:g,menuItems:["paragraph","h1","h2","h3","option-list-divider","check-list","ordered-list","bullet-list","option-list-divider","code-block","blockquote"]}}let p=["bold","italic","strike","link","code","bullet-list","ordered-list","code-block","blockquote"],v=[["bold","italic","strike"],["link"],["ordered-list","bullet-list"],["blockquote"],["code","code-block"]];return p.includes("border")||p.push("border"),s&&(p=s),l&&(v=l),{formats:p,buttons:v}}h(t,"getButtonsAndFormats")},"1wfM":function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"c",function(){return a}),e.d(i,"a",function(){return s});var n=e("AFNo");const t=Object(n.c)((l,o)=>{let{widgets:f}=l;var r,m;return(m=(r=f.widgets)===null||r===void 0?void 0:r[o])!==null&&m!==void 0?m:void 0});t.meta={name:"createSelector",key:"createSelectorgetWidget",description:(l,o)=>{let{widgets:f}=l;var r,m;return(m=(r=f.widgets)===null||r===void 0?void 0:r[o])!==null&&m!==void 0?m:void 0}};const a=Object(n.c)((l,o)=>{let{widgets:f}=l;var r,m;return(m=(r=f.widgetPlacements)===null||r===void 0?void 0:r[o])!==null&&m!==void 0?m:void 0});a.meta={name:"createSelector",key:"createSelectorgetWidgetPlacement",description:(l,o)=>{let{widgets:f}=l;var r,m;return(m=(r=f.widgetPlacements)===null||r===void 0?void 0:r[o])!==null&&m!==void 0?m:void 0}};const s=Object(n.c)(l=>{let{widgets:o}=l;var f;return(f=Object.values(o==null?void 0:o.widgets))!==null&&f!==void 0?f:void 0});s.meta={name:"createSelector",key:"createSelectorgetAllWidgets",description:l=>{let{widgets:o}=l;var f;return(f=Object.values(o==null?void 0:o.widgets))!==null&&f!==void 0?f:void 0}}},"1yr/":function(J,i,e){"use strict";var n=e("IW9Y"),t=e("Gs4e");const a=Object(n.b)(t.b,s=>{let{name:l,setFieldValue:o,handleBlur:f,setFieldTouched:r,validateOnBlur:m}=s;return{onChange:c=>o(l,c),...m&&{onBlur:()=>{f(l),r(l,!0)}},...!m&&{onBlur:()=>{r(l,!1)}}}});i.a=a},"238b":function(J,i,e){"use strict";e.d(i,"a",function(){return v});var n=e("fujP"),t=e("SQ0V"),a=e("Lgge"),s=e("s4P+"),l=e("m5fH"),o=e("gCYc"),f=e("hD77"),r=e("q3X1"),m=e("Kn+X"),c=e("I27i"),u=e("jKtb"),d=e("Y4Ot");const p=Object(t.c)("Syncs draft updates",function(O,b){let{draftId:y,reason:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!y)return a.a.reject(void 0);const{error:_,info:j}=Object(s.a)({getState:b,label:"DRAFTS"}),E=Object(o.k)(b(),y);if(!E||Object(n.a)(E))return j(`No need to sync changes for a draft that no longer exists locally - ${y}`),a.a.resolve();if(!Object(c.e)(b()))return j(`Deferring update draft API while offline (id: ${y})`),O(Object(u.c)({draftClientId:y})),a.a.resolve();const M=Object(m.o)(E),T=`client id: ${y} || server id: ${M}`;return j(`Syncing draft updates - ${T}`),Object(r.a)(M),O(Object(d.a)({draft:E,reason:C})).then(P=>{if(j(`Draft updates synced \u2705 - ${T}`),!P.draft){_(`No draft received from the drafts.update response - ${T}`);return}const B=Object(o.k)(b(),y);if(Object(n.a)(B)){j(`Draft no longer exists locally, skipping post API updates - ${T}`);return}O(Object(l.h)({client_draft_id:y,last_updated_ts:parseFloat(P.draft.last_updated_ts)}))}).catch(P=>{_(`Draft updates failed to sync - ${T}`,P)}).finally(()=>{Object(r.b)(M)})});p.meta={name:"createThunk",key:"createThunksyncDraftUpdates",description:"Syncs draft updates"};const v=Object(t.c)("Updates a draft locally and via API",function(O,b){let{draft:y,reason:C,syncImmediately:_=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object(n.a)(y))return;const{error:j}=Object(s.a)({getState:b,label:"DRAFTS"}),E=Object(m.e)(y);if(!E){j("Draft does not have an ID - an ID is required to update a draft");return}const M=h(()=>O(p({draftId:E,reason:C})),"sync");_?M():Object(f.b)({draftId:E,sync:M})});v.meta={name:"createThunk",key:"createThunkupdateDraft",description:"Updates a draft locally and via API"};const g={syncDraftUpdates:p}},"25Vh":function(J,i,e){"use strict";e.d(i,"b",function(){return U}),e.d(i,"a",function(){return K});var n=e("RvCK"),t=e("F294"),a=e("gSGL"),s=e("qAkX"),l=e("m8R6"),o=e("mM05"),f=e.n(o),r=e("ifKl"),m=e("fujP"),c=e("lCmp");const u=h(function(V){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.a;if(Object(m.a)(V))return null;if(!Object(c.a)(V.contents,"attributes.slackmention.id"))return V;let A=!1;const x=V.contents.map(k=>{const F=k.attributes&&k.attributes.slackmention&&k.attributes.slackmention.id;if(!F||z({id:F}))return k;A=!0;const L=Object(l.a)(k,"attributes.slackmention");return Object(m.a)(L.attributes)&&delete L.attributes,L});return A?{...V,contents:x}:V},"detachInvalidMentionsFromContents");var d=u;const p=h((V,z)=>{if(!V||!V.ops)return null;const N={contents:V.ops},A=u(N,z);if(!A)return null;const x=new f.a(A.contents);return new f.a().compose(x)},"detachInvalidMentionsFromDelta");var v=e("Yu+/"),g=e("XpTY");function O(V){return V.filter(z=>Object(g.c)(z)&&Object(v.a)(z)).length}h(O,"getListItemCountInDelta");var b=e("tfz1"),y=e("TQ9f"),C=e("htTJ"),_=e("lnVG");function j(V){const z=/^\s+$/g;return!!(V&&Object(a.a)(V.insert)&&z.test(V.insert))}h(j,"isOpWhitespace");var E=e("0qhH");function M(V){if(!V||!V.ops)return null;const z=V.map(N=>{if(!Object(E.a)(N))return N;let A=Object(E.b)(N);return A=A.replace(/\r\n/g,`
`),A=A.replace(/\r/g,`
`),{...N,insert:A}});return new f.a(z)}h(M,"normalizeNewlineCharacters");var T=e("VJ6u"),P=e("6Fta"),B=e("zKt1"),R=e("CMoc");function U(V,z){return K(V,"slack-texty",z,new f.a,{useWysiwyg:!0,supportsAnchorText:!0})}h(U,"preparePastedDeltaForExternal");function K(V,z,N,A,x,k,F,L){var S;if(!V)return null;let I=V;const W=M(I);if(W&&(I=W),k){const $=p(I,k);I=$??I}if(!x.useWysiwyg||x.usePlainTextMode)return I;if(I=new f.a(I.map($=>Object(R.a)($)?{insert:`
`}:$)),A&&A.length()!==0&&(!N||!N.list||(N==null?void 0:N.list)==="bullet"||(N==null?void 0:N.list)==="ordered")&&O(I)===1&&(I=I.slice(0,I.length()-1)),A&&A.length()!==0&&N&&!N["code-block"]){const $=Object(t.a)(I.ops);if($&&Object(b.a)($)&&Object(E.a)($)&&Object(a.a)($.insert)){var D;if(I.ops.length>1||(((D=$.insert)===null||D===void 0?void 0:D.match(/\n/g))||[]).length>1)I=new f.a().insert(`
`).concat(I);else{const X={...$,insert:$.insert.replace(`
`,""),attributes:{...$.attributes,"code-block":!1}};I=new f.a([X])}}}if(N!=null&&N.code){const $=I.map(X=>({...X,attributes:{...X.attributes,code:!0}}));I=new f.a($)}if(N!=null&&N.blockquote){var H;const $=I.map(Y=>{var ee,w,ne;const ae=!(Y==null||(ee=Y.attributes)===null||ee===void 0)&&ee.blockquote||!(Y==null||(w=Y.attributes)===null||w===void 0)&&w.list||!(Y==null||(ne=Y.attributes)===null||ne===void 0)&&ne["code-block"]?{border:1}:{blockquote:!0};return{...Y,attributes:{...Y.attributes,...ae}}}),X=Object(s.a)($);Object(a.a)(X==null?void 0:X.insert)&&(X==null||(H=X.insert)===null||H===void 0?void 0:H.match)&&X.insert.match(/^\n$/g)||$.push({insert:`
`,attributes:{blockquote:!0}}),I=new f.a($),F&&F(!1)}if(z==="slack/texty"){const $=!!(N!=null&&N.code||N!=null&&N["code-block"]),X=I.map(q=>{if(q&&$&&Object(y.a)(q)&&!Object(a.a)(q==null?void 0:q.insert)){var Y,ee;return{insert:((Y=q.insert)===null||Y===void 0||(ee=Y.slackemoji)===null||ee===void 0?void 0:ee.text)||"",attributes:{...N}}}let w=N;return w=Object(l.a)(N,["indent","border"]),{insert:q.insert||"",attributes:{...q.attributes,...w}}});I=new f.a(X)}z!=="text/uri-list"&&(L!=null&&L.getModule("slackdocimage")||x.supportsAnchorText?I=Object(B.a)(I,{doImageReplacement:L==null?void 0:L.getModule("slackdocimage")}):I=Object(B.d)(I));const Z=I.length(),G=Object(T.a)(I,{stripInlineFormattingFromCodeBlock:!0,stripAllInlineFormatting:N==null?void 0:N["code-block"]});if(I=I.compose(G),G.length()>Z){const $=Object(s.a)(I.ops);$&&Object(_.a)($)&&$.retain===1&&(I=new f.a(I.ops.slice(0,I.ops.length-1)))}I=Object(P.a)(I);const te=I.ops[0];if(x.useWysiwyg&&x.supportsAnchorText&&z!=="text/uri-list"&&I.ops.length===1&&te&&Object(a.a)(te.insert)&&Object(C.a)(te)&&te.insert===((S=te.attributes)===null||S===void 0?void 0:S.link)){const $=Object(n.b)(te.insert);if($!==te.insert)return new f.a().insert($,te.attributes)}return O(I)>1&&I.forEach(($,X)=>{var q,Y,ee;const w=I==null||(q=I.ops)===null||q===void 0?void 0:q[X-1];if(!(w&&Object(v.a)(w)))return;const ae=I==null||(Y=I.ops)===null||Y===void 0?void 0:Y[X+1];if(!(ae&&Object(v.a)(ae)))return;const ge=$;if(!j($)||!Object(a.a)(ge.insert))return;const le=ge==null||(ee=ge.insert)===null||ee===void 0?void 0:ee.match(/\n/gm);if(le&&le.length<2)return;const Q=(le==null?void 0:le.length)&&Math.ceil(le.length/2);Q&&(ge.insert=`
`.repeat(Q))}),I}h(K,"prepareDeltaForPaste")},"26ZP":function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("oNuo"),t=e("6kKm");function a(s){let{type:l,tsfMode:o="NORMAL"}=s;if(!l)return null;let f;return l==="group"?f="group":f=Object(t.a)(Object(n.a)(`BK${l}`)),o==="EDIT"?`<@BK${l}|@${f}>`:`@${f}`}h(a,"formatBroadcastCommand")},"28cP":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),s=e("Cfcg"),l=e("BHdc"),o=e("fujP"),f=e("CD4m"),r=e("CTEJ"),m=e("sGXp"),c=e("naKU"),u=e("Zxte"),d=e("NNLN"),p=e("dmdh"),v=e("ekM3"),g=e("x6tY"),O=e("gnJq"),b=e("/MKj"),y=e("lqu/"),C=e("aBhT"),_=e("XayX"),j=e("oh9B"),E=e("Tevt"),M=e("i9y5"),T=e("nNoG"),P=e("7ibc"),B=e("NV6F");const R=new T.b("files"),U=h(q=>{let{detailType:Y,file:ee,fileAction:w,isHovering:ne,timestampProps:ae,isDetailTextBold:de,detailTextOverride:ge,documentUnfurlTs:le=void 0,refreshProps:Q=void 0,allowLiveTitle:ie,fileBadge:oe,fromCanvasOrganization:me=!1,showCanvasIa4Metadata:be,useNewChannelCanvasNaming:Se=!1,showCanvasModalMetadata:Pe=!1}=q;const Ue=!Y||!ee||ge,Fe=Object(b.useStore)(),je=Ue?null:Object(j.a)(Fe.getState(),ee,Y,ae,le),_e=Object(a.c)(P.B);let pe=null;ge?pe=ge:ne?pe=Object(_.a)(w,ee,Fe.getState()):je&&(pe=je);const fe=Object(a.c)(P.t);pe=Q!=null&&Q.shouldShowRefresh&&(Q!=null&&Q.isLoading)?t.a.createElement(M.a,{size:"small",noMargin:!0,inline:!0}):t.a.createElement(f.c,{className:Object(l.default)("c-file_entity-user-timestamp",{"c-file-entity-bold-description":!de,"c-file_entity-refresh__highlighted":(Q==null?void 0:Q.shouldShowRefresh)&&(Q==null?void 0:Q.shouldHighlightRefresh)})},_e&&(Q!=null&&Q.shouldShowRefresh)?t.a.createElement(E.a,{className:Object(l.default)("c-file_entity-refresh-link",{"c-file_entity-refresh__highlighted":Q==null?void 0:Q.shouldHighlightRefresh}),onClick:Q.onRefreshClick},pe," | ",_e?R.t("Refresh"):""):t.a.createElement(t.a.Fragment,null,pe));const ye=!!oe||be,Te=t.a.createElement(y.a,{file:ee,allowLiveTitle:ie,fromCanvasOrganization:me,useNewChannelCanvasNaming:Se}),Oe=be&&fe&&!Pe?Object(B.z)({quipFileId:ee.id,target:Te}):Te;return t.a.createElement(t.a.Fragment,null,t.a.createElement(f.c,{className:Object(l.default)("c-file_entity__text c-file_entity__text--first-line",{"c-file_entity__text--first-line__flex":ye}),"data-qa":"file-entity-metadata-title",inline:ye},t.a.createElement(C.a,{lines:1,withTooltip:!0},Oe),oe),t.a.createElement("div",{className:"c-file_entity-user-timestamp","data-qa":"file-entity-metadata-description"},t.a.createElement(C.a,{lines:1,withTooltip:!0},pe)))},"FileEntityMetadata");U.displayName="FileEntityMetadata";var K=U,V=e("a/x4"),z=e("8z04"),N=e("q31X"),A=e("O86Y"),x=e("hUMe"),k=e("ZobM"),F=e("z28c"),L=e("OaiI"),S=e("B/ED"),I=e("3bXy"),W=e("RVJP"),D=e("ZBdd"),H=e("2R1f");function Z(){return Z=Object.assign||function(q){for(var Y=1;Y<arguments.length;Y++){var ee=arguments[Y];for(var w in ee)Object.prototype.hasOwnProperty.call(ee,w)&&(q[w]=ee[w])}return q},Z.apply(this,arguments)}h(Z,"_extends");const G=new T.b("files"),te={fontWeight:"bold"};function se(q){let{className:Y,"data-qa":ee,"data-sk":w,fileFromPropsOrState:ne,fileAction:ae,hideActionText:de=!1,id:ge,isDisabled:le,invert:Q,detailType:ie=z.a.FILETYPE,timestampProps:oe,forceIconThumbnail:me,isDetailTextBold:be,detailTextOverride:Se,hasNotification:Pe,allowLiveTitle:Ue,documentUnfurlTs:Fe=void 0,refreshProps:je=void 0,isViewOnly:_e,fromCanvasOrganization:pe=!1,preventHoverOver:fe=!1,showCanvasIa4Metadata:Ee,useNewChannelCanvasNaming:ye=!1,noBadge:Te,showCanvasModalMetadata:Oe=!1}=q;var Ce;const ce=Object(a.c)(F.a),he=Object(a.c)(P.t),Me=Object(a.c)(L.isListsTranslationsEnabled),Ae=Object(a.c)(Wt=>Object(W.d)(Wt,"native_dlp_canvas")==="on"),xe=Object(a.c)(A.g),Re=Object(n.useCallback)(Wt=>{let{className:Xt}=Wt,Ut;return _e?Ut=t.a.createElement("span",{className:"c-file_entity__view_only_icon"},t.a.createElement(k.a,{name:"eye-open",size:"20","data-qa":"file_entity__view_only_icon"})):Ut=t.a.createElement(V.a,{className:Xt,file:ne,size:m.a.medium,forceIconThumbnail:me,hasNotification:Pe}),Ee&&he&&!Oe?Object(B.z)({quipFileId:ne.id,target:Ut}):Ut},[he,ne,me,Pe,_e,Ee,Oe]),Ge=(Ce=Object(n.useContext)(d.a))===null||Ce===void 0?void 0:Ce.viewContext,ze=Object(n.useCallback)(Wt=>{const Xt=xe?t.a.createElement(x.a,{id:xe,bold:!1}):"";if(Object(O.a)(Wt))return t.a.createElement(t.a.Fragment,null,t.a.createElement(r.a,{dataQa:"file_unknown_missing_text"}),t.a.createElement("br",null),t.a.createElement(r.a,null));if(Ae&&Object(g.nb)(Wt))return t.a.createElement("span",null,Object(g.B)(Wt));if(Object(g.Tb)(Wt))return t.a.createElement("span",null,G.t("This file was deleted."));if(Object(g.Gb)(Wt))return t.a.createElement("span",null,G.t("You don\u2019t have access to this file."));if(Object(g.Fb)(Wt))return t.a.createElement("span",null,G.t("This file was not found."));if(Object(g.kb)(Wt)){let Ut=G.t("You don\u2019t have permission to view this file."),Nt=G.rt("Sharing canvases with external organizations has been turned off by your admins.");return Wt.file_access===N.a.SlackConnectCanvasSharingBlocked||Wt.mode==="canvas_slack_connect_blocked"?(Ut=G.t("Can\u2019t view this canvas"),Nt=G.rt("Another team owns this canvas. Canvases from external organizations can\u2019t be viewed by members of {currentWorkspaceOrgName}.",{currentWorkspaceOrgName:Xt})):Wt.file_access===N.a.SlackConnectTeamBlocked?(Ut=G.t("You don\u2019t have permission to view this file."),Nt=G.rt("This feature is still being rolled out so your organization may not be able to view this canvas yet.",{fallbackHash:"263630df4ed2247421f0023a0d80dcff3d38049c"})):(Ut=G.t("Can\u2019t view this canvas"),Nt=G.rt("Another team owns this canvas. Canvases from external organizations can\u2019t be viewed by members of {currentWorkspaceOrgName}.",{currentWorkspaceOrgName:Xt})),t.a.createElement("div",null,t.a.createElement("h4",{style:te},Ut),t.a.createElement("h5",null,Nt))}if(Object(g.lb)(Wt)){let Ut=Me?G.t("Can\u2019t view this list"):"Can\u2019t view this list",Nt=Me?G.rt("Another team owns this list. Lists from external organizations can\u2019t be viewed by members of {currentWorkspaceOrgName}.",{currentWorkspaceOrgName:Xt}):"Another team owns this list. Lists from external organizations can\u2019t be viewed by members of this team.";return Wt.file_access===N.a.SlackConnectListsTeamBlocked&&(Ut=Me?G.t("You don\u2019t have permission to view this file."):"You don\u2019t have permission to view this file.",Nt=Me?G.rt("This feature is still being rolled out so your organization may not be able to view this list yet."):"This feature is still being rolled out so your organization may not be able to view this list yet."),t.a.createElement("div",null,t.a.createElement("h4",{style:te},Ut),t.a.createElement("h5",null,Nt))}if(Object(g.tb)(Wt)){let Ut=G.t("This file isn\u2019t visible to you."),Nt=G.t("This file is only visible to members of the conversation where it was originally shared");return ce&&Object(g.u)(Wt)&&(Ut=G.t("Need permission to view"),Nt=G.t("Another team owns this canvas. It\u2019s only been shared with specific people in your organization.")),Object(g.o)(Wt)&&(Ut=G.t("Need permission to view"),Nt=Me?G.t("Another team owns this list. It\u2019s only been shared with specific people in your organization."):"Another team owns this list. It\u2019s only been shared with specific people in your organization."),t.a.createElement("div",null,t.a.createElement("h4",{style:te},Ut),t.a.createElement("h5",null,Nt))}if(Object(g.Db)(Wt)){let Ut="file_header";return Ge&&(Ut=`${Ut}_${Ge}`),t.a.createElement(u.a,{context:Ut})}return null},[xe,Me,ce,Ge,Ae]),[Ie,Ne]=Object(n.useState)(!1),Ke=Object(n.useContext)(c.a),Ve=Object(n.useCallback)(()=>{Ne(!0)},[]),$e=Object(n.useCallback)(()=>{Ne(!1)},[]);if(Object(o.a)(ne))return null;const tt=ze(ne);let qe=le?m.d.dim:void 0;Q&&(qe=m.d.highlightDark);const ut=Object(l.default)("c-file_entity__medium_base_entity",{"c-file_entity__medium_base_entity--access-denied":Object(g.tb)(ne),"c-file_entity__medium_base_entity--storage-limit":Object(g.Db)(ne)}),rt=Ke?Ke.mouseOver:Ie,yt=ne?ne.id:ge,Mt=Te?null:t.a.createElement(S.a,{id:yt,size:I.b.Small,showIsChannelCanvas:!0}),st=t.a.createElement(f.d,{size:"medium",className:ut,"data-id":ge||(ne==null?void 0:ne.id),"data-sk":Object(o.a)(w)?"medium_file_entity":w,style:qe,avatar:Re,text:tt?t.a.createElement("span",{"data-qa":"medium_file_entity_exception"},tt):t.a.createElement(K,{detailType:ie,isHovering:!fe&&rt,file:ne,fileAction:de?null:ae,timestampProps:oe,isDetailTextBold:be,detailTextOverride:Se,documentUnfurlTs:Fe,refreshProps:je,allowLiveTitle:Ue,fileBadge:Mt,fromCanvasOrganization:pe,useNewChannelCanvasNaming:ye,showCanvasIa4Metadata:Ee,showCanvasModalMetadata:Oe})}),Vt={className:Object(l.default)("c-file_entity",Y,{"c-file_entity--exception":tt}),onMouseEnter:Ve,onMouseLeave:$e,"data-qa":ee};return t.a.createElement("div",Z({},Vt),st)}h(se,"MediumFileEntity"),se.displayName="MediumFileEntity";function $(q,Y){let{id:ee,file:w}=Y;const ne=w||Object(p.e)(q,ee);return{fileAction:Object(g.t)(ne)?null:Object(v.a)(q,ne),fileFromPropsOrState:ne}}h($,"mapStateToProps");var X=i.a=Object(s.a)($)(se)},"2CL1":function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("ZKjC");const t=Object(n.b)(s=>{var l;return s==null||(l=s.composerPage)===null||l===void 0?void 0:l.composerOrigin});t.meta={name:"createSelector",key:"createSelectorgetComposerOrigin",description:s=>{var l;return s==null||(l=s.composerPage)===null||l===void 0?void 0:l.composerOrigin}};const a=Object(n.b)(s=>(s==null?void 0:s.composerPage.composerEmailClassificationSupported)||!1);a.meta={name:"createSelector",key:"createSelectorgetComposerEmailClassificationSupported",description:s=>(s==null?void 0:s.composerPage.composerEmailClassificationSupported)||!1}},"2R1f":function(J,i,e){"use strict"},"2Wdf":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("3l96"),s=e("SQ0V"),l=e("/MKj"),o=e("+kJ4"),f=e("Tevt"),r=e("nNoG"),m=e("d/xU"),c=e("YUBf");const u=new r.b("request_access_error"),d=h(()=>{const O=Object(l.useDispatch)(),b=Object(n.useCallback)(()=>{O(Object(o.a)())},[O]),y=u.rt("Something\u2019s gone wrong. If the problem persists, <a>let us know</a>.",null,C=>{let{tag:_,text:j}=C;return t.a.createElement(f.a,{key:_,target:"_blank",href:`https://${Object(m.n)()}/help/requests/new`},j)});return t.a.createElement(c.a,{closeModal:b,centered:!0,shouldCloseOnOverlayClick:!0},t.a.createElement(c.i,null,t.a.createElement(c.l,null,t.a.createElement("h2",null,u.t("Error")))),t.a.createElement(c.d,null,t.a.createElement(c.e,null,y)),t.a.createElement(c.g,null,t.a.createElement(c.h,null,t.a.createElement(c.c,{type:"danger",onClick:b},u.t("Close")))))},"RequestAccessErrorModal");d.displayName="RequestAccessErrorModal";var p=d;const v=Object(s.c)("Opens the Request Access Done confirmation modal in client",(O,b)=>{O(Object(a.a)({element:t.a.createElement(p,null)}))});v.meta={name:"createThunk",key:"createThunkopenRequestAccessErrorModal",description:"Opens the Request Access Done confirmation modal in client"};var g=i.a=v},"2Wms":function(J,i,e){"use strict";e.d(i,"a",function(){return m});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("zxER"),l=e("u0LO"),o=e("MRve"),f=e("Cyb+"),r=e("vrU2");const m=h(function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l.c.ClipsNux;const u=Object(a.useDispatch)(),d=Object(s.c)(p=>Object(r.b)(p,{component:c}));Object(n.useEffect)(()=>{u(Object(o.a)({interactions:[{component:c,type:l.a.Click},{component:c,type:l.a.Impression},{component:c,type:l.a.Dismiss}],useCache:!0,cacheFilter:f.f,reason:"useClipsNUXUserInteractions"}))},[u,c]),Object(n.useEffect)(()=>{d&&u(Object(o.b)({component:c,type:l.a.Impression,reason:"useClipsNUXUserInteractions"}))},[u,d,c])},"useClipsNUXUserInteractions")},"2XGx":function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("pu3F"),t=e("fujP");function a(s){return!s||Object(t.a)(s)?[]:s.map(o=>({hide_color:!0,blocks:[{type:n.e.contact_card,contact_user_id:o.contact_user_id}]}))}h(a,"getFormattedContactCardAttachments")},"2cBL":function(J,i,e){"use strict";e.d(i,"a",function(){return m});var n=e("ZKjC"),t=e("beVI"),a=e("G0eX"),s=e("g05w"),l=e("Yauy"),o=e("e55/"),f=e("RVJP"),r=e("zCzZ");const m=Object(n.b)((c,u)=>{let{channel:d,xwsAlpha:p=!1}=u;const v=Object(f.d)(c,"shouty_workspace_name_pref")==="on";if(p&&Object(s.b)(d)){const O=Object(o.a)(c,d),b=Object(r.n)(c,"always_show_workspace_name"),y=O==null?void 0:O.map(C=>Object(t.s)(c,C)).filter(C=>v&&b!=null&&b.length?!!(b!=null&&b.includes(Object(a.n)(C))):!0).sort((C,_)=>{const j=Object(a.h)(C),E=Object(a.h)(_);return j.localeCompare(E)});if(y!=null&&y[0])return y[0]}const g=!Object(s.b)(d)&&Object(l.Eb)(c,d);return(g?Object(t.s)(c,g):void 0)||Object(t.g)(c)});m.meta={name:"createSelector",key:"createSelectorgetTeamForChannelInUnifiedGrid",description:(c,u)=>{let{channel:d,xwsAlpha:p=!1}=u;const v=Object(f.d)(c,"shouty_workspace_name_pref")==="on";if(p&&Object(s.b)(d)){const O=Object(o.a)(c,d),b=Object(r.n)(c,"always_show_workspace_name"),y=O==null?void 0:O.map(C=>Object(t.s)(c,C)).filter(C=>v&&b!=null&&b.length?!!(b!=null&&b.includes(Object(a.n)(C))):!0).sort((C,_)=>{const j=Object(a.h)(C),E=Object(a.h)(_);return j.localeCompare(E)});if(y!=null&&y[0])return y[0]}const g=!Object(s.b)(d)&&Object(l.Eb)(c,d);return(g?Object(t.s)(c,g):void 0)||Object(t.g)(c)}}},"2dIn":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n);const a=h(s=>{let{color:l,className:o}=s;return t.a.createElement("svg",{width:"128",height:"24",viewBox:"0 0 128 24",xmlns:"http://www.w3.org/2000/svg",fill:l,className:o},t.a.createElement("path",{d:"M35.332 12.835C45.414 3.033 56.712-.931 69.013.18c10.028.906 20.409 5.12 31.341 12.083l.699.448c10.403 6.722 17.788 6.722 22.762 2.83a11.037 11.037 0 001.788-1.75c.21-.26.361-.472.454-.616l.075-.12 1.736.992c-.457.799-1.377 1.94-2.82 3.07-5.602 4.382-13.771 4.44-24.644-2.447l-.437-.28C75.97-1.114 55.09-3.134 37.265 13.752l-.539.518c-6.62 6.435-13.034 9.394-19.15 9.394-4.792 0-9.083-1.796-12.805-4.775a26.253 26.253 0 01-3.395-3.256l-.33-.386a17.729 17.729 0 01-.721-.917l-.152-.215 1.654-1.125.182.251.073.097c.224.295.492.625.803.982a24.266 24.266 0 003.135 3.007c3.394 2.716 7.266 4.337 11.555 4.337 5.441 0 11.238-2.62 17.357-8.444l.4-.384z"}),t.a.createElement("path",{d:"M53.692 9.412c5.018-6.938 9.75-8.065 15.17-4.68l.736.476c.98.642 1.508 1.037 3.146 2.502l3.63 3.295c4.11 3.748 6.77 5.685 9.835 6.792 3.884 1.403 7.82 1.002 12.223-1.606 8.52-5.045 15.346-8.195 20.668-9.805 3.518-1.064 5.986-1.35 7.568-1.163l.178.023c.165.024.294.051.39.077l.066.019-.604 1.907-.141-.024c-1.258-.184-3.489.05-6.878 1.076-4.89 1.479-11.156 4.33-18.95 8.861l-1.278.75c-4.913 2.91-9.47 3.374-13.921 1.766-3.384-1.222-6.21-3.28-10.504-7.196l-2.362-2.15c-2.64-2.396-3.107-2.762-4.272-3.523l-.364-.237c-4.532-2.937-8.109-2.218-12.496 3.711l-.22.3c-5.424 7.5-13.974 9.967-24.67 8.427-5.901-.85-12.182-2.88-18.546-5.729a103.916 103.916 0 01-8.377-4.216l-.865-.491c-.555-.32-1.065-.62-1.528-.901l-.867-.537 1.082-1.682.542.338.279.17c.676.41 1.458.867 2.336 1.36a101.93 101.93 0 008.215 4.134c6.208 2.78 12.32 4.754 18.013 5.574 9.869 1.421 17.588-.738 22.525-7.292l.24-.326z",opacity:".3"}),t.a.createElement("path",{d:"M28.549 5.575c4.913-2.91 9.47-3.373 13.921-1.766 3.384 1.223 6.21 3.28 10.504 7.196l3.68 3.34c1.624 1.447 2.072 1.76 3.13 2.448l.188.122c4.532 2.937 8.109 2.218 12.496-3.71l.22-.302c5.424-7.498 13.974-9.966 24.67-8.425 5.901.85 12.182 2.879 18.546 5.728a103.916 103.916 0 018.377 4.216 84.92 84.92 0 012.393 1.393l.867.536-1.082 1.682-.675-.42-.146-.088a82.93 82.93 0 00-2.336-1.359 101.93 101.93 0 00-8.215-4.135c-6.208-2.78-12.32-4.754-18.013-5.574-9.869-1.42-17.588.738-22.525 7.293l-.24.326c-5.02 6.937-9.752 8.064-15.17 4.68l-1.076-.702c-1.002-.675-1.673-1.239-4.216-3.549l-2.22-2.022c-4.11-3.748-6.771-5.685-9.836-6.793-3.884-1.402-7.82-1.002-12.223 1.606l-1.298.762C20.352 12.66 13.95 15.574 8.9 17.1c-3.653 1.105-6.174 1.37-7.746 1.14l-.221-.038a2.644 2.644 0 01-.17-.039l-.065-.019.604-1.906.141.023c1.258.184 3.489-.05 6.878-1.075 4.89-1.48 11.156-4.33 18.95-8.862l1.278-.75z",opacity:".3"}))},"AudioOnlyWaves");i.a=a},"2pz5":function(J,i,e){"use strict";e.d(i,"h",function(){return a}),e.d(i,"a",function(){return s}),e.d(i,"f",function(){return l}),e.d(i,"d",function(){return o}),e.d(i,"e",function(){return f}),e.d(i,"g",function(){return r}),e.d(i,"b",function(){return m}),e.d(i,"c",function(){return c});var n=e("n3tL"),t=e("DwFS");const a=Object(t.a)("Started uploading a file");a.meta={name:"createAction",key:"createActionuploadStarting",description:"Started uploading a file"},a.propTypes={fileName:n.default.string,fileCount:n.default.number,isRetry:n.default.bool.isRequired,cancelable:n.default.bool.isRequired};const s=Object(t.a)("Update to the file upload % complete");s.meta={name:"createAction",key:"createActionprogressUpdate",description:"Update to the file upload % complete"},s.propTypes={percentComplete:n.default.number.isRequired};const l=Object(t.a)("File is being processed by the backend");l.meta={name:"createAction",key:"createActionuploadProcessing",description:"File is being processed by the backend"},l.propTypes=null;const o=Object(t.a)("Canceled the file upload");o.meta={name:"createAction",key:"createActionuploadCanceled",description:"Canceled the file upload"},o.propTypes=null;const f=Object(t.a)("Finished the file upload");f.meta={name:"createAction",key:"createActionuploadComplete",description:"Finished the file upload"},f.propTypes=null;const r=Object(t.a)("Done all uploads");r.meta={name:"createAction",key:"createActionuploadQueueEmptied",description:"Done all uploads"},r.propTypes=null;const m=Object(t.a)("Un-hide the banner if it was hidden");m.meta={name:"createAction",key:"createActionunHideBanner",description:"Un-hide the banner if it was hidden"},m.propTypes=null;const c=Object(t.a)("Update to the origin window Id");c.meta={name:"createAction",key:"createActionupdateOriginWindowId",description:"Update to the origin window Id"},c.propTypes={originWindowId:n.default.string.isRequired}},"2vX4":function(J,i,e){"use strict";var n=e("bPB8"),t=e("BeL+"),a=e("zmn3"),s=e("fujP"),l=e("q1tI"),o=e.n(l),f=e("BHdc"),r=e("yxNq"),m=e("Cfcg"),c=e("tZQI"),u=e("CMT/"),d=e("1HOW"),p=e("iKzC"),v=e("mzsf"),g=e("bp2J"),O=e("P4EH"),b=e("E3dU"),y=e("xwCZ"),C=e("Zbwg"),_=e("eUIW"),j=e("gVOt"),E=e("E97Y");const M=h((L,S)=>{if(Object(_.a)(S))return{type:"member",entity:Object(y.g)(L,S)};if(!Object(C.a)(S))return{};const I=Object(b.d)(L,S);if(!Object(E.g)(I))return{type:"channel",entity:I};const W=Object(j.a)(I);return{type:"member",entity:Object(y.g)(L,W)}},"getEntity");var T=e("Yauy"),P=e("+tZp");const B=h((L,S,I)=>{if(S==="channel"&&!Object(E.q)(I))return Object(T.t)(L,I);if(S==="member")return Object(P.a)(L,I)},"getLabelForEntity");var R=e("i5Ig"),U=e("bLbp"),K=e("RVJP"),V=e("pu3F"),z=e("nNoG");const N=new z.b("share-dialog");let A=h(class extends l.PureComponent{componentDidMount(){this.resizeTimeout=window.setTimeout(()=>window.dispatchEvent(new Event("resize")),200)}componentWillUnmount(){clearTimeout(this.resizeTimeout)}onOptionSelected(S){const{shouldForceCreateDmDuringMultiSelect:I,useMultiSelect:W,experimentFeMessageForwardingM2GroupOn:D,isPrivateMessageSharing:H,experimentCheckChannelConnectivityForDmsGroupOn:Z=!1}=this.props,G=Object(n.a)(Object(t.a)(Object(a.a)(S,"value")));if(W){let te;this.props.categorizeDestinationIdsThunk({ids:G}).then(se=>{const $=se.memberIds.length;$>1||$&&I||$&&D&&H?(this.props.onChangeTotalDestinationMembers&&this.props.onChangeTotalDestinationMembers(se.memberIds.length),this.props.startMpimByMemberIds({isQuiet:!0,memberIds:se.memberIds,shouldNavigateToChannel:!1}).then(X=>{te=X.id,this.props.onChange&&this.props.onChange(te,se),this.props.onChangeError&&this.props.onChangeError(null)}).catch(X=>{var q;const Y=X.name===V.S.INVALID_USER_COMBINATION&&((q=X.data)===null||q===void 0?void 0:q.reason)===V.S.NO_COMMON_EXTERNALY_SHARED_CHANNEL,ee=Z&&Y?V.S.NO_COMMON_EXTERNALY_SHARED_CHANNEL:X.name;this.props.onChangeError&&this.props.onChangeError(ee)})):(te=Object(s.a)(S)?"":S[0].value,this.props.onChange&&this.props.onChange(te,se),this.props.onChangeError&&this.props.onChangeError(null))})}else this.props.onChange&&this.props.onChange(S.value);this.props.onChangeError&&this.props.onChangeError(null)}renderOption(S){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{value:W}=S,{isActive:D}=I;return o.a.createElement(v.b,{id:W,isActive:D})}onKeyDown(S){var I;const{destination:W}=this.props,D=(W==null||(I=W.channelIds)===null||I===void 0?void 0:I.length)>0;S.key!=="Tab"&&D&&(S.preventDefault(),S.stopPropagation())}getSearcherSearchSelectOptions(){const{onlySearchOnExternalWorkspaceId:S}=this.props;return{entities:{channels:{includeArchived:!1,includeFromAnotherTeam:!0,includePrivate:!0,includeMpims:!0,canPost:!0,matchEmailField:!0,onlyFromExternalWorkspaceId:S},members:{includeSelf:!0,matchEmailField:!0}},returnMetadata:!0,allowEmptyQuery:!0,limit:100}}getCustomTokenProps(){return{enableProfileHoverCard:!0,customizeProfileHoverCardProps:{hideButtons:!0,disableMemberProfileLink:!0}}}renderMultiSelectOption(S,I){return o.a.createElement(g.a,{entity:S.entity,id:S.value,isActive:I.isActive,isDisabled:S.isDisabled,matchData:S.matchData})}getInitialMultiSelectOption(){const{initialOption:S}=this.props;return S?[S]:R.a}getMultiSelectSearcherOptions(){const{destination:S,shouldSearchForChannels:I,shouldSearchForMembers:W,shouldAllowShareExternal:D,onlySearchOnExternalWorkspaceId:H,onlyShowChannelsCanPost:Z,isPrivateMessageSharing:G,experimentFeMessageForwardingM2GroupOn:te}=this.props,se=S&&S.memberIds,$=S&&S.channelIds,X=Object(s.a)(se),q=Object(s.a)($);return{allowEmptyQuery:!0,entities:{channels:I&&{includePublic:G?te:!0,includeExternallyShared:D,includeFromAnotherTeam:!0,includePrivate:!0,includeMpims:q,includeArchived:!1,onlyVisibleMpims:!0,onlyFromExternalWorkspaceId:H,canPost:Z},members:W&&{includeSelf:!0,includeSlackbot:X,includeBots:!G,includeWorkflows:!1,includeExternal:D,onlyLocalTeam:!1,includeGuests:!0,matchEmailField:!0},userGroups:!1}}}render(){const{isDisabled:S,ariaLabel:I,dialogType:W,focusOnMount:D,expandOnFocus:H,useMultiSelect:Z,selectId:G,initialOption:te,destination:se,shouldShowFilePermissionsPrototype:$,shouldSearchForChannels:X,shouldSearchForMembers:q,initialChannelId:Y,inputRef:ee,onInputFocused:w}=this.props,ne=se&&se.memberIds,ae=se&&se.channelIds,de=H===void 0?Object(s.a)(ne)&&Object(s.a)(ae):H,ge=!q||!X&&q||Y,le=Object(f.default)("p-share_dialog_channel_picker",{flex_one:$,margin_right_75:$&&ge,no_min_width:$}),Q=$?N.t("Add by name or channel"):N.t("Search for channel or person");return Z?o.a.createElement(c.e,{ariaLabel:I||Q,className:le,classPrefix:"p-share_dialog_channel_picker",enableLoadingState:!1,expandOnFocus:de,onSelectedItemsChange:this.onOptionSelected,optionsRowHeight:32,maxOptionsListHeight:200,placeholderText:Q,isDisabled:S,onKeyDown:this.onKeyDown,renderOption:this.renderMultiSelectOption,searcherOptions:this.getMultiSelectSearcherOptions(),selectId:`${W}_channel_picker`,selectedOptions:this.getInitialMultiSelectOption(),selectDataQa:U.b.CHANNEL_PICKER,width:"100%",focusOnMount:D,inputRef:ee,onInputFocused:w,customizeTokenProps:this.getCustomTokenProps()}):o.a.createElement(d.e,{isRequired:!0,width:"100%",optionsRowHeight:32,maxOptionsListHeight:200,isDisabled:S,ariaLabel:I||Q,placeholderText:Q,className:"p-share_dialog_channel_picker",classPrefix:"p-share_dialog_channel_picker",selectId:G||`${W}_channel_picker`,selectDataQa:"share_dialog_channel_picker",selectedOption:te,searcherOptions:this.getSearcherSearchSelectOptions(),onOptionSelected:this.onOptionSelected,renderOption:this.renderOption,renderSelectedOption:this.renderOption,focusOnMount:D,enableLoadingState:!1,inputRef:ee})}constructor(S){super(S),this.onOptionSelected=this.onOptionSelected.bind(this),this.renderOption=this.renderOption.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.getSearcherSearchSelectOptions=this.getSearcherSearchSelectOptions.bind(this),this.renderMultiSelectOption=this.renderMultiSelectOption.bind(this),this.getInitialMultiSelectOption=this.getInitialMultiSelectOption.bind(this),this.getMultiSelectSearcherOptions=this.getMultiSelectSearcherOptions.bind(this),this.getCustomTokenProps=this.getCustomTokenProps.bind(this)}},"ShareDialogChannelPicker");A.displayName="ShareDialogChannelPicker",A.defaultProps={shouldSearchForChannels:!0,shouldSearchForMembers:!0,shouldAllowShareExternal:!0};const x=h((L,S)=>{let{initialChannelId:I}=S;const{type:W,entity:D}=M(L,I||""),H=D&&B(L,W,D);return{initialOption:D&&H?{value:D.id,label:H,entity:D}:void 0,experimentFeMessageForwardingM2GroupOn:Object(O.a)(L),experimentCheckChannelConnectivityForDmsGroupOn:Object(K.d)(L,"check_channel_connectivity_for_dms")==="on"}},"mapStateToProps"),k=h(L=>({startMpimByMemberIds:function(){for(var S=arguments.length,I=new Array(S),W=0;W<S;W++)I[W]=arguments[W];return L(Object(u.a)(...I))},categorizeDestinationIdsThunk:function(){for(var S=arguments.length,I=new Array(S),W=0;W<S;W++)I[W]=arguments[W];return L(Object(p.a)(...I))}}),"mapDispatchToProps");var F=i.a=Object(m.a)(x,k,null,{areStatePropsEqual:(L,S)=>Object(r.a)(L,S,2)})(A)},"2ySF":function(J,i,e){"use strict";e.d(i,"a",function(){return y});var n=e("wd/R"),t=e.n(n),a=e("q1tI"),s=e.n(a),l=e("fp5s"),o=e("WIr4"),f=e("BHdc"),r=e("NBsH"),m=e("ykb+"),c=e("s4P+"),u=e("nNoG"),d=e("BQeT"),p=e("3V+Q");const v=new u.b("date_time_picker"),g="YYYY-MM-DD",O="HH:mm",b="YYYY-MM-DDTHH:mm";var y;(function(j){j.DateInput="DateInput",j.TimeInput="TimeInput"})(y||(y={}));let C=h(class extends a.Component{getId(){return this.props.id?this.props.id:(this.defaultId=this.defaultId||Object(l.a)("date_time_picker"),this.defaultId)}getMaxMoment(){if(this.props.max)return t()(this.props.max,this.props.valueFormat)}getMinMoment(){if(this.props.min)return t()(this.props.min,this.props.valueFormat)}getValueMoment(){if(this.props.value)return t()(this.props.value,this.props.valueFormat)}handleChange(){let{date:E,time:M}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=E?t()(E,g):this.getValueMoment()||t()();const P=M?t()(M,O):this.getValueMoment()||t()();T.hour(P.hour()),T.minute(P.minute());const B=this.getMinMoment();B&&T.isBefore(B)&&(T=B);const R=this.getMaxMoment();R&&T.isAfter(R)&&(T=R),T.isValid()&&this.props.onChange(T.format(this.props.valueFormat))}handleDateChange(E){this.handleChange({date:E})}handleTimeChange(E){this.handleChange({time:E})}renderDatePicker(){const{"aria-label":E,"aria-labelledby":M,"data-qa":T,disabled:P,isRequired:B,isInvalid:R,size:U,dateDisplayFormat:K,focusOnMountOption:V}=this.props,z=`${this.getId()}-datepicker`;let N=v.t("Date");E&&(N=`${E} ${N}`);const A=this.getValueMoment(),x=A?A.format(g):void 0,k=v.t("Select a date",{fallbackHash:"642b09c1f60b0090861264facba6e0e0f1b98c05",fallbackHashNs:"block_kit"}),F=this.getMinMoment(),L=this.getMaxMoment();return s.a.createElement("div",{className:"c-date_time_picker__date_picker_container"},s.a.createElement(r.a,{id:z,dateFormat:g,selectedDate:x,onDateChange:this.handleDateChange,datePickerDisabled:P,datePlaceholder:k,disableDatesBefore:F?F.format(g):void 0,disableDatesAfter:L?L.format(g):void 0,"aria-label":N,"aria-labelledby":M,"data-qa":T?`${T}_date_picker`:void 0,required:B,size:U,displayFormat:K,focusOnMount:V===y.DateInput,isInvalid:R}))}renderTimePicker(){const{"aria-label":E,"aria-labelledby":M,"data-qa":T,isInvalid:P,isRequired:B,showTimeZone:R,optionsHourIncrement:U,timezone:K,size:V,focusOnMountOption:z}=this.props;let N=v.t("Time");E&&(N=`${E} ${N}`);const A=this.getValueMoment(),x=this.getMinMoment(),k=this.getMaxMoment(),F=A&&A.format(O),L=x&&A&&x.isSame(A,"date")?x.format(O):void 0,S=k&&A&&k.isSame(A,"date")?k.format(O):void 0,I=this.props.disabled||!A&&!!(x||k);return s.a.createElement("div",{className:"c-date_time_picker__time_picker_container"},s.a.createElement(d.b,{value:F,onChange:this.handleTimeChange,isDisabled:I,min:L,max:S,width:"100%",ariaLabel:N,ariaLabelledBy:M,timeZone:K,selectDataQa:`${T}_time_picker`,showTimeZone:R,isInvalid:P,optionsHourIncrement:U,isRequired:B,size:V,focusOnMount:z===y.TimeInput}))}render(){const{className:E,dateLabel:M,timeLabel:T}=this.props;return s.a.createElement("div",{id:this.getId(),className:Object(f.default)(E,"c-date_time_picker"),"data-qa":this.props["data-qa"]},M?s.a.createElement(p.b,{text:M,id:"custom-modal-date-label","data-qa":"custom-modal-date-label-data-qa"},this.renderDatePicker()):this.renderDatePicker(),T&&s.a.createElement("br",null),T?s.a.createElement(p.b,{text:T,id:"custom-modal-time-label","data-qa":"custom-modal-time-label-data-qa"},this.renderTimePicker()):this.renderTimePicker())}constructor(E){super(E),!E.isRequired&&(Object(m.b)()||Object(m.c)())&&Object(c.b)().error("DateTimePicker: Support for isRequired=false not implemented  yet"),Object(o.a)(this,["handleDateChange","handleTimeChange"])}},"DateTimePicker");C.displayName="DateTimePicker",C.defaultProps={valueFormat:b,showTimeZone:!0,isRequired:!0,"data-qa":"date_time_picker"};var _=i.b=C},"2yT+":function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n={People:"people",Channels:"channels",Integrations:"integrations",Settings:"settings"}},"2zs3":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("BHdc"),l=e("E3dU"),o=e("fi3B"),f=e("sGXp"),r=e("swWY"),m=e("Hm4q");function c(d){let{id:p,isDeactivated:v=!1,className:g,mpim:O,truncate:b=!1,truncateWidth:y,withTruncationTooltip:C,"data-qa":_,"data-sk":j="inline_mpim_entity"}=d;const E=Object(s.default)(g,"c-inline_mpim_entity"),M=p||(O==null?void 0:O.id),T=v?f.d.dim:void 0;return t.a.createElement(o.a,{className:E,"data-id":M,"data-qa":_,"data-sk":j,style:T,truncate:b,truncateWidth:y,withTruncationTooltip:C,primaryContent:t.a.createElement("span",{className:"c-inline_mpim_entity__content"},t.a.createElement(r.a,{id:M,inline:!0,mpim:O,width:y}))})}h(c,"InlineMpimEntity"),c.displayName="InlineMpimEntity";function u(d,p){let{id:v,mpim:g}=p;return{mpim:g||Object(l.d)(d,v)}}h(u,"mapStateToProps"),i.a=Object(a.a)(u)(c)},"3D8U":function(J,i,e){"use strict";e.d(i,"c",function(){return a}),e.d(i,"a",function(){return s}),e.d(i,"b",function(){return o});var n=e("ZKjC"),t=e("UOL+");const a=Object(n.b)((f,r,m)=>{var c,u,d,p;return(c=Object(t.a)(f))===null||c===void 0||(u=c.filePermissions)===null||u===void 0||(d=u.draftPermissions)===null||d===void 0||(p=d[r])===null||p===void 0?void 0:p[m]});a.meta={name:"createSelector",key:"createSelectorgetSelectedFilePermission",description:(f,r,m)=>{var c,u,d,p;return(c=Object(t.a)(f))===null||c===void 0||(u=c.filePermissions)===null||u===void 0||(d=u.draftPermissions)===null||d===void 0||(p=d[r])===null||p===void 0?void 0:p[m]}};const s=Object(n.b)((f,r)=>{var m,c,u;return(m=Object(t.a)(f))===null||m===void 0||(c=m.filePermissions)===null||c===void 0||(u=c.draftPermissions)===null||u===void 0?void 0:u[r]});s.meta={name:"createSelector",key:"createSelectorgetAllSelectedFilePermissionsByDraftId",description:(f,r)=>{var m,c,u;return(m=Object(t.a)(f))===null||m===void 0||(c=m.filePermissions)===null||c===void 0||(u=c.draftPermissions)===null||u===void 0?void 0:u[r]}};const l=Object(n.b)(f=>{var r;return(r=Object(t.a)(f))===null||r===void 0?void 0:r.filePermissions});l.meta={name:"createSelector",key:"createSelectorgetAllSelectedFilePermissions",description:f=>{var r;return(r=Object(t.a)(f))===null||r===void 0?void 0:r.filePermissions}};const o=Object(n.b)((f,r)=>{var m,c;return((m=Object(t.a)(f))===null||m===void 0||(c=m.filePermissions)===null||c===void 0?void 0:c.messageTs)===r});o.meta={name:"createSelector",key:"createSelectorgetMessageTsForPermissionRequest",description:(f,r)=>{var m,c;return((m=Object(t.a)(f))===null||m===void 0||(c=m.filePermissions)===null||c===void 0?void 0:c.messageTs)===r}}},"3G7u":function(J,i,e){"use strict";var n=e("d5BB");const t=h(a=>{let{invite:s}=a;var l,o;const f=(l=s.acceptances)===null||l===void 0?void 0:l[0];if(!f)return[];const r=Object(n.g)(s,f).id,m=Object(n.p)(s).id;let c=!1,u=!1;(o=f.reviews)===null||o===void 0||o.forEach(v=>{var g;(v.reviewing_team.id===((g=f.accepting_sub_team)===null||g===void 0?void 0:g.id)||v.reviewing_team.id===r)&&(c=!0),v.reviewing_team.id===m&&(u=!0)});const d=[];if(!c){var p;d.push(((p=f.accepting_sub_team)===null||p===void 0?void 0:p.id)||r)}return u||d.push(m),d},"getPendingApprovalTeamIds");i.a=t},"3H60":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Te+D"),s=e("Tsh7"),l=e("pmw5"),o=e("nNoG");const f=new o.b("stories_av");function r(m){let{isPlaying:c,videoRef:u,className:d,backgroundStyle:p,togglePlayPause:v}=m;const g=c?f.t("Pause"):f.t("Play"),O=t.a.createElement(a.a,{title:g,mainKey:f.t("Space")}),b=Object(n.useCallback)(()=>{var y;if(v){v();return}u==null||(y=u.current)===null||y===void 0||y.togglePlayPause()},[v,u]);return t.a.createElement(s.d,{tip:O,position:"top",delay:s.a,hideFromScreenReader:!0},t.a.createElement(l.a,{className:d,backgroundStyle:p,onClick:b,"aria-label":f.t("Play"),"aria-pressed":c,icon:c?"pause":"play",size:"medium"}))}h(r,"TogglePlayButton"),r.displayName="TogglePlayButton",i.a=r},"3L56":function(J,i,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),s=e("6zzd"),l=e("KePV"),o=e("B1w/");const f=Object(a.c)("Fetch Slack Doc file IDs for and re-map",function(){var r=Object(n.coroutine)(function*(m,c,u){let{quipThreadId:d,reason:p="get-and-upsert-slack-doc-file-id"}=u;const v=Object(o.a)(c(),d);if(v)return v;const{file_id:g}=yield m(Object(s.a)({quipThreadId:d,reason:p}));return m(Object(l.a)({objects:[{id:d,fileId:g}]})),g});return function(m,c,u){return r.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkgetAndUpsertSlackDocFileId",description:"Fetch Slack Doc file IDs for and re-map"},i.a=f},"3NZ6":function(J,i,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("Lgge"),s=e("SQ0V"),l=e("UIhb"),o=e("kcC6"),f=e("hjzp"),r=e("FcR8");const m=Object(s.c)("Open a Slack doc with a threadTs",(c,u,d)=>{let{fileId:p,inTile:v,source:g,threadTs:O,focusSectionId:b,inFlexpane:y}=d;const C=Object(f.a)(p),_=u();if(!O)return a.a.resolve(c(Object(r.a)({fileId:p,forceNewWindow:v,source:g,sectionId:b||"",inFlexpane:y})));const j=Object(l.b)(_,C,O,!1);return(j?a.a.resolve(j):c(Object(o.a)({query:[{channel:C,timestamps:[O]}],reason:"quip-root-comment-not-loaded"})).then(M=>M[0]?M[0]:a.a.reject(new Error("openDocFromThreadTs: Could not load the missing root comment")))).then(function(){var M=Object(n.coroutine)(function*(T){var P,B;const R=T.subtype==="document_mention"?(P=T.document_mention)===null||P===void 0?void 0:P.section_id:"";yield c(Object(r.a)({fileId:p,forceNewWindow:v,source:g,commentThreadId:(T==null||(B=T.document_comment)===null||B===void 0?void 0:B.thread_id)||"",sectionId:R,inFlexpane:y}))});return function(T){return M.apply(this,arguments)}}())});m.meta={name:"createThunk",key:"createThunkopenDocWithThreadTs",description:"Open a Slack doc with a threadTs"},i.a=m},"3TE0":function(J,i,e){"use strict";var n=e("xwCZ"),t=e("ZOzc");const a=h((s,l)=>{const o=Object(n.c)(s),f=Object(t.a)(s,"disable_file_editing");return l.user===o.id&&(l.mode==="hosted"||l.mode==="email")&&!f&&!l.is_tombstoned},"canUserEditFile");i.a=a},"3Tbp":function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("SQ0V"),t=e("Q7We"),a=e("dUj5");const s=Object(n.c)("Remove placeholder from placeholder and message stores",(l,o,f)=>{let{clientMsgId:r,channelId:m,ts:c}=f;l(Object(a.b)(r)),l(Object(t.a)({channelId:m,ts:c}))});s.meta={name:"createThunk",key:"createThunkcleanUpPlaceholder",description:"Remove placeholder from placeholder and message stores"}},"3WT/":function(J,i,e){"use strict";e.d(i,"b",function(){return m}),e.d(i,"a",function(){return c});var n=e("E3dU"),t=e("xwCZ"),a=e("Yauy"),s=e("gVOt"),l=e("E97Y"),o=e("Zbwg"),f=e("eUIW"),r=e("yxNq");const m=h((u,d)=>{let{channel:p,id:v,member:g,memberIds:O=[]}=d;const b=v||(p==null?void 0:p.id)||(g==null?void 0:g.id);let y=O,C=p;Object(o.a)(b)&&(C==null?void 0:C.id)!==b&&(C=Object(n.d)(u,b));let _;Object(f.a)(b)?_=b:Object(l.g)(C)?_=Object(s.a)(C):y.length===1&&(_=y[0]);const j=_?Object(t.g)(u,_):null;if(j&&y[0]!==_)y=[_];else if(Object(l.i)(C)){const T=Object(a.C)(C);T&&y.length!==T.length&&(y=[...T])}const E=C!=null&&C.id?[C.id]:[],M=(y==null?void 0:y.length)>0?y:E;return{channel:C,member:j,memberIds:y,modelObIds:M}},"parseMapStateToPropsArgs"),c=h((u,d)=>Object(r.a)(u.channel,d.channel)&&Object(r.a)(u.member,d.member)&&Object(r.a)(u.memberIds,d.memberIds),"areOwnPropsEqual")},"3YPJ":function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("x91h"),t=e("dqj/"),a=e("gES/");function s(l){var o;const f=Object(a.b)(l);var r,m;const c=(m=(r=Object(t.f)(f))!==null&&r!==void 0?r:Object(t.n)(f))!==null&&m!==void 0?m:(o=l.text)===null||o===void 0?void 0:o.slice(1,-1);return Object(n.a)(c)}h(s,"getUnfurlUrlFromMessage")},"3dye":function(J,i,e){"use strict";e.d(i,"b",function(){return u}),e.d(i,"a",function(){return d});var n=e("/1FC"),t=e("n3tL"),a=e("Lgge"),s=e("s4P+"),l=e("WCk1"),o=e("2XU3"),f=e("rKeN"),r=e("ktUG"),m=e("2mvv"),c=e("vjzz");const u=Object(l.a)("Get the user recommendations",function(p,v){let{memberIds:g,source:O="composer",reason:b,limit:y=10}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const C=v();if(!Object(n.a)(g))return a.a.reject(new Error("invalid memberIds for users.recommend"));try{return p(Object(o.apiCall)({method:"users.recommend",args:{query:g.join(","),source:O,limit:y},reason:b||O,token:Object(f.a)(C)?Object(m.a)(C):void 0}))}catch(_){return Object(s.a)({getState:v}).error("Could not fetch suggested users for users.recommend"),a.a.reject(_)}});u.meta={name:"createFetcher",key:"createFetcherfetchUsersRecommend",description:"Get the user recommendations"},u.propTypes={memberIds:t.default.arrayOf(t.default.string),source:t.default.string,reason:t.default.string};const d=h(p=>{let{clogger:v,data:g}=p;const{requestId:O,selectedItemId:b,selectedPosition:y,draftId:C=void 0,selectedAction:_=void 0}=g,j={request_id:Object(c.c)(O,c.b),selected_id:b,selected_position:y,selected_type:"user",...C&&{draft_id:C},..._&&{selected_action:_}};v.track(r.EventId.RECOMMEND_ACCEPT,j)},"clogUsersRecommendAccept")},"3qtv":function(J,i,e){"use strict";e.d(i,"a",function(){return O}),e.d(i,"c",function(){return b}),e.d(i,"d",function(){return C}),e.d(i,"b",function(){return _});var n=e("9oTK"),t=e.n(n),a=e("Lgge"),s=e("SQ0V"),l=e("4hjS"),o=e("jJ7u"),f=e("i9jZ"),r=e("RV0M"),m=e("2VFn"),c=e("cU/a"),u=e("S36j"),d=e("UAMj"),p=e("rZ8V"),v=e("uiBO");const g=Object(s.c)("Opens a given flexpane view or focuses if already open",(j,E,M,T)=>{let{routeName:P,view:B}=M;var R;const U=E(),{shouldUseNavigate:K,getSiblingView:V}=T(r.a),z=K?(R=V(U,{container:m.i.Secondary}))===null||R===void 0?void 0:R.id:Object(l.j)(U);return!z||!B.includes(z)?j(Object(c.a)({routeName:P,flexName:B[0]})):(Object(l.l)(U)||j(Object(u.e)(!0)),a.a.resolve())});g.meta={name:"createThunk",key:"createThunkshowOrFocusFlexpane",description:"Opens a given flexpane view or focuses if already open"};const O=Object(s.c)("Opens or focuses the Activity flexpane",function(){var j=Object(n.coroutine)(function*(E){return E(g({routeName:o.c,view:["activity"]}))});return function(E){return j.apply(this,arguments)}}());O.meta={name:"createThunk",key:"createThunkshowOrFocusActivityFlexPane",description:"Opens or focuses the Activity flexpane"};const b=Object(s.c)("Opens or focuses the Notifications flexpane",function(){var j=Object(n.coroutine)(function*(E){return E(g({routeName:o.t,view:["notifications"]}))});return function(E){return j.apply(this,arguments)}}());b.meta={name:"createThunk",key:"createThunkshowOrFocusNotificationsFlexPane",description:"Opens or focuses the Notifications flexpane"};const y=Object(s.c)("Opens or focuses the Reactions flexpane",function(){var j=Object(n.coroutine)(function*(E){return E(g({routeName:o.x,view:["reactions"]}))});return function(E){return j.apply(this,arguments)}}());y.meta={name:"createThunk",key:"createThunkshowOrFocusReactionsFlexPane",description:"Opens or focuses the Reactions flexpane"};const C=Object(s.c)("Opens or focuses the list of Starred Items",function(){var j=Object(n.coroutine)(function*(E){return E(g({routeName:o.z,view:["saved","starred_items"]}))});return function(E){return j.apply(this,arguments)}}());C.meta={name:"createThunk",key:"createThunkshowOrFocusStarredItemsList",description:"Opens or focuses the list of Starred Items"};const _=Object(s.c)("Opens or focuses the Feedback flexpane",(j,E)=>{const M=E();return Object(f.b)()||Object(p.n)(M)?j(Object(d.a)({id:"feedback",viewType:v.b.Feedback})):j(g({routeName:o.j,view:["feedback"]}))});_.meta={name:"createThunk",key:"createThunkshowOrFocusFeedbackFlexpane",description:"Opens or focuses the Feedback flexpane"}},"3tUm":function(J,i,e){"use strict";var n=e("fujP"),t=e("SQ0V"),a=e("6Q+y"),s=e("AyK6"),l=e("Shth"),o=e("O86Y"),f=e("B+Mk"),r=e("tvTu");const m=Object(t.c)("Retry failed uploads",(c,u,d)=>{let{draftId:p,pendingFileIds:v}=d;Object(n.a)(v)||v.forEach(g=>{const O=Object(s.b)(u(),{pendingFileId:g});if(!O||O.status!==l.a.ERROR)return;const b=Object(f.a)(O);if(!b)return;const y=Object(o.g)(u());if(y){const C=c(Object(a.a)({teamId:y,files:[b],shareData:{isEagerUpload:!0}}));c(Object(r.a)({file:b,pendingFileId:g,uploadPromise:C,draftId:p}))}})});m.meta={name:"createThunk",key:"createThunkretryFailedUploads",description:"Retry failed uploads"},i.a=m},"3ysv":function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),s=e("/OdH"),l=e("R/i+");const o=Object(a.c)("Gets a placement widget based on an id",function(){var f=Object(n.coroutine)(function*(r,m,c){let{widgetPlacementId:u}=c;r(Object(l.a)({widgetPlacementId:u}));const d=yield r(Object(s.a)({widgetPlacementId:u,reason:"fetch-placement-widget-thunk"}));r(Object(l.d)({widgetPlacement:d.widget_placement}))});return function(r,m,c){return f.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkfetchWidgetPlacement",description:"Gets a placement widget based on an id"}},"3yyz":function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("gSGL"),t=e("dA19");function a(s){return s?Object(t.a)(s)?1:Object(n.a)(s.insert)?s.insert.length:1:0}h(a,"getOpLength")},"4ALb":function(J,i,e){"use strict";e.d(i,"e",function(){return l}),e.d(i,"f",function(){return o}),e.d(i,"a",function(){return f}),e.d(i,"b",function(){return r}),e.d(i,"c",function(){return m}),e.d(i,"d",function(){return c});var n=e("JoAr"),t=e("nNoG"),a=e("FH+Z");const s=new t.b("stories_av");function l(u){return o(u==null?void 0:u.user)}h(l,"getStoryAccentColor");function o(u){const d=parseInt(u??"0",36);return a.g[d%a.g.length]}h(o,"getStoryAccentColorFromUser");function f(u){if(u===1/0||isNaN(u))return"0:00";const d=Math.floor(u/60).toString(10),p=Math.floor(u%60).toString(10).padStart(2,"0");return`${d}:${p}`}h(f,"formatTime");function r(u){let{audioOnly:d,screenCapture:p,blob:v}=u;if(v.name)return v.name;let g;d||v.type.indexOf("audio")===0?g=s.t("Audio"):g=p?s.t("Screenshare"):s.t("Video");const O=Object(n.a)(Math.floor(Date.now()/1e3),"{date_num} {time_secs}");let b="webm";return v.type.includes("mp4")&&(b="mp4"),`${g} - ${O}.${b}`}h(r,"getFileName");function m(u){let{ts:d,mediaIndex:p}=u;return`${d}-${p}`}h(m,"getMediaId");function c(u){let{quipFileId:d,fileId:p,entityId:v}=u;return`${d}-${v}-${p}`}h(c,"getQuipMediaId")},"4AlF":function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("bPB8"),t=e("BeL+"),a=e("xWuZ"),s=e("E3dU"),l=e("xwCZ"),o=e("0ufv"),f=e("Zbwg"),r=e("eUIW"),m=e("i5Ig");function c(u,d){if(!u||!(d!=null&&d.length))return m.a;const p=!1,v=Object(n.a)(d.map(O=>{const b=Object(r.a)(O)?Object(l.g)(u,O,{preferNonExistentToNull:!1,fetchIfMissing:p}):!1,y=Object(f.a)(O)?Object(s.d)(u,O,p):!1,C=b||y;if(!C)return!1;const _=Object(o.a)(u,C);return _!=null&&_.length?_:!1})),g=Object(t.a)(Object(a.a)(v));return g.length===0?m.a:g}h(c,"getConnectedTeamIdsForModelObjectIds")},"4EP9":function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("aykK"),t=e("wGfi"),a=e("E3dU"),s=e("miM7"),l=e("eUIW");const o=h(function(f,r){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(Object(l.a)(r))return null;const c=Object(a.d)(f,r),u=m.includes("BKeveryone"),d=m.includes("BKchannel"),p=m.includes("BKgroup"),v=m.includes("BKhere");if(!(u||d||p||v))return null;if(!Object(s.a)(c)&&u)return"@everyone";const O=u&&!v&&!d&&!p;if(Object(s.a)(c)&&O&&Object(t.a)(f,r))return null;if(Object(s.a)(c)&&!Object(t.a)(f,r)||!Object(n.a)(f,r)){if(v)return"@here";if(d)return"@channel";if(p)return"@group";if(u)return"@everyone"}return null},"checkForBlockedAtChannelKeyword")},"4Etr":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("wSSu"),s=e.n(a),l=e("nTNk"),o=e("gPPH");const f=Object(l.a)(),r=f.import("blots/block/embed"),m={},c=h((p,v)=>{m[p]=v},"addEmbedElement"),u=h(p=>m[p]||null,"getEmbedElementById");let d=h(class Ss extends r{static create(v,g){const O=super.create(),b={...v};if(!b.embedId){const C=Object(o.a)();b.embedId=`doc-embed-${C}`}const y=t.a.createElement(g,b);return s.a.render(y,O),Ss.setPropsOnDOM(O,b),c(b.embedId,y),O}static value(v){return Ss.getPropsFromDOM(v)}index(v,g){return this.domNode.contains(v)?g:-1}static formats(v){return Ss.getPropsFromDOM(v)}static updateComponent(v,g){const O=v.dataset,b=O&&O.embedId,y=typeof b=="string"&&u(b);if(y&&y){const C=t.a.cloneElement(y,g);s.a.render(C,v),Ss.setPropsOnDOM(v,g)}}static getPropsFromDOM(v){return{...v.dataset}}static setPropsOnDOM(v,g){var O,b;Object.keys(g).forEach(y=>{y!=="store"&&(v.dataset[y]=g[y])}),!((O=v==null?void 0:v.firstChild)===null||O===void 0||(b=O.dataset)===null||b===void 0)&&b.isPrivate&&(v.dataset.isPrivate=!0)}static addClassesToContainer(v){for(var g=arguments.length,O=new Array(g>1?g-1:0),b=1;b<g;b++)O[b-1]=arguments[b];v.classList.add(...O)}static registerEmbeds(v){Array.isArray(v)?v.forEach(g=>f.register(g)):typeof v=="function"&&f.register(v)}constructor(v){super(v)}},"DocsBlockEmbed");d.tagName="docsblockembed",i.a=d},"4TL0":function(J,i,e){"use strict";e.d(i,"a",function(){return p}),e.d(i,"b",function(){return v}),e.d(i,"c",function(){return g});var n=e("ifKl"),t=e("WIr4"),a=e("q1tI"),s=e.n(a),l=e("BHdc"),o=e("wd/R"),f=e.n(o),r=e("QYtq"),m=e("i5Ig"),c=e("INTg"),u=e("aqlM");function d(){return d=Object.assign||function(O){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(O[C]=y[C])}return O},d.apply(this,arguments)}h(d,"_extends");const p={x:-4,y:-4},v={x:0,y:-4};let g=h(class extends a.Component{static getDerivedStateFromProps(b,y){if(b.selectedDate!==y.passedSelectedDate||b.dateFormat!==y.passedDateFormat){const C=f()(b.selectedDate,b.dateFormat).isValid()?b.selectedDate:void 0;return{selectedDate:C,passedSelectedDate:C,passedDateFormat:b.dateFormat}}return null}handleDateChange(b){var y,C;if(this.setState(()=>({selectedDate:b})),(C=(y=this.props).onDateChange)===null||C===void 0||C.call(y,b),this.trigger.current){const _=this.trigger.current;_!=null&&_.closePopover&&_.closePopover()}}triggerPopover(b){if(this.trigger.current){const y=this.trigger.current;y!=null&&y.onTrigger&&y.onTrigger(b)}}renderPopover(b){const{calendarClassName:y,dropdownClassName:C,disabledDates:_,yearTitleFormat:j,dateFormat:E,isDateDisabled:M,disableDatesBefore:T,disableDatesAfter:P,onRenderPopover:B,onDatePickerClose:R}=this.props,{onClose:U,...K}=b,V=Object(l.default)(C,"c-date_picker__dropdown");return B==null||B(),s.a.createElement(r.a,d({position:"bottom-right",offsetX:p.x,offsetY:p.y,onClose:()=>{U==null||U(),R==null||R()}},K),s.a.createElement("div",{className:V,"data-qa":"date_picker_dropdown"},s.a.createElement(c.a,{className:y,selectedDate:this.state.selectedDate,disabledDates:_||m.a,yearTitleFormat:j,dateFormat:E||"YYYY-MM-DD",onDateChange:this.handleDateChange,isDateDisabled:M,disableDatesBefore:T,disableDatesAfter:P,focusOnMount:b.openedWithKeyboard})))}renderTrigger(){return this.props.renderTrigger?this.props.renderTrigger(this.state.selectedDate):this.props.children}render(){const{children:b,renderTrigger:y,calendarClassName:C,dropdownClassName:_,selectedDate:j,disabledDates:E,yearTitleFormat:M,dateFormat:T,onDateChange:P,isDateDisabled:B,disableDatesBefore:R,disableDatesAfter:U,...K}=this.props;return s.a.createElement(r.b,d({},K,{ref:this.trigger,renderPopover:this.renderPopover}),this.renderTrigger())}constructor(b){super(b);const y=f()(b.selectedDate,b.dateFormat).isValid()?b.selectedDate:void 0;this.state={selectedDate:y,passedSelectedDate:y,passedDateFormat:b.dateFormat},this.trigger=s.a.createRef(),Object(t.a)(this,["handleDateChange","renderPopover"])}},"DatePickerTrigger");g.displayName="DatePickerTrigger",g.defaultProps={children:null,renderTrigger:void 0,dropdownClassName:void 0,onDateChange:n.a,onDatePickerClose:n.a,dateFormat:void 0,calendarClassName:void 0,selectedDate:void 0,disabledDates:void 0,yearTitleFormat:void 0,isDateDisabled:void 0,disableDatesBefore:void 0,disableDatesAfter:void 0,onRenderPopover:n.a}},"4V1c":function(J,i,e){"use strict";e.r(i),e.d(i,"getFileInsertData",function(){return v}),e.d(i,"getInsertData",function(){return g}),e.d(i,"getMatch",function(){return O}),e.d(i,"getResultFrecencyId",function(){return b}),e.d(i,"recordSelection",function(){return y}),e.d(i,"isValidMatch",function(){return C});var n=e("qAkX"),t=e("5IZy"),a=e("s2GU"),s=e("2oNE"),l=e("I8Au"),o=e("coh6"),f=e("GS6c"),r=e("wsJ+"),m=e("6dQg"),c=e("x6tY"),u=e("tcou"),d=e("ktUG");const p=/(^|\n|.)?((?:@|\uFF20)([^\n@\uFF20]*))$/i,v=h(function(_){let{teamId:j,usePlainTextMode:E}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{item:M}=_;if(!_||!_.item||!Object(m.a)(M.id||""))return null;Object(t.a)().track(d.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"file"}}});let T;const P=Object(c.F)(M,j||"");return T=Object(c.G)(M),T=(T||"").replace(Object(r.a)(),"").replace(/\s+/g," ").trim(),T=T||P,E?{text:`${P}`}:{text:`${T}`,format:{link:P}}},"getFileInsertData"),g=h(function(_){let{teamId:j,highlightWords:E,shouldRenderBroadcastsAsText:M=!1,experimentFilesInAtMenuGroupTreatment:T=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T&&_&&_.type==="file")return v(_,{teamId:j||"",usePlainTextMode:!1});const P=_&&_.item;if(!P||!P.id)return null;Object(t.a)().track(d.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"member"}}});const B=Object(a.a)(P);return P.is_broadcast_keyword&&M?{text:B}:{text:B,format:{slackmention:Object(s.a)(P.id,B,E)}}},"getInsertData"),O=h(function(_){let{isUserSolicited:j}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E;if(_.replace(p,function(P){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",R=arguments.length>2?arguments[2]:void 0,U=arguments.length>3?arguments[3]:void 0,K=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(C(U,B)){if(B==="/"){const V=Object(u.a)(_);if(V&&V.length===1&&V[0].text===_)return}E={match:R,index:K+B.length}}}),!E&&j){let P=Object(n.a)(/(^|\s)([^\s\n@\uFF20]+)$/.exec(_));P=Object(l.a)(P||"",{trimCJK:!1}),P&&(E={match:P,index:_.length-P.length})}if(!E)return null;const M=4;return E.match.split(" ").length-1>M?null:E},"getMatch"),b=h(_=>_&&_.item.id,"getResultFrecencyId"),y=h(_=>{let{clogger:j,query:E,result:M,results:T,teamId:P,useSearcherSessions:B}=_;const R={query:E,results:T,selectedItemId:M.item.id,source:"texty-autocomplete"};B?Object(f.a)({teamId:P,key:"texty-autocomplete"}).clogSearcherAccept({clogger:j,data:R}):Object(o.c)({clogger:j,data:R})},"recordSelection");function C(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return!(Object(l.a)(j)||_.match(/^\s/))}h(C,"isValidMatch")},"4WY+":function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"a",function(){return s}),e.d(i,"c",function(){return l}),e.d(i,"d",function(){return o});var n=e("c8Bs");function t(f){var r;return!!((f==null||(r=f.statics)===null||r===void 0?void 0:r.blotName)==="list-item")}h(t,"lineIsListItem");function a(f){return!!((f==null?void 0:f.length)>0&&Object(n.a)(f,m=>t(m)))}h(a,"everyLineIsListItem");function s(f){var r,m;return t(f)?{isOrdered:(f==null||(r=f.parent)===null||r===void 0||(m=r.domNode)===null||m===void 0?void 0:m.tagName)==="OL"}:{}}h(s,"getListQualitiesOfLine");function l(f){if(!t(f))return!1;const r=s(f);return!!(r!=null&&r.isOrdered)}h(l,"lineIsOrderedListItem");function o(f){if(!t(f))return!1;const r=s(f);return!(r!=null&&r.isOrdered)}h(o,"lineIsUnorderedListItem")},"4gSQ":function(J,i,e){"use strict";e.d(i,"c",function(){return f}),e.d(i,"b",function(){return r}),e.d(i,"a",function(){return m});var n=e("s4P+"),t=e("dmdh"),a=e("0UjO"),s=e("x6tY"),l=e("Shth");const o=Object(n.b)({label:"PENDING-FILE-UPLOADS"}),f=h(c=>c?{file:c,pendingFileId:c.id,percentComplete:0,status:l.a.IDLE,isSending:!1}:(o.error("A file object is required to create a pending file object"),null),"createBasePendingFile"),r=h((c,u)=>{if(Object(s.zb)(c??{}))return null;const{dataUrl:d,width:p,height:v,orientation:g}=u||{};return{file:c,percentComplete:100,status:l.a.COMPLETE,persistedFileId:c==null?void 0:c.id,dataUrl:d,orientation:g,width:p,height:v}},"createBaseDraftFileByFile"),m=h((c,u)=>{if(!u||!c)return null;const d=Object(t.e)(c,u);return d||Object(n.a)({state:c}).error(`createBaseDraftFile: missing file:${d} id:${u}`),r(d,Object(a.b)(c,u)||{})},"createBaseDraftFile")},"4lPb":function(J,i,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("uXhx"),s=e("kpmE"),l=e("SQ0V"),o=e("GhjL");const f=Object(l.c)("Ensures unknown user groups with corresponding ids have been fetched",function(){var r=Object(n.coroutine)(function*(m,c,u){let{reason:d,userGroupIds:p}=u;const v=c(),g=Object(a.a)(p,O=>Object(o.i)(v,O));yield m(Object(s.b)({ids:g,reason:d}))});return function(m,c,u){return r.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkensureUserGroupsArePresent",description:"Ensures unknown user groups with corresponding ids have been fetched"},i.a=f},"4oy+":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("ifKl"),l=e("fujP"),o=e("/MKj"),f=e("zxER"),r=e("nNoG"),m=e("JoR1"),c=e("zm5I"),u=e("VO0X"),d=e("gCYc"),p=e("RB1+"),v=e("ZobM"),g=e("6R8Z"),O=e("N8ug"),b=e("NV6F"),y=e("Tsh7"),C=e("WSQ4"),_=e("qDEp"),j=e("T1zM"),E=e("HkGY"),M=e("B0VD"),T=e("5IZy"),P=e("ktUG"),B=e("SQ0V");const R=Object(B.c)("Clog when toggling WYSIWYG formatting controls",(Be,ke,Le)=>{let{isEnabled:Ze}=Le;Object(T.a)({getState:ke}).track(P.EventId.MSG_FORMATTING_TOOLBAR_TOGGLE,{contexts:{ui_context:{ui_properties:{element_value:Ze?"sticky":"floating"}}}})});R.meta={name:"createThunk",key:"createThunkclogFormattingToggle",description:"Clog when toggling WYSIWYG formatting controls"};const U=Object(B.c)("Clog when clicking the emoji button",(Be,ke)=>{Object(T.a)({getState:ke}).track(P.EventId.MSG_BTN_EMOJI)});U.meta={name:"createThunk",key:"createThunkclogEmojiClick",description:"Clog when clicking the emoji button"};const K=Object(B.c)("Clog when clicking the mention button",(Be,ke)=>{Object(T.a)({getState:ke}).track(P.EventId.MSG_BTN_MENTIONS)});K.meta={name:"createThunk",key:"createThunkclogMentionClick",description:"Clog when clicking the mention button"};var V=e("wTse"),z=e("c07z"),N=e("0cEW"),A=e("nKt2"),x=e("fRJc"),k=e("nWdO"),F=e("nFQW"),L=e("u0LO"),S=e("WY9I"),I=e("ZKjC");const W=Object(I.b)((Be,ke)=>{var Le,Ze;return Be==null||(Le=Be.composerToolbarButtonUI)===null||Le===void 0||(Ze=Le[S.a===null||S.a===void 0?void 0:S.a[ke]])===null||Ze===void 0?void 0:Ze.expanded});W.meta={name:"createSelector",key:"createSelectorisComposerButtonExpanded",description:(Be,ke)=>{var Le,Ze;return Be==null||(Le=Be.composerToolbarButtonUI)===null||Le===void 0||(Ze=Le[S.a===null||S.a===void 0?void 0:S.a[ke]])===null||Ze===void 0?void 0:Ze.expanded}};var D=e("MRve"),H=e("wKGu"),Z=e("DEph"),G=e("z5hj"),te=e("RVJP"),se=e("vrU2"),$=e("2Wms"),X=e("71eM"),q=e("F1Bf"),Y=e("NgZ7"),ee=e("77xR");function w(){return w=Object.assign||function(Be){for(var ke=1;ke<arguments.length;ke++){var Le=arguments[ke];for(var Ze in Le)Object.prototype.hasOwnProperty.call(Le,Ze)&&(Be[Ze]=Le[Ze])}return Be},w.apply(this,arguments)}h(w,"_extends");const ne=new r.b("stories_av");function ae(Be){let{draftId:ke,enableClipsCoachmarkHighlight:Le,textyRef:Ze}=Be;const ot=Object(o.useDispatch)(),bt=Object(f.c)(mn=>W(mn,S.a.STORY)),ht=Object(f.c)(mn=>Object(A.a)(mn,ke)),Bt=Object(H.a)(),Yt=Object(f.c)(mn=>Object(Y.a)(mn,"has_recorded_clip")===!0),Cn=Object(f.c)(mn=>Object(te.d)(mn,"onbrd_1198_feature")==="on"),an=Object(f.c)(mn=>Object(se.b)(mn,{component:L.c.ClipsNuxEntrypointVideo}));Object($.a)(L.c.ClipsNuxEntrypointVideo);const Mn=Object(n.useCallback)(()=>{ot(Object(D.b)({component:L.c.ClipsNuxEntrypointVideo,type:L.a.Click,reason:"VideoComposerButton"})),ot(Object(X.a)({component:L.c.ClipsNuxEntrypointVideo,override:!1}))},[ot]),rn=Object(n.useCallback)(mn=>{mn.preventDefault(),ot(Object(q.a)({draftId:ke})),Bt.track(P.EventId.AV_CAPTURE,{media_type:"video",contexts:{ui_context:{ui_step:"entry_point",action:"click",ui_properties:{element_type:P.ElementType.BUTTON,element_name:"video_composer_button"}}}}),an&&Mn(),Ze.current&&!bt&&Ze.current.focus(),Cn&&!Yt&&ot(Object(Z.b)({reason:G.b.VIDEO_CLIPS_FALLBACK_EMAIL,eventHandler:G.a.VIDEO_CLIPS_FALLBACK_EVENT_HANDLER,subtype:G.c.VIDEO_CLIPS_FALLBACK_EVENT_HANDLER}))},[ot,ke,an,Bt,Mn,Cn,Ze,bt,Yt]),xn=ne.t("Record video clip"),gt=h(()=>an?ne.rt('<span className="p-clips_nux_pill__tooltip_span">New!</span> Create video clips'):xn,"getTooltipContent"),Rt=h(mn=>t.a.createElement(F.a,w({className:Object(a.default)("p-video_composer_button c-wysiwyg_container__button c-wysiwyg_container__button--story_meeting",{"c-wysiwyg_container__button--disabled":ht,"p-video_composer_button--highlight":an||Le}),onClick:rn,tabIndex:-1,disabled:ht,"aria-label":xn,"aria-expanded":bt?"true":"false",size:"small","data-qa":"video_composer_button"},mn),t.a.createElement(v.a,{name:"video",size:"18"})),"renderContent");return t.a.createElement(k.c,{tip:gt(),position:N.b.Top,offsetY:-7,delay:500,zIndex:x.a.AboveFullScreen},Rt())}h(ae,"VideoComposerButton"),ae.displayName="VideoComposerButton";var de=ae,ge=e("pmw5"),le=e("Dp5f"),Q=e("9oTK"),ie=e("Lgge"),oe=e("yIs4"),me=e("6JBJ"),be=e("ZtOl");const Se=Object(B.c)("Send a draft message by draft ID",(Be,ke,Le)=>{const Ze=Object(d.k)(ke(),Le);Ze&&Be(Object(be.a)({draft:Ze}))});Se.meta={name:"createThunk",key:"createThunksendDraftMessageById",description:"Send a draft message by draft ID"};var Pe=e("68qM"),Ue=e("Z2IC"),Fe=e("gPPH"),je=e("zHTW"),_e=e("oEDn"),pe=e("oy9Z"),fe=e("7nKM"),Ee=e("Rbqs"),ye=e("sXH4"),Te=e("RcB+");function Oe(){return Oe=Object.assign||function(Be){for(var ke=1;ke<arguments.length;ke++){var Le=arguments[ke];for(var Ze in Le)Object.prototype.hasOwnProperty.call(Le,Ze)&&(Be[Ze]=Le[Ze])}return Be},Oe.apply(this,arguments)}h(Oe,"audio_popover_extends");const Ce=new r.b("stories_av"),ce=h(Be=>{let{popoverProps:ke,draftId:Le,enableScheduleSendButton:Ze}=Be;const{duration:ot,audioWaveformRecorderProps:bt,onAttach:ht,file:Bt,finishUpload:Yt,onCancel:Cn}=Object(Ee.a)({fileName:"audio_message.webm",fileSubtype:"slack_audio",draftId:Le,onFileAttach:()=>{var ja;ke==null||(ja=ke.onClose)===null||ja===void 0||ja.call(ke)}}),an=bt.warningHighlight,Mn=Object(o.useDispatch)(),rn=Object(H.a)(),[xn,gt]=Object(n.useState)(!1),[Rt,mn]=Object(n.useState)(!1),[ca,da]=Object(n.useState)(!1),_a=Object(Ue.a)(()=>({media_type:"audio",recording_session:Object(Fe.a)()})),zn=Object(n.useContext)(Te.a),na=Object(n.useCallback)(Object(Q.coroutine)(function*(){var ja;yield ie.a.resolve(Yt()),Mn(Se(Le)),ke==null||(ja=ke.onClose)===null||ja===void 0||ja.call(ke)}),[Mn,Yt,Le,ke]),ga=Object(n.useCallback)(function(){var ja=Object(Q.coroutine)(function*(xa){let{dateScheduled:Wa,isSuggestedDate:es}=xa;var Pa;yield ie.a.resolve(Yt()),Object(oe.a)(Wa)?Mn(Object(me.a)({draftId:Le,dateScheduled:Wa,isSuggestedDate:es})):Mn(Object(pe.a)({draftId:Le,onMessageScheduled:s.a})),ke==null||(Pa=ke.onClose)===null||Pa===void 0||Pa.call(ke)});return function(xa){return ja.apply(this,arguments)}}(),[Mn,Yt,Le,ke]),ma=Object(n.useCallback)(()=>{ht(),rn.track(P.EventId.AV_CAPTURE,{..._a,length_seconds:ot,contexts:{ui_context:{ui_step:"recording",action:"click",ui_properties:{element_type:"button",element_name:"attach"}}}})},[ht,rn,_a,ot]),Oa=Object(n.useCallback)(()=>{var ja;ke==null||(ja=ke.onClose)===null||ja===void 0||ja.call(ke),Cn(),rn.track(P.EventId.AV_CAPTURE,{..._a,length_seconds:ot,contexts:{ui_context:{ui_step:"recording",action:"click",ui_properties:{element_type:"button",element_name:"cancel"}}}}),rn.track(P.EventId.AV_CAPTURE,{..._a,length_seconds:ot,contexts:{ui_context:{ui_step:"recording",action:"click",ui_properties:{element_type:"button",element_name:"close"}}}})},[ke,rn,_a,ot,Cn]),ka=Object(n.useCallback)(ja=>{var xa,Wa;!(ja==null||(xa=ja.target)===null||xa===void 0||(Wa=xa.classList)===null||Wa===void 0)&&Wa.contains("c-popover")&&da(!0)},[]);Object(n.useEffect)(()=>{xn&&Bt&&(gt(!1),na())},[xn,Bt,na]),Object(n.useEffect)(()=>{Rt&&Bt&&(mn(!1),ga(Rt))},[Rt,Bt,ga]),Object(Pe.a)(()=>(zn.setIsOpen(!0),()=>zn.setIsOpen(!1)),[]),Object(n.useEffect)(()=>{if(ca){const ja=setTimeout(()=>da(!1),1e3);return()=>clearTimeout(ja)}},[ca]),Object(Pe.a)(()=>{rn.track(P.EventId.AV_CAPTURE,{..._a,contexts:{ui_context:{ui_step:"initial_screen",action:"impression"}}})},[]);const Ua=t.a.createElement(t.a.Fragment,null,t.a.createElement(ye.a,{streamManager:bt.streamManager,recording:bt.recording,onDotsUpdate:bt.onDotsUpdate,warningHighlight:bt.warningHighlight,className:"p-audio_popover__waveform"}),t.a.createElement("div",{className:Object(a.default)("p-audio_popover__timer",{"p-audio_popover__timer--warning":an})},Object(fe.a)(Math.floor(ot??0)))),Va=t.a.createElement(y.d,{tip:Ce.t("Stop recording"),position:"top",delay:y.a},t.a.createElement(g.a,{className:Object(a.default)("p-audio_popover__attach",{"p-audio_popover__attach--scheduled_send":Ze}),onClick:ma,"aria-label":Ce.t("Attach"),autoFocus:!0,visibleAutoFocus:!1},t.a.createElement(_e.a,{type:"check-large-bold",className:"p-audio_popover__attach__icon",size:"inherit"}))),qa=t.a.createElement("div",{className:"p-audio_popover__footer"},Va);return t.a.createElement("div",{onClick:ka},t.a.createElement(je.b,Oe({},ke,{offsetX:-64,offsetY:28,allowanceX:4,zIndex:"below_menu",shouldCloseOnOverlayClick:!1,ariaRole:"dialog",ariaLabel:Ce.t("Audio recorder")}),t.a.createElement("div",{className:"p-audio_popover"},t.a.createElement("div",{className:Object(a.default)("p-audio_popover__strip",{"p-audio_popover__strip--speedbump":ca})},Ua),qa),t.a.createElement(y.d,{tip:Ce.t("Cancel recording"),position:"top",delay:y.a},t.a.createElement(g.a,{className:"p-audio_popover__close",onClick:Oa,"aria-label":Ce.t("Cancel recording")},t.a.createElement(_e.a,{type:"times-small"})))))},"AudioPopover");ce.displayName="AudioPopover";var he=ce,Me=e("FC23");function Ae(){return Ae=Object.assign||function(Be){for(var ke=1;ke<arguments.length;ke++){var Le=arguments[ke];for(var Ze in Le)Object.prototype.hasOwnProperty.call(Le,Ze)&&(Be[Ze]=Le[Ze])}return Be},Ae.apply(this,arguments)}h(Ae,"audio_composer_button_extends");const xe=new r.b("stories_av"),Re=h(Be=>{let{draftId:ke,enableScheduleSendButton:Le,enableClipsCoachmarkHighlight:Ze,textyRef:ot}=Be;const bt=Object(o.useDispatch)(),ht=Object(f.c)(gt=>Object(se.b)(gt,{component:L.c.ClipsNuxEntrypointAudio})),Bt=Object(H.a)();Object($.a)(L.c.ClipsNuxEntrypointAudio);const Yt=Object(n.useCallback)(gt=>t.a.createElement(he,{popoverProps:gt,draftId:ke,enableScheduleSendButton:Le}),[ke,Le]),Cn=Object(n.useCallback)(()=>{ot.current&&ot.current.focus()},[ot]),an=Object(n.useCallback)(()=>{Bt.track(P.EventId.AV_CAPTURE,{media_type:"audio",contexts:{ui_context:{ui_step:"entry_point",action:"click",ui_properties:{element_type:P.ElementType.BUTTON,element_name:"audio_composer_button"}}}}),ht&&(bt(Object(D.b)({component:L.c.ClipsNuxEntrypointAudio,type:L.a.Click,reason:"AudioComposerButton"})),bt(Object(X.a)({component:L.c.ClipsNuxEntrypointAudio,override:!1})))},[bt,ht,Bt]),Mn=xe.t("Record audio clip"),rn=h(()=>ht?xe.rt('<span className="p-clips_nux_pill__tooltip_span">New!</span> Send audio clips'):Mn,"getTooltipContent"),xn=h(gt=>t.a.createElement(ge.a,Ae({className:Object(a.default)("p-audio_composer_button","c-wysiwyg_container__button",{"p-audio_composer_button--highlight":ht||Ze}),size:"small","aria-label":Mn,tabIndex:-1},gt),t.a.createElement(v.a,{name:"microphone",size:"18"})),"renderContent");return t.a.createElement(le.a,{position:"top-left",renderPopover:Yt,onClick:an,onClose:Cn},t.a.createElement(y.d,{tip:rn(),position:N.b.Top,offsetY:-7,delay:500,zIndex:x.a.AboveFullScreen},xn()))},"AudioComposerButton");Re.displayName="AudioComposerButton";var Ge=t.a.memo(Re),ze=e("pt+W");const Ie=h(Be=>{let{draftId:ke}=Be;const Le=Object(o.useDispatch)(),Ze=Object(n.useCallback)(()=>{Le(Object(ze.a)({draftId:ke}))},[Le,ke]),ot="Create slides";return t.a.createElement(k.c,{tip:ot,position:N.b.Top,offsetY:-7,delay:500,zIndex:x.a.AboveFullScreen},t.a.createElement(F.a,{className:"c-wysiwyg_container__button",tabIndex:-1,"aria-label":ot,size:"small",onClick:Ze},t.a.createElement(v.a,{name:"file-browser",size:"18"})))},"SlidesComposerButton");Ie.displayName="SlidesComposerButton";var Ne=t.a.memo(Ie),Ke=e("v5z3"),Ve=e("aZWb"),$e=e("QcWC"),tt=e("rq2v"),qe=e("uVZW"),ut=e("qMw6"),rt=e("tcEy"),yt=e("Cfcg"),Mt=e("c+dP"),st=e("Sk0/"),Vt=e("7PJ0"),Wt=e("PPXB"),Xt=e("0Qg5"),Ut=e("LWrH"),Nt=e("Te+D"),Ft=e("I27i");const _n=new r.b("message_input_plus_button"),cn=h(Be=>{let{onFilesSelected:ke,onOpen:Le,onClose:Ze,forceOpen:ot,renderMenu:bt,isOffline:ht,keyboardLocale:Bt}=Be;const Yt=Object(n.useRef)(null),Cn=Object(n.useCallback)(gt=>{Object(l.a)(gt)||ke&&ke(gt)},[ke]),an=Object(n.useCallback)(gt=>bt?bt(gt,Yt):null,[bt]),Mn=Object(n.useCallback)(()=>{const gt=Object(Xt.b)("Cmd",Bt),Rt=t.a.createElement(Nt.a,{title:_n.t("Attach file"),mainKey:"U",modifier:gt==="Cmd"?"\u2318":gt});return ht?t.a.createElement(Vt.a,{tooltipLabel:Rt}):Rt},[Bt,ht]),rn=Object(n.useCallback)(()=>{Le&&Le()},[Le]),xn=Object(n.useCallback)(()=>{Ze&&Ze()},[Ze]);return t.a.createElement(Wt.a,{subtype:"files"},t.a.createElement(Mt.e,{renderMenu:an,position:"top-right",offsetX:4,offsetY:-6,onOpen:rn,onClose:xn,forceOpen:ot},t.a.createElement(k.c,{tip:Mn(),position:"top",offsetY:-7,delay:500,zIndex:"above_fs"},t.a.createElement(F.a,{className:"c-wysiwyg_container__button","aria-label":_n.t("Attach file"),tabIndex:-1,"data-qa":"msg_input_file_btn_inset",size:"small"},t.a.createElement(v.a,{name:"attachment",size:"18"})))),t.a.createElement(st.a,{ref:Yt,onFilesSelectedHandler:Cn}))},"FileMenuButton");cn.displayName="FileMenuButton";function Rn(Be){return{isOffline:!Object(Ft.d)(Be)}}h(Rn,"mapStateToProps");const Vn=Object(yt.a)(Rn)(cn);var ea=Object(Ut.a)(Vn);const Lt=new r.b("includes_client"),vn=h(Be=>{let{isDisabled:ke,onClick:Le=s.a,textyRef:Ze}=Be;const ot=Object(n.useRef)(null),bt=Object(n.useRef)(!1),ht=Object(f.c)(d.p),Bt=h(xn=>{let{key:gt}=xn;["Enter",""].includes(gt)&&(bt.current=!0)},"handleOnKeyDown"),Yt=h(()=>{Le(ot,{focusOnUpdate:bt.current}),bt.current=!1},"handleOnClick"),Cn=h(xn=>{var gt,Rt;!((gt=Ze.current)===null||gt===void 0||(Rt=gt.element)===null||Rt===void 0)&&Rt.contains(document.activeElement)&&xn.preventDefault()},"handleOnMouseDown"),an=Object(a.default)("c-wysiwyg_container__button c-wysiwyg_container__button--composer",{"c-wysiwyg_container__button--composer_active":ht}),Mn=ht?Lt.t("Hide formatting"):Lt.t("Show formatting"),rn=t.a.createElement(F.a,{ref:ot,className:an,"aria-disabled":ke,onKeyDown:Bt,onClick:Yt,onMouseDown:Cn,"data-qa":"texty_composer_button",tabIndex:-1,"aria-label":Lt.t("Show formatting"),"aria-pressed":ht?"true":"false",size:"small"},t.a.createElement(v.a,{name:"formatting",size:"18"}));return t.a.createElement(k.c,{tip:Mn,position:"top",offsetY:-7,delay:500,zIndex:"above_fs"},rn)},"ComposerButton");vn.displayName="ComposerButton";var Wn=vn;const Nn=new r.b("includes_client"),ia=h(Be=>{let{onClick:ke=s.a}=Be;const Le=Nn.t("Mention someone");return t.a.createElement(k.c,{tip:Le,position:"top",offsetY:-7,delay:500,zIndex:"above_fs"},t.a.createElement(F.a,{className:"c-wysiwyg_container__button",onClick:ke,"data-qa":"texty_mention_button",tabIndex:-1,"aria-label":Le,size:"small"},t.a.createElement(v.a,{name:"mentions",size:"18"})))},"MentionButton");ia.displayName="MentionButton";var Ea=ia,bn=e("iTjT"),Xn=e("o3gz"),vt=e("03PU"),Je=e("8j9e"),et=e("itAW");function mt(){return mt=Object.assign||function(Be){for(var ke=1;ke<arguments.length;ke++){var Le=arguments[ke];for(var Ze in Le)Object.prototype.hasOwnProperty.call(Le,Ze)&&(Be[Ze]=Le[Ze])}return Be},mt.apply(this,arguments)}h(mt,"slash_commands_shortcuts_education_coachmark_extends");const Pt=new r.b("slash-commands"),Tt={eventId:P.EventId.WORKFLOW_EDUCATION,uiComponentName:P.UiComponentName.SLASH_COMMANDS_AUTOCOMPLETE_MENU,elementName:"slash_commands_education_coachmark"},Qt=h(Be=>{let{onClose:ke,onPrimaryAction:Le,onSecondaryAction:Ze,UNSAFE_parentSelector:ot}=Be;const bt=t.a.createElement(Xn.a,{arrowPosition:10,offsetX:-25,offsetY:-10,alignActionsRight:!0,closeCoachmark:ke,primaryCallToActionText:Pt.t("Done"),onClickPrimaryButton:Le,onClickSecondaryButton:Ze,isOpen:!0,width:400,title:Pt.t("Run shortcuts"),bodyText:Pt.t("Run any workflow or shortcut by typing / followed by the name of the shortcut"),UNSAFE_parentSelector:ot,autoClogProps:Tt});return t.a.createElement(vt.b,{coachmarkElement:bt,orientation:"top"})},"SlashCommandsShortcutsEducationCoachmark");Qt.displayName="SlashCommandsShortcutsEducationCoachmark";const dt=h(Be=>{const ke=Object(o.useDispatch)(),Le=Object(f.c)(et.o),Ze=Object(n.useCallback)(Bt=>{Bt==null||Bt.stopPropagation(),ke(Object(Je.e)({tourId:null}))},[ke]),ot=Object(n.useCallback)(Bt=>{Bt==null||Bt.stopPropagation(),ke(Object(Je.e)({tourId:null}))},[ke]),bt=Object(n.useCallback)(()=>{ke(Object(Je.e)({tourId:"platform-coachmark-tour"}))},[ke]);return Le&&Be.isMessagePaneView?t.a.createElement(Qt,mt({onClose:Ze,onPrimaryAction:ot,onSecondaryAction:bt},Be)):null},"ConnectedSlashCommandsShortcutsEducationCoachmark");dt.displayName="ConnectedSlashCommandsShortcutsEducationCoachmark";var zt=dt,At=e("Trx9");const Qe=new r.b("slash_commands"),nt={elementName:"slash_commands_autocomplete_menu_composer_button",action:P.UiAction.CLICK,onClick:{enableClogAction:!0}},_t=h(Be=>{let{onClick:ke=s.a,isDisabled:Le,isMessagePaneView:Ze}=Be;const ot=Qe.t("Run shortcut"),bt=Object(a.default)("c-wysiwyg_container__button","c-wysiwyg_container__button--workflows",{"c-wysiwyg_container__button--disabled":Le});return t.a.createElement(At.a,{eventId:P.EventId.SLASH_COMMANDS_AUTOCOMPLETE,uiComponentName:P.UiComponentName.SLASH_COMMANDS_AUTOCOMPLETE_MENU_COMPOSER_BUTTON},t.a.createElement(zt,{isMessagePaneView:Ze}),t.a.createElement(k.c,{tip:ot,position:"top",offsetY:-7,delay:500,zIndex:"above_fs"},t.a.createElement(F.a,{className:bt,onClick:ke,"data-qa":"slash_commands_composer_button","aria-disabled":Le,tabIndex:-1,"aria-label":ot,size:"small",autoClogProps:nt},t.a.createElement(v.a,{name:"slash-box",size:"18"}))))},"SlashCommandsButton");_t.displayName="SlashCommandsButton";var Et=_t,kt=e("khnw");const jn=new r.b("texty_buttons_overflow"),pn=36,An=5,lt=h(Be=>{let{width:ke,textyHasFocus:Le,numOfTextyButtons:Ze,children:ot}=Be;const[bt,ht]=Object(n.useState)(!1),[Bt,Yt]=Object(n.useState)(220),Cn=Object(n.useRef)(null),an=Object(n.useRef)(null);Object(n.useEffect)(()=>{if(Ze>An){const na=(Ze-An)*pn;Yt(ga=>ga+na)}},[Yt,Ze]);const Mn=Object(f.c)(na=>Object(te.d)(na,"hermes_next")==="on"),rn=Object(n.useCallback)(()=>{ht(!1)},[]),xn=Object(n.useCallback)(na=>{document.querySelector(".ReactModalPortal")||an.current&&!an.current.contains(na.target)&&rn()},[an,rn]);Object(n.useEffect)(()=>{if(bt)return document.addEventListener("click",xn),()=>{document.removeEventListener("click",xn)}},[bt,xn]);const gt=Object(n.useCallback)(na=>{if(na.keyCode!==kt.q)return;const ga=document.querySelector(".c-wysiwyg_container__footer");ga&&!ga.contains(na.target)&&rn()},[rn]);Object(n.useEffect)(()=>{if(bt)return Le&&rn(),document.addEventListener("keydown",gt),()=>{document.removeEventListener("keydown",gt)}},[Le,gt,rn,bt]);const Rt=Object(n.useCallback)(na=>{let{keyCode:ga}=na;var ma;if(ga===kt.f&&(rn(),Cn!=null&&Cn.current&&(!(an==null||(ma=an.current)===null||ma===void 0)&&ma.contains(document.activeElement)))){var Oa;Cn==null||(Oa=Cn.current)===null||Oa===void 0||Oa.focus()}},[rn]),mn=Object(n.useCallback)(()=>{ht(na=>!na)},[]),ca=Object(a.default)({"c-texty_buttons--overflow":bt}),da=Object(a.default)("c-wysiwyg_container__button"),_a=jn.t("More options");Object(n.useEffect)(()=>{bt&&(an!=null&&an.current)&&an.current.querySelectorAll("button").forEach(ga=>{ga.setAttribute("role","menuitem")})},[an,bt]);const zn=Object(a.default)({display_none:bt});return Ze<An?ot:ke&&ke<Bt?t.a.createElement("div",{className:"c-texty_buttons__overflow_container"},t.a.createElement(k.c,{tipClassName:zn,tip:_a,position:"top",offsetY:-7,delay:500,zIndex:"above_fs"},t.a.createElement(F.a,{ref:Cn,className:da,onClick:mn,"data-qa":"slash_commands_overflow_button",tabIndex:-1,"aria-label":_a,size:"small","aria-haspopup":"menu"},t.a.createElement(v.a,{name:"ellipsis-horizontal",variation:"filled",size:"18"}))),bt&&t.a.createElement("div",{ref:an,role:"menu","aria-label":Mn?jn.t("Composer actions overflow menu"):"",tabIndex:-1,className:ca,onKeyDown:Rt},ot)):ot},"TextyButtonOverflow");lt.displayName="TextyButtonOverflow";var Dn=lt,fn=e("EAKl"),kn=e("mM05"),wn=e.n(kn),fa=e("VXbZ"),In=e("i9y5"),ha=e("BUaB"),Dt=e("iTAQ");function jt(){return jt=Object.assign||function(Be){for(var ke=1;ke<arguments.length;ke++){var Le=arguments[ke];for(var Ze in Le)Object.prototype.hasOwnProperty.call(Le,Ze)&&(Be[Ze]=Le[Ze])}return Be},jt.apply(this,arguments)}h(jt,"slackai_composer_popover_extends");const $t=new r.b("assistant"),Tn=h(Be=>{let{textyRef:ke,onClose:Le,...Ze}=Be;const ot=Object(o.useDispatch)(),bt=Object(f.c)(fn.e),[ht,Bt]=Object(n.useState)(!0),Yt=Object(n.useRef)(null);Object(Pe.a)(()=>{var Mn,rn;const xn=new wn.a((rn=(Mn=ke.current)===null||Mn===void 0?void 0:Mn.getContents())===null||rn===void 0?void 0:rn.contents),gt=ot(Object(fa.b)({delta:xn}));Array.isArray(gt)||ot(Object(Dt.a)({reason:"post-zhuzhing",blocks:gt.blocks})).then(Rt=>{if(!Rt.ok)return;const mn=ot(Object(fa.a)({blocks:Rt==null?void 0:Rt.blocks}));Yt.current.setContents({contents:mn.ops})}).finally(()=>{Bt(!1)})},[]);const Cn=Object(n.useCallback)(()=>{ke.current.setContents(Yt.current.getContents()),ke.current.setSelectionAtEnd(),Le==null||Le()},[ke,Le]),an=Object(n.useMemo)(()=>({setTextyInstance:s.a,setIsFocused:s.a,setActiveFormats:s.a,setToolbarOverflowVisible:s.a,setToolbarPositionData:s.a,requestFloatingToolbarClose:s.a}),[]);return bt?t.a.createElement(je.b,jt({},Ze,{onClose:Le,position:"top",isOpen:!0,offsetY:-6,overlayClassName:"c-sk-overlay"}),t.a.createElement("div",{className:"p-slackai_composer_popover"},t.a.createElement("div",{className:"p-slackai_composer_popover__explainer"},ht?$t.t("Slack AI is taking a look at your message\u2026"):$t.t("Slack AI came up with the following message")),t.a.createElement("div",{className:"p-slackai_composer_popover__content"},ht&&t.a.createElement(In.a,{color:"blue",size:"jumbo"}),t.a.createElement("div",{className:Object(a.default)("p-slackai_composer_popover__content_blocks_wrapper",{"p-slackai_composer_popover__content_blocks_wrapper--hidden":ht})},t.a.createElement(V.a.Provider,{value:an},t.a.createElement(ha.a,{ariaLabel:$t.t("Slack AI suggested message"),placeholder:"",zIndex:"above_fs",completeOnMembers:!0,completeOnChannels:!0,completeOnEmoji:!0,completeOnLinks:!0,completeOnLists:!0,ref:Yt})))),t.a.createElement("div",{className:"p-slackai_composer_popover__footer"},t.a.createElement(_.f,{type:"outline",onClick:Le},$t.t("Cancel")),t.a.createElement(_.f,{disabled:ht,onClick:Cn},$t.t("Accept"))))):null},"SlackAIComposerPopover");Tn.displayName="SlackAIComposerPopover";var dn=t.a.memo(Tn);function Un(){return Un=Object.assign||function(Be){for(var ke=1;ke<arguments.length;ke++){var Le=arguments[ke];for(var Ze in Le)Object.prototype.hasOwnProperty.call(Le,Ze)&&(Be[Ze]=Le[Ze])}return Be},Un.apply(this,arguments)}h(Un,"slackai_composer_button_extends");const Bn=new r.b("assistant"),Kt=h(Be=>{let{textyRef:ke}=Be;const Le=Object(f.c)(fn.e),Ze=Object(n.useCallback)(Bt=>t.a.createElement(dn,Un({textyRef:ke},Bt)),[ke]),ot=Object(n.useCallback)(()=>{ke.current&&ke.current.focus()},[ke]);if(!Le)return null;const bt=Bn.t("Zhuzh this message"),ht=h(Bt=>t.a.createElement(ge.a,Un({className:Object(a.default)("c-wysiwyg_container__button"),size:"small","aria-label":bt,tabIndex:-1},Bt),t.a.createElement(v.a,{name:"sparkles",size:"18"})),"renderContent");return t.a.createElement(le.a,{position:"top",renderPopover:Ze,onClose:ot},t.a.createElement(y.d,{tip:bt,position:N.b.Top,offsetY:-7,delay:500,zIndex:x.a.AboveFullScreen},ht()))},"SlackAIComposerButton");Kt.displayName="SlackAIComposerButton";var Kn=t.a.memo(Kt);function aa(){return aa=Object.assign||function(Be){for(var ke=1;ke<arguments.length;ke++){var Le=arguments[ke];for(var Ze in Le)Object.prototype.hasOwnProperty.call(Le,Ze)&&(Be[Ze]=Le[Ze])}return Be},aa.apply(this,arguments)}h(aa,"texty_buttons_extends");const ln={spaceName:qe.g.IN_PRODUCT_COACHMARK,notifications:{[qe.h.CLIPS_REPACKAGING_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"zP0t")))}}},en=h(Be=>{let{enableDividerForShortcutsButton:ke=!1,enableEmojiButton:Le=!1,enableGifPicker:Ze=!1,enableMentionButton:ot=!1,enableComposerButton:bt=!1,enableSendButton:ht=!1,enableFileButton:Bt=!1,enableStoryButton:Yt=!1,enableAudioButton:Cn=!1,enableSlidesButton:an=!1,enableSlackAIButton:Mn=!1,enableScheduleSendButton:rn=!1,enableClipsRepackagingCoachmark:xn=!1,isComposerDisabled:gt=!1,enableEmojiButtonBadge:Rt=!1,enableSlashCommandsButton:mn=!1,onGifSelected:ca=s.a,onComposerClick:da,onFilesSelected:_a,onFileMenuOpen:zn,onFileMenuClose:na,forceFileMenuOpen:ga=!1,renderFileMenu:ma,textyRef:Oa,showProgressiveDisclosureAtMentionFlag:ka=!1,draftId:Ua,viewContext:Va,windowId:qa,threadTs:ja,isFeedbackFlexpaneComposer:xa,isTextyInputEmpty:Wa=!1,textyHasFocus:es}=Be;const Pa=Object(o.useDispatch)(),ss=Object(f.c)($e.a),Ma=Object(n.useRef)(null),[os,za]=Object(n.useState)(null),[Ka,Za]=Object(n.useState)(0);Object(n.useEffect)(()=>{if(Ma!=null&&Ma.current){var at;const Ye=Ma==null||(at=Ma.current)===null||at===void 0?void 0:at.querySelectorAll("button");Za(Ye.length)}},[Ma,Za]),Object(n.useEffect)(()=>{const at=h(()=>{var ft;Ma!=null&&Ma.current&&za((ft=Ma.current)===null||ft===void 0?void 0:ft.offsetWidth)},"handleTextyButtonsResize");let Ye=null;const it=Object(rt.a)(at);return Ma!=null&&Ma.current&&(it.observe(Ma.current),Ye=Ma.current),()=>{Ye&&it.unobserve(Ye)}},[Ma]);const ds=Object(n.useCallback)(()=>{Pa(U())},[Pa]),ts=Object(n.useCallback)(()=>{var at;Oa==null||(at=Oa.current)===null||at===void 0||at.maybeTriggerMentionAutocomplete(),Pa(K())},[Pa,Oa]),us=Object(n.useCallback)(()=>{var at;Oa==null||(at=Oa.current)===null||at===void 0||at.maybeTriggerSlashCommandsAutocomplete()},[Oa]);if(!bt&&!ot&&!Le&&!Bt&&!Yt&&!Cn&&!an&&!ht&&!rn&&!mn)return null;const is=Bt&&t.a.createElement(ea,{onFilesSelected:_a,onOpen:zn,onClose:na,forceOpen:ga,renderMenu:ma}),Ya=Le&&t.a.createElement(bn.a,{textyRef:Oa,enableMentionButton:ot,enableGifPicker:Ze,onEmojiMenuTriggerClick:ds,enableEmojiButtonBadge:Rt,draftId:Ua,onGifSelected:ca,viewContext:Va,windowId:qa,threadTs:ja}),fs=ot&&(ka?t.a.createElement(Ve.b,{tip:Ke.f.AtMention,onClick:ts}):t.a.createElement(Ea,{onClick:ts})),gs=bt&&t.a.createElement(Wn,{isDisabled:gt,onClick:da,textyRef:Oa}),vs=mn&&t.a.createElement(Et,{onClick:us,isDisabled:!Wa,isMessagePaneView:Va===ut.a.MESSAGE_PANE}),Qa=Yt&&t.a.createElement(de,{draftId:Ua||"",enableClipsCoachmarkHighlight:xn,textyRef:Oa}),hs=Cn&&t.a.createElement(Ge,{draftId:Ua||"",enableScheduleSendButton:rn,enableClipsCoachmarkHighlight:xn,textyRef:Oa}),rs=an&&t.a.createElement(Ne,{draftId:Ua||""}),ms=Mn&&t.a.createElement(Kn,{textyRef:Oa}),ns=t.a.createElement("span",{className:"c-wysiwyg_container__footer_divider"}),ps=h(()=>{const at=t.a.createElement(t.a.Fragment,null,Qa,hs,rs);return xn?t.a.createElement(tt.c,aa({},ln,{shouldAlwaysRenderChildren:!0,isOpen:xn}),at):at},"getClipsButtons");ps.displayName="getClipsButtons";const Ja=(Qa||hs||rs)&&!ss,Cs=t.a.createElement(t.a.Fragment,null,gs,Ya,fs,t.a.createElement(Dn,{textyHasFocus:es,numOfTextyButtons:Ka,width:os},Ja&&ns,Ja&&t.a.createElement(t.a.Fragment,null,ps(),ns),ke&&!Ja&&ns,mn&&vs,xa&&is,Mn&&t.a.createElement(t.a.Fragment,null,ns,ms)));return t.a.createElement("div",{ref:Ma,className:"c-texty_buttons"},Cs)},"TextyButtons");en.displayName="TextyButtons";var xt=en,sn=e("ohbk"),nn=e("Kn+X"),Ln=e("Ba7O"),Pn=e("5/Zs"),yn=e("WMzb"),Zt=e("8sbp"),qn=e("zygp");function ta(){return ta=Object.assign||function(Be){for(var ke=1;ke<arguments.length;ke++){var Le=arguments[ke];for(var Ze in Le)Object.prototype.hasOwnProperty.call(Le,Ze)&&(Be[Ze]=Le[Ze])}return Be},ta.apply(this,arguments)}h(ta,"schedule_send_menu_extends");const la=new r.b("drafts");function Yn(Be){let{menuProps:ke,draftId:Le,onScheduleSend:Ze,viewContext:ot}=Be;const bt=Object(o.useDispatch)(),ht=Object(yn.a)(),Bt=Object(f.c)(rn=>Object(qn.f)(rn,{draftId:Le}));function Yt(rn){const xn=rn!==qn.a.Custom;let gt;if(xn&&(gt=bt(Object(qn.g)({option:rn,draftId:Le})),!gt)){ht.error("SCHEDULE-SEND","Failed to determine dateScheduled from schedule send menu item. Returning early.");return}Ze({dateScheduled:gt,isSuggestedDate:xn})}h(Yt,"onItemSelected");function Cn(rn){if(!(rn!==qn.a.Custom))return null;const gt=bt(Object(qn.g)({option:rn,draftId:Le}));return gt?bt(Object(Zt.c)({draftId:Le,schedulingTime:gt})):null}h(Cn,"getMenuItemDescription");function an(rn){return bt(Object(qn.c)({option:rn,draftId:Le}))}h(an,"getMenuItemLabel");const Mn=ot===ut.a.MESSAGE_PANE?"chat":"composer";return t.a.createElement(At.a,{eventId:P.EventId.COMPOSE_FLOW,uiStep:P.UiStep.SCHEDULED_SCHEDULING_MODAL_OPEN,scheduleSendActionSource:Mn,clogImpression:!0},t.a.createElement(Mt.f,ta({width:"260px"},ke),t.a.createElement(Mt.c,{label:la.t("Schedule message")}),Bt.map(rn=>{const xn=rn===qn.a.Custom;return t.a.createElement(t.a.Fragment,{key:rn},xn&&t.a.createElement(Mt.d,null),t.a.createElement(Mt.b,{label:an(rn),description:Cn(rn),"data-qa":"p-schedule_send_menu__scheduling_option",onSelected:()=>Yt(rn)}))})))}h(Yn,"ScheduleSendMenu");var Jt=e("tiWk"),Qn=e("I0j/"),Zn=e("37+L"),Hn=e("mQiU"),Sa=e("UmHn");function Ca(){return Ca=Object.assign||function(Be){for(var ke=1;ke<arguments.length;ke++){var Le=arguments[ke];for(var Ze in Le)Object.prototype.hasOwnProperty.call(Le,Ze)&&(Be[Ze]=Le[Ze])}return Be},Ca.apply(this,arguments)}h(Ca,"schedule_send_edit_menu_extends");const La=new r.b("drafts");function Gt(Be){let{menuProps:ke,onSend:Le,draftId:Ze}=Be;const ot=Object(o.useDispatch)(),{shouldUseNavigate:bt}=Object(n.useContext)(Hn.a),ht=Object(n.useCallback)(()=>{ot(Object(Jt.a)({draftId:Ze,dateScheduled:0})),ot(bt?Object(Qn.a)(Object(Zn.T)(Sa.a.Drafts)):Object(sn.a)({id:"Pdrafts"}))},[ot,Ze,bt]);return t.a.createElement(Mt.f,Ca({width:"180px"},ke),t.a.createElement(Mt.b,{label:La.t("Send now"),onSelected:Le,"data-qa":"p-schedule_send_edit_menu__send_now"}),t.a.createElement(Mt.b,{label:La.t("Save to drafts"),"data-qa":"p-schedule_send_edit_menu__save_to_drafts",onSelected:ht}))}h(Gt,"schedule_send_edit_menu_ScheduleSendMenu");const Ct=new r.b("drafts"),It=["CmdOrCtrl"],on=h(Be=>{let{draftId:ke,disabled:Le,onSend:Ze,onScheduleSend:ot,enableScheduleSendButton:bt,day1Highlighting:ht,viewContext:Bt,enterCreatesNewlinePref:Yt}=Be;const Cn=Object(o.useDispatch)(),{shouldUseNavigate:an}=Object(n.useContext)(Hn.a),Mn=Object(f.c)($e.a),rn=Object(f.c)(zn=>Object(d.k)(zn,ke)),xn=!!Object(nn.i)(rn),gt=Object(n.useCallback)(()=>{Cn(an?Object(Qn.a)(Object(Zn.T)(Sa.a.ScheduledMessages)):Object(sn.a)({id:"Pscheduled-messages"}))},[Cn,an]),Rt=Object(n.useCallback)(()=>{if(Ze)return Ze({fromKeyboardShortcut:!1})},[Ze]),mn=Object(n.useCallback)(zn=>xn?t.a.createElement(Gt,{menuProps:zn,draftId:ke,onSend:Rt}):t.a.createElement(Yn,{menuProps:zn,draftId:ke,onScheduleSend:ot||s.a,viewContext:Bt}),[xn,ot,Bt,ke,Rt]);if(bt&&!Mn){const zn=Object(a.default)("c-wysiwyg_container__send_button--with_options",{"c-wysiwyg_container__send_button--with_options_disabled":Le}),na=Object(a.default)("c-wysiwyg_container__button","c-wysiwyg_container__button--send",{"c-wysiwyg_container__button--disabled":Le,"c-wysiwyg_container__button--day1":ht}),ga=Object(a.default)("c-wysiwyg_container__button","c-wysiwyg_container__button--send_options",{"c-wysiwyg_container__button--disabled":Le,"c-wysiwyg_container__button--day1":ht}),ma=xn?Ct.t("Save changes"):Ct.t("Send now"),Oa=xn?t.a.createElement(F.a,{className:na,tabIndex:Le?-1:0,"aria-disabled":Le,onClick:gt,"data-qa":"texty_done_editing_scheduled_message_button","aria-label":ma,size:"small"},t.a.createElement(v.a,{name:"check",size:"16"})):t.a.createElement(F.a,{className:na,tabIndex:Le?-1:0,"aria-disabled":Le,onClick:Rt,"data-qa":"texty_send_button","aria-label":ma,size:"small"},t.a.createElement(v.a,{name:"send",variation:"filled",size:"16"})),ka=xn?Ct.t("Message options"):Ct.t("Schedule for later");return t.a.createElement("span",{className:zn},t.a.createElement(k.c,{position:"top-right",tip:t.a.createElement(Nt.a,{title:ma,modifiers:Yt?It:void 0,mainKey:"Return",useSlimModifiers:!0})},Oa),t.a.createElement(Mt.e,{renderMenu:mn,position:"top-right",offsetX:0},t.a.createElement(k.c,{position:"top-right",tip:ka},t.a.createElement(F.a,{className:ga,tabIndex:-1,"aria-disabled":Le,"data-qa":"texty_send_options_button","aria-label":ka,size:"small"},t.a.createElement(v.a,{name:"caret-down"})))))}const ca=Object(a.default)("c-wysiwyg_container__button","c-wysiwyg_container__button--send c-wysiwyg_container__button--experiment_draft_scheduling",{"c-wysiwyg_container__button--disabled":Le,"c-wysiwyg_container__button--day1":ht}),_a=Bt===ut.a.THREAD||Bt===ut.a.THREADS_VIEW?Ct.t("Send reply",{fallbackHash:"c70a890d1411098b6bbd10f59252da322a68af82"}):Ct.t("Send message");return t.a.createElement(k.c,{position:"top-right",tip:Ct.t("Send message")},t.a.createElement(F.a,{tabIndex:Le?-1:0,className:ca,"aria-disabled":Le,onClick:Rt,"data-qa":"texty_send_button","aria-label":_a,size:"small"},t.a.createElement(v.a,{name:"send",variation:"filled",size:"16"})))},"SendButton");on.displayName="SendButton";function Sn(Be,ke){let{disabled:Le,isInputExpanded:Ze}=ke;const ot=Object(Ln.a)(Be);let bt=Le;return ot||Object(Ft.i)(Be)||(bt=!0),{disabled:bt,enterCreatesNewlinePref:Object(Pn.a)(Be,Ze)}}h(Sn,"send_button_mapStateToProps");var He=Object(yt.a)(Sn)(on),re=e("rZ8V"),ue=e("i5Ig");function ve(){return ve=Object.assign||function(Be){for(var ke=1;ke<arguments.length;ke++){var Le=arguments[ke];for(var Ze in Le)Object.prototype.hasOwnProperty.call(Le,Ze)&&(Be[Ze]=Le[Ze])}return Be},ve.apply(this,arguments)}h(ve,"wysiwyg_container_extends");const De=new r.b("drafts");function We(Be){let{channelId:ke,children:Le,className:Ze,confirmationSuffixButtons:ot,enableDividerForShortcutsButton:bt=!1,enableComposerButton:ht=!1,enableEmojiButton:Bt=!1,enableGifPicker:Yt=!1,enableEmojiButtonBadge:Cn=!1,enableExpandButton:an=!1,enableFileButton:Mn=!1,enableMentionButton:rn=!1,enableSendButton:xn=!1,enableShortcutsButton:gt=!1,enableStoryButton:Rt=!1,enableAudioButton:mn=!1,enableSlidesButton:ca=!1,enableSlackAIButton:da=!1,enableScheduleSendButton:_a=!1,enableSlashCommandsButton:zn=!1,enableClipsRepackagingCoachmark:na=!1,forceFileMenuOpen:ga=!1,isDisabled:ma=!1,isInvalid:Oa=!1,isExpanded:ka=!1,isSendingDisabled:Ua=!1,numMaxLines:Va,numMinLines:qa,onGifSelected:ja=s.a,onExpand:xa,onFileMenuClose:Wa,onFileMenuOpen:es,onFilesSelected:Pa,onSubmit:ss,onScheduleSend:Ma,renderFileMenu:os,threadTs:za,viewContext:Ka,windowId:Za,forcePlainTextModeDisabled:ds=!1,withWorkflowTokens:ts=!1,useExpandedRichText:us=!1,forceToolbarDisabled:is=!1,withBasicContainerBorder:Ya=!1,hints:fs=ue.a,errors:gs=ue.a,day1Highlighting:vs=!1,day1ProgressiveDisclosureHighlighting:Qa=!1,showProgressiveDisclosureFirstMessageFlag:hs=!1,showProgressiveDisclosureAtMentionFlag:rs=!1,draftId:ms,isComposerPage:ns=!1,isFeedbackFlexpaneComposer:ps=!1,isTextyInputEmpty:Ja=void 0}=Be;const{window:Cs}=Object(n.useContext)(C.a),at=Object(n.useRef)(null),[Ye,it]=Object(n.useState)(!1),Ot=Ua?0:h(()=>{const Da=at.current;return Da?Da.getButtons().findIndex(ba=>ba.classList.contains("c-wysiwyg_container__button--send")):0},"getSendButtonIndex")();Object(n.useEffect)(()=>{if(!Ye)return;const Da=at.current;if(!Da)return;const ba=Da.getButtons().find(Ga=>Ga.classList.contains("c-wysiwyg_container__button--composer"));ba&&ba.focus()});const pt=Object(o.useDispatch)(),St=Object(f.c)(d.p),wt=Object(f.c)(Da=>!!Object(m.u)(Da,"plain_text_mode")),En=!is&&(ds||!wt),Gn=Object(f.c)(c.a),gn=Object(n.useRef)(),[un,va]=Object(n.useState)(!1),[ua,ya]=Object(n.useState)([]),[Xe,ct]=Object(n.useState)(!1),[qt,tn]=Object(n.useState)(),On=Object(n.useRef)(),Ht=Object(n.useMemo)(()=>({setTextyInstance:Da=>{gn.current=Da},setIsFocused:va,setActiveFormats:ya,setToolbarOverflowVisible:ct,setToolbarPositionData:tn,requestFloatingToolbarClose:()=>{var Da;(Da=On.current)===null||Da===void 0||Da.closeToolbar()}}),[]),hn=Object(n.useCallback)(function(Da){let{focusOnUpdate:ba}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focusOnUpdate:!1};var Ga,Fa,Ra;Da.current===Cs.document.activeElement&&((Ga=Da.current)===null||Ga===void 0||(Fa=Ga.classList)===null||Fa===void 0?void 0:Fa.contains("c-button--focus-visible"))&&!ba&&(gn==null||(Ra=gn.current)===null||Ra===void 0||Ra.focus());const Ia=h(()=>{ba&&(it(!0),it(!1))},"onComplete");pt(Object(j.f)({pref:"msg_input_sticky_composer",value:!St})),pt(R({isEnabled:!St})),Ia&&Ia()},[pt,St,Cs]),Fn=Object(n.useMemo)(()=>gt&&t.a.createElement("div",{className:"c-wysiwyg_container__prefix","data-qa":"wysiwyg-container_prefix"},Object(b.H)({channelId:ke,isStandalone:!1,isDisabled:ma,threadTs:za,viewContext:Ka,onFilesSelected:Pa,draftId:ms,isComposerPage:ns,onFileMenuClose:Wa,forceFileMenuOpen:ga,textyRef:gn,onGifSelected:ja})),[ke,ms,gt,ga,ns,ma,Wa,Pa,za,Ka,ja]),$n=Object(n.useMemo)(()=>t.a.createElement(xt,{enableDividerForShortcutsButton:bt,enableComposerButton:ht&&En,enableEmojiButton:Bt,enableGifPicker:Yt,enableEmojiButtonBadge:Cn,enableFileButton:Mn,enableMentionButton:rn,enableSendButton:xn,enableStoryButton:Rt,enableAudioButton:mn,enableSlidesButton:ca,enableSlackAIButton:da,enableScheduleSendButton:_a,enableSlashCommandsButton:zn,enableClipsRepackagingCoachmark:na,forceFileMenuOpen:ga,onGifSelected:ja,onComposerClick:hn,onFileMenuClose:Wa,onFileMenuOpen:es,onFilesSelected:Pa,renderFileMenu:os,textyRef:gn,showProgressiveDisclosureAtMentionFlag:rs,draftId:ms||"",viewContext:Ka,windowId:Za,threadTs:za,isFeedbackFlexpaneComposer:ps,isTextyInputEmpty:Ja,textyHasFocus:un}),[ms,mn,na,ht,bt,Bt,Yt,Cn,Mn,rn,_a,xn,ca,da,Rt,ga,hn,ps,zn,ja,Wa,es,Pa,os,rs,En,Ka,Ja,un,Za,za]);let Jn=null;Object(l.a)(ot)?xn&&(Jn=t.a.createElement(He,{disabled:Ua||ma,onSend:ss,day1Highlighting:vs,enableScheduleSendButton:_a,onScheduleSend:Ma,draftId:ms||"",viewContext:Ka||"",isInputExpanded:ka})):Jn=t.a.createElement("div",{className:"c-wysiwyg_container__suffix__confirmation-buttons"},t.a.createElement(_.f,{tabIndex:-1,type:"outline",size:"small",onClick:ot==null?void 0:ot.onCancelClick},De.t("Cancel")),t.a.createElement(_.f,{size:"small",className:"margin_left_50",onClick:ot==null?void 0:ot.onSaveClick,"aria-disabled":ot==null?void 0:ot.isSaveDisabled},De.t("Save",{fallbackHash:"efc007a393f66cdb14d57d385822a3d9e36ef873",fallbackHashNs:"message"})));const sa=Object(n.useMemo)(()=>t.a.createElement("div",{className:"c-wysiwyg_container__toolbar_buttons","data-qa":"wysiwyg-container_toolbar-buttons"},$n),[$n]),oa=h(Da=>{const ba=Da.target,Ga=Ka,Fa=ke;if(ba.closest(".c-wysiwyg_container__formatting")&&!(ba!=null&&ba.closest("button"))){const Ra=Object(p.a)({viewContext:Ga,channelId:Fa,threadTs:za});Ra==null||Ra.focus()}},"onFormattingBarClick"),pa=h(Da=>{const ba=Da.target,Ga=Ka,Fa=ke;if(ba.closest(".c-wysiwyg_container__footer")&&!(ba!=null&&ba.closest("button"))){const Ra=Object(p.a)({viewContext:Ga,channelId:Fa,threadTs:za});Ra==null||Ra.focus()}},"onFooterClick"),Ta=Object(n.useCallback)(()=>{const Da=Object(p.a)({viewContext:Ka,channelId:ke,threadTs:za});Da==null||Da.focus(),xa==null||xa(!ka)},[ka,xa,Ka,ke,za]),$a=h(()=>t.a.createElement(y.d,{tip:ka?De.t("Collapse"):De.t("Expand input"),delay:500,position:"left"},t.a.createElement(g.a,{"aria-pressed":ka,"aria-label":De.t("Expand input"),className:"c-wysiwyg_container__button--expand_toggle",onClick:Ta},t.a.createElement(v.a,{size:"inherit",name:ka?"arrow-collapse":"arrow-expand"}))),"renderExpandButton");$a.displayName="renderExpandButton";const Na=Object(n.useCallback)(Da=>{let{source:ba}=Da;return pt(Object(u.a)({textyInstance:gn.current,source:ba}))},[pt]),ls=Object(n.useMemo)(()=>En&&t.a.createElement(M.a,{useStickyComposer:St,textyHasFocus:un,textyRef:gn,activeFormats:ua,showLinkForm:Na,useWorkflowTokens:ts,useExpandedRichText:us,toolbarOverflowVisible:Xe,setToolbarOverflowVisible:ct,ref:St?void 0:On,toolbarPositionData:St?void 0:qt,enableStickyComposer:!1,supportsAnchorText:!0,isDisabled:ma}),[En,St,un,ua,Na,ts,us,Xe,qt,ma]),Ha=En&&t.a.createElement(E.b,ve({className:St?"c-wysiwyg_container__formatting":"","data-qa":St?"wysiwyg-container_formatting-enabled":""},St&&{onClick:oa},{"aria-label":De.t("Formatting")}),ls),cs=Object(f.c)(re.n);return t.a.createElement(O.a,null,Da=>{let{measureRef:ba,width:Ga}=Da;const Fa=Ga<400,Ra=t.a.createElement(E.b,{className:Object(a.default)("c-wysiwyg_container__footer",{"c-wysiwyg_container__footer--with_formatting":En&&St}),onClick:pa,ref:at,"aria-label":cs?De.t("Composer actions"):De.t("Composer primary actions"),activeItemIndex:Ot},Fn,sa,Jn&&!Fn&&!(En&&St)&&t.a.createElement("div",{className:"c-wysiwyg_container__spacer"}),t.a.createElement("div",{className:"c-wysiwyg_container__suffix","data-qa":"wysiwyg-container_suffix"},Jn));return t.a.createElement(V.a.Provider,{value:Ht},t.a.createElement(z.a,{className:Object(a.default)(Ze,"c-wysiwyg_container",`c-wysiwyg_container--theme_${Gn}`,"c-wysiwyg_container--with_footer",{[`c-wysiwyg_container--theme_${Gn}_bordered`]:!Ya,"c-wysiwyg_container--disabled":ma,"c-wysiwyg_container--double_decker":Fa,"c-wysiwyg_container--with_floating_toolbar":En&&!St,"c-wysiwyg_container--expandable":an,"c-wysiwyg_container--day1":!!vs,"c-wysiwyg_container--day1-prog-disc":!!Qa,"c-wysiwyg_container--day1-prog-disc_ia4":!!Qa&&cs,"c-wysiwyg_container--day1-prog-disc-first-message-tip":!!hs}),hideBorder:!Ya,isDisabled:ma,isInvalid:Oa,hints:fs,errors:gs,numMaxLines:Va,numMinLines:qa,ref:ba},Ha,Le,Ra,an&&$a()))})}h(We,"WysiwygContainer"),We.displayName="WysiwygContainer";var we=i.a=We},"4pJt":function(J,i,e){"use strict";e.d(i,"a",function(){return m}),e.d(i,"b",function(){return c}),e.d(i,"c",function(){return p}),e.d(i,"e",function(){return v}),e.d(i,"d",function(){return g}),e.d(i,"f",function(){return O});var n=e("fp5s"),t=e("Fsnq"),a=e("0LZ2"),s=e("nNoG"),l=e("JoEr"),o=e("by95"),f=e("uOwe");const r=new s.b("workflow_builder"),m="c-texty_workflow_token__content",c="c-texty_workflow_token__label",u="c-texty_workflow_token__property",d="c-texty_workflow_token__customize_dropdown",p="c-texty_workflow_token__wand_icon";function v(b,y){const C=r.t("Missing Data");return{id:Object(n.a)(b),name:C,source_id:"",source_type:"function",sourceLabel:"",type:y,label:C,defaultLabel:C,isTombstone:!0,isAvailable:!1,canCustomizeLabel:!1}}h(v,"createHermesTombstoneToken");const g="c-texty_workflow_token";function O(b){const y=Object(a.a)(b),C=b||window,_=y.import("blots/embed");let j=h(class Qs extends _{static create(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{id:"",type:"string",label:"",sourceLabel:"",propertyLabel:"",isAvailable:!1};const{variableData:T={id:"",type:"string",label:"",sourceLabel:"",isAvailable:!1},experimentWfbBackToBasicsMarchReleaseGroupOn:P=!1,...B}=M,R=Object(o.b)(T),U=Object(o.c)(T),K=B.id,V=B.type,z=B.property,N=T.label,A=T.sourceLabel,x=T.isAvailable;let k=!x,F=B.propertyLabel,L=!1,S;if(U&&(S=T.properties,L=!!T.canCustomizeLabel,z&&!B.propertyLabel&&(S!=null&&S.length))){const Z=S.find(G=>G.name===z);Z&&(F=Z.label)}let I=!1;if(R){var W;I=Object(l.e)(B.id)||Object(l.f)({type:T.type,arrayItemType:(W=T.items)===null||W===void 0?void 0:W.type,id:T.id}),P&&(k=k||!Object(f.a)(B,T),I=I||k)}const D=x&&(!!L||Object(t.a)(S)>1||I),H=super.create(N);return H.setAttribute("data-id",K),H.setAttribute("data-type",V),H.setAttribute("data-label",N),H.setAttribute("data-property",z||""),H.setAttribute("data-property-label",F||""),H.setAttribute("data-is-available",x),H.setAttribute("data-is-clickable",D),H.setAttribute("title",A),k&&H.classList.add("has-error"),D||H.classList.add("is-not-clickable"),H}static value(M){return{id:M.getAttribute("data-id"),type:M.getAttribute("data-type"),label:M.getAttribute("data-label"),sourceLabel:M.getAttribute("title"),property:M.getAttribute("data-property"),propertyLabel:M.getAttribute("data-property-label"),isAvailable:M.getAttribute("data-is-available")==="true",isClickable:M.getAttribute("data-is-clickable")==="true"}}static formats(M){return{id:M.getAttribute("data-id"),type:M.getAttribute("data-type"),label:M.getAttribute("data-label"),sourceLabel:M.getAttribute("title"),property:M.getAttribute("data-property"),propertyLabel:M.getAttribute("data-property-label"),isAvailable:M.getAttribute("data-is-available")==="true",isClickable:M.getAttribute("data-is-clickable")==="true"}}constructor(...M){super(...M);const[T]=M,{label:P,propertyLabel:B}=Qs.value(T);this.contentNode.classList.add(m);const R=C.document.createElement("i");R.classList.add(p,"c-icon","c-icon--magic"),this.contentNode.appendChild(R);const U=C.document.createElement("span");if(U.textContent=P,U.classList.add(c),this.contentNode.appendChild(U),B){const V=C.document.createElement("span");V.textContent=B,V.classList.add(u),this.contentNode.appendChild(V)}const K=C.document.createElement("i");K.classList.add(d,"c-icon","c-icon--chevron-down"),this.contentNode.appendChild(K)}},"WorkflowToken");return j.blotName="workflowtoken",j.tagName="button",j.className=g,j}h(O,"getWorkflowTokenFormat")},"4r5K":function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("KYPV"),t=e("q1tI"),a=e.n(t),s=e("MYuU");function l(o){const{getFieldMeta:f}=Object(n.f)(),r=f(o),{touched:m,error:c,initialError:u}=r,d=Object(t.useCallback)(p=>p&&p.map&&p.length>0?p.map(v=>({id:`${o}_error_${Object(s.d)()}`,message:v})):p?[{id:p,message:p}]:[],[o]);return Object(t.useMemo)(()=>d(m?c:u),[m,d,u,c])}h(l,"useFieldErrors")},"5/Zs":function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("JoR1");function t(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!!(Object(n.u)(a,"msg_input_send_btn")||s)}h(t,"getEnterCreatesNewlinePref")},"53Jr":function(J,i,e){"use strict";e.d(i,"a",function(){return O});var n=e("NFsq"),t=e("gSGL"),a=e("mM05"),s=e.n(a),l=e("0LZ2");const o=/(\u2028|\u2029)/g,f=`
`,r=/^[\u200b\uFEFF]+|[\u200b\uFEFF]+$/gm,m=/(\u00AD)/g,c=/\u00A0/g,u=h(y=>{const C=y.map((_,j)=>{if(Object(n.a)(_.insert,`
`)){const E=j===y.ops.length-1;return{..._,insert:(Object(t.a)(_.insert)?_.insert:"").replace(/( ?)\n+/g,(M,T,P,B)=>{const U=P+M.length===B.length;return E&&U?`${T}
`:" "})}}return _});return y.diff(new s.a(C))},"removeDeltaNewlines"),d=h(y=>{const C=y.map(_=>Object(t.a)(_.insert)&&_.insert.match(r)?{..._,insert:_.insert.replace(r,"")}:_);return y.diff(new s.a(C))},"removeDeltaZeroWidthCharacters"),p=h(y=>{const C=y.map(_=>Object(t.a)(_.insert)&&_.insert.match(m)?{..._,insert:_.insert.replace(m,"")}:_);return y.diff(new s.a(C))},"removeDeltaUnwantedCharacters"),v=h(y=>{const C=y.map(_=>Object(t.a)(_.insert)&&_.insert.match(c)?{..._,insert:_.insert.replace(c," ")}:_);return y.diff(new s.a(C))},"replaceNonBreakingSpacesWithRegularSpaces"),g=h(y=>{const C=y.map(_=>Object(t.a)(_.insert)&&_.insert.match(o)?{..._,insert:_.insert.replace(o,f)}:_);return y.diff(new s.a(C))},"normalizeDeltaNewlines");function O(y){const _=Object(l.a)(y).import("core/module");return h(class extends _{buildTextChangeDelta(M,T){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{useWysiwyg:!1,formattingOnly:!1}).formattingOnly)return new s.a;let B=M;return B=B.compose(g(B)),B=B.compose(d(B)),B=B.compose(p(B)),B=B.compose(v(B)),this.options.stripNewlines&&(B=B.compose(u(B))),M.diff(B)}},"TextSanitization")}h(O,"getTextSanitizationModule");const b=O(window)},"53ci":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("ifKl"),l=e("WIr4"),o=e("3l96"),f=e("417x"),r=e("YGCq");function m(){return m=Object.assign||function(u){for(var d=1;d<arguments.length;d++){var p=arguments[d];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(u[v]=p[v])}return u},m.apply(this,arguments)}h(m,"_extends");function c(u){let d=h(class extends n.PureComponent{handleConfirmDialogCancel(){this.onConfirmDialogCancel&&this.onConfirmDialogCancel(),this.hideConfirmDialog&&this.hideConfirmDialog()}handleConfirmDialogGo(){this.onConfirmDialogGo&&this.onConfirmDialogGo(),this.hideConfirmDialog&&this.hideConfirmDialog()}hideConfirmDialog(g){g&&this.dialog&&this.dialog.close()}showConfirmDialog(g){let{onConfirmDialogGo:O=s.a,onConfirmDialogCancel:b=s.a}=g;this.onConfirmDialogGo=O,this.onConfirmDialogCancel=b,this.dialog=this.props.openModal({element:this.renderConfirmDialog()})}renderConfirmDialog(){const{confirm:g,variant:O}=this.props;return t.a.createElement(r.a,m({},Object(f.b)(g),{dangerGoButton:O==="danger",onCancel:this.handleConfirmDialogCancel,onGo:this.handleConfirmDialogGo}))}render(){return t.a.createElement(u,m({showConfirmDialog:this.showConfirmDialog,hideConfirmDialog:this.hideConfirmDialog},this.props))}constructor(g){super(g),Object(l.a)(this,["showConfirmDialog","hideConfirmDialog","handleConfirmDialogGo","handleConfirmDialogCancel"])}},"AttachmentActionConfirmDialogWrapper");d.displayName="AttachmentActionConfirmDialogWrapper";const p={openModal:o.a};return Object(a.a)(null,p)(d)}h(c,"withAttachmentActionConfirmDialog"),c.displayName="withAttachmentActionConfirmDialog",i.a=c},"59Ab":function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("q1tI"),t=e.n(n);function a(){const s=Object(n.useRef)(!1);return Object(n.useEffect)(()=>(s.current=!0,()=>{s.current=!1})),s}h(a,"useMounted")},"5BbJ":function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("ZKjC"),t=e("G0eX"),a=e("2cBL");const s=Object(n.b)((l,o)=>{let{channel:f,xwsAlpha:r=!1}=o;const m=Object(a.a)(l,{channel:f,xwsAlpha:r});return Object(t.h)(m)});s.meta={name:"createSelector",key:"createSelectorgetTeamNameForChannelInUnifiedGrid",description:(l,o)=>{let{channel:f,xwsAlpha:r=!1}=o;const m=Object(a.a)(l,{channel:f,xwsAlpha:r});return Object(t.h)(m)}}},"5SjC":function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(t,a){t.eachLine((s,l)=>{s.insert(`
`,l);const o={insert:`
`,attributes:l};s.forEach(f=>{a(f,o)})})}h(n,"deltaForEachWithLineData")},"5icM":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("F294"),l=e("SQ0V"),o=e("3l96"),f=e("+kJ4"),r=e("WIr4"),m=e("Cfcg"),c=e("BHdc"),u=e("E3dU"),d=e("T1zM"),p=e("dlm8"),v=e("oJWV"),g=e("q0lC"),O=e("E97Y"),b=e("oNuo"),y=e("6kKm"),C=e("YUBf"),_=e("Ccc1"),j=e("qMw6"),E=e("RB1+"),M=e("nNoG"),T=e("Efzj"),P=e("zxER"),B=e("zm5I");function R(W){let{handleMouseEnterOrClick:D}=W;return t.a.createElement("div",{onMouseEnter:D,onClick:D,role:"presentation",className:"p-shouty_rooster_animation"},t.a.createElement("svg",{width:"520",height:"291",viewBox:"0 0 400 180",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("path",{d:"M186.961 169.996c31.972 0 57.89-1.335 57.89-2.983 0-1.648-25.918-2.984-57.89-2.984s-57.891 1.336-57.891 2.984 25.919 2.983 57.891 2.983Z",fill:"#000"}),t.a.createElement("g",{className:"p-shouty_rooster_animation__clouds"},t.a.createElement("path",{className:"p-shouty_rooster_animation__left-cloud",d:"M14.667 73.97h79.472S71.352 40.424 63.472 60.745c0 0-34.234-28.137-31.49 0 0 0-31.49-15.046-17.315 13.223Z",fill:"#fff"}),t.a.createElement("path",{d:"M338.514 53.164c7.853 0 14.219-6.374 14.219-14.238 0-7.863-6.366-14.237-14.219-14.237s-14.218 6.374-14.218 14.237c0 7.864 6.365 14.238 14.218 14.238Z",fill:"#ECB22E"}),t.a.createElement("path",{className:"p-shouty_rooster_animation__right-cloud",d:"M384.076 59.276h-79.473s22.789-33.544 30.668-13.223c0 0 34.234-28.137 31.49 0 0 0 31.49-15.031 17.315 13.223Z",fill:"#fff"})),t.a.createElement("g",null,t.a.createElement("path",{d:"m191.562 164.553-11.926-20.339 3.112-1.697 11.927 20.338-3.113 1.698Z",fill:"#BF7900"}),t.a.createElement("path",{d:"M209.011 165.428h-22.769a1.434 1.434 0 0 1-1.012-.416 1.43 1.43 0 0 1-.417-1.012 1.43 1.43 0 0 1 1.355-1.429l21.945-.934a2.278 2.278 0 0 1 2.218 1.385c.122.286.185.593.184.903a1.5 1.5 0 0 1-.438 1.065 1.505 1.505 0 0 1-1.066.438Z",fill:"#BF7900"}),t.a.createElement("path",{d:"m186.871 156.552-4.07 2.677s2.155 2.991 6.524.852l-2.454-3.529Z",fill:"#BF7900"}),t.a.createElement("path",{d:"m184.05 144.73-2.267 3.156-2.147-3.672 3.112-1.697 1.302 2.213Z",fill:"#805100"}),t.a.createElement("path",{d:"m173.036 164.553-11.927-20.339 3.113-1.697.756 1.286 11.171 19.052-3.113 1.698Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M190.485 165.428h-22.769a1.43 1.43 0 0 1-1.012-.416 1.415 1.415 0 0 1-.417-1.012 1.42 1.42 0 0 1 1.355-1.429l21.945-.934a2.287 2.287 0 0 1 2.402 2.288 1.505 1.505 0 0 1-.438 1.065 1.505 1.505 0 0 1-1.066.438Z",fill:"#FFA100"}),t.a.createElement("path",{d:"m168.352 156.552-4.063 2.677s2.155 2.991 6.525.852l-2.462-3.529Z",fill:"#FFA100"}),t.a.createElement("path",{d:"m164.978 143.803-2.597 2.587-1.272-2.176 3.113-1.697.756 1.286Z",fill:"#805100"})),t.a.createElement("g",{className:"p-shouty_rooster_animation__body"},t.a.createElement("g",{className:"p-shouty_rooster_animation__right-wing"},t.a.createElement("path",{d:"M256.434 63.42s-3.816-6.123-11.747 2.199-33.386 17.086-41.579 27.666c-8.194 10.581 7.482 30.74 31.47 21.543s23.524-16.204 15.242-16.002c0 0 18.421-9.541.202-11 0 0 14.515-6.415 10.108-10.61-4.407-4.194-11.074-.261-11.074-.261s9.907-7.986 7.378-13.534Z",fill:"#921D21"}),t.a.createElement("path",{d:"M260.13 77.194c-4.414-4.195-11.073-.261-11.073-.261s9.906-8.001 7.377-13.512c0 0-3.352-5.384-10.303.8a5.135 5.135 0 0 1 6.248 1.772c2.529 5.51-7.378 13.512-7.378 13.512s6.659-3.933 11.066.261c2.013 1.915.09 4.285-2.603 6.304 3.988-2.198 9.644-6.042 6.666-8.876Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M249.909 98.804a36.853 36.853 0 0 1-4.167 2.572c5.596-.134 7.639 2.991.987 7.896 11.239-6.288 9.63-10.573 3.18-10.468Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M250.022 87.805c-2.492 1.495-4.056 2.572-4.056 2.572 11.785.95 8.231 5.234 4.258 8.225 2.581-1.428 16.745-9.407-.202-10.797Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M222.464 79.437a31.99 31.99 0 0 1 7.176 20.25s.239 7.851-5.163 17.392a33.018 33.018 0 0 0 6.457-1.092c8.687-26.186-8.47-36.55-8.47-36.55Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M245.001 79.505s-5.402 3.626-10.288 5.234c0 0 9.263-4.629 13.154-7.926a17.017 17.017 0 0 1-2.866 2.692Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M245.966 90.377a63.809 63.809 0 0 1-6.248 3.118l10.304-5.69-4.056 2.572Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M245.757 101.376a68.983 68.983 0 0 1-6.375 2.886l9.293-4.606-2.918 1.72Z",fill:"#6E1619"})),t.a.createElement("path",{className:"p-shouty_rooster_animation__yellow-tail",d:"M144.514 77.733s-2.993-9.527-9.997-10.506a1.497 1.497 0 0 0-1.496 2.243c1.496 2.624 3.816 6.976 3.816 9.145 0 0-9.555-6.73-17.546-2.049a1.626 1.626 0 0 0-.769 1.6 1.625 1.625 0 0 0 1.158 1.346l10.034 2.991s-12.077-.037-16.461 7.478a1.764 1.764 0 0 0 2.124 2.564c3.106-1.159 7.43-2.624 9.383-2.624 0 0-7.654 5.062-8.515 13.504a2.285 2.285 0 0 0 1.181 2.286 2.29 2.29 0 0 0 2.561-.267c3.419-2.849 8.814-6.812 13.266-7.732 0 0-9.278 3.896-10.086 12.764-.809 8.868 5.379 4.307 9.278-6.984 3.898-11.29 13.849-13.31 13.849-13.31l-1.78-12.45Z",fill:"#FFA100"}),t.a.createElement("path",{className:"p-shouty_rooster_animation__pink-tail",d:"M149.033 87.087s-1.497-11.62-5.11-11.62c0 0-2.245-.464-1.632 4.875.614 5.339.584 7.904.584 7.904s-4.422-12.084-12.555-8.973c0 0-1.983 1.817 1.661 5.458a47.666 47.666 0 0 1 5.133 5.803s-6.66-3.888-10.131-1.593c-3.472 2.296-1.123 3.537 2.648 4.3 3.771.762 4.804 1.802 4.804 1.802s-9.151 2.243-9.151 7.739c0 0-.075 4.539 7.482-1.884 0 0-4.362 4.538-4.362 8.972 0 4.435 3.741 4.711 6.891-2.475a11.442 11.442 0 0 1 10.476-6.886l4.654-7.717-1.392-5.705Z",fill:"#F2606A"}),t.a.createElement("g",{className:"p-shouty_rooster_animation__shout"},t.a.createElement("path",{d:"m245.854 17.322-12.997 8.734a.94.94 0 0 1-.975.08.94.94 0 0 1-.521-.828l-.561-13.4a.945.945 0 0 0-1.774-.41l-6.801 12.606a.944.944 0 0 1-1.654 0l-4.676-8.225a.945.945 0 0 0-1.759.36l-1.818 15.47a.943.943 0 0 1-1.406.71l-7.326-4.18a.94.94 0 0 0-1.078.097.949.949 0 0 0-.304.48.947.947 0 0 0 .028.567l2.761 7.553a.946.946 0 0 1-.15.91.948.948 0 0 1-.852.353l-5.844-.673a.951.951 0 0 0-.891 1.496l15.249 22.357c.077.105.171.196.277.27l14.037 8.71a.942.942 0 0 0 1.437-.926l-1.108-8.293a.95.95 0 0 1 .289-.809.944.944 0 0 1 .826-.238l13.468 2.572a.945.945 0 0 0 1.025-.542.942.942 0 0 0-.276-1.125l-8.568-6.774a.94.94 0 0 1-.328-.973.94.94 0 0 1 .755-.695l15.009-2.468a.94.94 0 0 0 .657-1.41.944.944 0 0 0-.455-.392l-10.655-4.419a.941.941 0 0 1 0-1.735l13.693-6.094a.943.943 0 0 0-.381-1.81h-13.708a.941.941 0 0 1-.748-1.495l9.472-14.147a.942.942 0 0 0-1.369-1.264Z",fill:"#fff"}),t.a.createElement("path",{d:"M219.651 29.623a44.455 44.455 0 0 1-3.09 11.111 44.455 44.455 0 0 1 3.09-11.111Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M229.296 30.939a34.492 34.492 0 0 1-5.866 8.33 34.968 34.968 0 0 1 5.866-8.33Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M229.842 44.435a25.07 25.07 0 0 1-6.951 5.093 24.803 24.803 0 0 1 6.951-5.093Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M222.734 43.957a7.684 7.684 0 0 1-3.083 3.627 7.754 7.754 0 0 1 3.083-3.627Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M237.092 38.723a10.344 10.344 0 0 1-4.938 2.467 10.312 10.312 0 0 1 4.938-2.467Z",fill:"#FFA100"})),t.a.createElement("path",{d:"M229.64 99.694a32.196 32.196 0 0 0-16.617-28.157 32.248 32.248 0 0 0-32.699.871l-3.36 25.08c-6.345.748-17.897 1.495-25.148-2.184 0 0 3.465-11.148-.748-11.148-4.212 0-4.22 11.148-4.22 11.148s-2.409-9.19-6.48-9.19c-4.07 0 1.347 8.278 1.347 8.278s-6.36-5.234-8.29-3.267c-1.931 1.966 5.746 7.006 5.746 7.006s-5.237-1.45-6.928 2.31c-1.497 3.358 4.437 2.535 5.761 2.311-1.07.209-5.058 1.249-4.407 4.771.748 4.067 5.238 0 5.238 0s-2.514 23.045 17.089 28.466a6.227 6.227 0 0 0 4.007 8.213 6.243 6.243 0 0 0 3.378.065l11.538-3.036c-1.609 10.468 22.567-1.608 22.567-1.608 19.371-9.878 26.629-21.789 26.629-21.789 5.851-9.885 5.597-18.14 5.597-18.14Z",fill:"#921D21"}),t.a.createElement("path",{d:"m182.269 59.996.749-1.144c1.129-6.82 4.556-9.182 8.23-10.349l2.499-2.662a5.765 5.765 0 0 1 6.847 3.829s6.157-2.505 5.088-5.893c-.951-2.99-5.62-3.417-6.735-7.627a.805.805 0 0 0-.694-.588.81.81 0 0 0-.802.431 4.292 4.292 0 0 0-.441 2.087.621.621 0 0 1-1.063.471c-1.279-1.309-2.993-3.35-3.487-5.444a.799.799 0 0 0-1.089-.56.806.806 0 0 0-.355.29 4.811 4.811 0 0 0-.651 3.934.61.61 0 0 1-.623.756.61.61 0 0 1-.349-.128c-1.759-1.346-4.408-3.955-5.111-7.799a.806.806 0 0 0-.639-.686.805.805 0 0 0-.857.38c-.876 1.443-1.624 3.918-.105 7.41a.624.624 0 0 1-.185.712.62.62 0 0 1-.735.036 13.07 13.07 0 0 1-5.014-6.401.804.804 0 0 0-1.163-.513c-.144.08-.26.2-.333.348-1.085 1.922-2.11 5.6 1.586 10.237a.606.606 0 0 1 .069.683.61.61 0 0 1-.608.319c-1.496-.187-4.077-1.316-6.113-6.199a.798.798 0 0 0-1.23-.292.799.799 0 0 0-.266.397c-.861 3.267-1.497 9.324 4.04 12.487a.623.623 0 0 1 .293.694.62.62 0 0 1-.592.465 16.682 16.682 0 0 1-6.233-1.226.808.808 0 0 0-1.062 1.017c1.354 3.507 5.462 10.984 17.134 10.528Z",fill:"#F2606A"}),t.a.createElement("path",{d:"M182.778 37.055a.614.614 0 0 0 .546-.86c-1.496-3.372-.815-5.78 0-7.245a.695.695 0 0 0-.494.329c-.875 1.443-1.623 3.918-.104 7.41a.625.625 0 0 1 .052.366Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M190.388 37.018a.611.611 0 0 0 .598-.748 4.79 4.79 0 0 1 .546-3.739.747.747 0 0 0-.471.307 4.813 4.813 0 0 0-.651 3.933.605.605 0 0 1-.022.247Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M177.047 41.617a.608.608 0 0 0 .607-.683.602.602 0 0 0-.136-.312c-3.606-4.486-2.709-8.135-1.661-10.095a.741.741 0 0 0-.501.352c-1.085 1.922-2.11 5.6 1.586 10.236a.62.62 0 0 1 .105.502Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M197.631 37.564c-.03-.69.111-1.375.411-1.997a.752.752 0 0 0-.546.404 4.305 4.305 0 0 0-.442 2.086.598.598 0 0 1-.044.15.618.618 0 0 0 .582-.398.605.605 0 0 0 .039-.245Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M187.335 50.485a12.309 12.309 0 0 1 3.951-1.997l.411-.433a11.6 11.6 0 0 0-4.362 2.43Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M201.207 49.161a5.765 5.765 0 0 0-6.846-3.828l-.442.47a5.756 5.756 0 0 1 6.734 3.852 14.216 14.216 0 0 0 3.697-2.31 14.643 14.643 0 0 1-3.143 1.816Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M165.793 48.974a.805.805 0 0 1 0-.575.812.812 0 0 0-.546.392.81.81 0 0 0-.06.67c1.272 3.514 5.358 10.991 17.052 10.52l.33-.493c-11.471.358-15.511-7.03-16.776-10.514Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M172.842 48.51a.588.588 0 0 1 .291.659.611.611 0 0 0 .543-.853.614.614 0 0 0-.258-.291c-5.56-3.17-4.901-9.227-4.041-12.495l.038-.06a.745.745 0 0 0-.614.553c-.89 3.268-1.549 9.325 4.041 12.488Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"m208.637 69.5 2.11-8.136-7.827-9.93-4.489-7.843-7.362 2.325c-3.689 1.167-7.124 3.53-8.231 10.349l-2.514 16.144-1.25 9.376-2.948 21.954 4.25-5.713a3.04 3.04 0 0 1 5.238.613l.292.68a1.28 1.28 0 0 0 2.192.285l3.33-4.314a1.278 1.278 0 0 1 2.117.134l2.245 3.888a1.286 1.286 0 0 0 2.245-.067l2.005-3.933a1.279 1.279 0 0 1 2.02-.344l3.539 3.342a1.288 1.288 0 0 0 2.035-.374l2.125-4.396a1.292 1.292 0 0 1 1.488-.676 1.3 1.3 0 0 1 .518.272l4.743 4.157a1.292 1.292 0 0 0 1.242.248 1.284 1.284 0 0 0 .853-.935l1.377-6.23a1.277 1.277 0 0 1 .821-.958 1.278 1.278 0 0 1 1.244.211 23.71 23.71 0 0 0 4.594 2.894 1.29 1.29 0 0 0 1.798-.767c.075-.236.079-.49.013-.729a32.268 32.268 0 0 0-7.327-13.135 32.302 32.302 0 0 0-12.486-8.392Z",fill:"#FFA100"}),t.a.createElement("path",{d:"m190.522 78.473 3.038-5.982a1.06 1.06 0 0 1 1.405-.477c.166.079.308.2.413.35l3.742 5.436a1.056 1.056 0 0 0 .904.457 1.064 1.064 0 0 0 .876-.51l3.106-5.122a1.047 1.047 0 0 1 .777-.505 1.055 1.055 0 0 1 .876.303l2.858 2.85a1.066 1.066 0 0 0 1.513-.016c.131-.135.223-.303.268-.486l.98-4.112a33.34 33.34 0 0 0-2.656-1.13l2.11-8.135-7.826-9.93-4.49-7.843-7.362 2.325c-3.689 1.166-7.124 3.53-8.231 10.349l-2.499 16.114-.651 4.905a1.051 1.051 0 0 0 .659 1.15 1.055 1.055 0 0 0 1.264-.403l2.731-4.03a1.063 1.063 0 0 1 1.803.067l2.537 4.435a1.058 1.058 0 0 0 .945.523 1.055 1.055 0 0 0 .91-.583Z",fill:"#FED4BE"}),t.a.createElement("path",{d:"m184.065 72.222 2.529-16.144c1.13-6.82 4.557-9.182 8.231-10.349l4.085-1.294-.479-.844-7.362 2.325c-3.689 1.167-7.124 3.53-8.231 10.349l-2.514 16.144-1.25 9.376 4.654-6.871.337-2.692Z",fill:"#fff"}),t.a.createElement("path",{d:"M202.898 44.294s3.876-5.392 10.834-1.705c0 0-5.821.112-7.624 8.778l-3.21-7.073Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M203.519 45.116a7.985 7.985 0 0 1 9.383-2.363c.284-.072.575-.118.868-.135-6.959-3.686-10.835 1.705-10.835 1.705l3.21 7.074c0-.112.045-.217.075-.329l-2.701-5.952Z",fill:"#FFC766"}),t.a.createElement("path",{d:"M205.659 51.674c2.073-.584 2.941.747 9.727-2.767 0 0-1.429 6.969-5.739 6.55l-3.988-3.783Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M214.032 49.572c-.674 1.997-2.245 5.317-5.238 5.093l.823.792c4.31.419 5.739-6.55 5.739-6.55a27.67 27.67 0 0 1-1.324.666Z",fill:"#BF7900"}),t.a.createElement("path",{d:"M216.239 57.7c-.958-2.684-2.177-5.33-6.143-5.04a2.994 2.994 0 0 1-3.741-1.943l-1.048-3.298a5.757 5.757 0 0 0-6.846-3.828 5.582 5.582 0 0 0-3.477 2.83 5.582 5.582 0 0 0-.264 4.474 5.595 5.595 0 0 0 7.011 3.358 2.748 2.748 0 0 1 2.147.15 3.892 3.892 0 0 1 2.006 2.625l2.446 11.216c.039.32.106.635.202.942a5.583 5.583 0 0 0 10.648-3.358l-2.941-8.128Z",fill:"#F2606A"}),t.a.createElement("path",{d:"m219.172 65.836-2.933-8.136c-.658-1.847-1.444-3.671-3.158-4.538.434.789.797 1.614 1.085 2.467l2.918 8.128A5.57 5.57 0 0 1 212.211 71a5.578 5.578 0 0 1-3.215-.722 5.584 5.584 0 0 0 9.92-.463 5.575 5.575 0 0 0 .249-3.98h.007Z",fill:"#B54850"}),t.a.createElement("path",{d:"M195.528 51.472a5.59 5.59 0 0 1 .264-4.477 5.577 5.577 0 0 1 3.477-2.836 5.497 5.497 0 0 1 4.243.613 5.534 5.534 0 0 0-6.796-.374 5.527 5.527 0 0 0-2.011 6.498 5.524 5.524 0 0 0 2.454 2.886 5.458 5.458 0 0 1-1.631-2.31Z",fill:"#F7A0A6"}),t.a.createElement("path",{d:"M200.025 51.77a3.18 3.18 0 1 0-3.18-3.177 3.18 3.18 0 0 0 3.18 3.178Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"m179.059 81.778-2.94 21.961 5.088-25.132-2.148 3.17Z",fill:"#FFC766"}),t.a.createElement("path",{d:"M199.621 50.395a2.35 2.35 0 0 1-.674-.105 2.252 2.252 0 0 1-1.331-1.106.501.501 0 0 1 .59-.71.498.498 0 0 1 .292.246 1.248 1.248 0 0 0 .749.613 1.213 1.213 0 0 0 .965-.09 1.247 1.247 0 0 0 .613-.748 1.27 1.27 0 0 0-.089-.964.497.497 0 0 1 .589-.672c.12.031.225.105.294.209a2.242 2.242 0 0 1-.943 3.058 2.246 2.246 0 0 1-1.055.269Z",fill:"#000"}),t.a.createElement("path",{d:"M174.862 141.208c-1.609 10.469 22.566-1.607 22.566-1.607a7.818 7.818 0 0 0 2.604-2.161 47.085 47.085 0 0 0 10.124-28.414s-1.968 22.35-35.294 32.182Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M156.336 141.313a6.164 6.164 0 0 0 6.988 2.931l11.538-3.036a4.961 4.961 0 0 0 0 1.802l11.223-6.064c-25.694 8.36-29.704 4.374-29.749 4.367Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M138.849 107.5s-2.431 22.432 16.304 28.22l4.22-3.193c-20.95-2.453-20.524-25.027-20.524-25.027Z",fill:"#6E1619"}),t.a.createElement("g",{className:"p-shouty_rooster_animation__left-wing"},t.a.createElement("path",{d:"M147.454 108.697s-1.646-6.379 8.859-6.379c10.505 0 32.316-11.313 44.468-10.08 12.151 1.234 15.645 24.272-5.56 34.352-21.205 10.08-25.529 5.354-20.202 0 0 0-17.905 6.176-7.407-6.79 0 0-13.386 5.556-13.386 0 0-5.555 6.794-7.477 6.794-7.477s-11.501 1.511-13.566-3.626Z",fill:"#921D21"}),t.a.createElement("path",{d:"M185.472 123.554s-17.913 6.176-7.415-6.789c0 0-13.379 5.555-13.379 0 0-5.556 6.794-7.478 6.794-7.478s-11.53 1.496-13.588-3.634a4.646 4.646 0 0 1 .674-3.484 18.52 18.52 0 0 1-2.245.149c-10.475 0-8.859 6.378-8.859 6.378 2.065 5.145 13.588 3.627 13.588 3.627s-6.794 1.929-6.794 7.477c0 5.549 13.386 0 13.386 0-10.475 12.966 7.407 6.79 7.407 6.79-4.773 4.778-1.833 9.048 13.925 2.752-6.397.792-6.914-2.371-3.494-5.788Z",fill:"#FFA100"}),t.a.createElement("path",{d:"M156.807 114.634a12.6 12.6 0 0 1 4.235-2.311s-11.523 1.496-13.588-3.627a4.6 4.6 0 0 1 0-1.719 4.633 4.633 0 0 0-.928 3.821c1.325 3.357 6.704 3.88 10.281 3.836Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M167.604 119.815s-13.386 5.556-13.386 0a6.497 6.497 0 0 1 .18-1.495 6.239 6.239 0 0 0-1.13 3.612c0 4.71 9.622 1.428 12.548.321a30.424 30.424 0 0 1 1.788-2.438Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M175.041 126.59s-12.166 4.195-10.557-1.593c-4.445 7.545 5.814 4.868 8.814 3.956a8.54 8.54 0 0 1 1.743-2.363Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M195.221 126.59c-16.371 7.784-22.671 6.73-22.237 3.395-3.42 4.733 1.81 7.971 21.279-1.286 7.483-3.552 11.86-8.704 13.91-13.946-2.334 4.494-6.495 8.801-12.952 11.837Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M171.472 109.287s6.128-.957 15.227-5.025c0 0-12.72 5.407-24.909 4.487 0-.023 1.796 1.099 9.682.538Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M178.079 116.765a116.934 116.934 0 0 0 12.032-5.377l-17.299 7.126 5.267-1.749Z",fill:"#6E1619"}),t.a.createElement("path",{d:"M185.472 123.554s5.986-2.767 8.724-5.982c0 0-7.722 5.661-12.076 6.894l3.352-.912Z",fill:"#6E1619"})))))}h(R,"ShoutyRooster"),R.displayName="ShoutyRooster";var U=R;function K(){const D=Object(P.c)(B.a)==="dark",[H,Z]=Object(n.useState)(!0),G=Object(c.default)("p-message_pane_modal_rooster__header p-message_pane_modal_rooster__header--animation",{"p-message_pane_modal_rooster__header--dark":D,on:H}),te=h(()=>{Z(!1),setTimeout(()=>{Z(!0)},10)},"handleMouseEnterOrClick");return t.a.createElement(C.i,{className:G},t.a.createElement(U,{handleMouseEnterOrClick:te}))}h(K,"MessagePaneModalRooster"),K.displayName="MessagePaneModalRooster";var V=K,z=e("Lgge"),N=e("vbTZ");const A=new M.b("message-input");let x=h(class extends n.Component{componentDidMount(){const{channelId:D}=this.props;this.props.fetchConversationInfo({channel:D||"",timezoneCount:!0,displayCounts:!0,reason:"message-input-broadcast-warning"}).then(H=>{!H||!H.channel||this.setState(()=>({timezoneCount:H.channel.timezone_count,memberCount:H.channel.display_counts.display_counts}))}),this.props.setUserPrefByApi({pref:"last_seen_at_channel_warning",value:Date.now()})}sendMessage(){const{channelId:D,dateScheduled:H}=this.props,Z=Object(E.a)({viewContext:j.a.MESSAGE_PANE,channelId:D});Z&&!H&&Z.clear(),this.props.onSend&&this.props.onSend(),this.props.onClose&&this.props.onClose({didSend:!0})}render(){const{channel:D,isCurrentUserAdmin:H,blockedKeyword:Z}=this.props,{timezoneCount:G,memberCount:te}=this.state,se=Object(b.a)(Z||""),$=Object(y.a)(se),X=te-1,q=Object(O.i)(D);let Y,ee="",w=null;Z==="BKhere"?q?Y=A.rt("Notify everyone currently online?",{fallbackHash:"a03d9c400e94492c69f43d82d4acccaa9c845571"}):Y=A.rt("Notify everyone currently online in {channelName}?",{channelName:t.a.createElement(_.a,{channel:D})}):!G||G<2?Y=A.rt("Notify {member_count, plural, =1 {# person} other {# people}}?",{member_count:X}):Y=A.rt("Notify {member_count, plural, =1 {# person} other {# people}} across {timezone_count} time zones?",{member_count:X,timezone_count:G}),Z==="BKhere"?ee=A.rt("Using {keyword} pings everyone in the channel who\u2019s currently online. It\u2019s a bit noisy! Are you sure you want to send this?",{keyword:t.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",$)}):ee=A.rt("Using {keyword} pings everyone in the channel. It\u2019s rather noisy! Are you sure you want to send this?",{keyword:t.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",$)}),this.props.dateScheduled&&(Z==="BKhere"?(Y=A.rt("Notify everyone who\u2019ll be online in {channelName}?",{channelName:t.a.createElement(_.a,{channel:D})}),q&&(Y=A.rt("Notify everyone who\u2019ll be online?",{fallbackHash:"a03d9c400e94492c69f43d82d4acccaa9c845571"}))):!G||G<2?(Y=A.rt("Notify everyone in {channelName}?",{channelName:t.a.createElement(_.a,{channel:D})}),q&&(Y=A.rt("Notify everyone?",{fallbackHash:"a03d9c400e94492c69f43d82d4acccaa9c845571"}))):Y=A.rt("Notify everyone in this channel across {timezone_count} timezones?",{timezone_count:G}),Z==="BKhere"?(ee=A.rt("Using {keyword} will notify everyone in the channel who\u2019s online at the time this message is sent. It can be a bit noisy \u2014 please confirm that this is what you\u2019d like to do.",{keyword:t.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",$)}),q&&(ee=A.rt("Using {keyword} will notify everyone who\u2019s online at the time this message is sent. It can be a bit noisy \u2014 please confirm that this is what you\u2019d like to do.",{keyword:t.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",$)}))):(ee=A.rt("Using {keyword} will notify about {member_count, plural, =1 {# person} other {# people}} when this message sends (the number of members can change day by day). This type of mention can be a bit noisy \u2014 please confirm that this is what you\u2019d like to do.",{keyword:t.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",$),member_count:X,fallbackHash:"911a1611422dac393a3d0d45e7358845eb6af463",fallbackHashNs:"message-input"}),q&&(ee=A.rt("Using {keyword} will notify {member_count, plural, =1 {# person} other {# people}} when this message sends. This type of mention can be a bit noisy \u2014 please confirm that this is what you\u2019d like to do.",{keyword:t.a.createElement("span",{className:"p-message_pane_input_broadcast_warning__highlight"},"@",$),member_count:X})))),H&&(w=A.rt("Pssst, admins\u2026 You can control this warning in {workspace_settings_link}.",{workspace_settings_link:t.a.createElement(T.a,{href:"/admin/settings#permissions",target:"_blank"},A.t("Workspace settings")),fallbackHash:"615aa02f49bf059029c3416b43186a213e8263af"}));const ne=Object(c.default)({margin_top_125:!Y,margin_bottom_0:!w});return t.a.createElement(C.a,{closeModal:this.props.onClose},t.a.createElement(V,null),t.a.createElement(C.d,null,t.a.createElement(C.e,null,Y&&t.a.createElement("h3",{className:"subtitle margin_bottom_100 margin_top_125"},Y),t.a.createElement("p",{className:ne},ee),w)),t.a.createElement(C.g,null,t.a.createElement(C.h,null,t.a.createElement(C.c,{type:"outline"},A.t("Edit Message",{fallbackHash:"96116a523d6a64a028149a2a0d6bd6d0f094c901"})),t.a.createElement(C.c,{onClick:this.sendMessage,autoFocus:!0},this.props.dateScheduled?A.t("Schedule Message"):A.t("Send")))))}constructor(D){super(D),this.state={timezoneCount:void 0,memberCount:D.initialMemberCount},Object(r.a)(this,["sendMessage"])}},"MessagePaneInputBroadcastWarning");x.displayName="MessagePaneInputBroadcastWarning",x.defaultProps={isCurrentUserAdmin:!1,onClose:a.a,onSend:a.a,fetchConversationInfo:()=>z.a.resolve(),setUserPrefByApi:a.a};const k=h((W,D)=>{let{channelId:H}=D;const Z=Object(p.d)(W,H);return{channel:Object(u.d)(W,H),initialMemberCount:Z&&Z.counts&&Z.counts.member_count,isCurrentUserAdmin:Object(g.e)(W)}},"mapStateToProps"),F={fetchConversationInfo:W=>Object(v.a)(W),setUserPrefByApi:W=>Object(d.f)(W)};var L=Object(m.a)(k,F)(x);const S=Object(l.c)("Display broadcast warning (shouty rooster)",(W,D,H)=>{let{channelId:Z,keywordsInUse:G,dateScheduled:te,onClose:se=a.a,onSend:$}=H,X=Object(s.a)(G);G.includes("BKchannel")&&(X="BKchannel"),G.includes("BKeveryone")&&(X="BKeveryone");const q=t.a.createElement(L,{channelId:Z,blockedKeyword:X,dateScheduled:te,onClose:Y=>{W(Object(f.a)()),se&&se(Y)},onSend:$});W(Object(o.a)({element:q}))});S.meta={name:"createThunk",key:"createThunkopenBroadcastKeywordWarningDialog",description:"Display broadcast warning (shouty rooster)"};var I=i.a=S},"5jHt":function(J,i,e){"use strict";e.d(i,"o",function(){return U}),e.d(i,"d",function(){return V}),e.d(i,"r",function(){return z}),e.d(i,"l",function(){return N}),e.d(i,"c",function(){return x}),e.d(i,"q",function(){return k}),e.d(i,"a",function(){return F}),e.d(i,"b",function(){return L}),e.d(i,"k",function(){return I}),e.d(i,"h",function(){return W}),e.d(i,"p",function(){return D}),e.d(i,"i",function(){return H}),e.d(i,"n",function(){return Z}),e.d(i,"m",function(){return te}),e.d(i,"f",function(){return se}),e.d(i,"g",function(){return $}),e.d(i,"e",function(){return X}),e.d(i,"j",function(){return q});var n=e("fujP"),t=e("zmn3"),a=e("lCmp"),s=e("AFNo"),l=e("DOHs"),o=e("kBpe"),f=e("9Gfp"),r=e("E3dU"),m=e("6CnZ"),c=e("UIhb"),u=e("ZOzc"),d=e("xwCZ"),p=e("+tZp"),v=e("dmdh"),g=e("mzZe"),O=e("y/Pn"),b=e("xcHN"),y=e("x6tY"),C=e("sp7N"),_=e("se5Z"),j=e("Yauy"),E=e("o5tZ"),M=e("nNoG"),T=e("i5Ig"),P=e("FH+Z"),B=e("ZTSm");const R=new M.b("stories_av"),U=h((Y,ee)=>{const w=!!ee&&Object(O.a)(ee);let ne=!0;return w?ne=Object(u.a)(Y,"allow_video_clips")&&Object(u.a)(Y,"allow_video_clip_sharing_slack_connect"):ne=Object(u.a)(Y,"allow_video_clips"),ne},"isVideoClipSharingEnabledForChannel"),K=h((Y,ee,w)=>{const ne=Object(r.d)(Y,ee),ae=U(Y,ne);return(!ee||!w&&Object(g.b)(Y,ee)||!!w&&Object(j.b)(Y,ne))&&ae},"canDestinationReceiveVideoClips"),V=h((Y,ee,w)=>K(Y,ee,w),"canPostVideoClipInDestination"),z=h((Y,ee,w)=>K(Y,ee,w)&&V(Y,ee,w)&&!!window.MediaRecorder,"shouldRenderVideoRecorderButtonInComposer"),N=h((Y,ee)=>{const w=!!ee&&Object(O.a)(ee);let ne=!0;return w?ne=Object(u.a)(Y,"allow_audio_clips")&&Object(u.a)(Y,"allow_audio_clip_sharing_slack_connect"):ne=Object(u.a)(Y,"allow_audio_clips"),ne},"isAudioClipSharingEnabledForChannel"),A=h((Y,ee,w)=>{const ne=Object(r.d)(Y,ee),ae=N(Y,ne);return(!ee||!w&&Object(g.b)(Y,ee)||!!w&&Object(j.b)(Y,ne))&&ae},"canDestinationReceiveAudioClips"),x=h((Y,ee,w)=>A(Y,ee,w),"canPostAudioMessageInDestination"),k=h((Y,ee,w)=>A(Y,ee,w)&&x(Y,ee,w)&&!!window.MediaRecorder,"shouldRenderAudioRecorderButtonInComposer"),F=h((Y,ee)=>{if(!Z(ee))return!0;const w=Object(u.a)(Y,"allow_clip_downloads"),ne=Object(f.a)(Y),ae=Object(l.b)(Y,ne);if(w==="anyone"||ae)return!0;const de=ee.user!==null&&ee.user===ne;return!!(w==="creator_and_admins"&&de)},"canDownloadClip"),L=h((Y,ee)=>F(Y,ee)||Object(o.i)(),"canOpenClipInNewWindow"),S=Object(s.c)((Y,ee)=>{if(!ee)return!1;if(Object(n.a)(ee.files))return T.a;const w=Object(t.a)(ee.files,ne=>Object(v.e)(Y,ne));return Object(a.a)(w,C.a)});S.meta={name:"createSelector",key:"createSelectorisStoryMessage",description:(Y,ee)=>{if(!ee)return!1;if(Object(n.a)(ee.files))return T.a;const w=Object(t.a)(ee.files,ne=>Object(v.e)(Y,ne));return Object(a.a)(w,C.a)}};function I(Y){let{state:ee,threadKey:w,includeAllMessages:ne=!1,startTs:ae}=Y;const{channelId:de,threadTs:ge}=Object(b.a)(w),{timestamps:le,reachedStart:Q,reachedEnd:ie}=Object(m.h)(ee,w,ae||ge)||{},oe=le!=null&&le.length&&de?le.map(me=>Object(c.b)(ee,de,me)).filter(B.a):[];return{messages:ne?oe:oe.filter(me=>S(ee,me)),reachedStart:!!Q,reachedEnd:!!ie}}h(I,"getMediaThread");function W(Y){var ee;return Y!=null&&Y.vtt?E.a.available:(Y==null||(ee=Y.transcription)===null||ee===void 0?void 0:ee.status)==="processing"?E.a.processing:E.a.none}h(W,"getCaptionsAvailability");const D=h(Y=>Object(u.a)(Y,"allow_media_transcriptions"),"shouldAllowMediaTranscriptions");function H(Y,ee){let w="";if(ee.user){const ae=Object(d.g)(Y,ee.user);w=ae?Object(p.a)(Y,ae):""}let ne;return w?ne=Object(_.a)(ee)?R.t("Audio clip from {memberName}",{memberName:w}):R.t("Video clip from {memberName}",{memberName:w}):ne=Object(_.a)(ee)?R.t("Audio clip"):R.t("Video clip"),ne}h(H,"getLabelForClip");function Z(Y){return Y!=null&&Y.subtype?G(Y.subtype):!1}h(Z,"isClip");function G(Y){let{clipsSubtypes:ee=P.i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ee.includes(Y)}h(G,"isClipsSubtype");function te(Y){return Y===P.f}h(te,"isAudioClipSubtype");function se(Y){return Y&&Y.some(ee=>G(ee.subtype))}h(se,"containsClip");function $(Y){return Y?Y.filter(ee=>G(ee.subtype)):[]}h($,"findClips");function X(Y,ee){const w=Object(f.a)(Y);return(ee==null?void 0:ee.user)===w}h(X,"canRemoveTranscriptPreview");function q(Y){return Object(y.r)(Y)?(Y==null?void 0:Y.aac)||(Y==null?void 0:Y.url_private):(Y==null?void 0:Y.mp4)||(Y==null?void 0:Y.url_private)}h(q,"getMediaSrc")},"62K+":function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("Cnv9"),t=e("SQ0V"),a=e("1PxT");const s=Object(t.c)("Gets contacts to unfurl and formats them as message attachments",function(l,o){let{draftId:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=o();if(!Object(n.b)(r))return[];if(!f)return[];const m=Object(a.d)(r,f);if(!(m!=null&&m.length))return[];const c=m.map(u=>({contact_user_id:u}));return c!=null&&c.length?c:[]});s.meta={name:"createThunk",key:"createThunkgetContactUnfurlsForMessageSend",description:"Gets contacts to unfurl and formats them as message attachments"}},"68wo":function(J,i,e){"use strict";var n=e("E3dU"),t=e("Z6bF"),a=e("SQ0V");const s=h((o,f)=>{var r;const m=Object(n.d)(o,f);var c;return(c=(r=Object(t.a)(m))===null||r===void 0?void 0:r.fileId)!==null&&c!==void 0?c:null},"getChannelSpaceFileId"),l=Object(a.c)("Get fileId for a channel space given a channelId ",(o,f,r)=>{let{channelId:m}=r;return s(f(),m)});l.meta={name:"createThunk",key:"createThunkgetChannelSpaceFileIdThunk",description:"Get fileId for a channel space given a channelId "},i.a=s},"69+H":function(J,i,e){"use strict";e.d(i,"a",function(){return c}),e.d(i,"b",function(){return u});var n=e("Z7Ay"),t=e("Z3Pq"),a=e("FepR"),s=e("s4P+"),l=e("4p6e");const o=[{$id:"optional-values",$schema:"http://json-schema.org/draft-07/schema#",additionalProperties:{properties:{id:{type:"string"},optional:{type:"string"}},required:["id"],type:"object"},id:"optional-values",type:"object"}];function f(){return Object(t.a)(a.a,"schema.id")}h(f,"linkPrecompiledSchemas");function r(){const d=[...a.a,...o],p=new window.TestAjv({schemaId:"auto"});return p.addMetaSchema(window.ajvMetaSchema),p.addSchema(d),d.reduce((v,g)=>{const O=h(b=>p.validate(g.id,b),"validator");return O.errors=p.errors,v[g.id]=O,v},{})}h(r,"linkRuntimeSchemasForTest");const m=Object(l.a)()?r():f();function c(d){return!!m[d]}h(c,"hasSchema");function u(d,p){let{logErrorOnFailure:v=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const g=m[d];return g(p)?!0:((v?Object(s.b)({label:"SCHEMA"}).error:Object(s.b)({label:"SCHEMA"}).warn)(`Invalid data for schema '${d}'. This does not necessarily mean that an error has occurred. Errors:
${JSON.stringify(g.errors)}`,{subtype:d}),!1)}h(u,"validateSchema"),Object(n.a)("schema",{validateSchema:u,hasSchema:c})},"6CqW":function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("q1tI"),t=e.n(n),a=e("2VFn"),s=e("v7mh");const l=h(function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.c;const f=Object(n.useCallback)(m=>{const c=Object(s.a)(m);return o===a.c?Object(s.h)(m,{tab:c}):Object(s.e)(m,{windowId:o})},[o]);return{getSiblingView:Object(n.useCallback)((m,c)=>{let{container:u}=c;const d=f(m);return d?d[u]:void 0},[f]),getViewSet:f}},"useWindowViewSet")},"6Fta":function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("qAkX"),t=e("XpTY");function a(s){if(!s||s.length()===0)return s;const l=s.slice(s.length()-1);if(!l)return s;const o=Object(n.a)(l.ops)||{};return!o||(o==null?void 0:o.insert)!==`
`||Object(t.c)(o)?s:s.slice(0,s.length()-1)}h(a,"stripTrailingNewline")},"6HaY":function(J,i,e){J.exports=e.p+"collaboration-dark-95d7ba1.svg"},"6JBJ":function(J,i,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("fujP"),s=e("F294"),l=e("BeL+"),o=e("ifKl"),f=e("mM05"),r=e.n(f),m=e("SQ0V"),c=e("s4P+"),u=e("5IZy"),d=e("ktUG"),p=e("9Gfp"),v=e("E3dU"),g=e("O5bS"),O=e("vlz8"),b=e("e33t"),y=e("gCYc"),C=e("Yauy"),_=e("vUys"),j=e("Kn+X"),E=e("BBdC"),M=e("Cnv9"),T=e("zcRq"),P=e("kDB5"),B=e("nNoG"),R=e("62K+"),U=e("Z9Pi"),K=e("jBIF"),V=e("f7Y4"),z=e("yzO5"),N=e("LTE6"),A=e("KVhq"),x=e("nwIl");const k=new B.b("drafts");function F(S){let{state:I,draft:W}=S;const D=Object(j.d)(W);if(!Object(a.a)(D))return Object(s.a)(D);const H=Object(j.m)(W);if(!Object(a.a)(H)){if(H.length===1){const $=Object(v.m)(I,H[0]);if($)return Object(C.i)($)}const G=Object(p.a)(I),te=Object(l.a)([G,...H]),se=Object(v.q)(I,te);if(se)return Object(C.i)(se)}return Object(c.a)({state:I,label:"SCHEDULED-SEND"}).info("No existing channel found for draft"),null}h(F,"getDraftChannelId");const L=Object(m.c)("Schedule a message to be sent",function(){var S=Object(n.coroutine)(function*(I,W,D){let{draftId:H,dateScheduled:Z,isSuggestedDate:G=!1,onMessageScheduled:te=o.a,isFromScheduledPage:se=!1}=D;const $=W(),X=Object(x.f)($),q=Object(c.a)({state:$,label:"SCHEDULED-SEND"});q.info(`attempt schedule send message; draftId: ${H}, dateScheduled: ${Z}`);const Y=Object(y.k)($,H),ee=Object(j.s)(Y),w=F({state:$,draft:Y}),ne=Object(j.n)(Y),ae=Object(E.a)(Y),de=Object(_.a)(W(),H),ge=I(Object(T.a)({draftId:H||Object(U.b)({channelId:w}),ops:ne})),le=I(Object(P.a)({unfurls:ge,draftId:H}));X&&I(Object(A.c)({origDraftId:H,newDraftId:ee??""}));let Q;Object(M.b)($)&&(Q=I(Object(R.a)({draftId:H||Object(U.b)({channelId:w})})));const ie=I(Object(K.a)({draftId:H||Object(U.b)({channelId:w})}));return Object(u.a)({state:$}).track(d.EventId.COMPOSE_FLOW,{scheduled_send:{draft_id:H,is_suggested_date:G,scheduling_date:Object(j.i)(Y)||0,new_scheduling_date:Z},contexts:{ui_context:{action:d.UiAction.CLICK,step:d.UiStep.SCHEDULED_MESSAGE_SCHEDULED}}}),I(Object(b.a)({ephemeralType:g.a.scheduleSendError,channelId:w})),I(Object(V.c)({draftId:H,draftUniqueId:ee,delta:new r.a(ne),channelId:w,fileIds:ae,unfurls:ge,unfurlsWithData:le,contactUnfurls:Q,filePermissions:ie,pendingFileIds:de,dateScheduled:Z,includeBroadcastKeywordWarning:!0,includePrivateFileReshareWarning:!0,includeAtMentionInviteWarning:!1,includeExternalMembersSpeedBump:!se,includeLoginInitiateRedirectLinkWarning:!0,includePrivateMessageForwardingSpeedBump:!0})).then(()=>{te()}).catch(me=>{if(V.a.includes(me==null?void 0:me.message)){q.info(`Non fatal error caught while schedule sending message: ${me.message}, draftId: ${H}, dateScheduled: ${Z}`);return}if(q.error(`Error with schedule send message: ${me.message}, draftId: ${H}, dateScheduled: ${Z}`),(me==null?void 0:me.name)===N.a.MessageLimitExceeded){I(Object(z.a)({isScheduledMessage:!0}));return}const be=k.t("We\u2019re not sure what happened, but your message couldn\u2019t be scheduled. It\u2019s been saved in your Drafts so you can try again.");I(Object(O.a)({ephemeralType:g.a.scheduleSendError,message:{channel:w,text:be}}))})});return function(I,W,D){return S.apply(this,arguments)}}());L.meta={name:"createThunk",key:"createThunkscheduleSendMessage",description:"Schedule a message to be sent"},i.a=L},"6KId":function(J,i,e){"use strict";e.d(i,"a",function(){return ge});var n=e("ifKl"),t=e("fujP"),a=e("3Hq1"),s=e("M1Wn"),l=e("gSGL"),o=e("HA5h"),f=e("yIs4"),r=e("8QLk"),m=e("Bw5p"),c=e("jeQL"),u=e("XhtD"),d=e("mYQK"),p=e.n(d),v=e("mM05"),g=e.n(v),O=e("wSSu"),b=e.n(O),y=e("QOYf"),C=e("Z44y"),_=e("cqtq"),j=e("qAkX"),E=e("pu3F"),M=e("Yu+/"),T=e("VJ6u");const P=E.D-1;function B(le,Q,ie){let oe=0;le==null||le.forEach(Pe=>{Object(M.a)(Pe)&&(oe+=1)});const me=(Q==null?void 0:Q.indent)||0,be=(ie==null?void 0:ie.indent)||0;let Se=Math.min(me+be,P);return oe===2&&(Se=be>=me?0:me),Se}h(B,"getRelativeIndent");function R(){let{delta:le,format:Q,omitFinalBlockFormattingLine:ie=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{delta:void 0,format:void 0,omitFinalBlockFormattingLine:!1},oe=new g.a;le==null||le.eachLine((Pe,Ue)=>{if(oe=oe.concat(Pe),Q!=null&&Q.list&&(Ue!=null&&Ue.list)){const Fe=B(le,Q,Ue);oe=oe.concat(new g.a().insert(`
`,{...Ue,indent:Fe}))}else if(Q!=null&&Q.blockquote&&(Ue!=null&&Ue.list)){const Fe=B(le,Q,Ue);oe=oe.concat(new g.a().insert(`
`,{blockquote:!1,border:1,list:Ue.list,indent:Fe}))}else Q!=null&&Q.blockquote&&(Ue!=null&&Ue["code-block"])?oe=oe.concat(new g.a().insert(`
`,{blockquote:!1,border:1,"code-block":!0})):oe=oe.concat(new g.a().insert(`
`,Q))}),Q&&Q["code-block"]&&(oe=oe.compose(Object(T.a)(oe)));let be=!0;if(Q!=null&&Q.list||Q!=null&&Q.blockquote){const Pe=oe.length()!==0&&oe.slice(oe.length()-1)||new g.a,Ue=Object(j.a)(Pe==null?void 0:Pe.ops),Fe=Ue==null?void 0:Ue.attributes,{list:je,indent:_e,border:pe}=Fe||{},fe=Fe==null?void 0:Fe["code-block"],Ee=(Q==null?void 0:Q.indent)||0,ye=je&&Object(f.a)(pe)&&pe>0,Te=fe&&Object(f.a)(pe)&&pe>0;be=!(je&&Object(f.a)(_e)&&_e>0&&_e>Ee)&&!ye&&!Te}if(ie&&be||!Q){const Pe=oe.length();oe=oe.slice(0,Pe-1)}return oe}h(R,"convertDeltaToBlockFormat");var U=e("T5R/"),K=h(function(le,Q){let{formats:ie}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},oe="@",me=le.index;return Q==="@"?me-=1:Q&&Q!==" "&&(oe=` ${oe}`),new g.a().retain(me).delete(le.index-me).delete(le.length).insert(oe,ie)},"get_mention_insert_delta"),V=e("dA19"),z=e("rneN"),N=e("1m8D"),A=e("0LZ2"),x=e("+HCj"),k=e("p7YC"),F=e("Y/OQ"),L=e("kBpe");const S={attributes:{},logger:{error:n.a,info:n.a,warn:n.a},modules:{},onEnter:n.a},I=50,W="TEXTY",D=["code-block","blockquote","list","indent","border"],H=h((le,Q)=>{!le||Object(t.a)(Q)||Object.keys(Q).forEach(ie=>{const oe=Q[ie];!Object(a.a)(oe)&&!Object(s.a)(oe)&&le.setAttribute(ie,oe)})},"addAttributes"),Z=h(le=>{H(le,{"aria-hidden":!0,tabindex:-1})},"hideElFromScreenReaders"),G=h((le,Q,ie,oe)=>{le.element.addEventListener("click",le.onInputClick),Q.root.addEventListener("focus",le.onRootFocus),Q.root.addEventListener("blur",le.onRootBlur),Q.root.addEventListener("compositionstart",le.onCompositionStart),Q.root.addEventListener("compositionend",le.onCompositionEnd),p.a.msie&&Q.root.addEventListener("focusout",le.onRootFocusOut),Q.on("selection-change",me=>{me&&le.setLastSelection(me),le.hasFocus()?le.onFocus():le.onBlur(),ie.onSelectionChange&&ie.onSelectionChange(me)}),(le.useWysiwyg||ie.usePlainTextMode)&&oe.addEventListener("resize",le.onResize),Q.on("text-change",(me,be,Se)=>{le.setLastSelection();const Pe=Q.getLength()>1&&be.length()<=1;if(Pe&&le.enforceEmptyStateConsistency(),ie.onTextChange){const Ue=le.nextTextChangeCallbackSource||Se;le.nextTextChangeCallbackSource=null,ie.onTextChange(Ue,Pe,le.isInComposition)}}),Q.on(Object(A.a)(oe).events.SCROLL_OPTIMIZE,le.onScrollOptimize)},"configUserEvents"),te=h((le,Q)=>{const{id:ie,getTeamId:oe,singleLineInput:me,tabIndex:be,role:Se,ariaLabel:Pe,ariaLabelledBy:Ue,ariaDescribedBy:Fe,ariaControls:je,ariaExpanded:_e,ariaAutocomplete:pe,ariaActiveDescendant:fe,inputMetricBoundary:Ee}=Q,ye={id:ie,dir:"auto",role:Se||"textbox",tabindex:be,"data-team-id":oe?oe():"","data-input-metric-boundary":Ee,"aria-label":Pe,"aria-labelledby":Ue,"aria-describedby":Fe,"aria-multiline":!me},Te=Object(L.p)()&&Object(L.c)()===L.a.SAFARI,Oe=Se==="combobox",Ce=Te?"aria-owns":"aria-controls";(Te||Oe)&&(ye[Ce]=je),Oe&&(ye["aria-expanded"]=_e),ye["aria-autocomplete"]=pe;const ce=Object(l.a)(fe)&&fe.length?fe:void 0;ye["aria-activedescendant"]=ce,H(le.root,ye)},"configAttributes"),se=h((le,Q)=>!Q||!Q.modules||!Q.modules.clipboard?{}:Object(o.a)({onPasted:le.setLastSelection.bind(le),logger:Q.logger,getUserHighlightWords:Q.getUserHighlightWords,useWysiwyg:le.useWysiwyg,usePlainTextMode:Q.usePlainTextMode,supportsAnchorText:!Q.disableAnchorText,texty:le,teamId:Q.getTeamId?Q.getTeamId():"",useChannelTagging:Q.useChannelTagging},Q.modules.clipboard),"buildClipboardOptions"),$=h((le,Q,ie)=>le.useWysiwyg?{convertImages:ie.includes("slackdocimage"),linkifyOnSpace:le.useWysiwyg&&!Q.disableAnchorText,supportsAnchorText:!Q.disableAnchorText,teamId:Q.getTeamId?Q.getTeamId():""}:null,"buildSlackLinkOptions"),X=h((le,Q,ie)=>le.useWysiwyg&&!Q.usePlainTextMode?{convertHeaders:ie.includes("header"),convertHorizontalRule:ie.includes("slackhorizontalrule"),teamId:Q.getTeamId?Q.getTeamId():""}:null,"buildSlackMarkdownOptions"),q=h((le,Q)=>!Q||!Q.modules||!Q.modules.tabcomplete?!1:Object(o.a)({logger:Q.logger,tooltipIsShowing:Q.modules.tabcomplete.tooltipIsShowing||n.a,tooltipShow:Q.modules.tabcomplete.tooltipShow||n.a,tooltipHide:Q.modules.tabcomplete.tooltipHide||n.a,useWysiwyg:le.useWysiwyg&&!Q.usePlainTextMode,teamId:Q.getTeamId?Q.getTeamId():""},Q.modules.tabcomplete),"buildTabCompleteOptions"),Y=h(le=>!le||!le.modules||!le.modules.slackmention?!1:le.modules.slackmention,"buildSlackMentionOptions"),ee=h((le,Q)=>!Q||!Q.modules||!Q.modules.textsubstitutions?!1:(Object(U.a)(),{useWysiwyg:le.useWysiwyg,usePlainTextMode:Q.usePlainTextMode,isInComposition:()=>le.isInComposition,...Q.modules.textsubstitutions}),"buildTextSubstitutionsOptions"),w=h((le,Q)=>!Q.forceAutoslugginEnabled&&Q.singleLineInput||!Q||!Q.modules||!Q.modules.tabcomplete?!1:{getTeamId:Q.getTeamId||n.a,getChannelId:Q.getChannelId||n.a,enableBroadcastKeywords:Q.enableBroadcastKeywords,isAutocompleteOpen:Q.isAutocompleteOpen,includeAllBroadcastKeywords:Q.includeAllBroadcastKeywords,getUserHighlightWords:Q.getUserHighlightWords,promiseToSearchMembers:Q.promiseToSearchMembers,promiseToSearchChannels:Q.promiseToSearchChannels,promiseToSearchEmoji:Q.promiseToSearchEmoji,onMentionReplace:Q.onMentionReplace||n.a,useWysiwyg:le.useWysiwyg,usePlainTextMode:Q.usePlainTextMode,useChannelTagging:Q.useChannelTagging,inlineEmojiIsEnabled:Q.inlineEmojiIsEnabled},"buildAutoSlugOptions"),ne=h((le,Q)=>Q?{isJumbomojiEnabled:Q.isJumbomojiEnabled,inlineEmojiIsEnabled:Q.inlineEmojiIsEnabled,convertEmoticonsIsEnabled:Q.convertEmoticonsIsEnabled,getEmojiNames:Q.getEmojiNames,getLocale:Q.getLocale,replaceNativeEmoji:Q.replaceNativeEmoji,updateJumbomojiClass:ie=>{const oe=le.element.classList.contains("texty_emoji_only");ie&&!oe&&le.element.classList.add("texty_emoji_only"),!ie&&oe&&le.element.classList.remove("texty_emoji_only")},safeToReplaceEmoji:()=>{const ie=le.quill.getModule("tabcomplete");return ie?!ie.isShowing():!0},teamId:Q.getTeamId?Q.getTeamId():"",useWysiwyg:le.useWysiwyg,usePlainTextMode:Q.usePlainTextMode}:!1,"buildSlackEmojiOptions"),ae=h((le,Q)=>Q?{useWysiwyg:le.useWysiwyg,usePlainTextMode:Q.usePlainTextMode,getTextChangeModules:()=>{const ie=[];return le.quill&&(le.quill.options.modules.textsanitization&&ie.push(le.quill.getModule("textsanitization")),le.useWysiwyg&&ie.push(le.quill.getModule("slacklink")),le.quill.options.modules.slackmention&&ie.push(le.quill.getModule("slackmention")),w(le,Q)&&ie.push(le.quill.getModule("autoslug")),le.quill.options.modules.slackemoji&&ie.push(le.quill.getModule("slackemoji")),le.useWysiwyg&&!Q.usePlainTextMode&&ie.push(le.quill.getModule("slackmarkdown")),le.quill.options.modules.textsubstitutions&&ie.push(le.quill.getModule("textsubstitutions")),le.quill.options.modules.cleanembedsincode&&ie.push(le.quill.getModule("cleanembedsincode")),le.quill.options.modules.cleanemptyinput&&ie.push(le.quill.getModule("cleanemptyinput")),le.quill.options.modules.cleanworkflowtokens&&ie.push(le.quill.getModule("cleanworkflowtokens"))),ie},teamId:Q.getTeamId?Q.getTeamId():""}:!1,"buildTextChangeQueueOptions"),de=h((le,Q)=>{if(delete le.__quill,delete le.__blot,delete le["__ql-matcher"],delete le["__ql-computed-style"],!(!(le instanceof Q.HTMLElement)||b.a.unmountComponentAtNode(le)))for(;le.lastChild;){const oe=le.lastChild;le.removeChild(oe),de(oe,Q)}},"detachNode");let ge=h(class{unload(){this.getModules().forEach(Q=>{Q.unload&&Q.unload()}),this.element.removeEventListener("click",this.onInputClick),this.quill.root.removeEventListener("focus",this.onRootFocus),this.quill.root.removeEventListener("blur",this.onRootBlur),this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd),this.window.removeEventListener("resize",this.onResize),p.a.msie&&this.quill.root.removeEventListener("focusout",this.onRootFocusOut),this.quill.off(this.Quill.events.SCROLL_OPTIMIZE,this.onScrollOptimize),this.quill.rootListeners&&(this.quill.rootListeners.forEach(Q=>{let[ie,oe,me]=Q;this.quill.root.removeEventListener(ie,oe,me)}),delete this.quill.rootListeners,delete this.quill.root.addEventListener),this.quill.scroll.detach(),de(this.element,this.window)}onCompositionStart(){this.isInComposition=!0}onCompositionEnd(){this.isInComposition=!1,this.options.onCompositionEnd&&this.options.onCompositionEnd()}onScrollOptimize(){this.options.onScrollOptimize&&this.options.onScrollOptimize()}onResize(){this.options.onResize&&this.options.onResize()}openPlusMenuShortcut(){this.options.onPlusMenuShortcut&&this.options.onPlusMenuShortcut()}onInputClick(Q){this.maybeHandleLinkClick(Q),!this.quill.hasFocus()&&!Object(C.a)()&&this.quill.focus()}onRootFocus(){this.onFocus()}onRootBlur(){if(this.quill.hasFocus()||Object(C.a)()&&(p.a.safari||p.a.firefox))return;const Q=this.quill.getModule("tabcomplete");Q&&Q.hideAndReset(),this.onBlur()}onRootFocusOut(Q){let{relatedTarget:ie}=Q;ie&&(ie===this.window.document.body||ie===this.window.document||setTimeout(()=>{this.window.document.activeElement!==ie&&ie.focus()},0))}onFocus(){this.element.classList.contains("focus")||(this.element.classList.add("focus"),this.options.onFocus&&this.options.onFocus())}onBlur(){this.element.classList.contains("focus")&&(this.element.classList.remove("focus"),this.options.onBlur&&this.options.onBlur())}maybeHandleLinkClick(Q){if(!this.options.onLinkClick)return;const ie=Q.target.closest("a");if(!ie||!this.quill.root.contains(ie))return;const oe=ie.getBoundingClientRect(),me=Q.x-oe.left,be=oe.right-Q.x;if(oe.width>=20&&me<5||oe.width>=20&&be<5)return;const Pe=this.Parchment.find(Q.target).offset(this.quill.scroll),Ue=this.quill.getContents(Pe,1);if(Ue.ops.length===1&&Object(V.a)(Ue.ops[0]))return;const Fe=Object(z.a)(this.quill.getContents(),{index:Pe+1,length:0},this.quill.getFormat(Pe+1,0)),je=this.quill.getFormat(Fe),_e=this.quill.getContents(Fe.index,Fe.length);this.options.onLinkClick(Q.target,je.link,_e,Fe)}enable(){this.quill.enable(),this.element.querySelector(".ql-editor").setAttribute("tabindex",0)}disable(){this.quill.disable(),this.blur(),this.element.querySelector(".ql-editor").setAttribute("tabindex",-1)}isEnabled(){return this.quill.isEnabled()}focus(){this.isEnabled()&&this.quill.focus()}selectAll(){this.setSelection(0,this.getLength())}blur(){this.quill.blur()}hasFocus(){return this.quill&&this.quill.hasFocus()}getContents(){return this.quill?{contents:this.quill.getContents().ops}:{contents:[]}}getDelta(){var Q;return((Q=this.quill)===null||Q===void 0?void 0:Q.getContents())||new g.a}setContents(Q){let{source:ie="api"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.nextTextChangeCallbackSource=ie,this.quill.setContents(Q.contents,ie),this.hasFocus()&&this.quill.setSelection(this.quill.getLength(),0);const oe=this.quill.getModule("autoslug");oe&&oe.clearSearchCache()}prependContents(Q){const ie=new g.a(Q.contents).concat(new g.a(this.quill.getContents()));return this.setContents({contents:ie.ops})}maybeTriggerSlashCommandsAutocomplete(){if(this.quill.focus(),!this.quill.getSelection())return;const ie=this.getBlockFormat();if(!this.isEmpty()||!Object(t.a)(ie))return;const oe=new g.a().insert("/");this.quill.updateContents(oe,"user"),setTimeout(()=>{this.quill.setSelection(1,0,"user"),this.setSelectionAtEnd()},0)}maybeTriggerMentionAutocomplete(){this.quill.focus();const Q=this.quill.getSelection();if(!Q){this.options.logger.warn(W,"trying to trigger mention autocomplete but there is no range");return}const ie=this.quill.getFormat(Q.index-1,1),oe=this.quill.getFormat(Q.index,1),me=this.quill.getLength()-1;if(Q&&Q.index<me&&ie.slackmention&&oe.slackmention)return;const be=this.getFormats()||{},Se=this.quill.getText(Q.index-1,1),Pe=K(Q,Se,{formats:be});this.quill.updateContents(Pe,"user");const Fe=this.quill.getLength()-1-me;this.quill.setSelection(Q.index+Fe,0,"user");const je=this.quill.getModule("tabcomplete");je&&je.maybeCompleteAtCursor("user")}getTextForRange(Q,ie){return this.quill.getText(Q,ie)}getContentsForRange(Q,ie){return this.quill.getContents(Q,ie)}getLineAtCursor(){const Q=this.quill.getContents(),ie=this.getSelection();if(!Q||!ie)return null;const oe=ie.index||0;let me,be=0;return Q.eachLine(Se=>{if(me)return;const Pe=Se&&Se.ops,Ue=Object(F.a)(Pe,{replaceLinks:!0,replaceCode:!0,embedReplacement:"a"}),Fe=be+(Ue?Ue.length:0)+1;oe>=be&&oe<Fe&&(me=Se),be=Fe}),me}getText(){return this.quill.getText().replace(/\n$/,"")}setText(Q){if(!Q){this.clear();return}this.nextTextChangeCallbackSource="api",this.quill.setText(Q),this.hasFocus()&&this.quill.setSelection(this.quill.getLength(),0)}insertText(Q,ie){let oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,me=Q;if(!Object(f.a)(me)){this.options.logger.warn(W,"no specified index");return}const be=this.quill.getLength()-1;me=Object(r.a)(me,0,be),ie&&this.quill.insertText(me,ie,"user"),this.setLastSelection({index:me+ie.length,length:0}),this.hasFocus()?this.quill.setSelection(this.lastSelection):oe&&this.quill.setSelection(this.lastSelection,0,"silent")}insertTextAtCursor(Q){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(Object(y.a)()){this.options.logger.warn(W,"do not call insertTextAtCursor from modern. use insertContentsAtCursor");return}this.lastSelection.length&&this.quill.deleteText(this.lastSelection),this.insertText(this.lastSelection.index,Q,ie)}insertContentsAtCursor(Q){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"user",{matchBlockFormat:me=!1}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},be=new g.a(Q.contents);if(me){const Ue=this.getBlockFormat();Ue&&(be=R({delta:be,format:Ue,omitFinalBlockFormattingLine:!0}))}const Se=new g.a().retain(this.lastSelection.index).delete(this.lastSelection.length).concat(be),Pe=this.lastSelection.index+be.length();this.setLastSelection({index:Pe,length:0}),this.quill.updateContents(Se,oe),this.hasFocus()?this.quill.setSelection(Pe,0,oe):ie&&this.quill.setSelection(Pe,0,oe)}updateContents(Q){const ie=new g.a(Q.contents);this.quill.updateContents(ie,"api")}getFormats(Q){let ie=Q;return Object(f.a)(ie)||(ie=this.lastSelection.index),this.quill.getFormat(ie,0)}getBlockFormat(Q){const ie=this.getFormats(Q);if(!ie)return null;const oe=Object(m.a)(ie,D);return Object(t.a)(oe)?null:oe}clear(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.setLastSelection({index:0,length:0});const ie=Q.is_silent?"silent":"api";this.setContents({contents:new g.a().insert(`
`)},{source:ie});const oe=this.quill.getModule("autoslug");oe&&oe.clearSearchCache()}refreshJumbomoji(){this.quill.getModule("slackemoji").toggleJumbomoji(this.quill.getContents())}refreshContents(Q){this.quill.setContents(Q.contents,"silent")}getPlaceholder(){return this.placeholder?this.placeholder.innerHTML:""}setPlaceholder(Q){this.placeholder||(this.placeholder=this.quill.addContainer("ql-placeholder"),Z(this.placeholder)),Q?this.placeholder.innerHTML=Q:this.placeholder.innerHTML=""}setAriaLabel(Q){const ie=this.quill.root;if(!Q){ie.removeAttribute("aria-label");return}ie.setAttribute("aria-label",Q)}setAriaDescribedBy(Q){const ie=this.quill.root;if(!Q){ie.removeAttribute("aria-describedby");return}ie.setAttribute("aria-describedby",Q)}setActiveDescendant(Q){const ie=this.quill.root;if(!Q){ie.removeAttribute("aria-activedescendant");return}ie.setAttribute("aria-activedescendant",Q)}getSelection(){return!this.hasFocus()&&this.lastSelection?this.lastSelection:this.quill.getSelection()}getBounds(Q,ie){return this.quill.getBounds(Q,ie)}getFormat(Q){return Q?this.quill.getFormat(Q):this.quill.getFormat(this.lastSelection)}setSelection(Q){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!this.isEnabled())return!1;let oe=Q,me=ie;if(!Object(f.a)(oe)&&!Object(f.a)(me))return!1;const be=this.quill.getLength()-1;oe=Object(r.a)(oe,0,be),me=Object(r.a)(me,0,be-oe);try{return this.quill.setSelection(oe,me),!0}catch(Se){return this.options.logger.error(W,`Failed to set selection (${Se})`),Se.stack&&this.options.logger.error(W,Se.stack),!1}}setSelectionAtEnd(){const Q=this.getLength();this.setSelection(Q,0)&&(this.element.querySelector(".ql-editor").scrollLeft=1e4)}isEmpty(){return this.quill.getLength()<=1}getLength(){return this.quill.getLength()-1}isCursorInPreBlock(){const Q=this.quill.getSelection();if(!Q)return!1;if(this.useWysiwyg&&!this.options.usePlainTextMode){const oe=this.quill.getFormat(Q);return!!(oe&&oe["code-block"])}const ie=this.quill.getText(0,Q.index+Q.length);return Object(x.a)(ie)}isIndexInCode(Q){const ie=this.quill.getText(0,Q);return Object(k.a)(ie)}deleteSelection(){const Q=this.quill.getSelection();Q&&Q.length&&(this.quill.deleteText(Q.index,Q.length),this.quill.setSelection(Q.index))}deleteText(Q,ie){this.quill.deleteText(Q,ie)}clearHistory(){this.quill.history.clear()}setLastSelection(Q){Q?this.lastSelection=Q:this.isEmpty()?this.lastSelection={index:0,length:0}:this.lastSelection=this.quill.getSelection()||this.lastSelection}getModules(){const Q=[];return Object.keys(this.quill.options.modules).forEach(ie=>{const oe=this.quill.getModule(ie);oe&&Q.push(oe)}),Q}enforceEmptyStateConsistency(){this.placeholder&&(this.placeholder.offsetHeight,this.placeholder.style.transform="translateZ(0)",this.placeholder.style.transform="")}constructor(Q,ie,oe){if(!Q||Q.tagName!=="DIV")throw new Error('Texty: param "element" must be <div> element');this.options=Object(o.a)({},S,Object(c.a)(ie,a.a));const me=this.options.isMultiverseQuillEnabled&&this.options.window?this.options.window:window;this.Quill=oe(me),this.Parchment=this.Quill.import("parchment"),this.onInputClick=this.onInputClick.bind(this),this.onRootFocus=this.onRootFocus.bind(this),this.onRootBlur=this.onRootBlur.bind(this),this.onRootFocusOut=this.onRootFocusOut.bind(this),this.onResize=Object(_.a)(this.onResize.bind(this),I),this.onCompositionStart=this.onCompositionStart.bind(this),this.onCompositionEnd=this.onCompositionEnd.bind(this),this.onScrollOptimize=this.onScrollOptimize.bind(this),this.window=me,this.element=Q,this.placeholder=null,this.setLastSelection({index:0,length:0}),this.nextTextChangeCallbackSource=null,this.isInComposition=!1,this.useWysiwyg=this.options.useWysiwyg,this.options.singleLineInput&&Q.classList.add("texty_single_line_input"),this.options.showTextyTooltips||Q.classList.add("texty_hide_tooltips"),this.options.className&&this.options.className.split(" ").forEach(Pe=>{Q.classList.add(Pe)});const be=["slackemoji","unlink"];if(this.options.modules.slacksearch&&(be.push("slacksearchtokenmodifier"),be.push("slacksearchtokenvalue")),this.options.modules.slackmention&&be.push("slackmention"),this.options.modules.slackhorizontalrule&&be.push("slackhorizontalrule"),this.options.modules.slackdocimage&&be.push("slackdocimage"),this.options.useWorkflowTokens&&be.push("workflowtoken"),this.useWysiwyg&&!this.options.usePlainTextMode){const{formats:Pe}=Object(N.b)({overrideDefaultFormats:ie.overrideDefaultFormats,overridesDefaultComposerButtons:ie.overridesDefaultComposerButtons,useWorkflowTokens:ie.useWorkflowTokens,useExpandedRichText:ie.useExpandedRichText});if(Pe.forEach(Ue=>{["h1","h2","h3"].includes(Ue)?be.includes("header")||be.push("header"):["bullet-list","ordered-list","check-list"].includes(Ue)?be.includes("list")||be.push("list"):be.push(Ue)}),be.push("indent"),!this.options.modules.slackdocslist&&this.options.nestedListDepth){const Ue=this.options.nestedListDepth;if(Ue){const Fe=this.Quill.import("formats/indent"),je=Object(u.a)(1,Ue);Fe.whitelist=je}}}const Se=this.options.useQuillClass||this.Quill;this.quill=new Se(Q,{formats:be,scrollingContainer:this.options.scrollingContainerSelector,modules:{clipboard:se(this,this.options),keyboard:{...this.options.modules.keyboard,onEnterExternal:this.options.onEnter,onBackspaceExternal:this.options.onBackspace,onEscapeExternal:this.options.onEscape,onTabExternal:this.options.onTab,texty:this,singleLineInput:this.options.singleLineInput,inlineEmojiIsEnabled:this.options.inlineEmojiIsEnabled,teamId:ie.getTeamId?ie.getTeamId():"",useWysiwyg:this.useWysiwyg,usePlainTextMode:this.options.usePlainTextMode,showLinkForm:this.options.showLinkForm,useExpandedRichText:this.options.useExpandedRichText},tabcomplete:q(this,this.options),textsubstitutions:ee(this,this.options),slackmention:Y(this.options),slackemoji:ne(this,this.options),slacklink:$(this,this.options,be),slackdocimage:this.options.modules.slackdocimage,slackdocslist:this.options.modules.slackdocslist,slackmarkdown:X(this,this.options,be),slackhorizontalrule:this.options.modules.slackhorizontalrule,textchangequeue:ae(this,this.options),textsanitization:{stripNewlines:this.options.singleLineInput},autoslug:w(this,this.options),workflowtoken:this.options.useWorkflowTokens?{onClick:this.options.workflowTokenClick}:null,cleanembedsincode:this.options.modules.cleanembedsincode,cleanemptyinput:this.options.modules.cleanemptyinput,cleanworkflowtokens:this.options.modules.cleanworkflowtokens}}),G(this,this.quill,this.options,this.window),te(this.quill,this.options),this.setPlaceholder(this.options.placeholder),Z(this.quill.clipboard.container)}},"BaseTextyClass")},"6Mvn":function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("+l5E"),t=e("JQ3U"),a=e("E3dU"),s=e("vfvl"),l=e("ccuj"),o=e("nnVK"),f=e("RcBX"),r=e("m64q"),m=e("RVJP");function c(u,d){if(!d||!Object(n.T)(d)||!(Object(m.d)(u,"canvas_content_reactions")==="on")&&Object(r.a)(d)||Object(t.h)(d))return!1;const v=Object(a.d)(u,d.channel);if(Object(s.a)(v)||Object(f.a)(v))return!1;const g=Object(l.a)(d);return!(g&&Object(o.a)(u,{threadTs:g,channelId:v?v.id:""}))}h(c,"canAddReaction")},"6Q+y":function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("SQ0V"),t=e("H2PH"),a=e("PIf0");const s=Object(n.c)("Upload Files to queue instance and set the correct windowId",(l,o,f,r)=>{let{teamId:m,files:c,shareData:u={},traceTags:d={},samplingOptions:p,hideBanner:v}=f;const g=Object(t.a)(m),O=r(a.a),b=O==null?void 0:O.windowId;return g.uploadFiles({files:c,shareData:u,traceTags:d,samplingOptions:p,hideBanner:v,originWindowId:b})});s.meta={name:"createThunk",key:"createThunkuploadFiles",description:"Upload Files to queue instance and set the correct windowId"}},"6X65":function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("ZKjC"),t=e("x6tY"),a=e("mZIY");const s=Object(n.b)((l,o)=>{let{file:f}=o;return!f||!Object(t.g)(f)?!1:Object(a.b)(l,f.source_team)});s.meta={name:"createSelector",key:"createSelectorisExternalWorkspaceOwnedCanvas",description:(l,o)=>{let{file:f}=o;return!f||!Object(t.g)(f)?!1:Object(a.b)(l,f.source_team)}}},"6YLm":function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("m5Yc");const{BROADCAST:t}=n.b,a=h(s=>{var l;return((l=s)===null||l===void 0?void 0:l.type)===t},"isRichTextBroadcastElement")},"6je6":function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("m5Yc");const{USERGROUP:t}=n.b,a=h(s=>{var l;return((l=s)===null||l===void 0?void 0:l.type)===t},"isRichTextUsergroupElement")},"6v4I":function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"a",function(){return a});var n=e("LK2A");const t=[{regExp:/https:\/\/(.+?)(\.dev[0-9]*?|\.staging)?\.slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}\/p([0-9]+)(?:\?thread_ts=[0-9]+\.[0-9]+&cid=(?:C|G|D)[A-Z0-9]{8,})?/,urlType:n.CollabUrlType.SLACK_MESSAGE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+\.(jpe?g|png|gif)$/,urlType:n.CollabUrlType.SLACK_IMAGE_FILE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+/,urlType:n.CollabUrlType.SLACK_FILE},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/(?:docs|canvas)\/([^/]+?)(?:\/(F[A-Z0-9]{8,}).*?)?(?:\?focus_section_id=[^=#\s&]+)(?:&([^#\s]*))?(?:#([\S]*))?/,urlType:n.CollabUrlType.SLACK_DOCUMENT_SECTION},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/docs\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:n.CollabUrlType.SLACK_DOCUMENT},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/team\/(U|W)[A-Z0-9]{8,}/,urlType:n.CollabUrlType.SLACK_USER},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}$/,urlType:n.CollabUrlType.SLACK_CHANNEL},{regExp:/https:\/\/((dev|qa|staging|staging-master)([0-9]+?)?\.)?(slack|slack-gov|slack-gov-dev)\.com\/shortcuts\/Ft[A-Za-z0-9_-]+?\/([A-Za-z0-9_-]{32})/,urlType:n.CollabUrlType.SLACK_WORKFLOW}];let a=h(class{constructor(){this.supportedUrlParsers=t}},"QuipUrlParsersProvider")},"7/SY":function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("mM05"),t=e.n(n),a=e("pu3F"),s=e("FZE2"),l=e("6pED");function o(f){if(!f)return!1;const r=new t.a(f.contents);return!(!Object(l.a)(r,{trimWhitespace:!0})||Object(s.a)(r)>a.C)}h(o,"isValidMessageContents")},"71eM":function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Sets the visibility override for a Clips NUX component for the session");t.meta={name:"createAction",key:"createActionsetClipsNuxOverride",description:"Sets the visibility override for a Clips NUX component for the session"}},"71i0":function(J,i,e){J.exports=e.p+"sandwich@2x-123b870.png"},"74tS":function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("6inW"),t=e("DuRM"),a=e("kBpe"),s=e("vfQU"),l=e("s4P+");const o=h(f=>{const r=Object(n.a)(f),m=Object(t.c)(r),c=m==null?void 0:m.childWindowRef,u=c?c.browserWindowId:null;Object(a.i)()?Object(s.eb)()?u?Object(s.w)(u):Object(l.b)({label:"HUDDLES_PRO_MAX"}).warn("Skip focus huddle pro max window, reason: no windowId available"):Object(l.b)({label:"HUDDLES_PRO_MAX"}).warn("Skip focus huddle pro max window, reason: desktop API not available"):c?c.focus():Object(l.b)({label:"HUDDLES_PRO_MAX"}).warn("Skip focus huddle pro max window, reason: desktop API not available")},"focusHuddleChildWindow")},"77xR":function(J,i,e){"use strict"},"7AiH":function(J,i,e){"use strict";e.d(i,"a",function(){return b});var n=e("gSGL"),t=e("0qhH"),a=e("htTJ"),s=e("IOc2"),l=e("tfz1"),o=e("5SjC"),f=e("wsJ+"),r=e("3yyz"),m=e("mSgU");const c=m.d.concat(["@","#","`","$","%","^","&","+","=","|",'"',"/"]),u=c.filter(y=>y!==".").map(y=>`\\${y}`).join("|"),d=c.filter(y=>y!=="."&&y!=="_").map(y=>`\\${y}`).join("|"),p=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${u}|$)`,"g"),v=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20#\uFF03].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${d}|$)`,"g"),g=new RegExp(`[\\.|\\s|${u}]+$`),O=new RegExp(`(${Object(f.a)().source})`,"g");function b(y){let{useChannelTagging:C=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!y)return[];let _=0;const j=[],E=C?v:p;return Object(o.a)(y,(M,T)=>{if(Object(l.a)(T)||!Object(t.a)(M)||Object(s.a)(M)||Object(a.a)(M)){_+=Object(r.a)(M);return}Object(n.a)(M.insert)&&M.insert.replace(E,(B,R,U)=>{let K=U,V=R;const z=B.indexOf("@");z>0&&(K+=z);const N=B.indexOf("\uFF20");if(N>0&&(K+=N),C){const k=B.indexOf("#");k>0&&(K+=k);const F=B.indexOf("\uFF03");F>0&&(K+=F)}const A=R.length;V=R.replace(g,"");const x=C?V.replace(/^[@\uFF20#\uFF03]/,""):V.replace(/^[@\uFF20]/,"");x.length&&j.push({type:C&&["#","\uFF03"].includes(R.charAt(0))?"channel":"member",text:Object(n.a)(M.insert)?M.insert:"",matchLength:A,label:V,labelWithoutPrefix:x,localIndex:K,globalIndex:K+_})}),Object(n.a)(M.insert)&&M.insert.replace(O,(B,R,U,K)=>{let V=K;const z=B.indexOf(":");z>0&&(V+=z);const N=R.length,A=R.replace(/:/g,"");if(!A.length)return;const x=/^:[0-9]+:$/.test(B),k=Object(n.a)(M.insert)?M.insert.substring(0,K):"",F=/(^|\s)[0-9]+$/.test(k);x&&F||j.push({type:"emoji",text:Object(n.a)(M.insert)?M.insert:"",matchLength:N,label:R,labelWithoutPrefix:A,localIndex:V,globalIndex:V+_})}),_+=Object(r.a)(M)}),j}h(b,"getPotentialMentionMatches")},"7HMQ":function(J,i,e){"use strict";e.d(i,"a",function(){return u});var n=e("qBqz"),t=e("xwCZ"),a=e("K7jq");function s(d){return d==null?void 0:d[n.a]}h(s,"getMemberWhoCanShareContactCardPref");function l(d,p){const v=Object(t.g)(d,p);if(!v)return!1;const g=s(v);return g===n.b.NO_ONE?!1:Object(a.a)(v)?g===n.b.EVERYONE:!0}h(l,"isMemberContactInfoShareableById");var o=e("Cnv9"),f=e("9Gfp"),r=e("C3vN");const m={...o.a,CONTACT_PREFS_RESTRICTED:"contact_prefs_restricted",CONTACT_IS_SELF:"contact_is_self",CONTACT_NOT_ACTIVE_MEMBER:"contact_not_active_member"};function c(d,p){let v=[];Object(f.a)(d)===p&&(v=v.concat(m.CONTACT_IS_SELF));const O=Object(t.g)(d,p);Object(r.N)(O)||(v=v.concat(m.CONTACT_NOT_ACTIVE_MEMBER));const b=Object(o.c)(d);return!b.ok&&b.reasons&&(v=v.concat(b.reasons)),l(d,p)||v.push(m.CONTACT_PREFS_RESTRICTED),v.length>0?{ok:!1,reasons:v}:{ok:!0}}h(c,"canUserShareContactByIdWithReasons");function u(d,p){return c(d,p).ok}h(u,"canUserShareContactById")},"7INw":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),s=e("SQ0V"),l=e("3l96"),o=e("htTJ"),f=e("9avG"),r=e("/MKj"),m=e("zxER"),c=e("mM05"),u=e.n(c),d=e("+kJ4"),p=e("Wya+"),v=e("EIL7"),g=e("Z44y"),O=e("ktUG"),b=e("mSgU"),y=e("RvCK"),C=e("zlyu"),_=e("RUo5"),j=e("WSQ4"),E=e("nNoG"),M=e("Tevt");const T=new E.b("message-input"),P={zIndex:1012},B=400,R=160,U=200,K=h((k,F)=>{const L=k.left+k.width/2,W=(F/2-L)/B*100,D=50-Math.round(W/10)*10;return Math.max(Math.min(D,90),10)},"offsetCoachmarkInNarrowViewport"),V=h((k,F)=>{const L=k.left+k.width/2,S=L+B-B*.1,I=L+B/2;return S<F?10:I<F?50:90},"offsetCoachmark");function z(k){let{quillRef:F,anchorElement:L,text:S,url:I,isTruncated:W,canBeTruncated:D,initialRange:H,adjustedRange:Z,initialBlocks:G,textIsEditable:te,source:se}=k;const $=Object(r.useDispatch)(),X=Object(m.c)(v.a),{window:q}=Object(n.useContext)(j.a);let Y=10;const ee=q.document.documentElement.clientWidth-10,w=L?L.getBoundingClientRect():null;w&&(ee<B+R?Y=K(w,ee):Y=V(w,ee));let ne=null;W&&(ne=T.t("Show full link")),D&&(ne=T.t("Shorten link"));const ae=Object(n.useMemo)(()=>{let de=_.a.Top;return w&&w.top<U&&(de=_.a.Bottom),de},[w]);return t.a.createElement(C.a,{isOpen:!0,anchorElement:L,orientation:ae,centerOnArrow:!0,offsetY:-5,closeCoachmark:()=>{var de,ge;$(Object(d.a)()),F==null||(de=F.current)===null||de===void 0||de.focus(),F==null||(ge=F.current)===null||ge===void 0||ge.setSelection(H)},overlayStyle:P,primaryCallToActionText:T.t("Remove"),onClickPrimaryButton:()=>{var de,ge;$(Object(d.a)()),F==null||(de=F.current)===null||de===void 0||de.formatText(Z.index,Z.length,{link:!1,unlink:!0}),X.track(O.EventId.MSG_FORMATTING_REMOVED,{input_context:Object(g.a)()?O.MsgFormattingInputContext.POST:O.MsgFormattingInputContext.MESSAGE,input_source:se,input_format:b.a.link,is_selection:!0}),F==null||(ge=F.current)===null||ge===void 0||ge.setSelection(H.index+H.length,0)},secondaryCallToActionText:T.t("Edit"),onClickSecondaryButton:()=>{$(Object(d.a)()),$(Object(p.b)({quill:F==null?void 0:F.current,initialBlocks:G,initialText:S,initialUrl:I,textIsEditable:te,range:Z,source:se}))},primaryCallToActionType:"danger",tertiaryCallToActionText:ne,onClickTertiaryButton:()=>{var de,ge;const le=(W?I:Object(y.b)(I||""))||"";F==null||(de=F.current)===null||de===void 0||de.updateContents(new u.a().retain(Z.index).delete(Z.length).insert(le,{link:I||""})),F==null||(ge=F.current)===null||ge===void 0||ge.setSelection(Z.index+le.length,0)},arrowPosition:Y,isMegaphoneCoachmark:!1},t.a.createElement("div",{className:"overflow_ellipsis"},t.a.createElement("b",null,S)),t.a.createElement("div",{className:"p-composer_edit_link_popover__url"},t.a.createElement(M.a,{alwaysPerformDefaultOnClickBehavior:!0,href:I||""},I)))}h(z,"ComposerEditLinkPopover"),z.displayName="ComposerEditLinkPopover";var N=z;const A=Object(s.c)("Opens the Texty edit link modal",(k,F,L)=>{let{quill:S,initialRange:I,adjustedRange:W,anchorElement:D,initialContents:H,initialText:Z,initialUrl:G,textIsEditable:te,source:se}=L;const $="composer_edit_link_popover",X=Object(o.c)({insert:Z,attributes:{link:G}}),q=te?null:Object(f.b)({delta:H,state:F()}),Y=!X&&G===Z&&Object(y.b)(G)!==G,ee=t.a.createElement(N,{quillRef:{current:S},anchorElement:D,text:Z,url:G,isTruncated:X,canBeTruncated:Y,initialRange:I,adjustedRange:W,initialBlocks:q,textIsEditable:te,source:se});k(Object(l.a)({element:ee,name:$,isStackable:!0}))});A.meta={name:"createThunk",key:"createThunkopenTextyEditLinkModal",description:"Opens the Texty edit link modal"},A.propTypes={quill:a.default.object.isRequired,initialRange:a.default.object.isRequired,adjustedRange:a.default.object.isRequired,anchorElement:a.default.instanceOf(Element).isRequired,initialBlocks:a.default.arrayOf(a.default.object),initialText:a.default.string,initialUrl:a.default.string,textIsEditable:a.default.bool.isRequired,source:a.default.number.isRequired};var x=i.a=A},"7PJ0":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),s=e("ZobM");const l=new a.b("offline_mode");function o(f){let{tooltipLabel:r}=f;return t.a.createElement(t.a.Fragment,null,r,t.a.createElement("br",null),t.a.createElement("span",{className:"sk_foreground_high_solid"},t.a.createElement(s.a,{name:"cloud-offline",size:"inherit",inline:!0})," ",l.t("No connection")))}h(o,"OfflineTooltipLabel"),o.displayName="OfflineTooltipLabel",i.a=o},"7UMc":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("26ZP");let l=h(class extends n.PureComponent{render(){const{type:f,noHighlights:r,noLinking:m}=this.props,c=!r,u=Object(s.a)({type:f,tsfMode:"NORMAL"}),d=u,p=Object(a.default)("c-mrkdwn__broadcast",{"c-mrkdwn__broadcast--link":!m,"c-mrkdwn__broadcast--mention":c});return t.a.createElement("span",{className:p,"data-broadcast-id":`BK${f}`,"data-stringify-text":u},d)}},"MrkdwnBroadcastCommand");l.displayName="MrkdwnBroadcastCommand",l.defaultProps={noHighlights:!1,noLinking:!1},i.a=l},"7UjL":function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),s=e("7DVt"),l=e("Oyf8");const o=Object(a.c)("Check conditions and show a Progressive Disclosure tip",function(){var f=Object(n.coroutine)(function*(r,m){const c=m(),u=Object(s.a)(c),d=Object.keys(Object(s.d)(c));u.every(v=>d.includes(v))&&(yield r(Object(l.a)()))});return function(r,m){return f.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkmaybeMarkProgressiveDisclosureAsComplete",description:"Check conditions and show a Progressive Disclosure tip"}},"7XZu":function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a}),e.d(i,"c",function(){return s}),e.d(i,"d",function(){return l}),e.d(i,"g",function(){return o}),e.d(i,"h",function(){return f}),e.d(i,"f",function(){return r}),e.d(i,"e",function(){return m});var n=e("DwFS");const t=Object(n.a)("Updates a pending file with its persisted file ID");t.meta={name:"createAction",key:"createActionaddPersistedFileId",description:"Updates a pending file with its persisted file ID"};const a=Object(n.a)("Updates a pending file with the origin team ID of the upload");a.meta={name:"createAction",key:"createActionaddUploadTeamId",description:"Updates a pending file with the origin team ID of the upload"};const s=Object(n.a)("Add file objects for uploading");s.meta={name:"createAction",key:"createActioninternalAddPendingFiles",description:"Add file objects for uploading"};const l=Object(n.a)("Removes a pending file");l.meta={name:"createAction",key:"createActionremovePendingFile",description:"Removes a pending file"};const o=Object(n.a)("Updates the file upload percent complete");o.meta={name:"createAction",key:"createActionupdateUploadProgress",description:"Updates the file upload percent complete"};const f=Object(n.a)("Updates the file upload status");f.meta={name:"createAction",key:"createActionupdateUploadStatus",description:"Updates the file upload status"};const r=Object(n.a)("Updates the file sending status");r.meta={name:"createAction",key:"createActionupdateSendingStatus",description:"Updates the file sending status"};const m=Object(n.a)("Update the cached preview data");m.meta={name:"createAction",key:"createActionupdatePreviewData",description:"Update the cached preview data"}},"7YN0":function(J,i,e){"use strict";e.d(i,"e",function(){return a}),e.d(i,"b",function(){return s}),e.d(i,"c",function(){return l}),e.d(i,"d",function(){return o}),e.d(i,"a",function(){return f});var n=e("Olm7");const t={},a=h((r,m)=>{let{pendingFileId:c,uploadPromise:u}=m;!r||!u||!c||(t[r]?t[r].push({pendingFileId:c,uploadPromise:u}):t[r]=[{pendingFileId:c,uploadPromise:u}])},"setUploadPromise"),s=h(r=>{delete t[r]},"deleteUploadPromises"),l=h(r=>{var m;return(m=t[r])===null||m===void 0?void 0:m.map(c=>c.uploadPromise)},"getUploadPromises"),o=h(r=>t[r],"getUploadPromisesAndIds"),f=h((r,m)=>Object(n.a)(t[r],c=>c.pendingFileId===m),"deleteUploadPromise")},"7Yrm":function(J,i,e){"use strict";var n=e("n3tL"),t=e("SQ0V"),a=e("dmdh"),s=e("/o10"),l=e("Mqk2"),o=e("x6tY"),f=e("VmGj");const r=Object(t.c)("Ensure a file exists and open it in the full screen file viewer",(c,u,d)=>{let{fileId:p,ts:v,channelId:g,threadTs:O,viewContext:b,isStackable:y,fileChannelMediaInfo:C,mediaId:_}=d;m(c,u,{fileId:p,ts:v,channelId:g,threadTs:O,viewContext:b,isStackable:y,fileChannelMediaInfo:C,mediaId:_})||c(Object(l.d)({fileId:p,reason:"file-image-thumbnail.ensureFileAndOpenViewer"})).then(()=>{m(c,u,{fileId:p,ts:v,channelId:g,threadTs:O,viewContext:b,isStackable:y,fileChannelMediaInfo:C,mediaId:_})})});r.meta={name:"createThunk",key:"createThunkensureFileAndOpenViewer",description:"Ensure a file exists and open it in the full screen file viewer"};function m(c,u,d){let{fileId:p,ts:v,channelId:g,threadTs:O,viewContext:b,isStackable:y,fileChannelMediaInfo:C,mediaId:_}=d;const j=Object(a.e)(u(),p);return j?Object(o.Tb)(j)?(c(Object(f.a)({fileId:p})),!0):(c(Object(s.a)({fileId:p,ts:v,channelId:g,threadTs:O,viewContext:b,isStackable:y,fileChannelMediaInfo:C,mediaId:_})),!0):!1}h(m,"openViewerIfFileExists"),r.propTypes={fileId:n.default.string},i.a=r},"7bEI":function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(t){return!!t&&!t.detail}h(n,"isKeyboardClick")},"7iTs":function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("RVJP");function t(a){return Object(n.d)(a,"tableau_unfurls")==="on"}h(t,"isTableauUnfurlsEnabled")},"7jFJ":function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("ifKl"),t=e("m5Yc");function a(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n.a;return s?s.reduce((f,r)=>{if(r.type===t.b.LIST){const c=(r.elements||[]).map(u=>u.elements.reduce((d,p)=>o(d,p),l));return f.concat(c)}const m=(r.elements||[]).reduce((c,u)=>o(c,u),l);return f.concat([m])},[]):[]}h(a,"richTextChunkReduce")},"7nKM":function(J,i,e){"use strict";function n(t){const a=Math.floor(t/3600),s=Math.floor((t-a*3600)/60),l=Math.floor(t-a*3600-s*60),o=l<10?`0${l}`:`${l}`;if(a>0){const f=s<10?`0${s}`:`${s}`;return`${a}:${f}:${o}`}return`${s}:${o}`}h(n,"secondsToAudioTime"),i.a=n},"7t7g":function(J,i,e){"use strict";e.d(i,"b",function(){return B});var n=e("q1tI"),t=e.n(n),a=e("Z0Cl"),s=e("E3dU"),l=e("ISSR"),o=e("Yauy"),f=e("4EP9"),r=e("miM7"),m=e("Ql5a"),c=e("Os2i"),u=e("XNO5"),d=e("E97Y"),p=e("UIhb"),v=e("dlm8"),g=e("eUIW"),O=e("xwCZ"),b=e("Enx8"),y=e("C3vN"),C=e("mzZe"),_=e("dmdh"),j=e("zZFv"),E=e("iheS"),M=e("ajVY");function T(){return T=Object.assign||function(R){for(var U=1;U<arguments.length;U++){var K=arguments[U];for(var V in K)Object.prototype.hasOwnProperty.call(K,V)&&(R[V]=K[V])}return R},T.apply(this,arguments)}h(T,"_extends");function P(R){let U=h(class extends n.PureComponent{setMsgOps(V){this.setState(()=>({msgOps:V}))}setMsgText(V){this.setState(()=>({msgText:V}))}setSelectedChannel(V,z){this.setState(()=>({channelId:V,destination:z}))}render(){const V=R;return t.a.createElement(V,T({msgText:this.state.msgText,setMsgText:this.setMsgText,msgOps:this.state.msgOps,setMsgOps:this.setMsgOps,selectedChannelId:this.state.channelId,setSelectedChannel:this.setSelectedChannel,destination:this.state.destination},this.props))}constructor(V){super(V),this.state={channelId:V.initialChannelId||"",msgText:V.initialText||"",msgOps:void 0,destination:{}},this.setSelectedChannel=this.setSelectedChannel.bind(this),this.setMsgText=this.setMsgText.bind(this),this.setMsgOps=this.setMsgOps.bind(this)}},"ShareDialogWrapper");return U.displayName="ShareDialogWrapper",U.defaultProps={initialChannelId:null,initialText:""},U}h(P,"withShareDialogWrapper"),P.displayName="withShareDialogWrapper",i.a=P;function B(R,U){let{selectedChannelId:K,msgOps:V,destination:z,fileId:N,ts:A,channelId:x}=U,k=!1,F=!1,L=!1,S="",I=null,W=!1,D=null,H=Object(s.d)(R,K)||Object(s.m)(R,K||"");H&&(k=Object(C.b)(R,H.id)&&!Object(l.a)(H),F=Object(r.a)(H),L=Object(d.l)(H)&&!Object(o.db)(H),I=Object(d.d)(H),W=Object(o.b)(R,H));const Z=z&&z.channelIds,G=z&&z.memberIds,te=Z&&Z.length>1,se=Z&&Object(s.d)(R,Z[0]),$=G&&Object(s.m)(R,G[0]),X=G&&G.filter(je=>{const _e=Object(O.g)(R,je);return Object(y.V)(_e)}),q=G&&G.length>8,Y=Z&&G&&Z.length&&G.length;(te||q||Y)&&(k=!1);const ee=Object(_.e)(R,N||"");A&&x&&(D=Object(p.b)(R,x,A));const w=H?Object(M.a)(R,"allow_box_cfs",H):Object(M.d)(R,"allow_box_cfs");let ne;const ae=G==null?void 0:G.map(je=>Object(s.n)(R,je));ne=[...Z??[],...ae??[]].some(je=>Object(m.a)(R,je||"")),ne=ne&&!w;const de=Object(c.b)(R,K||"",ee),ge=Object(u.b)(R,K||"",ee),le=D&&D.files,Q=Object(a.a)(le,je=>{var _e;return((_e=Object(_.e)(R,je))===null||_e===void 0?void 0:_e.mode)==="hosted"}),ie=ee&&ee.mode==="hosted",oe=Q.length>0,me={contents:V||[]},be=Object(j.a)(me),Se=K&&Object(f.a)(R,K,be);let Pe,Ue=0;if(K&&Object(E.a)(R,K,be)){const{counts:je}=Object(v.d)(R,K);Ue=je.member_count,be.includes("BKhere")&&(Pe="@here"),be.includes("BKchannel")&&(Pe="@channel"),be.includes("BKeveryone")&&(Pe="@everyone")}return Object(g.a)(K)&&!(Object(o.Y)(R,H)&&!k)?(S=Object(b.a)(R,K||""),k=!0):H&&(S=Object(o.t)(R,H)),H||(H=Object(O.g)(R,K)),(ie||oe)&&ne&&(k=!1),{canPostInSelectedChannel:k,hostedFilesOnMessage:Q,canThread:W,selectedChannelIsGeneral:F,willJoinChannel:L,isHostedFile:ie,selectedChannelName:S,channelType:I,disallowedKeywordInMsgText:Se||void 0,atChannelWarningKeyword:Pe||void 0,channelMemberCount:Ue,selectedChannel:H,selectedChannelId:K,useMultiSelect:!0,channelIds:Z,memberIds:G,nonMemberChannel:se,memberChannel:$,slackConnectFileSharingBlocked:ne,deactivatedMemberIds:X,slackConnectCanvasSharingBlocked:de,slackConnectListSharingBlocked:ge}}h(B,"shareDialogMapStateToProps")},"7tu/":function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("nTNk"),t=e("khnw");const s=Object(n.a)().import("core/module");let l=h(class extends s{findCheckboxBehind(f){if(f){if(f&&f.length>0)return this.quill.setSelection(f.index,0),!1;const r=this.quill.getFormat(f);if(r&&r.list&&(r.list==="checked"||r.list==="unchecked")){const[m,c]=this.quill.getLeaf(f.index);if(c===0){const u=m&&m.parent;if(u){const d=u.domNode.querySelector(".slack-docs-list-item-checkbox");if(d&&document.activeElement!==d)return d.focus(),!1}}}}return!0}findCheckboxAhead(f){if(f){const r=this.quill.getFormat(f);r&&r.list&&(r.list==="checked"||r.list==="unchecked")&&setTimeout(()=>{const[m,c]=this.quill.getLeaf(f.index+1);if(c===0){const u=m&&m.parent;if(u){const d=u.domNode.querySelector(".slack-docs-list-item-checkbox");if(d&&document.activeElement!==d)return d.focus(),!1}}return!0},0)}return!0}constructor(f,r){super(f,r),this.quill.keyboard.addBinding({key:t.k},this.findCheckboxBehind),this.quill.keyboard.addBinding({key:t.o},this.findCheckboxAhead)}},"SlackDocsListModule")},"7vR1":function(J,i,e){"use strict";e.d(i,"a",function(){return r}),e.d(i,"b",function(){return m});var n=e("SQ0V"),t=e("Mqk2"),a=e("IA19"),s=e("ZOzc"),l=e("gn35"),o=e("NR1w"),f=e("ouAP");const r=Object(n.c)("fetch and expand file info",function(c,u){let{fileId:d,ts:p,channelId:v,viewContext:g}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const O=c(Object(t.d)({fileId:d,reason:"inline-file-previews.fetchAndExpand"}));c(Object(a.d)({fileId:d,ts:p,channelId:v,viewContext:g})),O.then(()=>{c(Object(a.c)({fileId:d,ts:p,channelId:v,viewContext:g}))}).finally(()=>{c(Object(a.b)({fileId:d,ts:p,channelId:v,viewContext:g}))})});r.meta={name:"createThunk",key:"createThunkfetchAndExpand",description:"fetch and expand file info"};const m=Object(n.c)("fetch and expand file info with IP check",function(c,u){let{fileId:d,ts:p,channelId:v,viewContext:g}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const O=u();return Object(s.a)(O,"block_file_download")?c(Object(l.a)({reason:"FileActions_checkIP",fileId:d})).then(y=>{let{ip_allowed:C}=y;return c(C?r({fileId:d,ts:p,channelId:v,viewContext:g}):Object(o.c)(f.a.ExpandTextFile))}).catch(()=>{c(Object(o.c)(f.a.ExpandTextFile))}):c(r({fileId:d,ts:p,channelId:v,viewContext:g}))});m.meta={name:"createThunk",key:"createThunkfetchAndExpandWithIPCheck",description:"fetch and expand file info with IP check"}},"7y/j":function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("vLZU"),t=e("Kyco"),a=e("iAR/");const s="slackConnectGuidelines",l=Object(t.b)({},{},{scope:n.k.orgShared,storeKey:s,persistenceEnabled:!0}).on(a.a,(o,f)=>{let{type:r,guidelines:m}=f;return{...o,[r]:{...m}}}).on(a.b,(o,f)=>{let{type:r,enabled:m}=f;const c=o[r];return c.enabled=m,{...o,[r]:{...c}}});i.b=l},"80lu":function(J,i,e){"use strict";e.d(i,"c",function(){return f}),e.d(i,"a",function(){return r}),e.d(i,"b",function(){return m});var n=e("Lgge"),t=e("WCk1"),a=e("2XU3"),s=e("ktUG"),l=e("s4P+"),o=e("vjzz");const f=Object(t.a)("Get the channel recommendations",(c,u,d)=>{let{selectedMembers:p,limit:v,reason:g,source:O="suggested-channels-sidebar"}=d;return c(Object(a.apiCall)({method:"conversations.recommend",args:{query:p||"",source:O,channels_info:!0,limit:v},reason:g||O})).catch(b=>(Object(l.a)({getState:u}).error("Could not fetch suggested channels for conversations.recommend"),n.a.reject(b)))});f.meta={name:"createFetcher",key:"createFetcherfetchConversationsRecommend",description:"Get the channel recommendations"};const r=h(c=>{let{clogger:u,data:d}=c;const{requestId:p,selectedItemId:v,selectedPosition:g,selectedAction:O}=d,b={request_id:Object(o.c)(p,o.a),selected_id:v,selected_position:g,selected_type:"channel",...O&&{selected_action:O}};u.track(s.EventId.RECOMMEND_ACCEPT,b)},"clogConversationsRecommendAccept"),m=Object(t.a)("Get additional metadata for a group of channels",(c,u,d)=>{let{channelIds:p,reason:v="channel_metadata_fetch"}=d;return c(Object(a.apiCall)({method:"conversations.bulkFetchMetadata",args:{channel_ids:p},reason:v})).catch(g=>(Object(l.a)({getState:u}).error("Could not fetch channel metadata for provided channels"),n.a.reject(g)))});m.meta={name:"createFetcher",key:"createFetcherfetchConversationBulkMetaData",description:"Get additional metadata for a group of channels"}},"844o":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("wd/R"),l=e.n(s),o=e("INuR");let f=h(class extends n.Component{renderDay(c,u,d){const{dateFormat:p,renderDate:v}=this.props,g=c.startOf("day").format(p),O=c.diff(u,"days"),b=c.clone().endOf("day").diff(d,"days"),y=O>=0&&b<=0,C=c.isSame(new Date,"day"),_=c.weekday(),j=y&&_===0&&O<7,E=y&&_===6&&O<7,M=y&&_===0&&b>-7,T=y&&_===6&&b>-7,P=v({value:g,dateFormat:p,sameMonth:y,isToday:C,monthStart:O===0,monthEnd:b===0,firstWeekStart:j,firstWeekEnd:E,lastWeekStart:M,lastWeekEnd:T});return t.a.createElement("td",{key:g,className:"c-calendar_month__date_container","data-qa":"calendar_month_date_container"},P)}renderWeek(c,u,d){const p=c.clone(),v=[];for(;v.length<7;)v.push(this.renderDay(p,u,d)),p.add(1,"day");return t.a.createElement("tr",{key:c.week(),className:"c-calendar_month__week"},v)}render(){const{month:c,monthFormat:u,className:d,header:p}=this.props,v=l()(c,u),g=v.clone().startOf("month"),O=v.clone().endOf("month"),b=g.clone().startOf("week"),y=[];for(;b.isBefore(O);)y.push(this.renderWeek(b.clone(),g,O)),b.add(1,"week");const C=Object(a.default)("c-calendar_month",d);return t.a.createElement("table",{className:C},t.a.createElement("thead",null,p),t.a.createElement("tbody",null,y))}},"MonthView");f.displayName="MonthView",f.defaultProps={monthFormat:"YYYY-MM",renderDate:m=>{let{value:c,dateFormat:u,sameMonth:d}=m;return d&&l()(c,u).format("D")},dateFormat:"YYYY-MM-DD",header:t.a.createElement(o.a,null)};var r=i.a=f},"8AeK":function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("RVJP");const t=h(a=>Object(n.d)(a,"pnp_ooo")==="on","isProfileOutOfOfficeEnabled")},"8Bjr":function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("SQ0V"),t=e("s4P+"),a=e("T1zM"),s=e("I6n1"),l=e("5MVR"),o=e("ct/k"),f=e("Cgcc"),r=e("zm5I"),m=e("9zMb");const c=Object(n.c)("Set ia4 theme preferences",(u,d,p)=>{const{mode:v,...g}=p,O=d(),b=Object(r.a)(O);return g.sidebarInverted=b==="dark"?!1:g.sidebarInverted&&Object(m.r)(g.brightness||f.a),u(Object(a.f)({pref:s.h,value:Object(l.c)(g)})).then(()=>u(Object(o.a)())).catch(y=>{const C=y&&y.data&&y.data.error||"unknown error";Object(t.a)({getState:d}).error("PREFS",`users.prefs.set failed to write new theme preferences ia_theme: ${C}`)})});c.meta={name:"createThunk",key:"createThunksetIaThemePrefByApi",description:"Set ia4 theme preferences"}},"8Dn9":function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"a",function(){return a});var n=e("DwFS");const t=Object(n.a)("Store/replace last save date for Quip doc");t.meta={name:"createAction",key:"createActionsetLastSaved",description:"Store/replace last save date for Quip doc"};const a=Object(n.a)("Remove updates from store");a.meta={name:"createAction",key:"createActionbulkRemoveUpdates",description:"Remove updates from store"}},"8HWa":function(J,i,e){"use strict";e.d(i,"a",function(){return x});var n=e("ifKl"),t=e("n3tL"),a=e("q1tI"),s=e.n(a),l=e("Cfcg"),o=e("BHdc"),f=e("G5NC"),r=e("9Gfp"),m=e("nNoG"),c=e("HFEL"),u=e("xwCZ"),d=e("O86Y"),p=e("9I4P"),v=e("6JJY"),g=e("tg2r"),O=e("eUIW"),b=e("C3vN"),y=e("52Wj"),C=e("Nnn3"),_=e("nWdO"),j=e("hooW"),E=e("M2+7"),M=e("NV6F"),T=e("Tevt"),P=e("LvvF"),B=e("BfA7"),R=e("I0j/"),U=e("37+L"),K=e("i9jZ");function V(){return V=Object.assign||function(S){for(var I=1;I<arguments.length;I++){var W=arguments[I];for(var D in W)Object.prototype.hasOwnProperty.call(W,D)&&(S[D]=W[D])}return S},V.apply(this,arguments)}h(V,"_extends");const z={id:t.default.string.isRequired,fallback:t.default.string,isCurrentUser:t.default.bool,name:t.default.string,noHighlights:t.default.bool,noLinking:t.default.bool,showTooltip:t.default.bool,onClick:t.default.func,isUnknown:t.default.bool,isNonExistent:t.default.bool,serviceId:t.default.string,appTeamId:t.default.string,clogLinkClick:t.default.func,openProfileProp:t.default.func,showMemberProfileInWindow:t.default.func,isUserHidden:t.default.bool,className:t.default.string,clientTheme:t.default.string,tabIndex:t.default.number,ariaHidden:t.default.bool,navigate:t.default.func,shouldUseNavigate:t.default.bool,supressLinkColors:t.default.bool,forceRealNames:t.default.bool,supressMentionAtSymbol:t.default.bool},N={fallback:null,isCurrentUser:!1,name:null,noHighlights:!1,noLinking:!1,onClick:void 0,showTooltip:!1,isUnknown:!0,isNonExistent:!1,serviceId:void 0,appTeamId:void 0,clogLinkClick:n.a,className:void 0,clientTheme:"light",tabIndex:0,ariaHidden:!1,openProfileProp:n.a,showMemberProfileInWindow:n.a,isUserHidden:!1,shouldUseNavigate:!1,navigate:n.a,supressLinkColors:!1,supressMentionAtSymbol:!1,forceRealNames:!1},A=new m.b("members");let x=h(class extends a.PureComponent{onCardClose(){this.tooltip.current&&this.tooltip.current.hideTip()}onClick(I){const{id:W,clogLinkClick:D,onClick:H,openProfileProp:Z,showMemberProfileInWindow:G,serviceId:te,shouldUseNavigate:se}=this.props;if(I.preventDefault(),D({item_id:W,item_type:W.charAt(0),link_type:"user"}),this.tooltip.current&&this.tooltip.current.hideTip(),se){Object(K.d)(I)?G(W):this.props.navigate(Object(U.V)({memberId:W}));return}Object(K.d)(I)?G(W):Z({memberId:W,serviceId:te}),H&&H(I,W)}getTooltipContent(){return s.a.createElement(E.b,{id:this.props.id,invert:!0,showAvatar:!0,showPresence:!0,forceRealName:!0})}render(){const{id:I,serviceId:W,fallback:D,isCurrentUser:H,name:Z,noHighlights:G,noLinking:te,onClick:se,showTooltip:$,isUnknown:X,isNonExistent:q,className:Y,clientTheme:ee,tabIndex:w,ariaHidden:ne,isUserHidden:ae,supressLinkColors:de,supressMentionAtSymbol:ge}=this.props;if(!I)return null;const le=`${ge?"":"@"}${Z||D}`,Q=Object(o.default)("c-member_slug",Y,`c-member_slug--${ee}`,{"c-member_slug--link":!te,"c-member_slug--mention":H&&!G,"c-member_slug--grey":de});if(X)return s.a.createElement(j.a,{type:"unknown"});if(q)return s.a.createElement(j.a,{type:"non-existent"});if(ae)return $?s.a.createElement(_.c,{ref:this.tooltip,tip:A.t("You\u2019ve hidden this person"),tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},s.a.createElement("span",null,s.a.createElement(c.a,null))):s.a.createElement(c.a,null);if(te)return s.a.createElement("span",{className:Q},le);const ie={};Object(f.a)()?(ie["data-stringify-type"]="mention",ie["data-stringify-id"]=I,ie["data-stringify-label"]=le):ie["data-stringify-text"]=`@${I}`;const oe=`/team/${I}`,me=s.a.createElement(T.a,V({className:Q,href:oe,"data-member-id":I,"data-member-label":le},ie,{onClick:this.onClick,tabIndex:w,"aria-hidden":ne}),le);return se?$?s.a.createElement(_.c,{ref:this.tooltip,tip:this.getTooltipContent,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},s.a.createElement("span",{dir:"ltr"},me)):me:Object(M.F)({memberId:I,serviceId:W,children:me})}constructor(I){super(I),this.tooltip=s.a.createRef(),this.onClick=this.onClick.bind(this),this.onCardClose=this.onCardClose.bind(this),this.getTooltipContent=this.getTooltipContent.bind(this)}},"MemberSlug");x.displayName="MemberSlug",x.propTypes=z,x.defaultProps=N;function k(S,I){const{id:W,noLinking:D,forceRealNames:H}=I,Z=Object(r.a)(S),G=Object(u.g)(S,W),te=Object(d.g)(S);let se,$,X,q=D,Y;G&&(se=H?Object(y.e)(G):Object(y.b)(G),$=Object(b.pb)(G),X=Object(b.fb)(G),Y=Object(C.a)(S,G)),X&&!Object(O.a)(W)&&(se=W,$=!1,X=!1,q=!0);let ee;Y&&(ee=Object(p.b)(G,te));const w=Object(P.b)(S,G.id);return{name:se,isUnknown:$,isNonExistent:X,serviceId:Y,appTeamId:ee,noLinking:q,isCurrentUser:W===Z,isUserHidden:w}}h(k,"mapStateToProps");function F(S){return{openProfileProp:function(){for(var I=arguments.length,W=new Array(I),D=0;D<I;D++)W[D]=arguments[D];return S(Object(g.a)(...W))},showMemberProfileInWindow:function(){for(var I=arguments.length,W=new Array(I),D=0;D<I;D++)W[D]=arguments[D];return S(Object(v.a)(...W))},navigate:function(){for(var I=arguments.length,W=new Array(I),D=0;D<I;D++)W[D]=arguments[D];return S(Object(R.a)(...W))}}}h(F,"mapDispatchToProps");var L=i.b=Object(B.a)(Object(l.a)(k,F)(x))},"8K+A":function(J,i,e){"use strict";var n=e("bZHP"),t=e.n(n);let a;function s(){return!a&&n.TimezoneDetector&&(a=new n.TimezoneDetector),a&&a.detect()}h(s,"detectTimezone"),i.a=s},"8Mjy":function(J,i,e){"use strict";e.d(i,"a",function(){return b});var n=e("q1tI"),t=e.n(n),a=e("zxER"),s=e("/MKj"),l=e("nNoG"),o=e("zb/F"),f=e("Tsh7"),r=e("qDEp"),m=e("OaiI"),c=e("RVJP"),u=e("P4EH"),d=e("lqkv"),p=e("oY18"),v=e("YHfO"),g=e("0mlZ");const O=new l.b("share-dialog");function b(y){const[C,_]=Object(n.useState)(!1),j=Object(s.useDispatch)(),E=Object(n.useCallback)(U=>{if(U.preventDefault(),!!Object(o.a)()&&y.value)if(Object(o.e)(y.value),y.shareType===g.b.CANVAS||y.shareType===g.b.LIST){const K={name:"check"};j(Object(p.a)({element:t.a.createElement(d.b,{svgIconProps:K,duration:v.b},O.t("Link copied to clipboard"))}))}else _(!0)},[j,y.shareType,y.value]),M=Object(n.useCallback)(()=>_(!1),[]),T=Object(a.c)(U=>Object(c.d)(U,"hermes_stable")==="on"),P=Object(a.c)(u.a),B=Object(a.c)(m.isListsEnabled);if(y.isStoryShare||!Object(o.a)()||y.shareType===g.b.MESSAGE&&!y.messageLinkCanBeCopied)return null;let R="";return C?R=O.t("Copied!"):y.shareType===g.b.MESSAGE?R=P?O.t("You can also copy a link to this message. To forward, paste it in any channel or conversation."):O.t("You can also copy a link to this message. To share, paste it in any channel or conversation."):y.shareType===g.b.SHORTCUT?R=T?O.t("You can also copy a link to this shortcut. To share, paste it in any channel or conversation."):"":y.shareType===g.b.DOC_SECTION?R=O.t("You can also copy a link to this section. To share, paste it in any channel or conversation.",{fallbackHash:"7b839821b8ea42c464b8215c4e3e71c4939b14a5"}):B&&y.shareType===g.b.RECORD?R=O.t("You can also copy a link to this record. To share, paste it in any channel or conversation."):R=O.t("You can also copy a link to this file. To share, paste it in any channel or conversation."),t.a.createElement("span",{className:"p-share_dialog__copy_link"},t.a.createElement(f.d,{tip:R,zIndex:"above_fs",status:C?"success":"info",onHide:M},t.a.createElement(r.f,{onClick:E,type:"outline","data-qa":"share_dialog_copy_link",autoClogProps:y.buttonAutoClogProps},O.t("Copy Link"))))}h(b,"ShareDialogCopyLinkButton")},"8Ut9":function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n=h(function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const[a,s,l]=t.split("-");return{type:a,entityId:s,channelId:l}},"parseReactionKey")},"8ZEM":function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"a",function(){return a}),e.d(i,"c",function(){return s});var n=e("DwFS");const t=Object(n.a)("Show find modal for document");t.meta={name:"createAction",key:"createActionshowModalWithInitialSearchString",description:"Show find modal for document"};const a=Object(n.a)("Hide find modal for document");a.meta={name:"createAction",key:"createActionhideFindModal",description:"Hide find modal for document"};const s=Object(n.a)("Update the number of results and current index");s.meta={name:"createAction",key:"createActionupdateResultCount",description:"Update the number of results and current index"}},"8c4t":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("3Hq1"),s=e("M1Wn"),l=e("hjf3"),o=e("Muja"),f=e("NFsq"),r=e("ifKl"),m=e("WIr4"),c=e("Cfcg"),u=e("BHdc"),d=e("VymY"),p=e("nFQW"),v=e("nWdO"),g=e("ZobM"),O=e("Z44y"),b=e("kBpe"),y=e("khnw"),C=e("ktUG"),_=e("gz6s"),j=e("IzLi"),E=e("/1FC"),M=e("F294"),T=e("mM05"),P=e.n(T),B=e("5IZy"),R=e("qDEp"),U=e("oEDn"),K=e("nNoG"),V=e("/0zS"),z=e("rneN"),N=e("dA19");const A=new K.b("composer");let x=h(class extends n.PureComponent{componentDidMount(){this.inputRef&&this.inputRef.current&&this.inputRef.current.focus()}onChange(fe){const Ee=fe.target.value,ye=Object(V.a)({input:Ee}).pop(),Te=A.t('"{value}" is a invalid URL. "Add Link" button is disabled.',{value:Ee}),Oe=A.t('"{value}" is a valid URL. Click "Add Link" button to enter link URL.',{value:Ee});let Ce="";Ee&&(Ce=ye?Oe:Te),this.setState(()=>({value:Ee,hasValidUrl:!!ye,ariaLiveText:Ce}))}onKeyDown(fe){fe.keyCode===y.f?this.props.onClose():this.state.hasValidUrl&&fe.keyCode===y.e&&(this.onSubmit(),fe.preventDefault(),fe.stopPropagation())}onSubmit(){const{value:fe}=this.state,Ee=Object(V.a)({input:fe}).pop();Ee?this.insertLink(Ee):this.removeLink()}insertLink(fe){var Ee;const{quillRef:ye,getSelection:Te,clogger:Oe}=this.props,Ce=ye==null||(Ee=ye.current)===null||Ee===void 0?void 0:Ee.quill;if(!Ce)return;const ce=Te(),he=Object(z.a)(Ce.getContents(),ce,Ce.getFormat(ce)),Me=Ce.scrollingContainer.scrollTop;if(!he||!he.length)return;const Ae=fe.getAnchorHref?fe.getAnchorHref():fe.url,xe=Ce.getContents(he);let Re=!1,Ge;if(xe.ops.forEach(ze=>{Object(N.a)(ze)&&(Re=!0)}),Re)Ce.formatText(he.index,he.length,"link",Ae);else{Ge=Ce.getText(he.index,he.length);const ze=Ce.getFormat(he);Ce.updateContents(new P.a().retain(he.index).delete(he.length).insert(Ge,{...ze,link:Ae}))}Ce.setSelection(he.index+he.length),Ce.scrollingContainer.scrollTop=Me,Oe.track(C.EventId.MSG_FORMATTING_ADDED,{input_context:C.MsgFormattingInputContext.POST,input_source:C.MsgFormattingInputSource.TOOLBAR,input_format:C.MsgFormattingInputFormat.LINK,is_selection:!0})}removeLink(){var fe;const{quillRef:Ee,getSelection:ye,clogger:Te}=this.props,Oe=Ee==null||(fe=Ee.current)===null||fe===void 0?void 0:fe.quill;if(!Oe)return;const Ce=ye(),ce=Object(z.a)(Oe.getContents(),Ce,Oe.getFormat(Ce)),he=Oe.scrollingContainer.scrollTop;Oe.setSelection(ce.index+ce.length);const Me=Oe.getFormat(ce.index,ce.length);Object(j.a)(Me)&&Me.link&&Oe.formatText(ce.index,ce.length,{link:!1}),Oe.scrollingContainer.scrollTop=he,Te.track(C.EventId.MSG_FORMATTING_REMOVED,{input_context:C.MsgFormattingInputContext.POST,input_source:C.MsgFormattingInputSource.TOOLBAR,input_format:C.MsgFormattingInputFormat.LINK,is_selection:!0})}render(){const{value:fe,hasValidUrl:Ee,ariaLiveText:ye}=this.state,Te=Object(u.default)("p-composer__link_form_button",{"c-button--disabled":!Ee}),Oe=(!this.initialHref||this.initialHref!==fe)&&t.a.createElement(R.f,{className:Te,size:"small","aria-label":A.t("Add link"),onClick:this.onSubmit,onKeyDown:this.onKeyDown,disabled:!Ee,"data-qa":"composer-link-submit-button"},A.t("OK")),Ce=this.initialHref&&fe===this.initialHref&&t.a.createElement(R.f,{className:"p-composer__link_form_button p-composer__link_remove_button",size:"small","aria-label":A.t("Remove link"),onClick:this.removeLink,"data-qa":"composer-link-remove-button"},t.a.createElement(U.a,{type:"close-filled"}));return t.a.createElement("div",{className:"p-composer__link_form"},t.a.createElement("input",{className:"c-input_text p-composer__link_form_text",type:"text",placeholder:A.t("Enter link URL"),"aria-label":A.t("Enter link URL"),onKeyDown:this.onKeyDown,onChange:this.onChange,value:fe,ref:this.inputRef}),t.a.createElement("span",{className:"offscreen","aria-live":"polite","aria-label":ye}),Oe,Ce)}constructor(fe){var Ee,ye,Te,Oe;super(fe),Object(m.a)(this,["onChange","onSubmit","onKeyDown","removeLink"]),this.inputRef=t.a.createRef();const Ce=(Oe=(Ee=fe.quillRef)===null||Ee===void 0||(ye=Ee.current)===null||ye===void 0||(Te=ye.quill)===null||Te===void 0?void 0:Te.getFormat())===null||Oe===void 0?void 0:Oe.link;this.initialHref=Object(E.a)(Ce)?Object(M.a)(Ce):Ce,this.state={value:this.initialHref||"",hasValidUrl:!1,ariaLiveText:""}}},"ComposerLinkForm");x.displayName="ComposerLinkForm";function k(pe){return{clogger:Object(B.a)({state:pe})}}h(k,"mapStateToProps");var F=Object(c.a)(k,null)(x),L=e("nRRV");const S=new K.b("composer");function I(pe){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{experimentChannelCanvasShareGroupOn:Ee}=fe;switch(pe){case"bold":return S.t("Bold");case"italic":return S.t("Italic");case"underline":return S.t("Underline");case"strike":return S.t("Strikethrough");case"link":return S.t("Link");case"blockquote":return S.t("Blockquote");case"code":return S.t("Code");case"code-block":return S.t("Code block");case"h1":return S.t("Big heading");case"h2":return S.t("Medium heading");case"h3":return S.t("Small heading");case"bullet-list":return S.t("Bulleted list");case"ordered-list":return S.t("Ordered list");case"check-list":return S.t("Check list");case"paragraph":return S.t("Paragraph");case"overflow":return S.t("More options");case"start-thread":return S.t("Add comment",{fallbackHash:"7f83265dab977728b639e44b682bc357ac12757f"});case"open-thread":return S.t("View comments",{fallbackHash:"7d3764e42e75025f9550ff88edd4c8caa2452272"});case"insert-variable":return S.t("Create variable");case"variable-limit-reached":return S.t("You can only add up to 30 variables per canvas");case"share":return S.t("Share");case"channel-canvas-share":return Ee?S.t("Forward to\u2026"):pe;case"open-in-detached-window":return S.t("Open in new window");case"view-full-screen":return S.t("View in full screen");case"open-in-new-window":return S.t("Open link");case"slackhorizontalrule":return S.t("Divider");default:return pe}}h(I,"getToolbarButtonLabel");function W(pe){let{buttonGroups:fe,numberToKeep:Ee}=pe,ye=0;const Te=[];if(Ee<=0)return[["overflow"]];for(let Oe=0;Oe<fe.length;Oe++){const Ce=[];Te.push(Ce);for(let ce=0;ce<fe[Oe].length;ce++){const he=fe[Oe][ce];if(Ce.push(he),ye+=1,ye===Ee)return Te.push(["overflow"]),Te}}return Te}h(W,"getReducedButtonGroups");function D(pe){let{buttonGroups:fe,numberToKeep:Ee}=pe,ye=0;const Te=[];if(Ee<=0)return[];for(let Oe=fe.length-1;Oe>=0;Oe--){const Ce=[];Te.unshift(Ce);for(let ce=fe[Oe].length-1;ce>=0;ce--){const he=fe[Oe][ce];if(Ce.unshift(he),ye+=1,ye===Ee)return Te}}return Te}h(D,"getReducedButtonGroupsFromEnd");var H=e("n3tL");const Z={width:H.default.number.isRequired,children:H.default.arrayOf(H.default.node).isRequired,composerRect:H.default.object.isRequired,overflowButtonRect:H.default.object.isRequired,focusOnMount:H.default.bool.isRequired},G=h(pe=>{const{key:fe,currentTarget:Ee,target:ye}=pe,Te=Ee.querySelectorAll('[role="menuitemcheckbox"]'),Oe=Array.from(Te),Ce=["ArrowLeft","ArrowUp"];if(!Ce.concat(["ArrowRight","ArrowDown"]).includes(fe))return;if(pe.stopPropagation(),ye===Ee){Oe[0].focus();return}const Me=Oe.indexOf(ye),Ae=Ce.includes(fe)?Me-1:Me+1,xe=Oe[Ae];xe&&xe.focus()},"onKeyDown"),te=h(pe=>{let{width:fe,composerRect:Ee,overflowButtonRect:ye,children:Te,focusOnMount:Oe}=pe;const Ce=Object(n.useRef)();Object(n.useEffect)(()=>{var Ie;Oe&&((Ie=Ce.current)===null||Ie===void 0||Ie.focus())});const he=33*t.a.Children.count(Te)+8,Ae=ye.right-he-Ee.left,xe=Ee.left+fe-ye.right,Ge={right:`${Ae<0?xe+Ae-10:xe}px`},ze=Object(u.default)("p-composer__body","p-composer__body--visible","p-composer__body--overflow");return t.a.createElement("div",{className:ze,role:"menu",tabIndex:-1,ref:Ce,style:Ge,onKeyDown:G},Te)},"OverflowMenu");te.displayName="OverflowMenu",te.propTypes=Z;var se=te,$=e("zmn3"),X=e("c+dP");function q(pe,fe){return pe==="blockquote"?{name:"quote"}:pe==="ordered-list"?{name:"numbered-list"}:pe==="bullet-list"?{name:"bulleted-list"}:pe==="strike"?{name:"strikethrough"}:pe==="h1"?{name:"heading-1"}:pe==="h2"?{name:"heading-2"}:pe==="h3"?{name:"heading-3"}:pe==="check-list"?{name:"checkbox"}:pe==="overflow"?{name:"ellipsis-horizontal",variation:"filled"}:pe==="start-thread"||pe==="open-thread"?fe?{name:"comment",variation:"filled"}:{name:"add-comment"}:pe==="start-assistant-thread"?{name:"magic-wand"}:pe==="insert-variable"||pe==="variable-limit-reached"?{name:"magic-wand"}:pe==="share"?{name:"share-message"}:pe==="channel-canvas-share"?{name:"share-message"}:pe==="view-full-screen"?{name:"window-expand"}:pe==="view-in-slack"?{name:"channel-arrow-right"}:pe==="open-in-detached-window"?{name:"open-in-window"}:pe==="open-in-new-window"?{name:"new-window"}:pe==="slackhorizontalrule"?{name:"divider"}:{name:pe}}h(q,"getDerivedFormatSvgIcon");var Y=e("tv4y");function ee(){return ee=Object.assign||function(pe){for(var fe=1;fe<arguments.length;fe++){var Ee=arguments[fe];for(var ye in Ee)Object.prototype.hasOwnProperty.call(Ee,ye)&&(pe[ye]=Ee[ye])}return pe},ee.apply(this,arguments)}h(ee,"_extends");const w=new K.b("slack-docs"),ne=248,ae=-12,de=-4,ge=h(pe=>{let{format:fe,inline:Ee=!1,size:ye}=pe;const{name:Te}=q(fe);return t.a.createElement(g.a,{name:Te,inline:Ee,size:ye})},"IconForFormat");ge.displayName="IconForFormat";const le=h(pe=>{let{menuItems:fe,activeFormats:Ee,onItemClick:ye,onMenuClose:Te=r.a,buttonClassNames:Oe,menuClassNames:Ce,isSticky:ce=!1,position:he="bottom-left",iconSize:Me}=pe;const Ae=Object($.a)(fe,Ie=>({value:Ie,label:I(Ie),type:Ie==="option-list-divider"?"divider":void 0,iconSize:Me})),xe=Ae.find(Ie=>{let{value:Ne}=Ie;return Ee&&Ee.includes(Ne)}),Re=(xe==null?void 0:xe.value)||"paragraph",Ge=Ae.map((Ie,Ne)=>{if(Ie.type==="divider")return t.a.createElement(X.d,{key:`menu-insert-divider-${Ne}`});const Ke={format:Ie.value,inline:!0,size:Me};return t.a.createElement(X.b,{label:Ie.label,key:`menu-item-${Ie.value}`,className:Object(u.default)(`p-composer__button${ce?"__sticky":"__floating"}`,Oe),icon:t.a.createElement(ge,ee({},Ke)),type:Y.b.radio,checked:Ie.value===Re,onSelected:()=>ye(Ie.value,{source:C.MsgFormattingInputSource.TOOLBAR})})}),ze=Object(n.useCallback)(Ie=>t.a.createElement(X.f,ee({},Ie,{menuClassNames:Ce,"data-qa":"p-composer-menu","aria-label":w.t("Formatting options")}),Ge),[Ge,Ce]);return t.a.createElement(X.e,{width:ne,position:he,offsetX:ae,offsetY:de,renderMenu:ze,onTriggerClose:Te,onPopoverClose:Te},t.a.createElement(p.a,{"aria-label":(xe==null?void 0:xe.label.toString())||Re,key:`format_${Re}_button`,className:Object(u.default)("p-composer__menu-trigger",Oe),"data-format":Re,"data-qa":`${Re}-composer-button`},t.a.createElement(ge,{format:Re}),t.a.createElement("div",{className:"c-menu_item__icon"},t.a.createElement(g.a,{name:"caret-down"}))))},"ComposerMenuTrigger");le.displayName="ComposerMenuTrigger";var Q=t.a.memo(le),ie=e("CcwH"),oe=e("RVJP"),me=e("xwCZ"),be=e("JoR1"),Se=e("T1zM");function Pe(){return Pe=Object.assign||function(pe){for(var fe=1;fe<arguments.length;fe++){var Ee=arguments[fe];for(var ye in Ee)Object.prototype.hasOwnProperty.call(Ee,ye)&&(pe[ye]=Ee[ye])}return pe},Pe.apply(this,arguments)}h(Pe,"composer_extends");let Ue=h(class extends n.PureComponent{componentDidMount(){this.animationTimer=window.setTimeout(()=>{this.setState(()=>({visible:!0})),this.animationTimer=null},225)}componentDidUpdate(){this.focusFormattingButtonOnUpdate&&(this.composerRef.current.querySelector('[data-format="overflow"]').focus(),this.focusFormattingButtonOnUpdate=!1)}componentWillUnmount(){this.composerRef.current.removeEventListener("keydown",this.tabComposer),this.animationTimer&&clearTimeout(this.animationTimer)}onButtonClick(fe){const{supportsAnchorText:Ee,openDocsLinkForm:ye,experimentChannelCanvasShareGroupOn:Te,hasSeenChannelCanvasForwardTip:Oe,setUserPrefByApi:Ce}=this.props,ce=fe.currentTarget.getAttribute("data-format");if(ce===ie.b.LINK&&!Ee){ye&&ye();return}this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ce,{source:C.MsgFormattingInputSource.TOOLBAR}),Te&&ce==="channel-canvas-share"&&!Oe&&Ce({pref:"seen_channel_canvas_forward_tip",value:!0})}onKeyDown(fe){let{keyCode:Ee}=fe;if(Ee!==y.f)return;const{onEscape:ye,overflowVisible:Te}=this.props;ye&&ye(),Te&&(this.focusFormattingButtonOnUpdate=!0)}onButtonKeyDown(fe){var Ee;const ye=Object(b.p)()?fe.metaKey:fe.ctrlKey,Te=fe.currentTarget.getAttribute("data-format");if(fe.keyCode===y.p||fe.keyCode===y.e){if(Te==="overflow"){this.moveFocusToOverflowMenu=!0,this.onButtonClick(fe);return}this.onButtonClick(fe),fe.preventDefault(),fe.currentTarget.focus()}this.state.visible&&((Ee=document.activeElement)===null||Ee===void 0?void 0:Ee.parentElement)===this.composerRef.current&&(fe.keyCode===66&&ye&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ie.b.BOLD,{source:C.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="bold"]').focus(),fe.preventDefault()),fe.keyCode===73&&ye&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ie.b.ITALIC,{source:C.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="italic"]').focus(),fe.preventDefault()),fe.keyCode===85&&ye&&!fe.shiftKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ie.b.UNDERLINE,{source:C.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="underline"]').focus(),fe.preventDefault()),fe.keyCode===88&&ye&&fe.shiftKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ie.b.STRIKE,{source:C.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="strike"]').focus(),fe.preventDefault()),fe.keyCode===67&&ye&&fe.shiftKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ie.b.CODE,{source:C.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="code"]').focus(),fe.preventDefault()),fe.keyCode===85&&ye&&fe.shiftKey&&(this.props.supportsAnchorText?this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ie.b.LINK,{source:C.MsgFormattingInputSource.KEYBOARD}):this.props.openDocsLinkForm&&this.props.openDocsLinkForm(),fe.preventDefault()),fe.keyCode===55&&ye&&fe.shiftKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ie.b.ORDERED_LIST,{source:C.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="ordered-list"]').focus(),fe.preventDefault()),fe.keyCode===56&&ye&&fe.shiftKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ie.b.BULLET_LIST,{source:C.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="bullet-list"]').focus(),fe.preventDefault()),fe.keyCode===57&&ye&&fe.shiftKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ie.b.BLOCKQUOTE,{source:C.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="blockquote"]').focus(),fe.preventDefault()),fe.keyCode===67&&ye&&fe.shiftKey&&fe.altKey&&(this.props.onFormatButtonClick&&this.props.onFormatButtonClick(ie.b.CODE_BLOCK,{source:C.MsgFormattingInputSource.KEYBOARD}),this.composerRef.current.querySelector('[data-format="code-block"]').focus(),fe.preventDefault()))}getAvailableButtonSlots(){const{width:fe}=this.props;let Ee;const ye=(fe||0)-(Ee||0)*35;return Math.floor(ye/36)}getButtonsBasedOnWidth(fe){const{isSticky:Ee,width:ye}=this.props;if(!Ee||Object(a.a)(ye)||Object(s.a)(ye))return fe;const Te=Object(l.a)(fe),Oe=this.getAvailableButtonSlots();if(Oe>=Te.length)return fe;const Ce=Oe-1;return W({buttonGroups:fe,numberToKeep:Ce})}getOverflowButtonsBasedOnWidth(fe){const Ee=Object(l.a)(fe),ye=this.getButtonsBasedOnWidth(fe);if(Object(o.a)(fe,ye))return[];const Te=Ee.length,Oe=Object(l.a)(ye).length-1,Ce=Te-Oe;return D({buttonGroups:fe,numberToKeep:Ce})}buildComposer(fe){if(!fe)return null;const{isSticky:Ee}=this.props,ye=this.getButtonsBasedOnWidth(fe),Te=[];for(let Oe=0,Ce=ye.length;Oe<Ce;Oe++){const ce=ye[Oe];let he=null;for(let Me=0,Ae=ce.length;Me<Ae;Me++)Te.push(this.renderButton(ce[Me],{role:"button",isSticky:!!Ee,prevFormat:he,nextFormat:ce[Me+1],firstFormat:ye[0][0]})),he=ce[Me],Me===Ae-1&&Oe!==Ce-1&&Te.push(t.a.createElement("span",{className:"p-composer__separator",key:`separator_${Oe}_${Me}`}))}return Te}focus(){const{isDocsLinkFormOpen:fe}=this.props,{visible:Ee}=this.state;Ee&&!fe&&(this.firstButtonFormatRef.current.focus(),this.trapFocusToComposer()),Ee&&fe&&(this.composerRef.current.querySelector("input").focus(),this.trapFocusToComposer())}shouldAdjoinToFormat(fe){const{activeFormats:Ee}=this.props;return Object(f.a)(Ee,"border")&&(Object(f.a)(Ee,"bullet-list")||Object(f.a)(Ee,"ordered-list"))?!0:fe&&Object(f.a)(this.props.activeFormats,fe)&&!this.shouldDisableButton(fe)}shouldDisableButton(fe){const{activeFormats:Ee,disabledFormats:ye,isDisabled:Te}=this.props;return!!(Te||ye!=null&&ye.has(fe)||Object(f.a)(Ee,"code-block")&&!["ordered-list","bullet-list","check-list","blockquote","code-block","overflow","start-thread"].includes(fe)||fe==="bold"&&(Object(f.a)(Ee,"h1")||Object(f.a)(Ee,"h2")||Object(f.a)(Ee,"h3")))}tabComposer(fe){const Ee=Object(d.d)(this.composerRef.current),ye=Object(d.e)(this.composerRef.current);fe.keyCode===y.q&&(fe.shiftKey?document.activeElement===Ee&&(ye.focus(),fe.preventDefault()):document.activeElement===ye&&(Ee.focus(),fe.preventDefault()))}trapFocusToComposer(){this.composerRef.current.addEventListener("keydown",this.tabComposer)}renderButton(fe){let{isSticky:Ee,prevFormat:ye,nextFormat:Te,firstFormat:Oe,role:Ce}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{role:"button"};const{activeFormats:ce,overflowVisible:he,textyHasFocus:Me,menuItems:Ae,onFormatButtonClick:xe,onClosePopovers:Re,selectIconSize:Ge,buttonTagData:ze,menuClassNames:Ie,experimentChannelCanvasShareGroupOn:Ne,hasSeenChannelCanvasForwardTip:Ke,menuPosition:Ve}=this.props,$e=this.shouldDisableButton(fe),tt=Object(f.a)(ce,fe)||fe==="overflow"&&he||fe==="blockquote"&&Object(f.a)(ce,"border"),qe=!Ee&&Ne&&fe==="channel-canvas-share"&&!Ke,ut=Object(u.default)("p-composer__button","p-composer__button--composer_ia","p-composer__selection_button",{"p-composer__button--floating":!Ee,"p-composer__button--sticky":Ee,"p-composer__button--no_pointer_events":Ee&&!Me,"p-composer__button--adjoin-left":this.shouldAdjoinToFormat(ye),"p-composer__button--adjoin-right":this.shouldAdjoinToFormat(Te),"p-composer__button--channel-canvas-forward":qe}),rt=Ee?500:0,yt=I(fe,{experimentChannelCanvasShareGroupOn:Ne}),Mt=fe==="menu",st=["start-thread","open-thread"].includes(fe),Vt=Oe===fe;if(Mt)return t.a.createElement(Q,{key:"format_menu_button",buttonClassNames:ut,menuClassNames:Ie,menuItems:Ae,activeFormats:ce,onMenuClose:Re||r.a,onItemClick:xe||r.a,isSticky:!!Ee,iconSize:Ge,position:Ve});const Wt=Vt&&Me?0:-1,Xt=Ce==="button"&&!st?tt&&!$e:void 0,Ut=Ce==="menuitemcheckbox"?tt:void 0,Nt=["bold","italic","strike","link","ordered-list","bullet-list","blockquote","code","code-block","overflow","start-thread","open-thread","share","open-in-detached-window","view-full-screen","view-in-slack","open-in-new-window","start-assistant-thread","insert-variable","variable-limit-reached","channel-canvas-share","slackhorizontalrule"],Ft=ze&&ze.get(fe),_n=Ft?`, ${Ft}`:"",cn=t.a.createElement(p.a,{role:Ce,tabIndex:Wt,className:ut,key:`format_${fe}_button`,"aria-label":`${yt}${_n}`,onClick:this.onButtonClick,icon:Nt.includes(fe)?null:fe,onKeyDown:this.onButtonKeyDown,"data-format":fe,disabled:$e,"aria-pressed":Xt,"aria-checked":Ut,ref:Oe===fe?this.firstButtonFormatRef:null,size:"small","data-qa":`${fe}-composer-button`},Nt.includes(fe)&&t.a.createElement(g.a,Pe({},q(fe,Ft))),st&&Ft?t.a.createElement("span",{className:"p-composer__selection_comment_count"},Ft):void 0,qe?t.a.createElement("span",{className:"p-composer__forawrd_label"},me.p.t("Forward")):void 0);return $e||fe==="overflow"&&he?cn:t.a.createElement(v.c,{tip:t.a.createElement(L.a,{format:fe,isMac:Object(b.p)(),isDocs:Object(O.a)(),label:yt}),position:"top",key:`format_${fe}_tip`,delay:rt,offsetY:-7,zIndex:"above_fs"},cn)}renderOverflow(){var fe,Ee,ye,Te;const{isSticky:Oe,width:Ce,buttons:ce}=this.props;if(!Oe||Object(a.a)(Ce)||Object(s.a)(Ce))return null;const he=this.getOverflowButtonsBasedOnWidth(ce);if(!he.length)return null;const Me=(fe=this.composerRef)===null||fe===void 0||(Ee=fe.current)===null||Ee===void 0?void 0:Ee.querySelector('[data-format="overflow"]');if(!Me)return null;const Ae=(ye=this.composerRef)===null||ye===void 0||(Te=ye.current)===null||Te===void 0?void 0:Te.getBoundingClientRect(),xe=Me.getBoundingClientRect(),Re=this.buildComposer(he),Ge=this.moveFocusToOverflowMenu;return this.moveFocusToOverflowMenu=!1,t.a.createElement(se,{width:Ce,composerRect:Ae,overflowButtonRect:xe,focusOnMount:!!Ge},Re)}render(){const{buttons:fe,isSticky:Ee,overflowVisible:ye,quillRef:Te,getSelection:Oe,isDocsLinkFormOpen:Ce,closeDocsLinkForm:ce}=this.props,he=Object(u.default)("p-composer__body",{"p-composer__body--visible":this.state.visible,"p-composer__body--floating":!Ee,"p-composer__body--unstyled":Ee});return fe?t.a.createElement("div",{className:he,ref:this.composerRef,onKeyDown:this.onKeyDown},!Ce&&this.buildComposer(fe),Ce&&t.a.createElement(F,{getSelection:Oe||r.a,quillRef:Te,onClose:ce||r.a}),ye&&this.renderOverflow()):null}constructor(fe){super(fe),this.state={visible:!!fe.isSticky},Object(m.a)(this,["buildComposer","renderButton","onButtonClick","onKeyDown","onButtonKeyDown","focus","trapFocusToComposer","tabComposer"]),this.animationTimer=null,this.firstButtonFormatRef=t.a.createRef(),this.composerRef=t.a.createRef()}},"Composer");Ue.displayName="Composer";const Fe=h(pe=>({hasSeenChannelCanvasForwardTip:Object(be.u)(pe,"seen_channel_canvas_forward_tip"),experimentChannelCanvasShareGroupOn:Object(oe.d)(pe,"channel_canvas_share",!1)==="on"}),"composer_mapStateToProps"),je=h(pe=>({setUserPrefByApi:fe=>pe(Object(Se.f)(fe))}),"mapDispatchToProps");var _e=i.a=Object(c.a)(Fe,je)(Object(_.a)(Ue))},"8dl9":function(J,i,e){"use strict";var n=e("nNoG");const t=new n.b("audio_player");function a(s){const l=Math.floor(s/3600),o=Math.floor((s-l*3600)/60),f=Math.floor(s-l*3600-o*60);return l>0?t.t("{hours} {hours, plural, =1 {hour} other {hours}}, {minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:f,minutes:o,hours:l}):o>0?t.t("{minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:f,minutes:o}):t.t("{seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:f})}h(a,"secondsToSpokenTime"),i.a=a},"8eQr":function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(t,a){return t?[t,...a.filter(s=>s!==t)]:a}h(n,"getSortedTeamIds")},"8fw/":function(J,i,e){"use strict";var n=e("fp5s"),t=e("fujP"),a=e("yIs4"),s=e("q1tI"),l=e.n(s),o=e("BHdc"),f=e("kGAF"),r=e("oSkh"),m=e("pFNT");function c(){return c=Object.assign||function(d){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(d[g]=v[g])}return d},c.apply(this,arguments)}h(c,"_extends");let u=h(class extends l.a.Component{renderAvatar(p,v){const{avatarProps:g}=this.props;let O,b;return Object(f.a)(p)?O=p:b=p,l.a.createElement(m.c,c({additionalOverlay:v,ariaHidden:"true",botId:O,key:p||Object(n.a)("unknown-"),tabIndex:"-1",userId:b},g))}renderAvatars(p,v){if(!v)return null;const g=p.slice(0,v-1).map(O=>this.renderAvatar(O));if(p.length>=v){const O=p.length-v;g.push(this.renderAvatar(p[v-1],O))}return g}render(){const{avatarOuterHeight:p,avatarOuterWidth:v,className:g,maxNumFaces:O,memberIds:b,style:y}=this.props;if(Object(t.a)(b)||Object(a.a)(O)&&O<=0)return null;let C;return Object(a.a)(O)?C=this.renderAvatars(b||[],O):C=l.a.createElement(r.a,null,_=>{let{height:j,width:E}=_;const M=Math.floor(E/v),T=this.renderAvatars(b||[],M);return l.a.createElement("div",{style:{height:j,width:E}},T)}),l.a.createElement("div",{className:Object(o.default)("p-facepile",g),style:y||{height:p}},C)}},"Facepile");u.displayName="Facepile",i.a=u},"8hJe":function(J,i,e){"use strict";e.d(i,"a",function(){return n});var n;(function(t){t.UP="ArrowUp",t.DOWN="ArrowDown",t.TAB="Tab",t.ENTER="Enter",t.RIGHT="ArrowRight",t.LEFT="ArrowLeft",t.HOME="Home",t.END="End",t.BACKSPACE="Backspace",t.DASH="-",t.UNDERSCORE="_",t.ESCAPE="Escape",t.SPACE=" "})(n||(n={}))},"8r3k":function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("0LZ2");function t(a){const l=Object(n.a)(a).import("formats/bold");let o=h(class extends l{},"Strike");return o.blotName="strike",o.tagName=["S","STRIKE"],o}h(t,"getSlackStrikeFormat")},"8sbp":function(J,i,e){"use strict";e.d(i,"b",function(){return C}),e.d(i,"c",function(){return j});var n=e("Fsnq"),t=e("F294"),a=e("ZKjC"),s=e("SQ0V"),l=e("gCYc"),o=e("xwCZ"),f=e("E3dU"),r=e("JoR1"),m=e("Kn+X"),c=e("C3vN"),u=e("+tZp"),d=e("E97Y"),p=e("Yauy"),v=e("gVOt"),g=e("M+5u"),O=e("nNoG");const b=new O.b("drafts");function y(E,M){const T=Object(m.m)(M);if(Object(n.a)(T))return T;const P=Object(t.a)(Object(m.d)(M)),B=Object(f.d)(E,P);if(!B)return[];if(Object(d.g)(B)){const R=Object(v.a)(B);return R?[R]:[]}if(Object(d.i)(B)){const R=Object(p.C)(B);return R||[]}return[]}h(y,"getMemberIdsFromDraft");function C(E,M){const T=Object(l.k)(E,M);if(!T)return;const P=y(E,T);if(Object(n.a)(P)!==1)return;const B=P[0];return Object(o.g)(E,B)}h(C,"getMemberFromDraftForTimeZoneDetails");const _=Object(a.b)((E,M)=>{let{draftId:T,schedulingTime:P}=M;const B=C(E,T);if(!B)return;const R=Object(o.c)(E),U=Object(c.D)(R),K=Object(r.u)(E,"time24"),V=Object(u.a)(E,B),z=Object(c.D)(B),N=Object(c.E)(B);if(!z||U===z)return;const A=Object(g.a)(P*1e3,{timeZone:z,timeZoneOffset:N,do24hrTime:K,returnMoment:!1});return b.t("{memberTime} for {memberName}",{memberTime:A,memberName:Object(O.k)(V)})});_.meta={name:"createSelector",key:"createSelectorgetScheduledDraftTimeZoneDetails",description:(E,M)=>{let{draftId:T,schedulingTime:P}=M;const B=C(E,T);if(!B)return;const R=Object(o.c)(E),U=Object(c.D)(R),K=Object(r.u)(E,"time24"),V=Object(u.a)(E,B),z=Object(c.D)(B),N=Object(c.E)(B);if(!z||U===z)return;const A=Object(g.a)(P*1e3,{timeZone:z,timeZoneOffset:N,do24hrTime:K,returnMoment:!1});return b.t("{memberTime} for {memberName}",{memberTime:A,memberName:Object(O.k)(V)})}};const j=Object(s.c)("get the scheduled draft timezone details",(E,M,T)=>{let{draftId:P,schedulingTime:B}=T;const R=M();return _(R,{draftId:P,schedulingTime:B})});j.meta={name:"createThunk",key:"createThunkgetScheduledDraftTimeZoneDetailsThunk",description:"get the scheduled draft timezone details"},i.a=_},"8v4m":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zmn3"),s=e("417x"),l=e("m5Yc");const o=h(ln=>{let{type:en,elements:xt,isFirst:sn,clogLinkClick:nn,renderRichText:Ln,noInlineLinks:Pn,stopAnimations:yn}=ln;return en!==l.b.SECTION||!xt||!xt.length?null:t.a.createElement("div",{className:"p-rich_text_section"},Ln({elements:xt,isFirst:sn,clogLinkClick:nn,noInlineLinks:Pn,stopAnimations:yn}))},"RichTextSection");o.displayName="RichTextSection";var f=o;const r=h(ln=>{let{type:en,elements:xt,clogLinkClick:sn,noBorderBottomCap:nn,noBorderTopCap:Ln,border:Pn,noBorder:yn,renderRichText:Zt}=ln;if(en!==l.b.QUOTE||!xt||!xt.length)return null;const qn=!yn&&Ln?0:void 0,ta=!yn&&nn?0:void 0,la=Pn&&Pn>0?"1":void 0,Yn=yn?"":void 0;return t.a.createElement("blockquote",{type:"cite",className:"c-mrkdwn__quote","data-stringify-type":"quote","data-stringify-border":la,"data-no-border":Yn,"data-border-radius-top-cap":qn,"data-border-radius-bottom-cap":ta},Zt({type:en,elements:xt,clogLinkClick:sn}))},"RichTextQuote");r.displayName="RichTextQuote";var m=r,c=e("yH2S");const u=h(ln=>{let{type:en,border:xt,elements:sn,clogLinkClick:nn,renderRichText:Ln}=ln;if(en!==l.b.PREFORMATTED||!sn||!sn.length)return null;const Pn=xt&&xt>0?"1":void 0;return t.a.createElement(c.a,{blockType:"codeBlock"},t.a.createElement(c.b,null,t.a.createElement("pre",{className:"c-mrkdwn__pre","data-stringify-type":"pre","data-stringify-border":Pn},t.a.createElement("div",{className:"p-rich_text_block--no-overflow"},Ln({elements:sn,clogLinkClick:nn})))))},"RichTextPreformatted");u.displayName="RichTextPreformatted";var d=u,p=e("Cfcg"),v=e("BHdc"),g=e("RVJP");const{ORDERED:O,CHECK:b}=l.a,y=h(ln=>{let{type:en,elements:xt,style:sn,indent:nn,border:Ln,checked:Pn,index:yn,start:Zt,clogLinkClick:qn,experimentIncreaseListSpacingGroupTreatment:ta,noBorderTopCap:la,noBorderBottomCap:Yn,allowCheckList:Jt,allowOrderedListSetStart:Qn,renderRichText:Zn}=ln;const Hn=Qn&&Zt&&Zt>0,Sa=Object(n.useMemo)(()=>Hn?{counterReset:`list-0 ${Zt-1}`}:void 0,[Zt,Hn]);if(en!==l.b.LIST||!xt||!xt.length)return null;const Ca=xt.map((on,Sn)=>t.a.createElement("li",{key:Sn,"data-stringify-indent":nn,"data-stringify-border":Ln},Zn({elements:on.elements,clogLinkClick:qn}))),La=Object(v.default)("p-rich_text_list",`p-rich_text_list__${sn}`,{"p-rich_text_list_increased_spacing":ta}),Gt=la?0:void 0,Ct=Yn?0:void 0;let It=yn?yn+1:void 0;return Hn&&(It=Zt),sn===O?t.a.createElement("ol",{"data-stringify-type":"ordered-list",className:La,"data-indent":nn,"data-border":Ln,start:It,style:Sa,"data-border-radius-top-cap":Gt,"data-border-radius-bottom-cap":Ct},Ca):Jt&&sn===b?t.a.createElement("ul",{"data-stringify-type":"check-list",className:La,"data-indent":nn,"data-checked":!!Pn},Ca):t.a.createElement("ul",{"data-stringify-type":"unordered-list",className:La,"data-indent":nn,"data-border":Ln,"data-border-radius-top-cap":Gt,"data-border-radius-bottom-cap":Ct},Ca)},"RichTextList");y.displayName="RichTextList";const C=h(ln=>({experimentIncreaseListSpacingGroupTreatment:Object(g.d)(ln,"increase_list_spacing")==="treatment"}),"mapStateToProps");var _=Object(p.a)(C)(y),j=e("R+hq"),E=e("Atrf"),M=e("wnwS"),T=e("cfe2"),P=e("VvJB");const B=h(()=>{},"noop"),R=h(ln=>{let{type:en,userId:xt,style:sn,clogLinkClick:nn,noLinking:Ln}=ln;const Pn=Object(n.useContext)(T.a);if(en!==l.b.USER||!xt)return null;const yn=Pn.containerContext===P.a.block_kit_builder?B:void 0;return t.a.createElement(M.a,{style:sn},t.a.createElement(E.a,{id:xt,noLinking:Ln,showTooltip:!0,clogLinkClick:nn,onClick:yn}))},"UserElement");R.displayName="UserElement";var U=R,K=e("t9SR"),V=e("sa+Q"),z=e("7UMc");const N=h(ln=>{let{type:en,range:xt,style:sn}=ln;return en!==l.b.BROADCAST||!xt?null:t.a.createElement(M.a,{style:sn},t.a.createElement(z.a,{type:xt}))},"Broadcast");N.displayName="Broadcast";var A=N,x=e("/qcS");const k=h(ln=>{let{type:en,name:xt,skinTone:sn,isImportAllowed:nn,isJumbomoji:Ln,style:Pn,displayTeamId:yn,displayUrl:Zt,displayAlias:qn,unicode:ta,stopAnimations:la}=ln;if(en!==l.b.EMOJI||!xt&&!ta)return null;const Yn=qn??xt;let Jt="";sn&&!ta&&(Jt=`:${Yn}::skin-tone-${sn}:`),!sn&&!ta&&(Jt=`:${Yn}:`);const Qn=Ln?x.a.LARGE:x.a.MEDIUM;return t.a.createElement(M.a,{style:Pn},t.a.createElement(x.b,{text:Jt,emojiSize:Qn,isEmojiInlineWithText:!Ln,isImportAllowed:nn,showTooltip:!0,sourceTeamId:yn,url:Zt,unicode:ta,stopAnimations:la}))},"Emoji");k.displayName="Emoji";var F=k,L=e("GYna"),S=e("O86Y"),I=e("nNoG"),W=e("EJqq"),D=e("Y31Q"),H=e("puGG");const{_EMOJI_GROUP:Z}=l.b,G={display:"inline"},te={display:"contents"},se=h(ln=>{let{displayText:en,size:xt,type:sn,elements:nn,renderRichText:Ln,isEmojiGroupEnabled:Pn=!1}=ln;if(sn!==Z||!nn||!nn.length||!Ln)return null;const yn=Ln({elements:nn});if(!xt||xt<H.c||!en||!Pn)return yn;const Zt=Object(D.b)(en,xt,Pn);return Zt?t.a.createElement("div",{style:G,role:"img","aria-label":Zt},t.a.createElement("div",{style:te,"aria-hidden":"true"},yn)):yn},"EmojiGroup");se.displayName="EmojiGroup";const $=h((ln,en)=>{const{name:xt,displayAlias:sn,skinTone:nn}=en,Ln=sn??xt;let Pn;if(Ln){const yn=nn?`:${Ln}::skin-tone-${nn}:`:`:${Ln}:`,Zt=Object(S.g)(ln)||"",qn=Object(I.m)({teamOrEnterpriseId:Zt,recalc:!1});Pn=Object(W.i)({state:ln,locale:qn,name:yn})}return{displayText:Pn||"",isEmojiGroupEnabled:Object(L.a)(ln)}},"emoji_group_mapStateToProps");var X=Object(p.a)($)(se),q=e("/MKj"),Y=e("9wj1"),ee=e("kakQ"),w=e("3Zl6"),ne=e("qzps");const ae=h(ln=>{let{type:en,url:xt,text:sn,style:nn,elements:Ln,clogLinkClick:Pn,renderRichText:yn,isFromAppHome:Zt=!1,noLinking:qn}=ln;const ta=Object(q.useDispatch)(),la=(xt==null?void 0:xt.trim())||"";let Yn=sn||la,Jt=Yn;Ln&&(Yn=yn({elements:Ln}),Jt=Ln.map(Hn=>Hn.text).join("")||"");const Qn=Object(n.useCallback)(Hn=>{la&&Jt&&Object(ne.b)(Jt,la)&&(ta(Object(Y.a)({text:Jt,url:la})),Hn.preventDefault())},[ta,Jt,la]);if(en!==l.b.LINK||!la)return null;const Zn=Object(w.a)(la,{allowNoTLD:!0});return t.a.createElement(M.a,{style:nn},t.a.createElement(ee.a,{url:la,maybeOpenSuspiciousLinkDialog:Qn,clogLinkClick:Pn,noLinking:!Zn||qn,showTooltip:Zn,memberId:void 0,isFromAppHome:Zt},Yn))},"Link");ae.displayName="Link";var de=ae,ge=e("JoR1"),le=e("rBXw");const Q=h(ln=>{let{type:en,timestamp:xt,format:sn,url:nn,fallback:Ln,do24hrTime:Pn,style:yn}=ln;if(en!==l.b.DATE||!xt||!sn)return null;const Zt=xt.toString();return t.a.createElement(M.a,{style:yn},t.a.createElement(le.a,{ts:Zt,format:sn,link:nn,fallback:Ln,do24hrTime:Pn}))},"RichTextDate");Q.displayName="RichTextDate";const ie=h(ln=>({do24hrTime:Object(ge.u)(ln,"time24")}),"date_mapStateToProps");var oe=Object(p.a)(ie)(Q);const me=h(ln=>{let{type:en,value:xt,style:sn,hideHexSwatch:nn}=ln;const Ln=Object(n.useCallback)(()=>({background:xt}),[xt]);return en!==l.b.COLOR||!xt?null:t.a.createElement(M.a,{style:sn},xt,!nn&&t.a.createElement("div",{className:"c-mrkdwn__hex",style:Ln()}))},"Color");me.displayName="Color";function be(ln){return{hideHexSwatch:Object(ge.u)(ln,"hide_hex_swatch")}}h(be,"color_mapStateToProps");var Se=Object(p.a)(be)(me),Pe=e("JoAr"),Ue=e("tqVr"),Fe=e("nWdO");const{_EDITED_LABEL:je}=l.b,_e=new I.b("message_kit"),pe=h(ln=>{let{type:en,editedTs:xt,omitWhitespace:sn,isArchived:nn}=ln;const Ln=Object(n.useCallback)(()=>xt?_e.t("{date} at {time}",{date:Object(Ue.a)(xt,{shortenMonth:!0}),time:Object(Pe.a)(xt,"{time}")}):null,[xt]);if(en!==je)return null;let Pn=_e.t("(edited)");nn&&(Pn=_e.t("(archived)"));const yn=t.a.createElement("span",{key:"edited",className:"c-message__edited_label",dir:"ltr"},!sn&&"\xA0",Pn,!sn&&"\xA0");return xt?t.a.createElement(Fe.c,{key:"edited",delay:Fe.a,tip:Ln},yn):yn},"EditedLabel");pe.displayName="EditedLabel";var fe=pe,Ee=e("/NRl"),ye=e("s4P+");function Te(){return Te=Object.assign||function(ln){for(var en=1;en<arguments.length;en++){var xt=arguments[en];for(var sn in xt)Object.prototype.hasOwnProperty.call(xt,sn)&&(ln[sn]=xt[sn])}return ln},Te.apply(this,arguments)}h(Te,"_extends");const Oe=Object(ye.b)(),Ce=h(ln=>{const{type:en,text:xt,isFirstElementInFirstSection:sn,isFirstElementInSection:nn}=ln;return Oe.warn("RICH_TEXT",`Encountered unknown rich text element of type: ${en}`),xt?t.a.createElement(j.a,Te({},ln,{type:l.b.TEXT,isFirstElementInFirstSection:sn,isFirstElementInSection:nn})):null},"UnknownElement");Ce.displayName="UnknownElement";var ce=Ce,he=e("YCzX"),Me=e("qDEp");const Ae=new I.b("search"),xe=h(ln=>{let{isMessageTruncation:en,clogLinkClick:xt}=ln;const sn=Object(n.useCallback)(nn=>{nn.preventDefault(),nn.stopPropagation(),xt&&xt({link_type:"truncate"})},[xt]);return en?t.a.createElement(t.a.Fragment,null,"\u2026"):t.a.createElement(Fe.c,{tip:Ae.t("Show more")},t.a.createElement(Me.d,{className:"c-search__expand",onClick:sn},t.a.createElement("span",{className:"c-search__expand_ellipsis"},"...")))},"Truncation");xe.displayName="Truncation";var Re=xe,Ge=e("Tevt");const ze=new I.b("search"),Ie=h(ln=>{let{btnCopy:en,isMessageTruncation:xt,clogLinkClick:sn}=ln;const nn=Object(n.useCallback)(Ln=>{Ln.preventDefault(),Ln.stopPropagation(),sn&&sn({e:Ln,link_type:xt?"message_expand":"truncate"})},[sn,xt]);return xt?t.a.createElement(Ge.a,{className:"c-rich_text_expand_button",onClick:nn},en??ze.t("Show more")):t.a.createElement(Me.d,{className:"c-search__expand",onClick:nn},t.a.createElement("span",{className:"c-search__expand_ellipsis"},en??`... ${ze.t("Show more")}`))},"TruncationExpandButton");Ie.displayName="TruncationExpandButton";var Ne=Ie;const Ke=new I.b("search"),Ve=h(ln=>{let{clogLinkClick:en}=ln;const xt=Object(n.useCallback)(sn=>{sn.preventDefault(),sn.stopPropagation(),en&&en({link_type:"message_collapse"})},[en]);return t.a.createElement(Ge.a,{className:"c-rich_text_collapse_button",onClick:xt},Ke.t("Show less"))},"TruncationCollapseButton");Ve.displayName="TruncationCollapseButton";var $e=Ve,tt=e("f2qs"),qe=e("zxER"),ut=e("/lKr"),rt=e("sGZK"),yt=e("8z04"),Mt=e("dmdh"),st=e("x6tY");const{_FILE_MENTION:Vt,FILE:Wt}=l.b,Xt=h(ln=>{let{fileId:en,type:xt,style:sn}=ln;const nn=Object(q.useDispatch)(),Ln=Object(qe.c)(Zt=>{const qn=Object(Mt.e)(Zt,en);return Object(st.zb)(qn)||Object(st.Tb)(qn)||Object(st.Db)(qn)||Object(st.tb)(qn)||!Object(st.ac)(qn)}),Pn=Object(n.useCallback)(Zt=>{Zt.preventDefault(),Ln||nn(Object(ut.a)({fileId:en}))},[nn,en,Ln]),yn=Object(n.useMemo)(()=>t.a.createElement(M.a,{style:sn},t.a.createElement(rt.a,{id:en,detailType:yt.a.NONE,"data-qa":"rich_text_file_element",className:Object(v.default)("p-rich_text_file",{"p-rich_text_file--disabled":Ln})})),[en,Ln,sn]);return xt!==Vt&&xt!==Wt||!en?null:Ln?yn:t.a.createElement(Ge.a,{onClick:Pn},yn)},"File");Xt.displayName="File";var Ut=Xt,Nt=e("u2NN"),Ft=e("UIhb"),_n=e("ZobM"),cn=e("Epto"),Rn=e("gES/"),Vn=e("GWKd"),ea=e("uVdA"),Lt=e("EHXP"),vn=e("CD4m");const{_UNFURL_MENTION:Wn,CANVAS_MESSAGE_UNFURL:Nn}=l.b,ia=new I.b("block_kit"),Ea=h(ln=>{let{type:en,style:xt,rootMessageChannel:sn,rootMessageTs:nn}=ln;const Ln=Object(q.useDispatch)(),Pn=Object(qe.c)(ea.a),yn=Object(qe.c)(Zn=>Object(Ft.b)(Zn,sn,nn)),Zt=yn?Object(Rn.b)(yn):null,qn=Object(qe.c)(Zn=>Object(cn.a)(Zn,{userId:Zt==null?void 0:Zt.author_id,botId:Zt==null?void 0:Zt.bot_id,username:Zt==null?void 0:Zt.author_name})),ta=!Zt,la=Object(n.useMemo)(()=>{var Zn,Hn;return{...Zt==null||(Zn=Zt.message_blocks)===null||Zn===void 0||(Hn=Zn[0])===null||Hn===void 0?void 0:Hn.message,channel:(Zt==null?void 0:Zt.channel_id)||"",ts:(Zt==null?void 0:Zt.ts)||"",text:(Zt==null?void 0:Zt.text)||"",type:"message"}},[Zt]),Yn=Object(n.useCallback)(Zn=>{Zn.preventDefault(),ta||Ln(Object(Lt.a)({channelId:(Zt==null?void 0:Zt.channel_id)||"",ts:Zt==null?void 0:Zt.ts,threadTs:Zt==null?void 0:Zt.thread_ts}))},[Ln,ta,Zt==null?void 0:Zt.channel_id,Zt==null?void 0:Zt.thread_ts,Zt==null?void 0:Zt.ts]),Jt=Object(n.useCallback)(()=>{const Zn=ta?"lock":"threads";return t.a.createElement(_n.a,{name:Zn,variation:"filled",inline:!0})},[ta]),Qn=Object(n.useMemo)(()=>{let Zn;if(ta)Zn=ia.t("private message");else{const Hn=t.a.createElement(Vn.a,{msg:la,experimentRichTextGroupOn:Pn,truncateLength:15});Zn=Hn?t.a.createElement(t.a.Fragment,null,`${qn}: "`,Hn,'"'):qn}return t.a.createElement(M.a,{style:xt},t.a.createElement(vn.d,{size:"small",className:Object(v.default)("p-rich_text_canvas_message_unfurl",{"p-rich_text_canvas_message_unfurl--disabled":ta}),"data-qa":"rich_text_canvas_message_unfurl_element",avatar:Jt,text:Zn}))},[Pn,ta,qn,la,Jt,xt]);return en!==Wn&&en!==Nn||!yn||!Zt?null:ta?Qn:t.a.createElement(Ge.a,{onClick:Yn},Qn)},"CanvasMessageUnfurl");Ea.displayName="CanvasMessageUnfurl";var bn=Ea,Xn=e("sz8i"),vt=e("B1w/");const Je=h(ln=>{let{type:en,userId:xt,style:sn,clogLinkClick:nn,noLinking:Ln,threadId:Pn}=ln;const yn=Object(qe.c)(ta=>Pn?Object(vt.a)(ta,Pn):void 0),Zt=Object(qe.c)(ta=>!!Pn&&!!xt&&!!yn&&Object(Xn.a)(ta,{fileId:yn,userId:xt})),{_CANVAS_USER_MENTION:qn}=l.b;return en!==qn||!xt?null:t.a.createElement(M.a,{style:sn},t.a.createElement(E.a,{id:xt,noLinking:Ln,supressLinkColors:!Zt,showTooltip:!0,clogLinkClick:nn}))},"CanvasUserMention");Je.displayName="CanvasUserMention";var et=Je;const mt=h(ln=>{let{type:en,name:xt,style:sn}=ln;const{_VARIABLE:nn}=l.b;return en!==nn||!xt?null:t.a.createElement(M.a,{style:sn},t.a.createElement("div",{className:"p-variable"},t.a.createElement(_n.a,{name:"magic-wand",inline:!0}),t.a.createElement("span",{className:"p-variable__name","data-qa":"block_kit_rich_text_variable_element__name"},xt)))},"Variable");mt.displayName="Variable";var Pt=mt;function Tt(){return Tt=Object.assign||function(ln){for(var en=1;en<arguments.length;en++){var xt=arguments[en];for(var sn in xt)Object.prototype.hasOwnProperty.call(xt,sn)&&(ln[sn]=xt[sn])}return ln},Tt.apply(this,arguments)}h(Tt,"rich_text_renderer_extends");const{SECTION:Qt,QUOTE:dt,PREFORMATTED:zt,LIST:At,TEXT:Qe,USER:nt,USERGROUP:_t,CHANNEL:Et,BROADCAST:kt,EMOJI:jn,LINK:pn,DATE:An,COLOR:lt,WORKFLOWTOKEN:Dn,TRUNCATION:fn,FILE:kn,CANVAS:wn,CANVAS_MESSAGE_UNFURL:fa,_EDITED_LABEL:In,_EMOJI_GROUP:ha,_THEME_INSTALL_BUTTON:Dt,_TRUNCATION_EXPAND_BUTTON:jt,_TRUNCATION_COLLAPSE_BUTTON:$t,_FILE_MENTION:Tn,_CANVAS_MENTION:dn,_UNFURL_MENTION:Un,_CANVAS_USER_MENTION:Bn,_VARIABLE:Kt}=l.b,Kn=h(ln=>{let{elements:en,elementsAreCamelCased:xt,isFirst:sn,clogLinkClick:nn,isEmojiImportEnabled:Ln,allowCheckList:Pn,allowOrderedListSetStart:yn,blocksContainerContext:Zt,noInlineLinks:qn,truncationExpandBtnCopy:ta,stopAnimations:la}=ln;const Yn=Object(n.useCallback)(Jt=>t.a.createElement(Kn,Tt({},Jt,{isEmojiImportEnabled:Ln,blocksContainerContext:Zt,elementsAreCamelCased:xt,truncationExpandBtnCopy:ta})),[Ln,Zt,xt,ta]);return!en||!en.length?null:t.a.createElement(t.a.Fragment,null,Object(a.a)(en,(Jt,Qn)=>{const Zn=Qn===0,Hn=xt?Jt:Object(s.b)(Jt);switch(Jt.type){case Qt:return t.a.createElement(f,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn,renderRichText:Yn,clogLinkClick:nn,isFirst:Zn,noInlineLinks:qn,stopAnimations:la}));case dt:return t.a.createElement(m,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn,renderRichText:Yn,clogLinkClick:nn}));case zt:return t.a.createElement(d,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn,renderRichText:Yn,clogLinkClick:nn}));case At:return t.a.createElement(_,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn,allowCheckList:Pn,allowOrderedListSetStart:yn,renderRichText:Yn,clogLinkClick:nn}));case Qe:return t.a.createElement(j.a,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn,isFirstElementInFirstSection:sn&&Zn,isFirstElementInSection:Zn}));case nt:return t.a.createElement(U,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn,clogLinkClick:nn,noLinking:qn}));case _t:return t.a.createElement(K.a,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn}));case Et:return t.a.createElement(V.a,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn,clogLinkClick:nn,noLinking:qn}));case kt:return t.a.createElement(A,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn}));case jn:return t.a.createElement(F,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn,isImportAllowed:Ln,stopAnimations:la}));case pn:return t.a.createElement(de,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn,clogLinkClick:nn,renderRichText:Yn,isFromAppHome:Zt===P.a.app_home,noLinking:qn}));case An:return t.a.createElement(oe,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn}));case lt:return t.a.createElement(Se,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn}));case Dn:return t.a.createElement(he.g,Tt({key:Qn},Hn));case fn:return t.a.createElement(Re,Tt({},Hn,{clogLinkClick:nn,key:Qn}));case Dt:return t.a.createElement(Ee.a,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn}));case In:return t.a.createElement(fe,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn}));case jt:return t.a.createElement(Ne,Tt({},Hn,{key:Qn,btnCopy:ta,clogLinkClick:nn}));case $t:return t.a.createElement($e,Tt({},Hn,{key:Qn,clogLinkClick:nn}));case ha:return t.a.createElement(X,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn,renderRichText:Yn}));case Tn:case kn:return t.a.createElement(Ut,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn}));case dn:return t.a.createElement(Nt.a,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn}));case wn:return t.a.createElement(tt.a,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn}));case Un:return t.a.createElement(bn,Tt({},Hn,{rootMessageTs:Hn.fileChannelMessageTs,rootMessageChannel:Hn.fileChannelId,type:Jt==null?void 0:Jt.type,key:Qn}));case fa:return t.a.createElement(bn,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn}));case Bn:return t.a.createElement(et,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn,clogLinkClick:nn,noLinking:qn}));case Kt:return t.a.createElement(Pt,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn}));default:return t.a.createElement(ce,Tt({},Hn,{type:Jt==null?void 0:Jt.type,key:Qn,isFirstElementInFirstSection:sn&&Zn,isFirstElementInSection:Zn}))}}))},"RichTextRenderer");Kn.displayName="RichTextRenderer";var aa=i.a=Kn},"8z04":function(J,i,e){"use strict";e.d(i,"a",function(){return n}),e.d(i,"b",function(){return t});const n={NONE:"none",OWNER:"owner",OWNER_TIMESTAMP:"owner-timestamp",CHANNEL:"channel",SHARER:"sharer",FILETYPE:"filetype",LAST_UPDATED:"last-updated",LAST_VIEWED:"last-viewed",CREATED_TIMESTAMP:"created-timestamp",SHARED_TIMESTAMP:"shared-timestamp",ACTIVITY_MENTION:"mention"},t={Detail:"detail",View:"view",Download:"download",Window:"window",Remote:"remote",Reveal:"reveal",External:"external",Open:"open"}},"9BpI":function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("SQ0V"),t=e("zcRq");const a=Object(n.c)("Creates JSON string of URLs used to submit unfurl data to draft syncing endpoints",(s,l,o)=>{let{draftId:f,ops:r}=o;const m=s(Object(t.a)({draftId:f,ops:r}));if(!m)return;let c;try{m.length&&(c=JSON.stringify(m))}catch{c=void 0}return c});a.meta={name:"createThunk",key:"createThunkgetCompleteUnfurlsInDraftOpsForDraftSync",description:"Creates JSON string of URLs used to submit unfurl data to draft syncing endpoints"}},"9FRF":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("4HNC"),s=e("sGXp"),l=e("28cP");function o(f){const{className:r,"data-qa":m,file:c,id:u,isActive:d,isDisabled:p,secondaryContent:v,timestampProps:g,forceIconThumbnail:O,isDetailTextBold:b,detailTextOverride:y,detailType:C,hideActionText:_=!1,hasNotification:j,allowLiveTitle:E,isViewOnly:M,fromCanvasOrganization:T=!1,showCanvasIa4Metadata:P,showCanvasModalMetadata:B=!1,useNewChannelCanvasNaming:R=!1}=f,U=u||(c==null?void 0:c.id);if(!U)return null;let K;return d?p?K=s.d.highlightDim:K=s.d.highlightDark:p&&(K=s.d.dim),t.a.createElement(a.a,{style:K,className:r,padding:"0",primaryContent:t.a.createElement(l.a,{file:c,"data-id":U,"data-qa":m,"data-sk":"medium_file_list_entity",id:U,isDisabled:p,invert:K===s.d.highlightDark,timestampProps:g,forceIconThumbnail:!!O,isDetailTextBold:b,detailType:C,detailTextOverride:y,hideActionText:_,hasNotification:j,allowLiveTitle:E,isViewOnly:M,fromCanvasOrganization:T,showCanvasIa4Metadata:P,showCanvasModalMetadata:B,useNewChannelCanvasNaming:R}),secondaryContent:v})}h(o,"MediumFileListEntity"),o.displayName="MediumFileListEntity",i.a=o},"9L5H":function(J,i,e){"use strict";e.d(i,"b",function(){return n}),e.d(i,"a",function(){return t});const n={primary:"primary",danger:"danger",outline:"outline",outlinePrimary:"outline-primary",outlineDanger:"outline-danger",outlineTractor:"outline-tractor"},t={small:"small",medium:"medium",large:"large"}},"9OBh":function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("yIs4");function t(a){return!!(a&&Object(n.a)(a.delete))}h(t,"isOpDelete")},"9avG":function(J,i,e){"use strict";e.d(i,"a",function(){return z}),e.d(i,"b",function(){return S});var n=e("c8Bs"),t=e("3Hq1"),a=e("Fsnq"),s=e("M1Wn"),l=e("/1FC"),o=e("xWuZ"),f=e("gSGL"),r=e("pxG+"),m=e("mM05"),c=e.n(m),u=e("Oy0v"),d=e("KENN"),p=e("m5Yc"),v=e("yLDf"),g=e("MvaT"),O=e("yrot"),b=e("Bkx2"),y=e("5SjC"),C=e("TQ9f"),_=e("fR2/"),j=e("Yu+/");function E(Y){return!!(Y&&Y.attributes&&Y.attributes.header)}h(E,"isOpHeader");var M=e("CMoc"),T=e("IOc2"),P=e("tfz1"),B=e("Awek"),R=e("htTJ"),U=e("k2bd");const K=/(^|\S)( +)(\n)/gm,V=/(^|\s|\{|\[|\(|>|<|\*|_|\/|"|\u201C|\u2018|'|,)#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,z=/^[0-9a-fA-F]{6}$/,{SECTION:N,LIST:A,PREFORMATTED:x,QUOTE:k,HEADER:F,DIVIDER:L}=p.b;function S(){let{delta:Y,options:{convertEmpty:ee=!1,trimEndingWhitespace:w=!1,trimStartingWhitespace:ne=!0,expandTruncatedLinks:ae=!1,useExpandedRichText:de=!1}={},state:ge}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Y||!ge)return[];const le=Object(v.a)({delta:Y,trimEnd:w,trimStart:ne});if(Object(g.a)(le)||le.insert(`
`),le.length()<=1&&!ee)return[];let Q=[],ie=new c.a,oe=N;return Object(y.a)(le,(me,be)=>{const Se=I(me,be);Se!==oe&&(Q=W(Q,oe,ie,ge,{stripTrailingWhitespace:!1,expandTruncatedLinks:ae}),oe=Se,ie=new c.a),me.insert&&ie.insert(me.insert,me.attributes)}),Q=W(Q,oe,ie,ge,{stripTrailingWhitespace:!0,expandTruncatedLinks:ae}),{blocks:[{type:de?"expanded_rich_text":"rich_text",elements:Q}]}}h(S,"convertDeltaToBlocks");function I(Y,ee){return Object(P.a)(ee)?x:Object(B.a)(ee)?k:Object(j.a)(ee)?A:E(ee)?F:Object(M.a)(Y)?L:N}h(I,"getElementType");function W(Y,ee,w,ne){let ae=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{stripTrailingWhitespace:!1,expandTruncatedLinks:!1};if(w.ops.length<=0)return Y;let de=[];if(ee===A)de=[],de=D(w,ne,{expandTruncatedLinks:ae.expandTruncatedLinks});else if(ee===x){de=[];const ge=w.filter(Q=>Object(P.a)(Q)),le=(ge==null?void 0:ge.length)>0&&Object(n.a)(ge,Q=>{var ie;return((Q==null||(ie=Q.attributes)===null||ie===void 0?void 0:ie.border)||0)>=1});de.push({type:x,border:le?1:0,elements:Z(w,ne,{...ae,preformattedStyle:!0,stripTrailingWhitespace:!0})})}else if(ee===k){de=[];const ge=w.filter(le=>{var Q;return Object(B.a)(le)&&((le==null||(Q=le.attributes)===null||Q===void 0?void 0:Q.border)||0)>=1});(ge==null?void 0:ge.length)>0?w.eachLine((le,Q)=>{de.push({type:k,border:Q!=null&&Q.border?Q.border:void 0,elements:Z(le,ne,{...ae,preformattedStyle:!1,stripTrailingWhitespace:!0})})}):de.push({type:k,elements:Z(w,ne,{...ae,preformattedStyle:!1,stripTrailingWhitespace:!0})})}else ee===F?de=H(w,ne):ee===L?(de=[],de.push({type:L})):(de=[],de.push({type:ee,elements:Z(w,ne,{...ae,preformattedStyle:!1})}));return Y.concat(de)}h(W,"addDeltaToElements");function D(Y,ee){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{expandTruncatedLinks:!1};const ne=[];let ae=null,de=null,ge=null,le={},Q=[];Y.eachLine((oe,me)=>{if(ae===null&&(ae=me.list),de===null&&(de=me.indent||0),ge===null&&(ge=me.border||0),Object(t.a)(le[de])&&(le[de]=0),ae!==me.list||de!==(me.indent||0)){const be={type:A,style:ae||"bullet",indent:de,border:ge,elements:Q.map(Se=>({type:N,elements:Se}))};ae==="ordered"&&le[de]>0&&(be.offset=le[de]),ne.push(be),me.list!==p.a.ORDERED&&me.list!==p.a.BULLET&&me.list!==p.a.CHECKED&&me.list!==p.a.UNCHECKED?le={}:(de<(me.indent||0)&&me.list===p.a.ORDERED&&(le[me.indent||0]=0),ae===p.a.ORDERED&&(le[de]=(le[de]||0)+Object(a.a)(Q))),ae=me.list,de=me.indent||0,ge=me.border||0,Q=[]}Q.push(Z(new c.a(oe),ee,{stripTrailingWhitespace:!1,preformattedStyle:!1,...w}))});const ie={type:A,style:ae||"bullet",indent:de||0,border:ge||0,elements:Q.map(oe=>({type:N,elements:oe}))};return ae==="ordered"&&!Object(s.a)(de)&&le[de]>0&&(ie.offset=le[de]),ne.push(ie),ne}h(D,"processDeltaAsList");function H(Y,ee){const w=[];let ne=null,ae=[];Y.eachLine((ge,le)=>{if(ne===null&&(ne=le.header),ne!==le.header){const Q={type:F,level:ne||1,elements:ae};w.push(Q),ae=[]}ae=Z(new c.a(ge),ee,{stripTrailingWhitespace:!1,preformattedStyle:!1,expandTruncatedLinks:!1})});const de={type:F,level:ne||1,elements:ae};return w.push(de),w}h(H,"processDeltaAsHeader");function Z(Y,ee){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{stripTrailingWhitespace:!1,preformattedStyle:!1,expandTruncatedLinks:!1};const ne=Y.ops[Y.ops.length-1];let ae=Y;w.stripTrailingWhitespace&&(ne==null?void 0:ne.insert)===`
`&&(ae=new c.a(Y.ops.slice(0,Y.ops.length-1)));let de=[];return ae.forEach(ge=>{let le;if(Object(C.a)(ge)?le=$(ge,ee,{preformattedStyle:w.preformattedStyle}):Object(_.a)(ge)&&!Object(_.i)(ge)&&!Object(_.f)(ge)?le=q(ge,{preformattedStyle:w.preformattedStyle}):Object(R.a)(ge)?le=se(ge,{preformattedStyle:w.preformattedStyle,expandTruncatedLinks:w.expandTruncatedLinks}):Object(U.a)(ge)?le=X(ge):le=te(ge,{stripTrailingWhitespace:!!(w.stripTrailingWhitespace&&ge===ne),preformattedStyle:w.preformattedStyle,skipConversions:!1}),!le)return;const Q=de.length&&de[de.length-1],ie=Object(l.a)(le)?le.shift():le;ie&&ie.type==="text"&&!ie.style&&Q&&Q.type==="text"&&!Q.style?de[de.length-1].text=`${de[de.length-1].text}${ie.text}`:ie&&de.push(ie),Object(l.a)(le)&&le.length&&(de=de.concat(le))}),Object(o.a)(de)}h(Z,"createRichTextChunkElements");function G(Y,ee){const w={};return ee.attributes&&(ee.attributes.bold&&(w.bold=!0),ee.attributes.italic&&(w.italic=!0),ee.attributes.strike&&(w.strike=!0),ee.attributes.code&&(w.code=!0),ee.attributes.unlink&&!Object(_.a)(ee)&&!Object(C.a)(ee)&&(w.unlink=!0)),{...Y,...Object(a.a)(w)&&{style:w}}}h(G,"annotateChunkWithStyle");function te(Y){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!1},w=Object(f.a)(Y.insert)?Y.insert:"";if(ee.stripTrailingWhitespace&&(w=Object(r.a)(w)),ee.preformattedStyle||(w=w.replace(K,"$1$3")),!w)return;const ne=!ee.skipConversions&&!ee.preformattedStyle&&!(Y.attributes&&Y.attributes.code),ae={type:"text",text:w},de=ee.preformattedStyle?ae:G(ae,Y);if(ne){const ge=[];if(w.replace(V,(ie,oe,me,be)=>{const Se=Object(r.a)(me,"_-.\u2026");if(Se.match(z)){const Pe=be+oe.length;ge.push({start:Pe,end:Pe+Se.length+1,color:`#${Se.toUpperCase()}`})}}),!ge.length)return de;const le=[];let Q=0;return ge.forEach(ie=>{Q<ie.start&&le.push({type:"text",text:w.slice(Q,ie.start)}),le.push({type:"color",value:ie.color}),Q=ie.end}),Q<w.length&&le.push({type:"text",text:w.slice(Q)}),le.map(ie=>G(ie,Y))}return de}h(te,"createTextChunkFromOp");function se(Y){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1,expandTruncatedLinks:!1};var w,ne;const ae={type:"link",url:((w=Y.attributes)===null||w===void 0?void 0:w.link)||""};return Object(f.a)(Y.insert)&&Y.insert!==((ne=Y.attributes)===null||ne===void 0?void 0:ne.link)&&!(ee.expandTruncatedLinks&&Object(R.c)(Y))&&(ae.text=Y.insert),ee.preformattedStyle?ae:G(ae,Y)}h(se,"createLinkChunkFromOp");function $(Y,ee){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{preformattedStyle:!1}).preformattedStyle||Object(T.a)(Y))return te({insert:Object(C.c)(Y)},{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const ne=Object(C.c)(Y),ae={type:"emoji",name:""};if(ee&&Object(b.a)(ee,ne)){var de;const{name:le="",unicode:Q=""}=(de=Object(O.n)(ee,ne))!==null&&de!==void 0?de:{},[ie]=le.split("::")||[];ae.name=ie,ae.unicode=Q}else{var ge;const{skinTone:le="",name:Q=""}=(ge=Object(u.a)(ne))!==null&&ge!==void 0?ge:{};ae.name=Q,le&&(ae.skin_tone=+le)}if(!(!ae.name&&!ae.unicode))return ae&&G(ae,Y)}h($,"createEmojiChunkFromOp");function X(Y){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1};const w={type:"workflowtoken",id:Object(U.b)(Y),data_type:Object(U.e)(Y),property:Object(U.d)(Y)};return(ee==null?void 0:ee.preformattedStyle)===!0?w:G(w,Y)}h(X,"createWorkflowTokenChunkFromOp");function q(Y){if((arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1}).preformattedStyle||Object(T.a)(Y))return te(Y,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const w=Object(_.b)(Y),ne=Object(_.d)(Y);let ae;if(Object(d.a)().includes(w)?ae=G({type:"broadcast",range:w.substr(2)},Y):w.charAt(0)==="S"?ae=G({type:"usergroup",usergroup_id:w},Y):Object(_.e)(Y)?ae=G({type:"channel",channel_id:w},Y):ae=G({type:"user",user_id:w},Y),Object(f.a)(Y.insert)&&Y.insert.length>ne.length){const de=Y.insert.split(ne);return de.length>1?(de.shift(),de.fill(ae)):[ae]}return ne===Y.insert?[ae]:te(Y,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0})}h(q,"createMentionChunksFromOp")},"9h7U":function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("mM05"),t=e.n(n),a=e("5IZy"),s=e("2oNE"),l=e("ktUG");function o(f,r,m){let c=0;const u=new t.a,d=Object(a.a)();return f.forEach(p=>{const v=p.globalIndex-c;if(v>0&&u.retain(v),m&&p.type==="emoji"){u.retain(p.length),c=p.globalIndex+p.length;return}if(u.delete(p.length),p.type==="emoji"){const g={slackemoji:{text:p.label}};u.insert(g,{...p.formats})}else{const g=Object(s.a)(p.id,p.label,r);p.id==="UNVERIFIED"?d.track(l.EventId.MSG_AUTO_POTENTIAL_MENTION_CREATED,{}):d.track(l.EventId.MSG_AUTO_MENTION_CREATED,{}),u.insert(p.label,{...p.formats,slackmention:g})}c=p.globalIndex+p.length}),u}h(o,"buildPotentialMentionsDelta")},"9hLx":function(J,i,e){"use strict";e.d(i,"c",function(){return C}),e.d(i,"b",function(){return _}),e.d(i,"a",function(){return j});var n=e("q1tI"),t=e.n(n),a=e("UrBK"),s=e("Y0qr"),l=e("O86Y"),o=e("BHH9"),f=e("zxER"),r=e("0Xjs"),m=e("HpvR"),c=e("itAW"),u=e("CWPp"),d=e("8Htg"),p=e("WXkz"),v=e("u5wV"),g=e("h9xh"),O=e("fGfo"),b=e("i5Ig");function y(E,M){const T=Object(f.c)(U=>Object(m.a)(U,E)),P=Object(f.c)(U=>Object(g.d)(U,T.id)),R=(M?P.filter(U=>U.trigger_type===M):P).map(U=>Object(d.b)((U==null?void 0:U.share_url)||"")||"");return Object(f.c)(U=>Object(c.h)(U,{triggerIds:R}))}h(y,"useGetTriggersForList");function C(E){return y(E,r.J.SHORTCUT)}h(C,"useGetFormAutomations");function _(E,M){return y(E,r.J.EVENT).filter(R=>!(!Object(u.a)(R)||R.subtype!==a.a.ListRecordUpdated)).filter(R=>{const U=R==null?void 0:R.filter;return U?Object(s.a)(U).some(V=>V.field===M):!1})}h(_,"useGetAutomationsForColumn");function j(E,M){const T=Object(f.c)(z=>Object(p.w)(z,E)),P=Object(n.useMemo)(()=>Object(O.q)(T),[T]),B=Object(f.c)(l.g),R=Object(f.c)(z=>Object(m.a)(z,E)),U=B?!Object(v.b)().isObjectFresh(B,R.id):!1,K=y(E),V=Object(n.useMemo)(()=>K.some(z=>!Object(u.a)(z)),[K]);return Object(n.useMemo)(()=>{if(U||V)return b.a;const z=M?b.a:P.whole_list.filter(x=>!K.find(F=>F.type!==r.J.SHORTCUT?!1:x.id===o.a.FEEDBACK_FORM_FOR_LIST||x.id===o.a.BUG_FORM_FOR_LIST||x.id===o.a.HELP_FORM_FOR_LIST)),N=[];let A=[];return P.columns.forEach(x=>{let{columnKey:k,suggestions:F}=x;M&&M!==k||(A=A.concat(F))}),A.forEach(x=>{K.find(F=>F.type!==r.J.EVENT&&F.subtype!==a.a.ListRecordUpdated?!1:!F.filter&&!x.filter?!0:!F.filter&&x.filter||F.filter&&!x.filter?!1:Object(s.a)(F.filter).some(L=>{var S,I;return L.field===((S=x.filter)===null||S===void 0?void 0:S.key)&&L.value===((I=x.filter)===null||I===void 0?void 0:I.value)}))||N.push(x)}),!z.length&&!N.length?b.a:z.concat(N)},[U,V,M,P.whole_list,P.columns,K])}h(j,"useGetAllActiveSuggestedAutomations")},"9hgN":function(J,i,e){"use strict";e.d(i,"c",function(){return xe}),e.d(i,"a",function(){return Re}),e.d(i,"b",function(){return Ge});var n=e("9oTK"),t=e("dJs+"),a=e("xWuZ"),s=e("Lgge"),l=e("Ybt4"),o=e("LK2A"),f=e("7ibc"),r=e("9068"),m=e("Yauy"),c=e("ANTO"),u=e("+l5E"),d=e("E97Y"),p=e("E3dU"),v=e("Cfjn"),g=e("xwCZ"),O=e("L1zx"),b=e("C3vN"),y=e("52Wj"),C=e("+tZp"),_=e("ehcD"),j=e("Epto"),E=e("yrot"),M=e("UPr+"),T=e("dmdh"),P=e("Mqk2"),B=e("O86Y"),R=e("beVI"),U=e("JoR1"),K=e("BXkk"),V=e("wla9"),z=e("40xB"),N=e("x6tY"),A=e("G0eX"),x=e("cQw7"),k=e("3zNH"),F=e("hjzp"),L=e("B1w/"),S=e("6dQg"),I=e("0kN6"),W=e("UIhb"),D=e("WBOM"),H=e("DJ7B"),Z=e("k0fv"),G=e("/0zS"),te=e("jmRt"),se=e("vVwU"),$=e("hrWC"),X=e("/uJc"),q=e("KVJU"),Y=e("4Ky9"),ee=e("M4HD"),w=e("1lhz"),ne=e("FcR8"),ae=e("oUrV"),de=e("twB+"),ge=e("lhZz"),le=e("gES/"),Q=e("dqj/"),ie=e("fdJE"),oe=e("goOt"),me=e("uVdA"),be=e("Ar8P"),Se=e("QE0t"),Pe=e("SQ0V"),Ue=e("/46j"),Fe=e("3L56"),je=e("yVVx"),_e=e("eJPC"),pe=e("/n9c"),fe=e("Ubqm"),Ee=e("1wfM"),ye=e("3ysv");const Te=/^Wi[A-Z0-9]{8,}$/;function Oe(ze){return ze?Te.test(ze):!1}h(Oe,"looksLikeWidgetId");var Ce=e("HU1W"),ce=e("RVJP"),he=e("5IZy"),Me=e("ktUG"),Ae=e("3YPJ");const xe=new de.a;let Re=h(class ks{static getOrCreate(Ie,Ne,Ke){return xe.get(Ie,(Ve,$e)=>new ks({getQuipClient:Ne,supportedAutocompleteTypes:Ke,teamId:Ve}))}formatFetchMemberResult(Ie){var Ne;const Ke=((Ne=Ie)===null||Ne===void 0?void 0:Ne.item)||Ie,Ve=this.getState(),$e=Ie==null?void 0:Ie.id,tt=Object(B.i)(Ve)||this.teamId;var qe;const ut={id:$e,type:o.SlackObjectType.USER,displayName:(qe=Object(y.b)(Ke))!==null&&qe!==void 0?qe:"",realName:Object(C.a)(Ve,Ke),teamId:tt,profileUrl:Object(A.v)(Object(R.s)(Ve,tt),`/team/${$e}`)},rt=Object(b.w)(Ke);return rt&&(ut.image48=rt),ut}fetchAndFormatMember(Ie){return this.getPromisesForStubs(Ie,{type:o.SlackObjectType.USER,selector:Ne=>Object(g.g)(this.getState(),Ne.id,{fetchIfMissing:!1,preferNonExistentToNull:!1}),fetcher:Ne=>Object(ge.dispatchForTeamId)(this.teamId,Object(O.a)({memberIds:Ne.map(Ke=>{let{id:Ve}=Ke;return Ve}),reason:"quip-delegate"})),formatter:this.formatFetchMemberResult.bind(this),includeNonExistentInFailures:!0})}formatFetchChannelResult(Ie){var Ne;const Ke=((Ne=Ie)===null||Ne===void 0?void 0:Ne.item)||Ie;var Ve;return{id:Ie==null?void 0:Ie.id,type:o.SlackObjectType.CHANNEL,name:Object(m.s)(Ke),isPrivate:Object(d.k)(Ke),workspaceId:this.teamId,isNonExistent:(Ve=Ke.isNonExistent)!==null&&Ve!==void 0?Ve:!1}}fetchAndFormatChannel(Ie){return this.getPromisesForStubs(Ie,{type:o.SlackObjectType.CHANNEL,selector:Ne=>Object(p.d)(this.getState(),Ne.id,!1),fetcher:Ne=>s.a.resolve(Object(ge.dispatchForTeamId)(this.teamId,Object(v.a)({channelIds:Ne.map(Ke=>{let{id:Ve}=Ke;return Ve}),reason:"quip-delegate"}))),formatter:this.formatFetchChannelResult.bind(this)})}formatFetchEmojiResult(Ie,Ne){const Ke=this.getState();let Ve,$e;if(Ie.item!==void 0){const rt=Ie;$e=rt.item;var tt;Ve=(tt=Object(K.a)(rt,Object(U.u)(Ke,"preferred_skin_tone")))!==null&&tt!==void 0?tt:""}else{$e=Ie;var qe;Ve=(qe=$e.name)!==null&&qe!==void 0?qe:""}return Object(ge.dispatchForTeamId)(this.teamId,Object(H.a)({result:$e,emojiText:Ve,requestedTeamId:Ne??""}))}fetchAndFormatEmoji(Ie){var Ne;return this.getPromisesForStubs(Ie,{type:o.SlackObjectType.EMOJI,selector:Ke=>(Ne=Object(E.n)(this.getState(),Ke.id)||Object(E.f)(this.getState(),{text:Ke.id,teamId:Ke.teamId}))!==null&&Ne!==void 0?Ne:null,fetcher:Ke=>Object(M.a)(this.teamId,Ke.map(Ve=>Ve.id)),formatter:(Ke,Ve)=>this.formatFetchEmojiResult(Ke,Ve.teamId)})}getParsedMsgPermalink(Ie){if(!Ie)return null;const Ne=Object(Ae.a)(Ie),Ke=Ne?Object(D.e)(this.getState(),Ne):void 0;return(Ke==null?void 0:Ke.type)!==D.a.MESSAGE?null:Ke}ensureParsedPermalinks(Ie){var Ne=this;return Object(n.coroutine)(function*(){const Ke=new Set(Ie.map($e=>$e?Object(q.a)($e):"")),Ve=Ie.reduce(($e,tt)=>{const qe=Ne.getParsedMsgPermalink(tt);if(qe){const ut=Object(q.a)({channel:qe.channelId,ts:qe.ts});Ke.has(ut)||($e.push({channelId:qe.channelId,ts:qe.ts}),Ke.add(ut))}return $e},[]);return Ve?Object(ge.dispatchForTeamId)(Ne.teamId,Object(I.a)({timestamps:Ve,reason:"quip-delegate/ensureParsedPermalinks"})):[]})()}formatFetchUnfurlContainerResult(Ie,Ne,Ke){var Ve,$e;const tt=this.getState(),{document_unfurl:qe,attachments:ut}=Ie,rt=!!(!((Ve=Object(fe.a)(tt,Ie.ts))===null||Ve===void 0)&&Ve.length),yt=!!(qe!=null&&qe.is_unfurled)||rt,Mt=ut==null||($e=ut[0])===null||$e===void 0?void 0:$e.app_id,st=Object(Ae.a)(Ie),Vt=st?Object(D.e)(tt,st):null,Wt=yt&&!Ie.attachments&&!Ie.files&&!rt&&(Vt==null?void 0:Vt.type)!==D.a.MESSAGE,{label:Xt,faviconUrl:Ut,isSavedForLater:Nt,isDeleted:Ft}=this.extractDataFromOriginalMessage(Ie,Ne,Vt);return{id:Ie.ts,channelId:Ie.channel,type:o.SlackObjectType.UNFURL,teamId:Ke??this.teamId,inlinePreview:"",isUnfurling:!yt,unfurlDidFail:Wt,permalink:st,label:Xt,faviconUrl:Ut,isSavedForLater:Nt,appId:Mt,isDeleted:Ft,unfurlSucceeded:!!(ut!=null&&ut.length),isEphemeral:rt}}extractDataFromOriginalMessage(Ie,Ne,Ke){const Ve=this.getState(),$e=Object(le.b)(Ie);let tt="",qe="",ut=!1;if((Ke==null?void 0:Ke.type)===D.a.MESSAGE||Object(Q.r)($e)){var rt;const Ut=(rt=$e==null?void 0:$e.ts)!==null&&rt!==void 0?rt:Ke==null?void 0:Ke.ts;var yt;const Nt=(yt=$e==null?void 0:$e.channel_id)!==null&&yt!==void 0?yt:Ke==null?void 0:Ke.channelId,Ft=Object(W.b)(Ve,Nt,Ut,!1),_n=Object(p.d)(Ve,Nt);(Object(d.l)(_n)||Object(m.db)(_n))&&(ut=Ft?Object(u.sb)(Ft):!0);const cn=Ft?Object(c.a)(Ve,Ft):null;var Mt,st,Vt,Wt,Xt;const Rn=(Xt=(Wt=Object(j.a)(Ve,{userId:(Mt=$e==null?void 0:$e.author_id)!==null&&Mt!==void 0?Mt:cn==null?void 0:cn.userId,botId:(st=$e==null?void 0:$e.bot_id)!==null&&st!==void 0?st:cn==null?void 0:cn.botId,username:(Vt=$e==null?void 0:$e.author_name)!==null&&Vt!==void 0?Vt:cn==null?void 0:cn.username,botProfile:Ft==null?void 0:Ft.bot_profile}))!==null&&Wt!==void 0?Wt:$e==null?void 0:$e.author_name)!==null&&Xt!==void 0?Xt:cn==null?void 0:cn.username,Vn=Object(me.a)(Ve),ea=Object(Q.c)($e);let Lt;if(ea&&Object(be.a)(ea,Vn)&&Object(Se.a)(ea)?Lt=Object(oe.a)(Ve,ea):Ft&&Object(be.a)(Ft.blocks,Vn)&&Object(Se.a)(Ft.blocks)?Lt=Object(oe.a)(Ve,Ft.blocks):(Lt=Object(Q.k)($e),Lt=Lt||(Ft?Object(u.F)(Ft):null),Lt=Lt?Object(ie.a)(Ve,Lt):void 0),Rn||Lt){const vn=Object(t.a)(Lt,{length:45});qe=vn?`${Rn}: "${vn}"`:`${Rn}`}}else if($e!=null&&$e.preview){const Ut=$e.preview;tt=Ne.iconUrl||Ut.icon_url||"",qe=Ne.title||($e==null?void 0:$e.title)||Ut.title.text}else if(!qe&&($e!=null&&$e.app_id)){const Ut=$e==null?void 0:$e.app_id.toString(),Nt=Object(ee.r)(Object(Y.a)(Ve,Ut));Nt&&(qe=`${Nt} link`)}return{label:qe,faviconUrl:tt,isSavedForLater:!1,isDeleted:ut}}detectLinkAndFetchPreview(Ie,Ne){var Ke=this;return Object(n.coroutine)(function*(){const Ve=Object(G.a)({input:Ie,ignorePhoneMatches:!0,ignoreEmailMatches:!0,ignoreLinksWithoutHttp:!1}),$e={};if(Ve&&Ve[0]&&Ve[0].url){const st=yield Object(ge.dispatchForTeamId)(Ke.teamId,Object(te.c)({link:Ve[0].url,channelId:Ne,reason:"bookmarks-bar"}));if(st!=null&&st.ok&&(st!=null&&st.preview)){var tt,qe,ut;if(!(st==null||(tt=st.preview)===null||tt===void 0)&&tt.title){var rt;$e.title=st==null||(rt=st.preview)===null||rt===void 0?void 0:rt.title}if(!(st==null||(qe=st.preview)===null||qe===void 0)&&qe.image_url||!(st==null||(ut=st.preview)===null||ut===void 0)&&ut.icon_url){var yt,Mt;$e.iconUrl=(st==null||(yt=st.preview)===null||yt===void 0?void 0:yt.image_url)||(st==null||(Mt=st.preview)===null||Mt===void 0?void 0:Mt.icon_url)||""}}}return $e})()}fetchAndFormatUnfurlContainer(Ie){var Ne=this;return this.getPromisesForStubs(Ie,{type:o.SlackObjectType.UNFURL,selector:Ke=>{const{channelId:Ve,id:$e}=Ke,tt=Object(W.b)(this.getState(),Ve,$e,!1),qe=this.getParsedMsgPermalink(tt);return qe&&!Object(W.b)(this.getState(),qe.channelId,qe.ts,!1)?null:tt},fetcher:Ke=>Object(ge.dispatchForTeamId)(this.teamId,Object(I.a)({timestamps:Ke.map(Ve=>{let{channelId:$e,id:tt}=Ve;return{channelId:$e,ts:tt}}),reason:"quip-delegate"})).then(function(){var Ve=Object(n.coroutine)(function*($e){return yield Ne.ensureParsedPermalinks($e),$e});return function($e){return Ve.apply(this,arguments)}}()),formatter:(Ke,Ve)=>this.formatFetchUnfurlContainerResult(Ke,{},Ve.teamId),postFetchSelector:Ke=>{const{channelId:Ve,id:$e}=Ke;return Object(W.b)(this.getState(),Ve,$e,!1)}})}formatFetchFileResult(Ie){const Ne=Object(N.n)(Ie)?Object(N.K)(Ie):{};if(Object(N.n)(Ie)&&(!Ne.width||!Ne.height)){const tt=Object(T.e)(this.getState(),Ie.id);Ne.width=tt==null?void 0:tt.original_w,Ne.height=tt==null?void 0:tt.original_h}var Ke,Ve;return{id:Ie.id,type:o.SlackObjectType.FILE,altText:(Ke=Object(N.E)(Ie))!==null&&Ke!==void 0?Ke:"",name:(Ve=Object(N.G)(Ie))!==null&&Ve!==void 0?Ve:"",mimeType:Ie.mimetype,url:Object(N.fb)(Ie),permalink:Object(N.N)(Ie,this.teamId),isDeleted:!Ie||Object(N.Tb)(Ie)||Object(N.zb)(Ie),isNotFound:Object(N.Fb)(Ie),...Ne}}fetchAndFormatFile(Ie){return this.getPromisesForStubs(Ie,{type:o.SlackObjectType.FILE,selector:Ne=>Object(T.e)(this.getState(),Ne.id,!1),fetcher:Ne=>Object(ge.dispatchForTeamId)(this.teamId,Object(P.e)({fileIds:Ne.map(Ke=>Ke.id),reason:"quip-delegate/fetchAndFormatFile"})),formatter:this.formatFetchFileResult.bind(this)})}formatFetchDocumentResult(Ie,Ne,Ke){const Ve=this.getState();var $e;const tt=($e=Object(Ue.a)(Ve,Ie.id))!==null&&$e!==void 0?$e:Ie.title_blocks;let qe;try{qe=tt?JSON.stringify(tt):void 0}catch(Mt){this.logger.error(Mt,"stringify failed on canvas rich text title")}var ut;let rt=(ut=Object(N.G)(Ie))!==null&&ut!==void 0?ut:"";if(Object(N.h)(Ie)){const Mt=Ie==null?void 0:Ie.linked_channel_id,st=Mt?Object(p.d)(Ve,Mt):null;rt=Object(m.u)(Ve,st)}const yt=Object(ce.d)(Ve,"canvas_badging_highlighting")==="on";return{id:Ie.id,type:o.SlackObjectType.DOCUMENT,name:rt,isSameDocument:Ne??!1,permalink:Object(N.N)(Ie,this.teamId,null,Ke),shouldShowDocument:Object(N.ac)(Ie),richTextName:qe,isDeleted:Object(N.Tb)(Ie)||Object(N.zb)(Ie),sectionId:Ke,showBadge:yt&&Ie.show_badge}}fetchAndFormatDocument(Ie){return this.getPromisesForStubs(Ie,{type:o.SlackObjectType.DOCUMENT,selector:Ne=>Object(T.e)(this.getState(),Ne.id,!1),fetcher:Ne=>Object(ge.dispatchForTeamId)(this.teamId,Object(P.e)({fileIds:Ne.map(Ke=>Ke.id),reason:"quip-delegate/fetchAndFormatDocument"})),formatter:(Ne,Ke)=>this.formatFetchDocumentResult(Ne,void 0,Ke.sectionId)})}formatFetchDocumentUserAccessResult(Ie,Ne){var Ke=this;return Object(n.coroutine)(function*(){const Ve=Object(S.a)(Ie)?Ie:Object(L.a)(Ke.getState(),Ie),$e=[],tt=Ne.map(rt=>Object(g.g)(Ke.getState(),rt)).filter(rt=>!Ve||Object(b.qb)(rt)?($e.push(rt),!1):!0);let qe=[];const ut=[];if(tt.length>0)try{const rt=new Set;qe=(yield Object(ge.dispatchForTeamId)(Ke.teamId,Object(Z.a)({reason:"getAccessLevel",users:tt.map(Mt=>{rt.add(Mt.id);const st=Object(_.c)(Ke.getState(),Mt);return{userId:Mt.id,teamId:st===""?void 0:st}}),fileId:Ve}))).users.map(Mt=>(rt.delete(Mt.user_id),{id:Mt.user_id,type:o.SlackObjectType.DOCUMENT_USER_ACCESS,threadOrFileId:Ie,access:Mt.access,isExplicitlySharedWith:Mt.is_explicitly_shared_with})),rt.forEach(Mt=>{ut.push({id:Mt,type:o.SlackObjectType.DOCUMENT_USER_ACCESS,threadOrFileId:Ie,access:"not_found"})})}catch(rt){Ke.logger.error(rt,"failed to fetch document user access objects")}return qe.concat(ut)})()}fetchAndFormatDocumentUserAccess(Ie){const Ne=Ie.filter(qe=>qe.type===o.SlackObjectType.DOCUMENT_USER_ACCESS),Ke={};Ne.forEach(qe=>{var ut;ut=(ut=Ke[qe.threadOrFileId])!==null&&ut!==void 0?ut:Ke[qe.threadOrFileId]=[[]];const rt=Ke[qe.threadOrFileId];rt[rt.length-1].length>=ks.MAX_SDUA_BATCH_SIZE&&rt.push([]),rt[rt.length-1].push(qe)});const Ve=[],$e=[];Object.keys(Ke).forEach(qe=>{Ke[qe].forEach(ut=>{const rt=ut.map(yt=>yt.id);Ve.push(this.formatFetchDocumentUserAccessResult(qe,rt)),$e.push(ut)})});var tt=this;return Ve.map(function(){var qe=Object(n.coroutine)(function*(ut,rt){const yt=yield ut;return{objects:yt,failures:tt.getMissingStubObjects(yt,$e[rt],!0)}});return function(ut,rt){return qe.apply(this,arguments)}}())}formatFetchWidgetResult(Ie){return{type:o.SlackObjectType.WIDGET,id:Ie.id}}fetchAndFormatWidget(Ie){return this.getPromisesForStubs(Ie,{type:o.SlackObjectType.WIDGET,selector:Ne=>{const Ke=Object(Ee.c)(this.getState(),Ne.id);return Ke!=null&&Ke.id?Ke:null},fetcher:Ne=>Object(ge.dispatchForTeamId)(this.teamId,Object(ye.a)({widgetPlacementId:Ne[0].id})),formatter:this.formatFetchWidgetResult.bind(this)})}getPromisesForStubs(Ie,Ne){let{type:Ke,selector:Ve,fetcher:$e,formatter:tt,includeNonExistentInFailures:qe=!1,postFetchSelector:ut}=Ne;const rt=[],yt=Ie.filter(Xt=>Xt.type===Ke),Mt=[],st=[],Vt=[];if(yt.forEach(Xt=>{const Ut=Ve(Xt);!Ut||Object(r.c)(Ut)?Mt.push(Xt):(st.push(Xt),Vt.push(Ut))}),Vt.length&&rt.push(s.a.all(Vt.map((Xt,Ut)=>s.a.resolve(tt(Xt,st[Ut])))).then(Xt=>({objects:Xt,failures:this.getMissingStubObjects(Vt,st,qe)}))),Mt.length){var Wt=this;rt.push($e(Mt).then(Object(n.coroutine)(function*(){const Xt=Mt.map(Nt=>ut?ut(Nt):Ve(Nt));return{objects:yield s.a.all(Xt.reduce((Nt,Ft,_n)=>(Ft&&!Object(r.c)(Ft)&&Nt.push(s.a.resolve(tt(Ft,Mt[_n]))),Nt),[])),failures:Wt.getMissingStubObjects(Xt,Mt,qe)}})))}return rt}getMissingObjects(Ie,Ne,Ke,Ve){const $e=Ie.reduce((qe,ut)=>{if(!ut)return qe;var rt;const yt=(rt=ut.id)!==null&&rt!==void 0?rt:ut.name;return!yt||Ve&&ut.isNonExistent||(qe[yt]=ut),qe},{});return Ne.filter(qe=>!$e[qe]).map(qe=>({reason:o.GetSlackObjectFailureReason.NOT_FOUND,stubs:[{id:qe,type:Ke}]}))}getMissingStubObjects(Ie,Ne,Ke){const Ve=Ie.reduce((tt,qe)=>{if(!qe)return tt;var ut,rt;const yt=(rt=(ut=qe.id)!==null&&ut!==void 0?ut:qe.name)!==null&&rt!==void 0?rt:qe.ts;return!yt||Ke&&Object(r.b)(qe)||(tt[yt]=qe),tt},{}),$e=Ne.filter(tt=>{let{id:qe}=tt;return!Ve[qe]});return $e.length?[{reason:o.GetSlackObjectFailureReason.NOT_FOUND,stubs:$e}]:[]}getFetchAndFormatPromises(Ie){return[...this.fetchAndFormatChannel(Ie),...this.fetchAndFormatMember(Ie),...this.fetchAndFormatEmoji(Ie),...this.fetchAndFormatFile(Ie),...this.fetchAndFormatDocument(Ie),...this.fetchAndFormatUnfurlContainer(Ie),...this.fetchAndFormatDocumentUserAccess(Ie),...this.fetchAndFormatWidget(Ie)]}getSlackObjects(Ie){let Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var Ke=this;return Object(n.coroutine)(function*(){let Ve=Ke.getFetchAndFormatPromises(Ie);Ne&&(Ve=Ve.map(qe=>qe.then(ut=>{let{objects:rt,failures:yt}=ut;return rt.length&&Ke.receivedSlackObjects(rt),{objects:[],failures:yt}})));const $e=yield s.a.all(Ve.map(qe=>qe.catch(ut=>(Ke.logger.error(ut),{objects:[],failures:[]}))));var tt;return{objects:$e.flatMap(qe=>qe.objects),failures:$e.flatMap(qe=>(tt=qe.failures)!==null&&tt!==void 0?tt:[])}})()}getSlackEmojiByUnicodeString(Ie){var Ne=this;return Object(n.coroutine)(function*(){const Ke=Ne.getState(),Ve=Object(E.i)(Ke,Ie),$e={emojis:[]};if(Ve){const tt=Object(E.n)(Ke,Ve);tt&&$e.emojis.push(Ne.formatFetchEmojiResult(tt,Ne.teamId))}return s.a.resolve($e)})()}getSlackObjectByUrl(Ie,Ne,Ke){var Ve=this;return Object(n.coroutine)(function*(){const $e=[],tt=Object(L.a)(Ve.getState(),Ne);if(!tt)return{objects:$e};const qe=Object(D.e)(Ve.getState(),Ie);if((qe==null?void 0:qe.type)===D.a.MEMBER){const st={type:o.SlackObjectType.USER,id:qe.memberId};return Ve.getSlackObjects([st])}if((qe==null?void 0:qe.type)===D.a.MESSAGE&&!qe.ts){const st={type:o.SlackObjectType.CHANNEL,id:qe.channelId};return Ve.getSlackObjects([st])}if((qe==null?void 0:qe.type)===D.a.WIDGETS&&Object(ce.d)(Ve.getState(),"widgets_admin")==="on"){if(Oe(qe.widgetId)){const st=yield Object(ge.dispatchForTeamId)(Ve.teamId,Object(Ce.a)({widgetId:qe.widgetId,location:"CANVAS",locationMetadata:{canvasId:tt}}));if(st===null)return{objects:[]};Object(he.a)(Ve.getState()).track(Me.EventId.WIDGET_PLACE,{contexts:{ui_context:{entry_point:"canvas_widget_url",ui_component_name:Me.UiComponentName.WIDGET}}});const Wt={type:o.SlackObjectType.WIDGET,id:st};return Ve.getSlackObjects([Wt])}return{objects:[]}}const ut=Object(F.a)(tt),{file:rt,unfurl_container:yt,no_access_file_id:Mt}=yield Object(ge.dispatchForTeamId)(Ve.teamId,Object(z.a)({url:Ie,fileId:tt,acknowledgedPrivateShare:Ke,reason:"quip-get-slack-object-by-url"}));if(rt)Object(ge.dispatchForTeamId)(Ve.teamId,Object(k.a)({files:[rt],reason:"quip-get-slack-object-by-url"})),Object(N.g)(rt)?$e.push(Ve.formatFetchDocumentResult(rt,tt===rt.id,qe==null?void 0:qe.focusSectionId)):$e.push(Ve.formatFetchFileResult(rt));else if(Mt)((qe==null?void 0:qe.type)===D.a.QUIP||(qe==null?void 0:qe.type)===D.a.CHANNEL_CANVAS)&&$e.push(Ve.formatFetchDocumentResult({id:Mt,mode:"quip",permalink:Ie},!1,qe==null?void 0:qe.focusSectionId));else if(yt){const st=Object(ge.dispatchForTeamId)(Ve.teamId,Object(x.a)({imsgs:[yt],channelId:ut}));Object(ge.dispatchForTeamId)(Ve.teamId,Object(V.a)(Ve.teamId,st));const Vt=yield Ve.detectLinkAndFetchPreview(Ie,ut);$e.push(Ve.formatFetchUnfurlContainerResult(st[0],Vt))}return{objects:$e}})()}createSlackCanvas(Ie){var Ne=this;return Object(n.coroutine)(function*(){const Ve=yield new s.a((qe,ut)=>{Object(ge.dispatchForTeamId)(Ne.teamId,Object(w.a)({onCreate:qe,source:_e.a.INSERT_CANVAS_MODAL_CREATE})).catch(ut)}).then(qe=>{const{fileId:ut}=qe,rt=Ne.getState();return Ie&&Object(f.e)(rt)?Object(ge.dispatchForTeamId)(Ne.teamId,Object(Fe.a)({quipThreadId:Ie,reason:"share-embedded-canvas"})).then(yt=>{const Mt=Object(T.e)(rt,yt);Object(N.h)(Mt)||Object(ge.dispatchForTeamId)(Ne.teamId,Object(ne.a)({fileId:ut,forceNewWindow:!0,source:ae.a.INSERTION_MENU})),Object(ge.dispatchForTeamId)(Ne.teamId,Object(je.a)({source:pe.a.TOOLBAR,parentCanvasId:yt,embeddedCanvasId:ut,isNewStandaloneCanvas:!0}))}):Object(ge.dispatchForTeamId)(Ne.teamId,Object(ne.a)({fileId:ut,forceNewWindow:!0,source:ae.a.INSERTION_MENU})),ut}),$e=yield Object(ge.dispatchForTeamId)(Ne.teamId,Object(P.g)({fileId:Ve})),tt=Object(N.N)($e);return{fileId:Ve,permalink:tt}})()}getAutocompleteResults(Ie,Ne){const Ke={[o.SlackObjectType.CHANNEL]:Object(ge.dispatchForTeamId)(this.teamId,Object(X.a)({query:Ie,searcherKey:"quip-channel-autocomplete"})),[o.SlackObjectType.USER]:Object(ge.dispatchForTeamId)(this.teamId,Object($.a)({query:Ie,searcherKey:"quip-user-autocomplete"})),[o.SlackObjectType.EMOJI]:Object(ge.dispatchForTeamId)(this.teamId,Object(se.a)({query:Ie,searcherKey:"quip-emoji-autocomplete"}))},Ve=Ne.map($e=>Ke[$e]);return s.a.all(Ve).then($e=>s.a.all(Object(a.a)($e))).then($e=>{const tt=[];for(const qe of $e)switch(qe.type){case"channel":{tt.push(this.formatFetchChannelResult(qe));break}case"member":{tt.push(this.formatFetchMemberResult(qe));break}case"emoji":{tt.push(this.formatFetchEmojiResult(qe));break}default:}return{results:tt,moreResultsPossible:!1}}).catch($e=>this.logger.error($e,"failed to autocomplete"))}setDelegate(Ie){this.delegate=Ie}onSlackObjectsUpdated(Ie){var Ne;(Ne=this.delegate)===null||Ne===void 0||Ne.slackObjectsUpdated(Ie)}receivedSlackObjects(Ie){var Ne;(Ne=this.delegate)===null||Ne===void 0||Ne.receivedSlackObjects(Ie)}constructor({getQuipClient:Ie,supportedAutocompleteTypes:Ne,teamId:Ke}){this.supportedAutocompleteTypes=Ne,this.getState=()=>Object(ge.getStateByTeamId)(Ke),this.getQuipClient=Ie,this.logger=Object(l.b)({state:Object(ge.getStateByTeamId)(Ke)}),this.teamId=Ke}},"QuipSlackObjectProvider");Re.MAX_SDUA_BATCH_SIZE=20;const Ge=Object(Pe.c)("on slack objects updated",function(){var ze=Object(n.coroutine)(function*(Ie,Ne,Ke){let{slackObjectStubs:Ve}=Ke;var $e;($e=xe.get(Ne()))===null||$e===void 0||$e.onSlackObjectsUpdated(Ve)});return function(Ie,Ne,Ke){return ze.apply(this,arguments)}}());Ge.meta={name:"createThunk",key:"createThunkonSlackObjectsUpdated",description:"on slack objects updated"}},"9oWK":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("YUBf");function l(u){let{handleMouseEnterOrClick:d}=u;return t.a.createElement("div",{onMouseEnter:d,onClick:d,role:"presentation",className:"p-prudent_pigeon_animation p-message_pane_modal_pigeon__header_image"},t.a.createElement("svg",{width:"280",height:"180",viewBox:"0 0 280 180",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("path",{d:"M124.075 163.98C157.365 163.98 184.351 162.588 184.351 160.871C184.351 159.154 157.365 157.762 124.075 157.762C90.7857 157.762 63.7991 159.154 63.7991 160.871C63.7991 162.588 90.7857 163.98 124.075 163.98Z",fill:"black"}),t.a.createElement("g",{className:"prudent_pigeon__clouds"},t.a.createElement("path",{className:"prudent_pigeon__clouds--left",d:"M20.5612 76.0435H97.7717C97.7717 76.0435 75.6276 43.5059 67.9794 63.1543C67.9794 63.1543 34.7034 35.8577 37.3863 63.1543C37.3863 63.1543 6.79326 48.6325 20.5612 76.0435Z",fill:"white"}),t.a.createElement("path",{className:"prudent_pigeon__clouds--right",d:"M253.077 125.889H186.899C186.899 125.889 203.88 94.5784 219.988 114.04C219.988 114.04 256.009 92.5039 253.077 125.889Z",fill:"white"})),t.a.createElement("g",{className:"prudent_pigeon__body"},t.a.createElement("path",{d:"M163.258 114.191L158.349 88.8339L162.764 88.002L167.672 113.359L163.258 114.191Z",fill:"#B18523"}),t.a.createElement("g",{className:"prudent_pigeon__base"},t.a.createElement("path",{d:"M129.727 141.873L125.944 144.297L135.639 159.426L139.421 157.003L129.727 141.873Z",fill:"#A81644"}),t.a.createElement("path",{d:"M160.367 160.871H126.509C125.859 160.869 125.236 160.61 124.777 160.15C124.318 159.69 124.06 159.067 124.06 158.417V158.417C124.059 157.787 124.3 157.182 124.734 156.726C125.168 156.27 125.76 155.999 126.389 155.968L158.823 154.377C159.354 154.351 159.886 154.433 160.385 154.618C160.884 154.804 161.34 155.089 161.725 155.456C162.111 155.823 162.418 156.265 162.628 156.754C162.837 157.243 162.946 157.77 162.946 158.302V158.302C162.938 158.983 162.663 159.633 162.181 160.113C161.699 160.593 161.047 160.865 160.367 160.871Z",fill:"#A81644"}),t.a.createElement("path",{d:"M117.819 141.87L114.037 144.294L123.731 159.424L127.514 157L117.819 141.87Z",fill:"#E01E5A"}),t.a.createElement("path",{d:"M148.455 160.871H114.602C114.28 160.871 113.961 160.807 113.663 160.684C113.365 160.561 113.095 160.38 112.867 160.152C112.639 159.924 112.458 159.654 112.335 159.356C112.211 159.058 112.148 158.739 112.148 158.417V158.417C112.147 157.787 112.389 157.182 112.822 156.726C113.256 156.27 113.849 155.999 114.477 155.968L146.916 154.377C147.448 154.351 147.979 154.433 148.478 154.618C148.977 154.804 149.433 155.089 149.819 155.456C150.204 155.823 150.511 156.265 150.721 156.754C150.931 157.243 151.039 157.77 151.039 158.302V158.302C151.031 158.984 150.756 159.635 150.272 160.115C149.789 160.595 149.136 160.867 148.455 160.871Z",fill:"#E01E5A"}),t.a.createElement("path",{d:"M184.273 49.6835C185.008 46.8069 183.649 43.975 181.237 43.3584C178.825 42.7418 176.273 44.5739 175.538 47.4505C174.802 50.3272 176.162 53.159 178.574 53.7757C180.986 54.3923 183.537 52.5602 184.273 49.6835Z",fill:"white"}),t.a.createElement("path",{d:"M183.608 49.3495C184.076 47.5189 183.56 45.806 182.456 45.5237C181.351 45.2413 180.077 46.4964 179.609 48.327C179.141 50.1576 179.657 51.8705 180.761 52.1528C181.866 52.4352 183.14 51.1801 183.608 49.3495Z",fill:"black"}),t.a.createElement("path",{d:"M132.509 78.8872L158.786 36.2108C160.148 34.0012 162.229 32.3271 164.679 31.4694C167.129 30.6117 169.799 30.6226 172.242 31.5002C175.008 32.4941 177.278 34.5256 178.572 37.1645C179.866 39.8033 180.081 42.8422 179.173 45.6373L149.677 136.517L136.252 142.418C130.843 144.789 125.001 146.013 119.094 146.011C108.819 146.013 98.8874 142.31 91.1218 135.581L85.4025 130.61L132.509 78.8872Z",fill:"#6F839C"}),t.a.createElement("path",{d:"M122.51 145.226C112.234 145.227 102.303 141.522 94.5378 134.791L88.8185 129.826L135.935 78.118L162.213 35.4416C163.495 33.3644 165.416 31.759 167.688 30.8662C165.885 30.981 164.136 31.5262 162.587 32.4562C161.038 33.3862 159.735 34.6738 158.786 36.2112L132.509 78.8875L85.3973 130.595L91.1166 135.566C98.8822 142.295 108.814 145.998 119.089 145.996V145.996C122.877 145.995 126.649 145.491 130.304 144.498C127.734 144.978 125.125 145.221 122.51 145.226V145.226Z",fill:"#8C9CB0"}),t.a.createElement("path",{d:"M163.648 93.4763L166.034 86.1244L135.8 73.542L132.509 78.8869L131.432 80.0672L163.648 93.4763Z",fill:"white"}),t.a.createElement("path",{d:"M120.451 145.975C118.977 146.502 117.465 146.917 115.928 147.217L114.976 145.798C114.976 145.798 119.807 146.027 120.451 145.975Z",fill:"black"}),t.a.createElement("path",{d:"M131.271 144.228C131.271 144.228 130.325 145.548 127.554 146.827L126.618 145.319C128.193 145.068 129.748 144.703 131.271 144.228Z",fill:"black"}),t.a.createElement("path",{d:"M163.085 42.9165C164.143 38.7768 162.184 34.7008 158.709 33.8125C155.234 32.9242 151.56 35.56 150.501 39.6997C149.443 43.8394 151.402 47.9154 154.877 48.8037C158.352 49.692 162.026 47.0562 163.085 42.9165Z",fill:"white"}),t.a.createElement("path",{d:"M159.39 41.3704C159.947 39.1949 158.918 37.053 157.093 36.5864C155.268 36.1199 153.338 37.5053 152.781 39.6809C152.225 41.8565 153.254 43.9983 155.079 44.4649C156.904 44.9314 158.834 43.546 159.39 41.3704Z",fill:"black"})),t.a.createElement("path",{d:"M132.737 81.2965L128.321 82.1221L135.251 119.186L139.666 118.36L132.737 81.2965Z",fill:"#B18523"}),t.a.createElement("path",{d:"M133.881 87.4713C132.494 86.206 130.748 85.4014 128.885 85.168L133.98 112.574C133.98 112.574 136.783 107.801 137.25 105.57L133.881 87.4713Z",fill:"black"}),t.a.createElement("path",{d:"M163.648 93.477L160.85 102.072L161.407 105.02L164.032 94.7093L163.741 93.1807L163.648 93.477Z",fill:"black"}),t.a.createElement("path",{d:"M158.591 70.8004L169.726 74.7535L173.5 62.5H165L158.591 70.8004Z",fill:"black"}),t.a.createElement("g",{className:"prudent_pigeon__envelope"},t.a.createElement("path",{d:"M156.935 52.6255L153.779 68.6603C153.753 68.7952 153.754 68.934 153.781 69.0686C153.809 69.2033 153.863 69.3311 153.94 69.4448C154.018 69.5584 154.117 69.6555 154.232 69.7306C154.347 69.8057 154.476 69.8572 154.611 69.8821L179.241 74.3068C179.511 74.3553 179.791 74.2944 180.017 74.1375C180.243 73.9806 180.397 73.7404 180.447 73.4697L183.228 57.674C183.274 57.407 183.214 57.1325 183.061 56.9092C182.907 56.6858 182.673 56.5312 182.407 56.4782L158.152 51.7988C158.018 51.7731 157.88 51.7742 157.746 51.8018C157.612 51.8295 157.485 51.8833 157.372 51.96C157.259 52.0368 157.163 52.1351 157.088 52.2493C157.013 52.3634 156.961 52.4913 156.935 52.6255V52.6255Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"M169.518 64.0426C169.08 64.0431 168.658 63.8777 168.337 63.5798L159.332 55.0685C159.254 54.9705 159.214 54.8476 159.219 54.7223C159.224 54.597 159.274 54.4777 159.36 54.3866C159.446 54.2954 159.562 54.2384 159.687 54.2261C159.812 54.2139 159.937 54.2471 160.039 54.3197L169.045 62.8467C169.144 62.941 169.27 63.0032 169.405 63.0255C169.54 63.0477 169.679 63.0289 169.804 62.9715L180.114 58.0321C180.234 57.991 180.366 57.9955 180.483 58.0446C180.6 58.0938 180.696 58.1843 180.751 58.299C180.806 58.4137 180.817 58.5445 180.782 58.6669C180.747 58.7892 180.669 58.8945 180.561 58.9628L170.251 63.9074C170.019 64.0053 169.769 64.0514 169.518 64.0426V64.0426Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M156.176 68.7123C156.104 68.7128 156.033 68.6983 155.966 68.6696C155.9 68.641 155.841 68.5989 155.791 68.5459C155.7 68.4431 155.653 68.3082 155.661 68.1708C155.668 68.0334 155.73 67.9046 155.833 67.8128L162.785 61.5476C162.887 61.4561 163.022 61.4091 163.16 61.4169C163.297 61.4246 163.426 61.4866 163.518 61.5892C163.608 61.6917 163.654 61.8255 163.646 61.9617C163.638 62.0978 163.577 62.2255 163.476 62.3171L156.525 68.5563C156.432 68.6506 156.308 68.7064 156.176 68.7123V68.7123Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M178.533 72.1698C178.435 72.1695 178.339 72.1416 178.257 72.0891C178.174 72.0367 178.108 71.9619 178.065 71.8734L174.488 64.3968C174.449 64.3348 174.423 64.2651 174.412 64.1924C174.402 64.1197 174.407 64.0455 174.427 63.9749C174.447 63.9042 174.482 63.8386 174.529 63.7824C174.577 63.7263 174.636 63.6808 174.702 63.6489C174.768 63.6171 174.84 63.5997 174.914 63.5978C174.987 63.596 175.06 63.6097 175.128 63.6381C175.196 63.6665 175.257 63.709 175.307 63.7627C175.357 63.8164 175.395 63.8801 175.419 63.9496L178.996 71.4315C179.053 71.5551 179.06 71.6963 179.014 71.8246C178.969 71.953 178.874 72.0582 178.752 72.1178C178.684 72.1526 178.609 72.1704 178.533 72.1698V72.1698Z",fill:"#B3B3B3"})),t.a.createElement("g",null,t.a.createElement("path",{d:"M173.287 49.0374L169.518 55.7654C169.463 55.8558 169.382 55.9275 169.286 55.9708C169.189 56.0141 169.082 56.027 168.978 56.0078C168.874 55.9886 168.779 55.9382 168.704 55.8633C168.63 55.7884 168.58 55.6926 168.561 55.5886L167.677 47.9092L173.287 49.0374Z",fill:"#E01E5A"}),t.a.createElement("path",{d:"M168.509 49.8284C169.658 49.8284 170.589 48.8973 170.589 47.7487C170.589 46.6001 169.658 45.6689 168.509 45.6689C167.36 45.6689 166.429 46.6001 166.429 47.7487C166.429 48.8973 167.36 49.8284 168.509 49.8284Z",fill:"white"}),t.a.createElement("path",{d:"M172.669 50.7689C173.817 50.7689 174.748 49.8377 174.748 48.6891C174.748 47.5405 173.817 46.6094 172.669 46.6094C171.52 46.6094 170.589 47.5405 170.589 48.6891C170.589 49.8377 171.52 50.7689 172.669 50.7689Z",fill:"white"})),t.a.createElement("g",{className:"prudent_pigeon__wing"},t.a.createElement("path",{d:"M137.469 90.8048C136.856 88.7077 135.5 86.9057 133.656 85.7354C131.811 84.5651 129.603 84.1068 127.445 84.4459L85.3973 130.595L91.1166 135.566L91.1686 135.608C92.9877 137.166 95.1528 138.266 97.4834 138.818C99.8141 139.37 102.243 139.356 104.567 138.779C106.61 138.278 108.6 137.582 110.51 136.7L111.732 136.143C120.178 132.279 127.099 125.716 131.406 117.488L135.618 109.455C138.624 103.712 139.287 97.0269 137.469 90.8048V90.8048Z",fill:"#536275"}),t.a.createElement("path",{d:"M57.3831 122.374L124.455 79.6981C125.633 78.9484 126.969 78.4829 128.358 78.3384C129.747 78.1939 131.15 78.3744 132.458 78.8656C133.765 79.3567 134.94 80.1452 135.89 81.1686C136.84 82.192 137.539 83.4223 137.932 84.7623V84.7623C139.753 90.9876 139.09 97.6767 136.081 103.423L131.869 111.461C127.558 119.687 120.638 126.248 112.195 130.116L110.973 130.673C106.627 132.664 101.902 133.694 97.1218 133.694V133.694C85.8611 133.692 74.7553 131.07 64.683 126.035L57.3831 122.374Z",fill:"#B1BDC9"}),t.a.createElement("path",{d:"M63.4663 125.323L130.538 82.6416C132.154 81.6098 134.059 81.1267 135.971 81.2637C134.545 79.6854 132.606 78.6629 130.498 78.3774C128.39 78.0919 126.249 78.5618 124.455 79.7039L57.3831 122.38L64.6622 126.02C65.6656 126.54 66.6847 126.992 67.7142 127.45L63.4663 125.323Z",fill:"#858E97"}),t.a.createElement("path",{d:"M110.51 128.432C108.363 126.014 109.2 121.376 109.699 119.801L110.786 116.437L107.37 117.347C103.975 118.251 101.468 118.023 99.9347 116.655C97.5585 114.544 97.6469 109.854 97.8809 108.232L98.2605 105.664L95.692 106.043C92.6192 106.501 88.6156 106.605 87.009 104.509C86.8416 104.288 86.7019 104.047 86.5931 103.792L83.3227 105.872C83.5017 106.212 83.7086 106.538 83.9414 106.844C85.8496 109.335 89.2032 110.432 93.9242 110.109C93.9242 112.756 94.4441 116.931 97.3662 119.525C99.3679 121.309 102.046 122.016 105.404 121.641C105.072 124.303 105.15 128.182 107.619 131C107.848 131.263 108.095 131.51 108.358 131.739C109.242 131.421 110.115 131.078 110.957 130.699L112.179 130.142L112.73 129.872C111.876 129.597 111.11 129.1 110.51 128.432V128.432Z",fill:"#D0D7DF"}),t.a.createElement("path",{d:"M124.439 119.229C122.292 116.806 123.129 112.168 123.628 110.593L124.715 107.229L121.299 108.139C117.904 109.049 115.398 108.815 113.864 107.452C111.488 105.342 111.576 100.652 111.784 99.0295L112.164 96.461L109.595 96.8406C106.522 97.2981 102.519 97.4021 100.912 95.2808C100.802 95.1367 100.705 94.9836 100.621 94.8232L97.3662 96.903C97.5123 97.1508 97.672 97.3903 97.8446 97.6205C99.7527 100.111 103.101 101.208 107.827 100.891C107.827 103.532 108.347 107.712 111.269 110.302C113.271 112.09 115.949 112.797 119.308 112.418C118.975 115.085 119.053 118.959 121.522 121.751C121.937 122.214 122.4 122.631 122.905 122.993C123.878 122.104 124.814 121.179 125.698 120.207C125.227 119.953 124.801 119.623 124.439 119.229V119.229Z",fill:"#D0D7DF"}),t.a.createElement("path",{d:"M100.938 95.3072C100.828 95.163 100.731 95.01 100.647 94.8496L97.7925 96.6642L97.3922 96.919C97.5382 97.1668 97.6979 97.4063 97.8705 97.6365C99.0341 99.0867 100.657 100.097 102.472 100.501L107.91 97.0385C105.202 97.2621 102.259 97.0281 100.938 95.3072Z",fill:"#9CA1A7"}),t.a.createElement("path",{d:"M87.009 104.509C86.8416 104.288 86.7019 104.047 86.5931 103.792L83.3227 105.872C83.5017 106.212 83.7086 106.538 83.9414 106.844C85.0152 108.194 86.4958 109.162 88.1633 109.605L93.3627 106.288C90.8462 106.423 88.2309 106.106 87.009 104.509Z",fill:"#9CA1A7"})),t.a.createElement("g",{className:"prudent_pigeon__envelope_back"},t.a.createElement("path",{d:"M139.357 129.383L155.637 127.964C155.773 127.952 155.906 127.912 156.028 127.848C156.149 127.784 156.257 127.697 156.345 127.591C156.432 127.485 156.498 127.363 156.538 127.231C156.578 127.1 156.591 126.962 156.578 126.825L154.009 101.926C153.979 101.653 153.843 101.403 153.629 101.231C153.416 101.059 153.143 100.978 152.871 101.005L136.924 102.716C136.655 102.746 136.407 102.88 136.236 103.09C136.064 103.3 135.98 103.569 136.004 103.839L138.234 128.442C138.259 128.716 138.392 128.968 138.602 129.144C138.812 129.321 139.084 129.407 139.357 129.383Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"M140.558 126.685C140.477 126.687 140.396 126.667 140.325 126.628C140.204 126.565 140.114 126.457 140.072 126.328C140.03 126.199 140.041 126.058 140.101 125.937L145.82 114.914C145.882 114.792 145.906 114.654 145.89 114.518C145.873 114.381 145.816 114.253 145.727 114.15L138.12 105.617C138.064 105.569 138.019 105.509 137.988 105.442C137.957 105.375 137.941 105.302 137.94 105.228C137.939 105.154 137.955 105.081 137.985 105.013C138.015 104.946 138.059 104.885 138.114 104.836C138.169 104.787 138.234 104.75 138.305 104.728C138.375 104.706 138.45 104.699 138.523 104.708C138.597 104.717 138.667 104.742 138.73 104.78C138.794 104.819 138.848 104.87 138.889 104.931L146.496 113.463C146.725 113.723 146.871 114.046 146.915 114.39C146.958 114.734 146.898 115.083 146.741 115.392L141.021 126.41C140.977 126.494 140.91 126.564 140.828 126.612C140.747 126.661 140.653 126.686 140.558 126.685V126.685Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M146.011 111.222C145.939 111.222 145.867 111.207 145.801 111.177C145.735 111.148 145.675 111.105 145.627 111.051C145.537 110.948 145.491 110.814 145.499 110.678C145.506 110.542 145.567 110.414 145.668 110.323L151.861 104.806C151.965 104.73 152.094 104.696 152.223 104.71C152.351 104.724 152.47 104.785 152.555 104.882C152.641 104.979 152.688 105.104 152.686 105.233C152.685 105.362 152.635 105.486 152.547 105.581L146.355 111.092C146.26 111.176 146.138 111.222 146.011 111.222V111.222Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M155.089 128.146C154.994 128.147 154.9 128.12 154.819 128.068L146.869 123.128C146.801 123.098 146.741 123.053 146.692 122.998C146.643 122.942 146.606 122.876 146.584 122.805C146.563 122.734 146.557 122.659 146.566 122.586C146.576 122.512 146.602 122.441 146.641 122.378C146.68 122.315 146.733 122.261 146.795 122.22C146.857 122.179 146.927 122.152 147 122.14C147.073 122.129 147.148 122.133 147.22 122.152C147.292 122.172 147.358 122.207 147.415 122.255L155.365 127.194C155.457 127.256 155.526 127.345 155.564 127.448C155.602 127.552 155.605 127.665 155.575 127.771C155.544 127.876 155.481 127.97 155.393 128.037C155.306 128.105 155.2 128.143 155.089 128.146V128.146Z",fill:"#B3B3B3"})),t.a.createElement("g",{className:"prudent_pigeon__envelope_back"},t.a.createElement("path",{d:"M146 104L144.368 123.559L142.5 124L146 104Z",fill:"black"}),t.a.createElement("path",{d:"M144.457 124.782L160.674 126.82C160.81 126.837 160.948 126.826 161.08 126.789C161.213 126.752 161.336 126.689 161.444 126.604C161.552 126.519 161.642 126.414 161.708 126.294C161.775 126.174 161.818 126.042 161.833 125.905L164.521 101.021C164.549 100.748 164.468 100.476 164.295 100.262C164.123 100.049 163.873 99.9125 163.601 99.8823L147.649 98.2237C147.38 98.1972 147.11 98.2769 146.899 98.4459C146.687 98.6148 146.55 98.8597 146.516 99.1284L143.557 123.659C143.534 123.926 143.614 124.192 143.781 124.401C143.949 124.611 144.191 124.747 144.457 124.782V124.782Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"M160.044 124.954C159.911 124.953 159.782 124.901 159.686 124.808L152.927 118.314C152.845 118.215 152.803 118.09 152.808 117.963C152.813 117.835 152.865 117.714 152.953 117.622C153.042 117.53 153.161 117.474 153.289 117.464C153.416 117.455 153.543 117.493 153.644 117.57L160.403 124.064C160.499 124.162 160.552 124.292 160.552 124.428C160.552 124.564 160.499 124.695 160.403 124.792C160.309 124.891 160.181 124.949 160.044 124.954Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M146.303 122.412C146.184 122.412 146.068 122.372 145.975 122.297C145.87 122.209 145.804 122.083 145.792 121.947C145.779 121.811 145.821 121.675 145.907 121.569L153.774 111.982C153.861 111.876 153.915 111.747 153.927 111.61C153.939 111.474 153.909 111.337 153.842 111.217L148.185 101.281C148.123 101.163 148.109 101.024 148.146 100.896C148.183 100.767 148.269 100.657 148.385 100.59C148.501 100.523 148.639 100.504 148.769 100.535C148.899 100.567 149.012 100.648 149.084 100.762L154.736 110.703C154.907 111.004 154.983 111.35 154.954 111.695C154.925 112.04 154.793 112.368 154.575 112.637L146.724 122.224C146.673 122.286 146.608 122.335 146.535 122.367C146.462 122.4 146.382 122.415 146.303 122.412Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M154.694 106.512C154.603 106.511 154.514 106.486 154.435 106.439C154.357 106.392 154.292 106.326 154.247 106.247C154.181 106.128 154.164 105.988 154.2 105.856C154.236 105.725 154.322 105.613 154.44 105.545L161.651 101.448C161.768 101.394 161.901 101.387 162.024 101.426C162.146 101.465 162.25 101.549 162.315 101.66C162.379 101.771 162.4 101.903 162.374 102.029C162.347 102.154 162.275 102.266 162.171 102.342L154.959 106.444C154.878 106.489 154.787 106.512 154.694 106.512V106.512Z",fill:"#B3B3B3"})),t.a.createElement("g",null,t.a.createElement("path",{d:"M133.227 119.186L169.068 112.653L172.94 133.896C173.089 134.71 172.908 135.549 172.437 136.23C171.966 136.91 171.245 137.376 170.431 137.524L140.727 142.938C139.913 143.087 139.074 142.905 138.393 142.435C137.713 141.964 137.247 141.242 137.099 140.429L133.227 119.186Z",fill:"#ECB22E"}),t.a.createElement("path",{d:"M172.84 133.397C172.677 133.948 172.366 134.444 171.939 134.829C171.512 135.215 170.987 135.475 170.422 135.581L140.718 140.993C140.314 141.068 139.9 141.063 139.498 140.977C139.096 140.891 138.715 140.727 138.377 140.494C138.039 140.26 137.75 139.963 137.527 139.617C137.304 139.272 137.152 138.886 137.079 138.482L133.554 119.13L133.211 119.192L137.079 140.432C137.152 140.836 137.304 141.222 137.527 141.567C137.75 141.912 138.039 142.21 138.377 142.444C138.715 142.677 139.096 142.841 139.498 142.927C139.9 143.013 140.314 143.018 140.718 142.943L170.422 137.53C170.827 137.457 171.213 137.305 171.558 137.082C171.903 136.859 172.201 136.571 172.434 136.232C172.668 135.894 172.832 135.513 172.918 135.111C173.003 134.71 173.009 134.295 172.934 133.891L172.84 133.397Z",fill:"#B18523"}),t.a.createElement("path",{d:"M138.436 141.295L134.568 120.06L169.258 113.738L169.06 112.667L133.205 119.192L137.074 140.432C137.177 140.985 137.429 141.5 137.801 141.922C138.174 142.344 138.654 142.657 139.19 142.828C138.798 142.399 138.536 141.867 138.436 141.295V141.295Z",fill:"#F4D182"})),t.a.createElement("g",{className:"prudent_pigeon__hat"},t.a.createElement("path",{d:"M163.362 25.0323C163.229 22.632 163.229 20.2263 163.362 17.826C163.393 17.306 175.57 12.8242 183.203 20.1813L180.676 30.3408L163.362 25.0323Z",fill:"#06AF72"}),t.a.createElement("path",{d:"M165.556 25.0326C165.423 22.6323 165.423 20.2265 165.556 17.8263C165.556 17.5559 168.816 16.2353 173.001 16.0273C167.802 15.7621 163.398 17.5091 163.377 17.8263C163.245 20.2265 163.245 22.6323 163.377 25.0326L180.676 30.3411L180.832 29.7224L165.556 25.0326Z",fill:"#058356"}),t.a.createElement("path",{d:"M163.362 25.0318C163.362 25.0318 188.636 23.5916 188.501 28.1254C188.365 32.6593 180.41 31.4114 163.362 25.0318Z",fill:"#4A154B"}),t.a.createElement("path",{d:"M174.909 23.2381C176.348 23.2381 177.514 22.0718 177.514 20.6332C177.514 19.1946 176.348 18.0283 174.909 18.0283C173.471 18.0283 172.305 19.1946 172.305 20.6332C172.305 22.0718 173.471 23.2381 174.909 23.2381Z",fill:"white"})))))}h(l,"PrudentPigeonLight"),l.displayName="PrudentPigeonLight";var o=l;function f(u){let{handleMouseEnterOrClick:d}=u;return t.a.createElement("div",{onMouseEnter:d,onClick:d,role:"presentation",className:"p-prudent_pigeon_animation p-message_pane_modal_pigeon__header_image--dark"},t.a.createElement("svg",{width:"280",height:"180",viewBox:"0 0 280 180",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("path",{d:"M124.075 163.98C157.365 163.98 184.351 162.588 184.351 160.871C184.351 159.154 157.365 157.762 124.075 157.762C90.7857 157.762 63.7991 159.154 63.7991 160.871C63.7991 162.588 90.7857 163.98 124.075 163.98Z",fill:"black"}),t.a.createElement("g",{className:"prudent_pigeon__body"},t.a.createElement("path",{d:"M163.258 114.191L158.349 88.8339L162.764 88.002L167.672 113.359L163.258 114.191Z",fill:"#B18523"}),t.a.createElement("g",{className:"prudent_pigeon__base"},t.a.createElement("path",{d:"M129.727 141.873L125.944 144.297L135.639 159.426L139.421 157.003L129.727 141.873Z",fill:"#A81644"}),t.a.createElement("path",{d:"M160.367 160.871H126.509C125.859 160.869 125.236 160.61 124.777 160.15C124.318 159.69 124.06 159.067 124.06 158.417V158.417C124.059 157.787 124.3 157.182 124.734 156.726C125.168 156.27 125.76 155.999 126.389 155.968L158.823 154.377C159.354 154.351 159.886 154.433 160.385 154.618C160.884 154.804 161.34 155.089 161.725 155.456C162.111 155.823 162.418 156.265 162.628 156.754C162.837 157.243 162.946 157.77 162.946 158.302V158.302C162.938 158.983 162.663 159.633 162.181 160.113C161.699 160.593 161.047 160.865 160.367 160.871Z",fill:"#A81644"}),t.a.createElement("path",{d:"M117.819 141.87L114.037 144.294L123.731 159.424L127.514 157L117.819 141.87Z",fill:"#E01E5A"}),t.a.createElement("path",{d:"M148.455 160.871H114.602C114.28 160.871 113.961 160.807 113.663 160.684C113.365 160.561 113.095 160.38 112.867 160.152C112.639 159.924 112.458 159.654 112.335 159.356C112.211 159.058 112.148 158.739 112.148 158.417V158.417C112.147 157.787 112.389 157.182 112.822 156.726C113.256 156.27 113.849 155.999 114.477 155.968L146.916 154.377C147.448 154.351 147.979 154.433 148.478 154.618C148.977 154.804 149.433 155.089 149.819 155.456C150.204 155.823 150.511 156.265 150.721 156.754C150.931 157.243 151.039 157.77 151.039 158.302V158.302C151.031 158.984 150.756 159.635 150.272 160.115C149.789 160.595 149.136 160.867 148.455 160.871Z",fill:"#E01E5A"}),t.a.createElement("path",{d:"M184.273 49.6835C185.008 46.8069 183.649 43.975 181.237 43.3584C178.825 42.7418 176.273 44.5739 175.538 47.4505C174.802 50.3272 176.162 53.159 178.574 53.7757C180.986 54.3923 183.537 52.5602 184.273 49.6835Z",fill:"white"}),t.a.createElement("path",{d:"M183.608 49.3495C184.076 47.5189 183.56 45.806 182.456 45.5237C181.351 45.2413 180.077 46.4964 179.609 48.327C179.141 50.1576 179.657 51.8705 180.761 52.1528C181.866 52.4352 183.14 51.1801 183.608 49.3495Z",fill:"black"}),t.a.createElement("path",{d:"M132.509 78.8872L158.786 36.2108C160.148 34.0012 162.229 32.3271 164.679 31.4694C167.129 30.6117 169.799 30.6226 172.242 31.5002C175.008 32.4941 177.278 34.5256 178.572 37.1645C179.866 39.8033 180.081 42.8422 179.173 45.6373L149.677 136.517L136.252 142.418C130.843 144.789 125.001 146.013 119.094 146.011C108.819 146.013 98.8874 142.31 91.1218 135.581L85.4025 130.61L132.509 78.8872Z",fill:"#6F839C"}),t.a.createElement("path",{d:"M122.51 145.226C112.234 145.227 102.303 141.522 94.5378 134.791L88.8185 129.826L135.935 78.118L162.213 35.4416C163.495 33.3644 165.416 31.759 167.688 30.8662C165.885 30.981 164.136 31.5262 162.587 32.4562C161.038 33.3862 159.735 34.6738 158.786 36.2112L132.509 78.8875L85.3973 130.595L91.1166 135.566C98.8822 142.295 108.814 145.998 119.089 145.996V145.996C122.877 145.995 126.649 145.491 130.304 144.498C127.734 144.978 125.125 145.221 122.51 145.226V145.226Z",fill:"#8C9CB0"}),t.a.createElement("path",{d:"M163.648 93.4763L166.034 86.1244L135.8 73.542L132.509 78.8869L131.432 80.0672L163.648 93.4763Z",fill:"white"}),t.a.createElement("path",{d:"M120.451 145.975C118.977 146.502 117.465 146.917 115.928 147.217L114.976 145.798C114.976 145.798 119.807 146.027 120.451 145.975Z",fill:"black"}),t.a.createElement("path",{d:"M131.271 144.228C131.271 144.228 130.325 145.548 127.554 146.827L126.618 145.319C128.193 145.068 129.748 144.703 131.271 144.228Z",fill:"black"}),t.a.createElement("path",{d:"M163.085 42.9165C164.143 38.7768 162.184 34.7008 158.709 33.8125C155.234 32.9242 151.56 35.56 150.501 39.6997C149.443 43.8394 151.402 47.9154 154.877 48.8037C158.352 49.692 162.026 47.0562 163.085 42.9165Z",fill:"white"}),t.a.createElement("path",{d:"M159.39 41.3704C159.947 39.1949 158.918 37.053 157.093 36.5864C155.268 36.1199 153.338 37.5053 152.781 39.6809C152.225 41.8565 153.254 43.9983 155.079 44.4649C156.904 44.9314 158.834 43.546 159.39 41.3704Z",fill:"black"})),t.a.createElement("path",{d:"M132.737 81.2965L128.321 82.1221L135.251 119.186L139.666 118.36L132.737 81.2965Z",fill:"#B18523"}),t.a.createElement("path",{d:"M133.881 87.4713C132.494 86.206 130.748 85.4014 128.885 85.168L133.98 112.574C133.98 112.574 136.783 107.801 137.25 105.57L133.881 87.4713Z",fill:"black"}),t.a.createElement("path",{d:"M163.648 93.477L160.85 102.072L161.407 105.02L164.032 94.7093L163.741 93.1807L163.648 93.477Z",fill:"black"}),t.a.createElement("path",{d:"M158.591 70.8004L169.726 74.7535L173.5 62.5H165L158.591 70.8004Z",fill:"black"}),t.a.createElement("g",{className:"prudent_pigeon__envelope"},t.a.createElement("path",{d:"M156.935 52.6255L153.779 68.6603C153.753 68.7952 153.754 68.934 153.781 69.0686C153.809 69.2033 153.863 69.3311 153.94 69.4448C154.018 69.5584 154.117 69.6555 154.232 69.7306C154.347 69.8057 154.476 69.8572 154.611 69.8821L179.241 74.3068C179.511 74.3553 179.791 74.2944 180.017 74.1375C180.243 73.9806 180.397 73.7404 180.447 73.4697L183.228 57.674C183.274 57.407 183.214 57.1325 183.061 56.9092C182.907 56.6858 182.673 56.5312 182.407 56.4782L158.152 51.7988C158.018 51.7731 157.88 51.7742 157.746 51.8018C157.612 51.8295 157.485 51.8833 157.372 51.96C157.259 52.0368 157.163 52.1351 157.088 52.2493C157.013 52.3634 156.961 52.4913 156.935 52.6255V52.6255Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"M169.518 64.0426C169.08 64.0431 168.658 63.8777 168.337 63.5798L159.332 55.0685C159.254 54.9705 159.214 54.8476 159.219 54.7223C159.224 54.597 159.274 54.4777 159.36 54.3866C159.446 54.2954 159.562 54.2384 159.687 54.2261C159.812 54.2139 159.937 54.2471 160.039 54.3197L169.045 62.8467C169.144 62.941 169.27 63.0032 169.405 63.0255C169.54 63.0477 169.679 63.0289 169.804 62.9715L180.114 58.0321C180.234 57.991 180.366 57.9955 180.483 58.0446C180.6 58.0938 180.696 58.1843 180.751 58.299C180.806 58.4137 180.817 58.5445 180.782 58.6669C180.747 58.7892 180.669 58.8945 180.561 58.9628L170.251 63.9074C170.019 64.0053 169.769 64.0514 169.518 64.0426V64.0426Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M156.176 68.7123C156.104 68.7128 156.033 68.6983 155.966 68.6696C155.9 68.641 155.841 68.5989 155.791 68.5459C155.7 68.4431 155.653 68.3082 155.661 68.1708C155.668 68.0334 155.73 67.9046 155.833 67.8128L162.785 61.5476C162.887 61.4561 163.022 61.4091 163.16 61.4169C163.297 61.4246 163.426 61.4866 163.518 61.5892C163.608 61.6917 163.654 61.8255 163.646 61.9617C163.638 62.0978 163.577 62.2255 163.476 62.3171L156.525 68.5563C156.432 68.6506 156.308 68.7064 156.176 68.7123V68.7123Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M178.533 72.1698C178.435 72.1695 178.339 72.1416 178.257 72.0891C178.174 72.0367 178.108 71.9619 178.065 71.8734L174.488 64.3968C174.449 64.3348 174.423 64.2651 174.412 64.1924C174.402 64.1197 174.407 64.0455 174.427 63.9749C174.447 63.9042 174.482 63.8386 174.529 63.7824C174.577 63.7263 174.636 63.6808 174.702 63.6489C174.768 63.6171 174.84 63.5997 174.914 63.5978C174.987 63.596 175.06 63.6097 175.128 63.6381C175.196 63.6665 175.257 63.709 175.307 63.7627C175.357 63.8164 175.395 63.8801 175.419 63.9496L178.996 71.4315C179.053 71.5551 179.06 71.6963 179.014 71.8246C178.969 71.953 178.874 72.0582 178.752 72.1178C178.684 72.1526 178.609 72.1704 178.533 72.1698V72.1698Z",fill:"#B3B3B3"})),t.a.createElement("g",null,t.a.createElement("path",{d:"M173.287 49.0374L169.518 55.7654C169.463 55.8558 169.382 55.9275 169.286 55.9708C169.189 56.0141 169.082 56.027 168.978 56.0078C168.874 55.9886 168.779 55.9382 168.704 55.8633C168.63 55.7884 168.58 55.6926 168.561 55.5886L167.677 47.9092L173.287 49.0374Z",fill:"#E01E5A"}),t.a.createElement("path",{d:"M168.509 49.8284C169.658 49.8284 170.589 48.8973 170.589 47.7487C170.589 46.6001 169.658 45.6689 168.509 45.6689C167.36 45.6689 166.429 46.6001 166.429 47.7487C166.429 48.8973 167.36 49.8284 168.509 49.8284Z",fill:"white"}),t.a.createElement("path",{d:"M172.669 50.7689C173.817 50.7689 174.748 49.8377 174.748 48.6891C174.748 47.5405 173.817 46.6094 172.669 46.6094C171.52 46.6094 170.589 47.5405 170.589 48.6891C170.589 49.8377 171.52 50.7689 172.669 50.7689Z",fill:"white"})),t.a.createElement("g",{className:"prudent_pigeon__wing"},t.a.createElement("path",{d:"M137.469 90.8048C136.856 88.7077 135.5 86.9057 133.656 85.7354C131.811 84.5651 129.603 84.1068 127.445 84.4459L85.3973 130.595L91.1166 135.566L91.1686 135.608C92.9877 137.166 95.1528 138.266 97.4834 138.818C99.8141 139.37 102.243 139.356 104.567 138.779C106.61 138.278 108.6 137.582 110.51 136.7L111.732 136.143C120.178 132.279 127.099 125.716 131.406 117.488L135.618 109.455C138.624 103.712 139.287 97.0269 137.469 90.8048V90.8048Z",fill:"#536275"}),t.a.createElement("path",{d:"M57.3831 122.374L124.455 79.6981C125.633 78.9484 126.969 78.4829 128.358 78.3384C129.747 78.1939 131.15 78.3744 132.458 78.8656C133.765 79.3567 134.94 80.1452 135.89 81.1686C136.84 82.192 137.539 83.4223 137.932 84.7623V84.7623C139.753 90.9876 139.09 97.6767 136.081 103.423L131.869 111.461C127.558 119.687 120.638 126.248 112.195 130.116L110.973 130.673C106.627 132.664 101.902 133.694 97.1218 133.694V133.694C85.8611 133.692 74.7553 131.07 64.683 126.035L57.3831 122.374Z",fill:"#B1BDC9"}),t.a.createElement("path",{d:"M63.4663 125.323L130.538 82.6416C132.154 81.6098 134.059 81.1267 135.971 81.2637C134.545 79.6854 132.606 78.6629 130.498 78.3774C128.39 78.0919 126.249 78.5618 124.455 79.7039L57.3831 122.38L64.6622 126.02C65.6656 126.54 66.6847 126.992 67.7142 127.45L63.4663 125.323Z",fill:"#858E97"}),t.a.createElement("path",{d:"M110.51 128.432C108.363 126.014 109.2 121.376 109.699 119.801L110.786 116.437L107.37 117.347C103.975 118.251 101.468 118.023 99.9347 116.655C97.5585 114.544 97.6469 109.854 97.8809 108.232L98.2605 105.664L95.692 106.043C92.6192 106.501 88.6156 106.605 87.009 104.509C86.8416 104.288 86.7019 104.047 86.5931 103.792L83.3227 105.872C83.5017 106.212 83.7086 106.538 83.9414 106.844C85.8496 109.335 89.2032 110.432 93.9242 110.109C93.9242 112.756 94.4441 116.931 97.3662 119.525C99.3679 121.309 102.046 122.016 105.404 121.641C105.072 124.303 105.15 128.182 107.619 131C107.848 131.263 108.095 131.51 108.358 131.739C109.242 131.421 110.115 131.078 110.957 130.699L112.179 130.142L112.73 129.872C111.876 129.597 111.11 129.1 110.51 128.432V128.432Z",fill:"#D0D7DF"}),t.a.createElement("path",{d:"M124.439 119.229C122.292 116.806 123.129 112.168 123.628 110.593L124.715 107.229L121.299 108.139C117.904 109.049 115.398 108.815 113.864 107.452C111.488 105.342 111.576 100.652 111.784 99.0295L112.164 96.461L109.595 96.8406C106.522 97.2981 102.519 97.4021 100.912 95.2808C100.802 95.1367 100.705 94.9836 100.621 94.8232L97.3662 96.903C97.5123 97.1508 97.672 97.3903 97.8446 97.6205C99.7527 100.111 103.101 101.208 107.827 100.891C107.827 103.532 108.347 107.712 111.269 110.302C113.271 112.09 115.949 112.797 119.308 112.418C118.975 115.085 119.053 118.959 121.522 121.751C121.937 122.214 122.4 122.631 122.905 122.993C123.878 122.104 124.814 121.179 125.698 120.207C125.227 119.953 124.801 119.623 124.439 119.229V119.229Z",fill:"#D0D7DF"}),t.a.createElement("path",{d:"M100.938 95.3072C100.828 95.163 100.731 95.01 100.647 94.8496L97.7925 96.6642L97.3922 96.919C97.5382 97.1668 97.6979 97.4063 97.8705 97.6365C99.0341 99.0867 100.657 100.097 102.472 100.501L107.91 97.0385C105.202 97.2621 102.259 97.0281 100.938 95.3072Z",fill:"#9CA1A7"}),t.a.createElement("path",{d:"M87.009 104.509C86.8416 104.288 86.7019 104.047 86.5931 103.792L83.3227 105.872C83.5017 106.212 83.7086 106.538 83.9414 106.844C85.0152 108.194 86.4958 109.162 88.1633 109.605L93.3627 106.288C90.8462 106.423 88.2309 106.106 87.009 104.509Z",fill:"#9CA1A7"})),t.a.createElement("g",{className:"prudent_pigeon__envelope_back"},t.a.createElement("path",{d:"M139.357 129.383L155.637 127.964C155.773 127.952 155.906 127.912 156.028 127.848C156.149 127.784 156.257 127.697 156.345 127.591C156.432 127.485 156.498 127.363 156.538 127.231C156.578 127.1 156.591 126.962 156.578 126.825L154.009 101.926C153.979 101.653 153.843 101.403 153.629 101.231C153.416 101.059 153.143 100.978 152.871 101.005L136.924 102.716C136.655 102.746 136.407 102.88 136.236 103.09C136.064 103.3 135.98 103.569 136.004 103.839L138.234 128.442C138.259 128.716 138.392 128.968 138.602 129.144C138.812 129.321 139.084 129.407 139.357 129.383Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"M140.558 126.685C140.477 126.687 140.396 126.667 140.325 126.628C140.204 126.565 140.114 126.457 140.072 126.328C140.03 126.199 140.041 126.058 140.101 125.937L145.82 114.914C145.882 114.792 145.906 114.654 145.89 114.518C145.873 114.381 145.816 114.253 145.727 114.15L138.12 105.617C138.064 105.569 138.019 105.509 137.988 105.442C137.957 105.375 137.941 105.302 137.94 105.228C137.939 105.154 137.955 105.081 137.985 105.013C138.015 104.946 138.059 104.885 138.114 104.836C138.169 104.787 138.234 104.75 138.305 104.728C138.375 104.706 138.45 104.699 138.523 104.708C138.597 104.717 138.667 104.742 138.73 104.78C138.794 104.819 138.848 104.87 138.889 104.931L146.496 113.463C146.725 113.723 146.871 114.046 146.915 114.39C146.958 114.734 146.898 115.083 146.741 115.392L141.021 126.41C140.977 126.494 140.91 126.564 140.828 126.612C140.747 126.661 140.653 126.686 140.558 126.685V126.685Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M146.011 111.222C145.939 111.222 145.867 111.207 145.801 111.177C145.735 111.148 145.675 111.105 145.627 111.051C145.537 110.948 145.491 110.814 145.499 110.678C145.506 110.542 145.567 110.414 145.668 110.323L151.861 104.806C151.965 104.73 152.094 104.696 152.223 104.71C152.351 104.724 152.47 104.785 152.555 104.882C152.641 104.979 152.688 105.104 152.686 105.233C152.685 105.362 152.635 105.486 152.547 105.581L146.355 111.092C146.26 111.176 146.138 111.222 146.011 111.222V111.222Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M155.089 128.146C154.994 128.147 154.9 128.12 154.819 128.068L146.869 123.128C146.801 123.098 146.741 123.053 146.692 122.998C146.643 122.942 146.606 122.876 146.584 122.805C146.563 122.734 146.557 122.659 146.566 122.586C146.576 122.512 146.602 122.441 146.641 122.378C146.68 122.315 146.733 122.261 146.795 122.22C146.857 122.179 146.927 122.152 147 122.14C147.073 122.129 147.148 122.133 147.22 122.152C147.292 122.172 147.358 122.207 147.415 122.255L155.365 127.194C155.457 127.256 155.526 127.345 155.564 127.448C155.602 127.552 155.605 127.665 155.575 127.771C155.544 127.876 155.481 127.97 155.393 128.037C155.306 128.105 155.2 128.143 155.089 128.146V128.146Z",fill:"#B3B3B3"})),t.a.createElement("g",{className:"prudent_pigeon__envelope_back"},t.a.createElement("path",{d:"M146 104L144.368 123.559L142.5 124L146 104Z",fill:"black"}),t.a.createElement("path",{d:"M144.457 124.782L160.674 126.82C160.81 126.837 160.948 126.826 161.08 126.789C161.213 126.752 161.336 126.689 161.444 126.604C161.552 126.519 161.642 126.414 161.708 126.294C161.775 126.174 161.818 126.042 161.833 125.905L164.521 101.021C164.549 100.748 164.468 100.476 164.295 100.262C164.123 100.049 163.873 99.9125 163.601 99.8823L147.649 98.2237C147.38 98.1972 147.11 98.2769 146.899 98.4459C146.687 98.6148 146.55 98.8597 146.516 99.1284L143.557 123.659C143.534 123.926 143.614 124.192 143.781 124.401C143.949 124.611 144.191 124.747 144.457 124.782V124.782Z",fill:"#F4EDE4"}),t.a.createElement("path",{d:"M160.044 124.954C159.911 124.953 159.782 124.901 159.686 124.808L152.927 118.314C152.845 118.215 152.803 118.09 152.808 117.963C152.813 117.835 152.865 117.714 152.953 117.622C153.042 117.53 153.161 117.474 153.289 117.464C153.416 117.455 153.543 117.493 153.644 117.57L160.403 124.064C160.499 124.162 160.552 124.292 160.552 124.428C160.552 124.564 160.499 124.695 160.403 124.792C160.309 124.891 160.181 124.949 160.044 124.954Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M146.303 122.412C146.184 122.412 146.068 122.372 145.975 122.297C145.87 122.209 145.804 122.083 145.792 121.947C145.779 121.811 145.821 121.675 145.907 121.569L153.774 111.982C153.861 111.876 153.915 111.747 153.927 111.61C153.939 111.474 153.909 111.337 153.842 111.217L148.185 101.281C148.123 101.163 148.109 101.024 148.146 100.896C148.183 100.767 148.269 100.657 148.385 100.59C148.501 100.523 148.639 100.504 148.769 100.535C148.899 100.567 149.012 100.648 149.084 100.762L154.736 110.703C154.907 111.004 154.983 111.35 154.954 111.695C154.925 112.04 154.793 112.368 154.575 112.637L146.724 122.224C146.673 122.286 146.608 122.335 146.535 122.367C146.462 122.4 146.382 122.415 146.303 122.412Z",fill:"#B3B3B3"}),t.a.createElement("path",{d:"M154.694 106.512C154.603 106.511 154.514 106.486 154.435 106.439C154.357 106.392 154.292 106.326 154.247 106.247C154.181 106.128 154.164 105.988 154.2 105.856C154.236 105.725 154.322 105.613 154.44 105.545L161.651 101.448C161.768 101.394 161.901 101.387 162.024 101.426C162.146 101.465 162.25 101.549 162.315 101.66C162.379 101.771 162.4 101.903 162.374 102.029C162.347 102.154 162.275 102.266 162.171 102.342L154.959 106.444C154.878 106.489 154.787 106.512 154.694 106.512V106.512Z",fill:"#B3B3B3"})),t.a.createElement("g",null,t.a.createElement("path",{d:"M133.227 119.186L169.068 112.653L172.94 133.896C173.089 134.71 172.908 135.549 172.437 136.23C171.966 136.91 171.245 137.376 170.431 137.524L140.727 142.938C139.913 143.087 139.074 142.905 138.393 142.435C137.713 141.964 137.247 141.242 137.099 140.429L133.227 119.186Z",fill:"#ECB22E"}),t.a.createElement("path",{d:"M172.84 133.397C172.677 133.948 172.366 134.444 171.939 134.829C171.512 135.215 170.987 135.475 170.422 135.581L140.718 140.993C140.314 141.068 139.9 141.063 139.498 140.977C139.096 140.891 138.715 140.727 138.377 140.494C138.039 140.26 137.75 139.963 137.527 139.617C137.304 139.272 137.152 138.886 137.079 138.482L133.554 119.13L133.211 119.192L137.079 140.432C137.152 140.836 137.304 141.222 137.527 141.567C137.75 141.912 138.039 142.21 138.377 142.444C138.715 142.677 139.096 142.841 139.498 142.927C139.9 143.013 140.314 143.018 140.718 142.943L170.422 137.53C170.827 137.457 171.213 137.305 171.558 137.082C171.903 136.859 172.201 136.571 172.434 136.232C172.668 135.894 172.832 135.513 172.918 135.111C173.003 134.71 173.009 134.295 172.934 133.891L172.84 133.397Z",fill:"#B18523"}),t.a.createElement("path",{d:"M138.436 141.295L134.568 120.06L169.258 113.738L169.06 112.667L133.205 119.192L137.074 140.432C137.177 140.985 137.429 141.5 137.801 141.922C138.174 142.344 138.654 142.657 139.19 142.828C138.798 142.399 138.536 141.867 138.436 141.295V141.295Z",fill:"#F4D182"})),t.a.createElement("g",{className:"prudent_pigeon__hat"},t.a.createElement("path",{d:"M163.362 25.0323C163.229 22.632 163.229 20.2263 163.362 17.826C163.393 17.306 175.57 12.8242 183.203 20.1813L180.676 30.3408L163.362 25.0323Z",fill:"#06AF72"}),t.a.createElement("path",{d:"M165.556 25.0326C165.423 22.6323 165.423 20.2265 165.556 17.8263C165.556 17.5559 168.816 16.2353 173.001 16.0273C167.802 15.7621 163.398 17.5091 163.377 17.8263C163.245 20.2265 163.245 22.6323 163.377 25.0326L180.676 30.3411L180.832 29.7224L165.556 25.0326Z",fill:"#058356"}),t.a.createElement("path",{d:"M163.362 25.0318C163.362 25.0318 188.636 23.5916 188.501 28.1254C188.365 32.6593 180.41 31.4114 163.362 25.0318Z",fill:"#4A154B"}),t.a.createElement("path",{d:"M174.909 23.2381C176.348 23.2381 177.514 22.0718 177.514 20.6332C177.514 19.1946 176.348 18.0283 174.909 18.0283C173.471 18.0283 172.305 19.1946 172.305 20.6332C172.305 22.0718 173.471 23.2381 174.909 23.2381Z",fill:"white"}))),t.a.createElement("g",{fill:"#b1b1b1",className:"prudent_pigeon__starfield"},t.a.createElement("path",{className:"prudent_pigeon__moon prudent_pigeon__star--pink",d:"m227.501 30.2019c-1.496-.9577-3.159-1.6059-4.896-1.908 1.573 2.2389 2.463 4.9084 2.556 7.6688.094 2.7604-.614 5.4869-2.032 7.8328-1.418 2.3458-3.483 4.2049-5.931 5.3407-2.449 1.1358-5.171 1.497-7.82 1.0376 1.171 1.6679 2.686 3.0483 4.438 4.0421 1.751.9938 3.695 1.5762 5.691 1.7054 1.997.1292 3.996-.1981 5.855-.9584 1.858-.7602 3.53-1.9345 4.895-3.4383 1.364-1.5039 2.388-3.3 2.997-5.2592.609-1.9591.788-4.0327.525-6.0716-.264-2.0389-.964-3.9924-2.049-5.72-1.085-1.7277-2.53-3.1866-4.229-4.2719z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--yellow",d:"m76.4083 34.0076c2.8991 0 5.2492-2.4165 5.2492-5.3973 0-2.9809-2.3501-5.3974-5.2492-5.3974s-5.2492 2.4165-5.2492 5.3974c0 2.9808 2.3501 5.3973 5.2492 5.3973z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--yellow",d:"m102.609 44.9104c1.253 0 2.269-1.0445 2.269-2.3331s-1.016-2.3332-2.269-2.3332-2.269 1.0446-2.269 2.3332 1.016 2.3331 2.269 2.3331z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--pink",d:"m45.6086 52.2005c.8883 0 1.6085-.7405 1.6085-1.654 0-.9134-.7202-1.6539-1.6085-1.6539-.8884 0-1.6086.7405-1.6086 1.6539 0 .9135.7202 1.654 1.6086 1.654z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--pink",d:"m82.4441 68.1647c2.0608 0 3.7315-1.7178 3.7315-3.8367 0-2.119-1.6707-3.8368-3.7315-3.8368s-3.7315 1.7178-3.7315 3.8368c0 2.1189 1.6707 3.8367 3.7315 3.8367z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--pink",d:"m118.765 22.6735c2.061 0 3.731-1.7178 3.731-3.8368 0-2.1189-1.67-3.8367-3.731-3.8367s-3.732 1.7178-3.732 3.8367c0 2.119 1.671 3.8368 3.732 3.8368z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--pink",d:"m200.302 64.095c.888 0 1.609-.7405 1.609-1.6539 0-.9135-.721-1.654-1.609-1.654s-1.609.7405-1.609 1.654c0 .9134.721 1.6539 1.609 1.6539z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--yellow",d:"m221.637 78.8336c2.061 0 3.731-1.7177 3.731-3.8367s-1.67-3.8367-3.731-3.8367-3.732 1.7177-3.732 3.8367 1.671 3.8367 3.732 3.8367z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--yellow",d:"m245.352 44.2239c.888 0 1.608-.7405 1.608-1.6539 0-.9135-.72-1.654-1.608-1.654-.889 0-1.609.7405-1.609 1.654 0 .9134.72 1.6539 1.609 1.6539z"}),t.a.createElement("path",{className:"prudent_pigeon__star prudent_pigeon__star--yellow",d:"m203.751 25.6175c.888 0 1.608-.7405 1.608-1.654 0-.9134-.72-1.6539-1.608-1.6539-.889 0-1.609.7405-1.609 1.6539 0 .9135.72 1.654 1.609 1.654z"}))))}h(f,"PrudentPigeonDark"),f.displayName="PrudentPigeonDark";var r=f;function m(u){let{theme:d="light"}=u;const p=d==="dark",[v,g]=Object(n.useState)(!0),O=Object(a.default)("p-message_pane_modal_pigeon__header",{"p-message_pane_modal_pigeon__header--dark":p,on:v}),b=h(()=>{g(!1),setTimeout(()=>{g(!0)},10)},"handleMouseEnterOrClick");return t.a.createElement(s.i,{className:O},p?t.a.createElement(r,{handleMouseEnterOrClick:b}):t.a.createElement(o,{handleMouseEnterOrClick:b}))}h(m,"MessagePaneModalPigeon"),m.displayName="MessagePaneModalPigeon";var c=i.a=m},"9wj1":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),s=e("3l96"),l=e("+kJ4"),o=e("T1zM"),f=e("nNoG"),r=e("YUBf"),m=e("3V+Q"),c=e("Ws5+"),u=e("qDEp"),d=e("Tevt");const p=new f.b("message"),v=h(y=>{let{url:C,text:_,onClose:j,updateSuppressLinkWarning:E}=y;const[M,T]=Object(n.useState)(!1),P=_.length>25?`${_.substr(0,25)}\u2026`:_,B=C.length>50?`${C.substr(0,50)}\u2026`:C,R=p.t("Double-check this link"),U=p.rt("The link <label></label> is taking you to another site: <url></url>. Are you sure you want to continue?",null,A=>{let{tag:x}=A;return x==="label"?t.a.createElement(d.a,{href:C,onClick:j},P):t.a.createElement(d.a,{href:C,onClick:j},B)}),K=p.t("Continue"),V=p.t("Don\u2019t show this again"),z=Object(n.useCallback)(A=>{T(A.target.checked)},[]),N=Object(n.useCallback)(()=>{M&&E(),j()},[j,M,E]);return t.a.createElement(r.a,{closeModal:j,isOpen:!0,centered:!0},t.a.createElement(r.i,null,t.a.createElement(r.l,{title:R})),t.a.createElement(r.d,null,t.a.createElement(r.e,null,t.a.createElement("p",{className:"break_word"},U),t.a.createElement("p",null,t.a.createElement(m.b,{text:V,type:"inline",cursor:"pointer",className:"normal"},t.a.createElement(c.a,{id:"suppress_link_warning",name:"suppress_link_warning",value:M.toString(),checked:!!M,onChange:z}))))),t.a.createElement(r.g,null,t.a.createElement(r.h,null,t.a.createElement(r.c,{type:"outline"},"Cancel"),t.a.createElement(u.f,{type:"danger",href:C,onClick:N},K))))},"SuspiciousLinkWarning");v.displayName="SuspiciousLinkWarning";var g=v;const O=Object(a.c)("Display a warning when clicking a suspicious link",(y,C,_)=>{let{text:j,url:E}=_;const M=t.a.createElement(g,{text:j,url:E,onClose:()=>{y(Object(l.a)())},updateSuppressLinkWarning:()=>{y(Object(o.f)({pref:"suppress_link_warning",value:!0}))}});y(Object(s.a)({element:M}))});O.meta={name:"createThunk",key:"createThunkopenSuspiciousLinkDialog",description:"Display a warning when clicking a suspicious link"};var b=i.a=O},ANTO:function(J,i,e){"use strict";e.d(i,"a",function(){return z});var n=e("7EGn"),t=e("F294"),a=e("dmdh"),s=e("xwCZ"),l=e("pu3F"),o=e("Nnn3"),f=e("QLhP"),r=e("x6tY"),m=e("+l5E"),c=e("E3dU"),u=e("GNR7"),d=e("E97Y"),p=e("3vtZ"),v=e("nNoG"),g=e("ejLy");const O=new v.b("huddles");var y=h(N=>{let{msg:A,state:x,roomId:k}=N;var F;const L=Object(c.d)(x,A.channel),S=Object(d.g)(L),I=Object(d.i)(L)||S;let W=O.t("Huddles");const D=Object(p.D)({state:x,roomId:k}),H=Object(u.G)(x,k),Z=Object(u.p)(x,k),G=Object(u.n)(x,k),te=Z.length+G.length,se=(F=Object(u.x)(x,k))===null||F===void 0?void 0:F.trim();if(D&&!H)if(se){var $;W=($=O.rt("{huddleTopic} is happening",{huddleTopic:se}).props)===null||$===void 0?void 0:$.children}else if(!I||te===0)W=O.t("A huddle is happening");else{const Y=Z.slice(0,2),ee=G.slice(0,2);let w,ne;Y.forEach(ae=>{w?ne||(ne=Object(g.a)(x,ae)):w=Object(g.a)(x,ae)}),ee.forEach(ae=>{w?ne||(ne=ae):w=ae}),W=O.t("{participants, plural, =0 {{firstParticipant} is} =1 {{firstParticipant} and {secondParticipant} are} other {{firstParticipant} and # others are}} in the huddle.",{participants:te-1,firstParticipant:w,secondParticipant:ne})}if(D&&H)if(se){var X;W=(X=O.rt("You joined {huddleTopic}",{huddleTopic:se}).props)===null||X===void 0?void 0:X.children}else W=O.t("You joined the huddle");if(!D)if(se){var q;W=(q=O.rt("{huddleTopic} happened",{huddleTopic:se}).props)===null||q===void 0?void 0:q.children}else W=O.t("A huddle happened");return W},"HuddleMessageUserName"),C=e("sgFo"),_=e("9Gfp");const j=new v.b("huddles");var M=h(N=>{let{schedule:A,state:x}=N;var k;if(!Object(C.J)(x)||!A)return null;const S=Object(_.a)(x)===A.inviter_user_id;var I;const W=Object(g.a)(x,(I=A.inviter_user_id)!==null&&I!==void 0?I:""),D=j.rt("You scheduled a huddle"),H=j.rt("{memberName} scheduled a huddle",{memberName:W});let Z=S?D:H;const G=A.topic;if(G){const te=j.rt("You scheduled {huddleTopic}",{huddleTopic:G}),se=j.rt("{memberName} scheduled {huddleTopic}",{memberName:W,huddleTopic:G});Z=S?te:se}return(k=Z.props)===null||k===void 0?void 0:k.children},"ScheduledHuddleUserName");const T=new v.b("huddles");var B=h(N=>{let{schedule:A,state:x}=N;if(!Object(C.J)(x))return"";let F=T.t("A scheduled huddle is canceled");const L=A==null?void 0:A.topic;return L&&(F=T.t("Scheduled huddle {huddleTopic} has been canceled",{huddleTopic:L})),F},"DeleteScheduledHuddleUserName"),R=e("EAKl"),U=e("8gWv"),K=e("JQ3U"),V=e("UIhb");function z(N,A,x){let k=A.user||Object(n.a)(A,"comment.user");const F=A.document_comment;F&&(F.most_recent_editor?k=F.most_recent_editor:F.authors&&F.authors.length>0&&(k=F.authors[0]));const L=A.username;let S=null;const I=A.file||Object(t.a)(A.files),W=x||(I?Object(a.e)(N,I):null);let D=A.bot_id||W&&W.bot_id;if(!D){const q=Object(s.g)(N,k);var H;D=(H=Object(o.a)(N,q))!==null&&H!==void 0?H:void 0}let Z=null;D&&(S=Object(f.b)(N,D),Z=S?S.app_id:null);const G=Object(U.b)(N),te=Object(R.a)(N);if(Object(m.ib)(A)){const q=A.room_id,Y=Object(p.D)({state:N,roomId:q});return{username:y({msg:A,state:N,roomId:q}),isHuddleMsg:!0,isHuddleLive:Y}}if(te&&(A==null?void 0:A.subtype)==="ai")return{username:"Slack AI",isHuddleMsg:!0};if(G&&Object(K.b)(A))return{username:"Assistant",isAssistantThread:!0};if(G&&(A!=null&&A.thread_ts)&&(A==null?void 0:A.user)==="USLACKBOT"&&Object(K.b)(Object(V.b)(N,A==null?void 0:A.channel,A==null?void 0:A.thread_ts)))return{username:"Assistant",isAssistantThread:!0};if(Object(m.zb)(A)){const q=Object(C.J)(N);var se;const Y=(se=A.schedule)!==null&&se!==void 0?se:null;return{username:q?M({schedule:Y,state:N}):"Huddle was scheduled",isScheduledHuddleMsg:!0}}if(Object(m.yb)(A)){const q=Object(C.J)(N);var $;const Y=($=A.schedule)!==null&&$!==void 0?$:null;return{username:q?B({schedule:Y,state:N}):"Scheduled Huddle was deleted",isDeleteScheduledHuddleMsg:!0}}if(Object(m.pb)(A)){var X;return{userId:(X=A.list_edit)===null||X===void 0?void 0:X.created_by,isListEditMsg:!0}}return Object(K.c)(A)?{username:"Canvas updated"}:k===l.W&&W&&W.bot_id?W.filetype==="email"&&S&&S.name?{...Object(r.H)(W),botId:D,appId:Z}:{...Object(r.H)(W),username:L||W.username,botId:D,appId:Z}:k?{appId:Z,botId:D,userId:k}:{appId:Z,botId:D,username:L}}h(z,"getMsgSenderEntity")},ASdn:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("zxER"),l=e("nNoG"),o=e("9Gfp"),f=e("se5Z"),r=e("qDEp"),m=e("7nKM"),c=e("oEDn"),u=e("0VB0"),d=e("4ALb"),p=e("RVJP");const v=h(U=>Object(p.d)(U,"file_consistency")==="treatment","isFileConsistencyEnabled");var g=e("2dIn"),O=e("pFNT"),b=e("N8ug"),y=e("xPkT");const C=h(U=>{let{waveformData:K,className:V}=U;return t.a.createElement(b.a,null,z=>{let{width:N,measureRef:A}=z;const x=N-N%3,k=x%6?x:x-3,F=(k+3)/6,L={width:`${k}px`};let S;return N>0&&k>0&&F>0&&(S=t.a.createElement(y.a,{style:L,className:"c-audio_player_scrubber__waveform",data:K.slice(0,F).map(I=>I/100),width:F})),t.a.createElement("div",{className:Object(a.default)("full_width",V),ref:A},S)})},"AudioWaveformContained");C.displayName="AudioWaveformContained";var _=C;const j=h(U=>{let{waveformData:K,userId:V}=U;return t.a.createElement("div",{className:"p-audio_avatar_with_waveform"},t.a.createElement(_,{className:"p-audio_avatar_with_waveform__waveform",waveformData:K}),t.a.createElement(O.c,{size:100,userId:V,isInteractive:!1,className:"p-audio_avatar_with_waveform__avatar"}))},"AudioAvatarWithWaveform");j.displayName="AudioAvatarWithWaveform";var E=j,M=e("i5Ig");const T=new l.b("stories_av");function P(U){let{file:K,msg:V,className:z,ariaLabel:N,useUserAvatarAudioThumb:A,jumpToTimeMs:x,onClick:k,"data-qa":F}=U;const L=Object(s.c)(o.a),S=Object(s.c)(v),I=!K||Object(f.a)(K),W=A&&(K==null?void 0:K.audio_wave_samples)&&(K==null?void 0:K.user),D=x?Object(m.a)(Math.round(x/1e3)):null,H=(V==null?void 0:V.user)||(K==null?void 0:K.user)||L,Z=Object(d.f)(H);var G;const te=(G=K==null?void 0:K.thumb_video_ts)!==null&&G!==void 0?G:K==null?void 0:K.thumb_video,se={backgroundImage:!I&&te?`url(${te})`:void 0,backgroundColor:I&&!W?Object(u.r)(Z,.2):void 0},$=k?r.d:"div";return t.a.createElement($,{className:Object(a.default)("p-media_file_thumbnail",{"p-media_file_thumbnail--jump-to":!!x},z),"aria-label":N,onClick:k,"data-qa":F},t.a.createElement("div",{className:Object(a.default)("p-media_file_thumbnail__thumb",{"p-media_file_thumbnail__thumb_bottom":S}),style:se},W&&t.a.createElement(E,{waveformData:(K==null?void 0:K.audio_wave_samples)||M.a,userId:(K==null?void 0:K.user)||""}),I&&!W&&t.a.createElement(g.a,{color:Z,className:"p-media_file_thumbnail__audio_waves"})),t.a.createElement("div",{className:Object(a.default)("p-media_file_thumbnail__overlay",{"p-media_file_thumbnail__overlay_inverted":S})}),t.a.createElement(c.a,{className:"p-media_file_thumbnail__play_icon",type:"play-filled"}),!!x&&t.a.createElement("div",{className:"p-media_file_thumbnail__jump_button"},D?T.t("Jump to {time}",{time:D}):`Jump to ${D}`))}h(P,"MediaFileThumbnail"),P.displayName="MediaFileThumbnail";var B=P,R=i.a=B},AcWU:function(J,i,e){"use strict";var n=e("Lgge"),t=e("n3tL"),a=e("Yauy"),s=e("SQ0V"),l=e("THtN"),o=e("E3dU"),f=e("Fqb6");const r=Object(s.c)("Join a channel (if necessary)",function(m,c){let{channelId:u}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!u)return n.a.reject(new Error('missing required "channelId" param'));const d=c(),p=Object(o.d)(d,u);return Object(a.db)(p)?n.a.resolve():m(Object(l.a)({channelId:u})).tap(v=>{v!=null&&v.channel&&m(Object(f.a)({channel:v.channel,reason:"joinChannel"}))})});r.meta={name:"createThunk",key:"createThunkjoinChannel",description:"Join a channel (if necessary)"},r.propTypes={channelId:t.default.string.isRequired},i.a=r},Afhz:function(J,i,e){"use strict";e.d(i,"c",function(){return n}),e.d(i,"e",function(){return t}),e.d(i,"b",function(){return a}),e.d(i,"a",function(){return s}),e.d(i,"d",function(){return l}),e.d(i,"f",function(){return o});const n=0,t=1,a=2,s=3,l=4,o=100},AiJP:function(J,i,e){"use strict";var n=e("nNoG");const t=new n.b("productivity_emojis"),a=h(()=>({white_check_mark:{description:t.t('Let others know this task is done with a "{emoji}"',{emoji:t.t("white check mark")}),title:t.t("Completed")},eyes:{description:t.t('Let others know you\u2019re looking into this with "{emoji}"',{emoji:t.t("eyes")}),title:t.t("Taking a look")},raised_hands:{description:t.t('Say good job to someone with "{emoji}"',{emoji:t.t("raised hands")}),title:t.t("Nicely done")},pray:{description:t.t('Show your gratitude with "{emoji}"',{emoji:t.t("pray")}),title:t.t("Thank you")},heavy_plus_sign:{description:t.t('Show you agree with "{emoji}"',{emoji:t.t("heavy plus sign")}),title:t.t("I agree")},clap:{description:t.t('Give a round of applause with "{emoji}"',{emoji:t.t("clap")}),title:t.t("Round of applause")},bulb:{description:t.t('Show you think this is a good idea with "{emoji}"',{emoji:t.t("bulb")}),title:t.t("Great idea")},dart:{description:t.t('Let others know they\u2019re on the right track with "{emoji}"',{emoji:t.t("dart")}),title:t.t("Exactly")},wave:{description:t.t('Say hello with "{emoji}"',{emoji:t.t("wave")}),title:t.t("Hello")},thumbsup:{description:t.t('Express your approval with a "{emoji}"',{emoji:t.t("thumbs up")}),title:t.t("Sounds good")},tada:{description:t.t('Celebrate great work or news with "{emoji}"',{emoji:t.t("tada")}),title:t.t("Celebrate")},one:{description:t.t("Vote for option 1"),title:t.t("Option 1")},two:{description:t.t("Vote for option 2"),title:t.t("Option 2")},three:{description:t.t("Vote for option 3"),title:t.t("Option 3")},mega:{description:t.t('When sharing an important message, use "{emoji}"',{emoji:t.t("mega")}),title:t.t("Announcement")},white_circle:{description:t.t("White circle indicates low importance"),title:t.t("Low priority request")},large_blue_circle:{description:t.t("Blue circle indicates medium importance"),title:t.t("Medium priority request")},red_circle:{description:t.t("Red circle indicates high importance"),title:t.t("Urgent request")}}),"productivityEmojisList");i.a=a},Atrf:function(J,i,e){"use strict";var n=e("8HWa");i.a=n.b},AutL:function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a});var n=e("ZKjC");const t=Object(n.b)(s=>{var l;return(l=s.canvasCollections)===null||l===void 0?void 0:l.collections});t.meta={name:"createSelector",key:"createSelectorgetCanvasCollections",description:s=>{var l;return(l=s.canvasCollections)===null||l===void 0?void 0:l.collections}};const a=Object(n.b)((s,l)=>s.canvasCollections?s.canvasCollections.collections.indexOf(l)>=0:!1);a.meta={name:"createSelector",key:"createSelectorisCollection",description:(s,l)=>s.canvasCollections?s.canvasCollections.collections.indexOf(l)>=0:!1}},AwEi:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("HiDb"),s=e("yIs4"),l=e("pxG+"),o=e("zmn3"),f=e("fujP"),r=e("ifKl"),m=e("n3tL"),c=e("Cfcg"),u=e("JoR1"),d=e("/XFw"),p=e("9wj1"),v=e("whaK"),g=e("wA9Q"),O=e("RVJP"),b=e("s4P+"),y=e("G5NC"),C=e("AQ1G"),_=e("9Pu8"),j=e("nNoG"),E=e("pDlT"),M=e("K1vi"),T=e("zm5I"),P=e("qzps"),B=e("/qcS"),R=e("nWdO"),U=e("Atrf"),K=e("yH2S"),V=e("U00I"),z=e("7UMc"),N=e("gV07"),A=e("rBXw"),x=e("kakQ"),k=e("Pn4H"),F=e("qt2r");function L(){return L=Object.assign||function(X){for(var q=1;q<arguments.length;q++){var Y=arguments[q];for(var ee in Y)Object.prototype.hasOwnProperty.call(Y,ee)&&(X[ee]=Y[ee])}return X},L.apply(this,arguments)}h(L,"_extends");const S=void 0,I="\u2026.,_-",W=/\ue000|\ue001/,D=new j.b("message"),H=Object(b.b)();let Z=h(class extends n.PureComponent{componentDidMount(){const{onRender:q}=this.props;q==null||q({isTruncated:this.isTruncated()})}componentDidUpdate(){const{onRender:q}=this.props;q==null||q({isTruncated:this.isTruncated()})}render(){const{text:q,className:Y,noJumbomoji:ee,noSpecials:w,customContentHandler:ne,addDirectionAttr:ae,refToForward:de,onMouseEnter:ge,onMouseLeave:le,"data-qa":Q,experimentTsfSnitchGroupOn:ie}=this.props;if(!q)return null;this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0;const oe=w?"NOMRKDWN":this.props.tsfMode,me=this.props.ariaAssertive?"assertive":void 0;let be=Object(M.a)(q,oe,{jumbomoji:!ee,allow_intra_word_formatting:!0});W.test(q)&&(be=Object(a.a)(be,Ue=>Ue.replace(/\ue000/g,"<HIGHLIGHT:START>").replace(/\ue001/g,"<HIGHLIGHT:END>").split(/(<HIGHLIGHT:START>|<HIGHLIGHT:END>)/g).filter(Boolean)));let Se=Object(C.a)(be);ne&&(Se=ne(Se));const Pe=ae?"auto":void 0;return t.a.createElement("span",{className:ie?`c-mrkdwn__snitch ${Y||""}`:Y,ref:de,"aria-live":me,dir:Pe,"data-qa":Q,onMouseEnter:ge,onMouseLeave:le},this.renderMrkdwnFormatting(Se,!0))}constructor(...q){var Y;super(...q),Y=this,this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0,this.handleUserGroupClick=(ee,w)=>{const{onUserGroupClick:ne}=this.props;ee.preventDefault(),ne==null||ne(w)},this.isTruncated=()=>this.numCharactersUsed>=this.props.maxCharacters||this.numNewlinesUsed>=this.props.maxNewlines,this.nextKey=()=>(this.uid+=1,this.uid),this.renderBold=ee=>{let{contents:w}=ee;const ne=Object(j.m)()==="ja-JP"?"\uFF0A":"*",ae=Object(y.a)()?{"data-stringify-type":"bold"}:{"data-stringify-prefix":ne,"data-stringify-suffix":ne,"data-stringify-requires-siblings":!0};return t.a.createElement("b",L({key:this.nextKey()},ae),this.renderMrkdwnFormatting(w))},this.renderChannel=ee=>{let{id:w="",name:ne=""}=ee;const{noLinking:ae,clogLinkClick:de}=this.props;return this.numCharactersUsed+=(ne||w).length+1,t.a.createElement(V.a,{key:this.nextKey(),id:w,noLinking:ae,clogLinkClick:de})},this.renderCode=ee=>{let{contents:w}=ee;if(this.props.noCode)return t.a.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(w));const ne=Object(j.m)()==="ja-JP"?"\uFF40":"`",ae=Object(y.a)()?{"data-stringify-type":"code"}:{"data-stringify-prefix":ne,"data-stringify-suffix":ne,"data-stringify-requires-siblings":!0};return t.a.createElement(K.a,{blockType:"code",key:this.nextKey()},t.a.createElement(K.b,null,t.a.createElement("code",L({key:this.nextKey(),className:"c-mrkdwn__code"},ae),this.renderMrkdwnFormatting(w))))},this.renderCommand=ee=>{let{data:w}=ee;const{type:ne,label:ae,...de}=w,{noHighlights:ge,noLinking:le,do24hrTime:Q}=this.props;switch(ne){case"here":case"channel":case"everyone":case"group":return this.numCharactersUsed+=ne.length+1,t.a.createElement(z.a,L({},de,{key:this.nextKey(),type:ne,noHighlights:ge,noLinking:le}));case"subteam":return this.numCharactersUsed+=(ae||ne).length,t.a.createElement(N.a,L({},de,{key:this.nextKey(),fallback:ae,noHighlights:ge,noLinking:le,onClick:this.handleUserGroupClick}));case"date":return this.numCharactersUsed+=(ae||ne).length,t.a.createElement(A.a,L({},de,{key:this.nextKey(),fallback:ae,do24hrTime:Q}));default:return S}},this.renderEmoji=ee=>{let{name:w=""}=ee;const{showTooltips:ne,stopAnimations:ae,emojiDisplayInfo:de,emojiSize:ge=B.a.MEDIUM,isEmojiInlineWithText:le,iconInTextMode:Q,sourceTeamId:ie}=this.props;this.numCharactersUsed+=1;const{name:oe=w,url:me=void 0}=Object(g.a)(w,de);return t.a.createElement(B.b,{key:this.nextKey(),text:oe,emojiSize:ge,showTooltip:ne,stopAnimations:ae,iconInTextMode:Q,sourceTeamId:ie,isEmojiInlineWithText:le,url:me})},this.renderHardSpace=ee=>this.props.customLineEnding?"\xA0":["\xA0",t.a.createElement("wbr",{key:this.nextKey()})],this.renderHex=ee=>{let{color:w=""}=ee;const{noHexColors:ne}=this.props;return this.numCharactersUsed+=w.length,ne?null:t.a.createElement("div",{key:this.nextKey(),className:"c-mrkdwn__hex",style:{background:w}})},this.renderHighlight=ee=>t.a.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__mention"},ee),this.renderHighlightMarkers=ee=>{let{contents:w}=ee;return t.a.createElement("span",{className:"c-mrkdwn__highlight",key:this.nextKey()},this.renderMrkdwnFormatting(w))},this.renderHighlights=(ee,w)=>{let{text:ne=""}=ee;const{highlights:ae,noHighlights:de,maxCharacters:ge}=this.props,{isLastItem:le}=w;if(Object(s.a)(ge)&&this.numCharactersUsed<ge){const be=ge-this.numCharactersUsed;if(be<ne.length||be===ne.length&&!le){const Se=Object(l.a)(Object(l.a)(ne.slice(0,be)),I);return this.numCharactersUsed=ge,[this.renderHighlights({text:Se},w),"\u2026"]}this.numCharactersUsed+=ne.length}if(!ne||!ae||de)return Object(E.a)(ne);const Q=Object(_.d)(ae),ie=Object(_.b)(ne,Q),oe=[];let me=0;if(ie.forEach(be=>{let{index:Se,length:Pe}=be;const Ue=Object(E.a)(ne.slice(me,Se));oe.push(Ue);const Fe=Object(E.a)(ne.substr(Se,Pe));oe.push(this.renderHighlight(Fe)),me=Se+Pe}),me!==ne.length){const be=Object(E.a)(ne.slice(me));oe.push(be)}return oe},this.renderItalic=ee=>{let{contents:w}=ee;const ne=Object(j.m)()==="ja-JP"?"\uFF3F":"_",ae=Object(y.a)()?{"data-stringify-type":"italic"}:{"data-stringify-prefix":ne,"data-stringify-suffix":ne,"data-stringify-requires-siblings":!0};return t.a.createElement("i",L({key:this.nextKey()},ae),this.renderMrkdwnFormatting(w))},this.renderJumbomoji=ee=>{let{name:w}=ee;const{showTooltips:ne,stopAnimations:ae,sourceTeamId:de}=this.props;return this.numCharactersUsed+=1,t.a.createElement(B.b,{key:this.nextKey(),text:w,emojiSize:B.a.LARGE,showTooltip:ne,stopAnimations:ae,sourceTeamId:de})},this.renderLineBreak=()=>{const{customLineEnding:ee}=this.props,w=t.a.createElement("br",{key:this.nextKey()});return this.numNewlinesUsed+=1,ee?[t.a.createElement("span",{key:this.nextKey()},ee),w]:w},this.onMaybeOpenSuspiciousLinkDialog=(ee,w)=>{let{url:ne="",contents:ae=[]}=w;const{onOpenSuspiciousLinkDialog:de,suppressLinkWarningPref:ge}=this.props;if(ge)return;const le=h(me=>me!=null&&me.text?me.text:me!=null&&me.name?me.name:me!=null&&me.contents?me.contents.map(le):"","textFromContents"),Q=ae.map(le).join(""),ie=Q.replace(/&amp;/g,"&"),oe=ne.replace(/&amp;/g,"&");Object(P.b)(Q,ne)&&(de==null||de({text:ie,url:oe}),ee.preventDefault())},this.renderLink=ee=>{let{url:w="",contents:ne=[]}=ee;const{doSlackActionLinks:ae,noLinking:de,origin:ge,memberId:le,clogLinkClick:Q,explicitlyRenameBotLink:ie,isFromAppHome:oe}=this.props;return t.a.createElement(x.a,{key:this.nextKey(),url:w,noLinking:de,doSlackActionLinks:ae,origin:ge,memberId:le,clogLinkClick:Q,explicitlyRenameBotLink:ie,showTooltip:!0,maybeOpenSuspiciousLinkDialog:me=>{this.onMaybeOpenSuspiciousLinkDialog(me,{url:w,contents:ne})},isFromAppHome:oe},this.renderMrkdwnFormatting(ne))},this.renderLongQuotePrefix=()=>Object(y.a)()?null:t.a.createElement("span",{key:this.nextKey(),className:"copy_only"},">>>"),this.renderMember=ee=>{let{id:w="",fallback:ne}=ee;const{noHighlights:ae,noLinking:de,showTooltips:ge,clogLinkClick:le,clientTheme:Q,forceRealNames:ie,supressMentionAtSymbol:oe}=this.props;return this.numCharactersUsed+=w.length,t.a.createElement(U.a,{key:this.nextKey(),forceRealNames:ie,id:w,fallback:ne,showTooltip:ge,noHighlights:ae,noLinking:de,clogLinkClick:le,clientTheme:Q,supressMentionAtSymbol:oe})},this.renderMrkdwnFormatting=function(ee){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{customFormatHandler:ne}=Y.props;return Object(o.a)(ee,(ae,de)=>{if(Y.isTruncated())return!1;const ge=ae.type,le=ge&&Y.FORMAT_HANDLERS[ge]||Y.renderHighlights,Q=h(()=>{const oe=Boolean(w&&ee&&de===ee.length-1);return le(ae,{index:de,isLastItem:oe})},"getDefaultOutput");let ie;try{ne?(ie=ne({item:ae,getDefaultOutput:Q}),t.a.isValidElement(ie)&&(ie=t.a.cloneElement(ie,{key:Y.nextKey()}))):ie=Q()}catch(oe){H.error(oe)}return ie===S&&(ie=Y.renderUnknownItem(ae)),ie})},this.renderParagraphBreak=()=>{const{customLineEnding:ee}=this.props;return ee?this.renderLineBreak():Object(y.a)()?t.a.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br","data-stringify-type":"paragraph-break"}):t.a.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br"},t.a.createElement("i",{className:"copy_only"},t.a.createElement("br",null)))},this.renderPre=(ee,w)=>{let{contents:ne}=ee,{index:ae}=w;if(this.props.noCode)return this.renderUnformattedBlock({contents:ne,index:ae});const de=Object(j.m)()==="ja-JP"?"\uFF40\uFF40\uFF40":"```",ge=Object(y.a)()?{"data-stringify-type":"pre"}:{"data-stringify-prefix":de,"data-stringify-suffix":de,"data-stringify-requires-siblings":!0};return t.a.createElement(K.a,{blockType:"codeBlock"},t.a.createElement(K.b,null,t.a.createElement("pre",L({key:this.nextKey(),className:"c-mrkdwn__pre"},ge),this.renderMrkdwnFormatting(ne))))},this.renderQuote=(ee,w)=>{let{contents:ne}=ee,{index:ae}=w;if(this.props.noQuotes)return this.renderUnformattedBlock({contents:ne,index:ae});const de={};if(Object(y.a)()&&!Object(f.a)(ne)){const ge=(ne==null?void 0:ne[0].type)==="long_quote_prefix"?"blockquote":"quote";de["data-stringify-type"]=ge}return t.a.createElement("blockquote",L({key:this.nextKey(),className:"c-mrkdwn__quote"},de),this.renderMrkdwnFormatting(ne))},this.renderQuotePrefix=()=>Object(y.a)()?null:t.a.createElement("span",{key:this.nextKey(),className:"copy_only"},">"),this.renderStrike=ee=>{let{contents:w}=ee;const ne=Object(y.a)()?{"data-stringify-type":"strike"}:{"data-stringify-prefix":"~","data-stringify-suffix":"~","data-stringify-requires-siblings":!0};return t.a.createElement("strike",L({key:this.nextKey()},ne),this.renderMrkdwnFormatting(w))},this.renderUnformattedBlock=ee=>{let{contents:w,index:ne}=ee;const ae=t.a.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(w));if(ne===0)return ae;const de=this.renderLineBreak();return this.isTruncated()?de:[de,ae]},this.renderUnknownItem=ee=>{let{token:w}=ee;const{showTooltips:ne}=this.props;return ne?t.a.createElement(R.c,{key:this.nextKey(),tip:D.t("Sorry! This part didn\u2019t render correctly.")},t.a.createElement("code",{className:"sk_primary_foreground"},w)):t.a.createElement("code",{key:this.nextKey(),className:"sk_primary_foreground"},w)},this.FORMAT_HANDLERS={bold:this.renderBold,italic:this.renderItalic,strike:this.renderStrike,code:this.renderCode,pre:this.renderPre,quote:this.renderQuote,quote_prefix:this.renderQuotePrefix,long_quote_prefix:this.renderLongQuotePrefix,line_break:this.renderLineBreak,paragraph_break:this.renderParagraphBreak,space_hard:this.renderHardSpace,link:this.renderLink,command:this.renderCommand,member:this.renderMember,channel:this.renderChannel,emoji:this.renderEmoji,jumbomoji:this.renderJumbomoji,hex:this.renderHex,highlight:this.renderHighlightMarkers,unknown:this.renderUnknownItem}}},"BaseMrkdwn");Z.displayName="BaseMrkdwn",Z.defaultProps={text:"",tsfMode:"NORMAL",highlights:"",emojiMode:"default",emojiDisplayInfo:{},emojiSize:void 0,isEmojiInlineWithText:!0,do24hrTime:!1,suppressLinkWarningPref:!1,noJumbomoji:!1,noLinking:!1,noSpecials:!1,noHighlights:!1,noEmojiText:!1,iconInTextMode:void 0,noHexColors:!1,noCode:!1,noQuotes:!1,preventCopyPaste:!1,transformMissingEmoji:!1,showIconForEmojiInAsTextMode:!1,stopAnimations:!1,customLineEnding:"",showTooltips:!0,doInlineImages:!1,doSlackActionLinks:!1,origin:void 0,memberId:void 0,sourceTeamId:void 0,customFormatHandler:void 0,customContentHandler:void 0,clogLinkClick:r.a,addDirectionAttr:!0,ariaAssertive:void 0,maxCharacters:1/0,maxNewlines:1/0,onRender:r.a,onMouseEnter:r.a,onMouseLeave:r.a,explicitlyRenameBotLink:!1,onUserGroupClick:r.a,onOpenSuspiciousLinkDialog:r.a,clientTheme:"light",refToForward:void 0,"data-qa":void 0,isExpandableStateKnown:!1,isExpanded:!1,experimentTsfSnitchGroupOn:!1,isFromAppHome:!1,forceRealNames:!1,supressMentionAtSymbol:!1,useUserNamePrefs:!1};const G=h((X,q)=>{const{emojiMode:Y,noHexColors:ee,noJumbomoji:w,useUserNamePrefs:ne}=q,ae=Y||Object(v.a)(X),de=Object(d.a)(X);return{emojiMode:ae,noJumbomoji:w||!de,highlights:Object(u.u)(X,"highlight_words"),noHexColors:ee||Object(u.u)(X,"hide_hex_swatch"),do24hrTime:Object(u.u)(X,"time24"),suppressLinkWarningPref:Object(u.u)(X,"suppress_link_warning"),clientTheme:Object(T.a)(X),experimentTsfSnitchGroupOn:Object(O.d)(X,"tsf_snitch")==="on",forceRealNames:ne&&Object(F.b)(X)}},"mapStateToProps"),te=h(X=>({onUserGroupClick:q=>X(Object(k.a)({groupId:q})),onOpenSuspiciousLinkDialog:q=>{let{text:Y,url:ee}=q;return X(Object(p.a)({text:Y,url:ee}))}}),"mapDispatchToProps"),se=Object(c.a)(G,te)(Z);se.propTypes={emojiMode:m.default.string,highlights:m.default.string,noHexColors:m.default.bool,emojiDisplayInfo:m.default.object},se.defaultProps={emojiMode:void 0,highlights:void 0,noHexColors:!1,emojiDisplayInfo:{}};var $=i.a=se},Awek:function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(t){return!!(t&&t.attributes&&t.attributes.blockquote)}h(n,"isOpBlockQuoteItem")},AzV5:function(J,i,e){"use strict";var n=e("n3tL"),t=e("SQ0V"),a=e("mM05"),s=e.n(a),l=e("Rw2D"),o=e("9avG");const f=Object(t.c)("Converts message ops array to rich text blocks prepared to be sent as a message",function(r,m){let{msgOps:c,channelId:u,inThread:d}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p=m();if(!c||!c.length)return;const{processedDelta:v}=Object(l.a)(p,{channelId:u,inThread:d,delta:new s.a(c)})||{},g=Object(o.b)({delta:v,state:p});return g&&g.blocks});f.meta={name:"createThunk",key:"createThunkconverMsgOpsToRichTextMessage",description:"Converts message ops array to rich text blocks prepared to be sent as a message"},f.propTypes={msgOps:n.default.array,channelId:n.default.string,inThread:n.default.bool},i.a=f},"B+Mk":function(J,i,e){"use strict";e.d(i,"a",function(){return n}),e.d(i,"d",function(){return a}),e.d(i,"b",function(){return s}),e.d(i,"c",function(){return l}),e.d(i,"e",function(){return o});function n(f){return f&&f.file}h(n,"getPendingFileFileObject");function t(f){return f&&f.percentComplete}h(t,"getPendingFilePercentComplete");function a(f){return f&&f.status}h(a,"getPendingFileStatus");function s(f){return f&&f.pendingFileId}h(s,"getPendingFilePendingFileId");function l(f){return f&&f.persistedFileId}h(l,"getPendingFilePersistedFileId");function o(f){return f&&f.teamId}h(o,"getPendingFileUploadTeamId")},"B/ED":function(J,i,e){"use strict";e.d(i,"a",function(){return v});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("x6tY"),l=e("dmdh"),o=e("zxER"),f=e("E97Y"),r=e("E3dU"),m=e("RVJP"),c=e("3bXy"),u=e("nNoG"),d=e("J4K5");const p=new u.b("slack-docs"),v=h(g=>{let{id:O,size:b,showIsChannelCanvas:y}=g;const C=Object(o.c)(B=>Object(m.d)(B,"canvas_type_tags")==="on"),_=Object(o.c)(B=>O?Object(l.e)(B,O):void 0),j=_==null?void 0:_.linked_channel_id,E=Object(o.c)(B=>Object(r.d)(B,j)),M=Object(o.c)(B=>Object(s.yb)(_,B)),T=Object(s.h)(_),P=Object(a.default)("p-canvas_templates_title_badge",{"p-canvas_templates_title_badge--size_small":b===c.b.Small,"p-canvas_templates_title_badge--channel_canvas":T});if(M)return t.a.createElement("div",{className:P},t.a.createElement("span",null,p.t("Template")));if(y&&T&&C){let B=p.t("Channel Canvas");return E&&Object(f.h)(E)&&(B=p.t("DM Canvas")),t.a.createElement("div",{className:P},t.a.createElement("span",null,B))}return null},"FileTitleBadge");v.displayName="FileTitleBadge"},B0VD:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("ifKl"),l=e("yIs4"),o=e("wKGu"),f=e("BU52"),r=e("xAZW"),m=e("ktUG"),c=e("dZlw"),u=e("Z44y"),d=e("WSQ4"),p=e("mSgU"),v=e("oSkh"),g=e("8c4t"),O=g.a;function b(I){let{textyHasFocus:W,buttons:D,onFormatButtonClick:H=s.a,supportsAnchorText:Z,activeFormats:G,onMouseDown:te=s.a,overflowVisible:se,onEscape:$=s.a,isDisabled:X=!1,menuItems:q,menuPosition:Y}=I;return t.a.createElement("div",{className:"p-texty_sticky_formatting_bar",onMouseDown:te},t.a.createElement(v.a,{disableHeight:!0},ee=>{let{width:w}=ee;return t.a.createElement(O,{textyHasFocus:W,buttons:D,menuItems:q,menuPosition:Y,activeFormats:G,onFormatButtonClick:H,supportsAnchorText:Z,overflowVisible:se,isSticky:!0,width:w,onEscape:$,isDisabled:X})}))}h(b,"TextyStickyFormattingBar"),b.displayName="TextyStickyFormattingBar";var y=b,C=e("xWuZ");function _(I){return!!I&&I instanceof Node}h(_,"validateEventTargetIsNode");function j(I,W){let D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Object(n.useEffect)(()=>{const H=h(Z=>{!I.current||_(Z.target)&&I.current.contains(Z.target)||D&&Z.which===3||W(Z)},"listener");return document.addEventListener("mousedown",H),document.addEventListener("touchstart",H),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("touchstart",H)}},[I,W,D])}h(j,"useOnClickOutside");var E=e("YnUV"),M=e("wSSu"),T=e("QygJ"),P=e("w3JV"),B=e("gSGL"),R=e("TQ9f"),U=e("0qhH"),K=e("fR2/"),V=e("dA19");function z(I,W){var D,H,Z,G,te,se;if(!((D=I.current)===null||D===void 0)&&D.isInComposition)return!1;const $=(H=I.current)===null||H===void 0?void 0:H.getSelection();if(!$||!$.length)return!1;const X=(Z=I.current)===null||Z===void 0||(G=Z.quill)===null||G===void 0?void 0:G.getModule("tabcomplete");if(X&&X.isMenuOpen()||!((te=I.current)===null||te===void 0?void 0:te.getContentsForRange($.index,$.length)).filter(w=>!!(Object(V.a)(w)&&!Object(R.a)(w)||Object(K.a)(w)||Object(U.a)(w)&&Object(B.a)(w.insert)&&w.insert.trim()!=="")).length)return!1;const ee=((se=I.current)===null||se===void 0?void 0:se.getFormat($.index,$.length))||{};return!(ee.imageSrc||!W&&ee["code-block"])}h(z,"shouldToolbarShow");var N=e("1ufr"),A=e("mQiU");const x=t.a.forwardRef((I,W)=>{let{textyRef:D,isEnabled:H,buttons:Z,menuItems:G,menuPosition:te,onFormatButtonClick:se=s.a,supportsAnchorText:$,activeFormats:X,toolbarPositionData:q,onMouseDown:Y=s.a,openDocsLinkForm:ee=s.a,closeDocsLinkForm:w=s.a,isDocsLinkFormOpen:ne,window:ae,isDisabled:de=!1}=I;const ge=Object(a.useDispatch)(),le=Object(n.useRef)(null),[Q,ie]=Object(n.useState)(!1),{windowId:oe}=Object(n.useContext)(A.a),me=Object(T.a)(Q),be=Object(n.useCallback)(()=>{Q&&(ie(!1),ge(Object(E.a)({isOpen:!1,windowId:oe})),w())},[w,ge,Q,oe]),Se=Object(n.useCallback)(Ue=>{if(Ue&&Ue.length){const Fe=Object(C.a)(Z).includes("code-block"),je=z(D,Fe);ie(je)}},[Z,D]);Object(n.useEffect)(()=>{var Ue;const Fe=(Ue=D.current)===null||Ue===void 0?void 0:Ue.quill;return Fe&&Fe.on("selection-change",Se),()=>{Fe&&Fe.off("selection-change",Se)}},[D,Se]),j(le,()=>{be()},!0),Object(n.useImperativeHandle)(W,()=>({closeToolbar:be})),Object(n.useEffect)(()=>{(!Q||!H)&&w()},[Q,H,w]),Object(n.useEffect)(()=>{if(Q){var Ue,Fe;const je=((Ue=le.current)===null||Ue===void 0?void 0:Ue.offsetWidth)||0,_e=((Fe=le.current)===null||Fe===void 0?void 0:Fe.offsetHeight)||0,{left:pe,top:fe}=Object(P.b)({toolbarHeight:_e,toolbarWidth:je,toolbarPositionData:q}),{style:Ee}=le.current;Ee.visibility="visible",Ee.pointerEvents="auto",me?Math.abs(parseInt(Ee.top,10)-fe)>=20&&(Ee.top=`${fe}px`):(Ee.left=`${pe}px`,Ee.top=`${fe}px`),!pe&&!fe?(Ee.visibility="hidden",Ee.pointerEvents="none",ge(Object(E.a)({isOpen:!1,windowId:oe}))):ge(Object(E.a)({isOpen:!0,windowId:oe}))}},[ge,Q,me,le,q,oe]);const Pe=Object(n.useCallback)(()=>{var Ue;return D==null||(Ue=D.current)===null||Ue===void 0?void 0:Ue.getSelection()},[D]);return!H||!Q?null:Object(M.createPortal)(t.a.createElement("div",{ref:le,className:"p-texty_floating_formatting_bar",onMouseDown:Y},t.a.createElement(O,{quillRef:D,buttons:Z,menuItems:G,menuPosition:te,activeFormats:X,onFormatButtonClick:se,supportsAnchorText:$,getSelection:Pe,onEscape:be,openDocsLinkForm:ee,closeDocsLinkForm:w,isDocsLinkFormOpen:ne,isDisabled:de})),ae.document.body)});var k=Object(N.a)(x),F=e("1m8D");const L=t.a.forwardRef((I,W)=>{let{textyRef:D,textyHasFocus:H,overrideDefaultFormats:Z,overridesDefaultComposerButtons:G,useWorkflowTokens:te,useExpandedRichText:se,supportsAnchorText:$,showLinkForm:X=s.a,activeFormats:q,useStickyComposer:Y,enableStickyComposer:ee,toolbarOverflowVisible:w,setToolbarOverflowVisible:ne=s.a,toolbarPositionData:ae,openDocsLinkForm:de=s.a,closeDocsLinkForm:ge=s.a,isDocsLinkFormOpen:le,isDisabled:Q=!1}=I;const ie=Object(a.useDispatch)(),oe=Object(o.a)(),{window:me}=Object(n.useContext)(d.a);Object(n.useEffect)(()=>()=>{ie(Object(f.a)(void 0))},[ie]);const{buttons:be,menuItems:Se,menuPosition:Pe}=Object(n.useMemo)(()=>Object(F.b)({overrideDefaultFormats:Z,overridesDefaultComposerButtons:G,useWorkflowTokens:!!te,useExpandedRichText:!!se}),[Z,G,se,te]),Ue=Object(n.useCallback)(pe=>{var fe,Ee;const ye=me.document.activeElement;if(!ye||!ye.classList||!ye.classList.contains("ql-editor"))return;const Te=(fe=D.current)===null||fe===void 0||(Ee=fe.quill)===null||Ee===void 0?void 0:Ee.root;Te&&Te.contains(ye)&&pe.preventDefault()},[D,me]),Fe=Object(n.useCallback)((pe,fe)=>{let{source:Ee,applyFormatToEmptySelection:ye}=fe;var Te;if(pe==="overflow"){ne(!w);return}if(ne(!1),pe==="link"){X({source:Ee});return}const Oe=D==null||(Te=D.current)===null||Te===void 0?void 0:Te.getSelection();if(Oe&&(Oe.length||ye)){var Ce,ce;const he=Object(c.a)(D==null||(Ce=D.current)===null||Ce===void 0?void 0:Ce.quill,Oe),{didHandle:Me,addedFormatting:Ae,hadSelection:xe}=Object(r.a)(D==null||(ce=D.current)===null||ce===void 0?void 0:ce.quill,{format:pe,index:Oe.index,length:Oe.length},se);Me&&Object(l.a)(p.a[pe])&&oe.track(Ae?m.EventId.MSG_FORMATTING_ADDED:m.EventId.MSG_FORMATTING_REMOVED,{input_context:Object(u.a)()?m.MsgFormattingInputContext.POST:m.MsgFormattingInputContext.MESSAGE,input_source:Ee,input_format:p.a[pe],is_selection:xe,input_prexisting_block_formats:he})}},[oe,ne,X,D,w,se]),je=Object(n.useCallback)(()=>{ne(!1)},[ne]),_e=Object(n.useCallback)((pe,fe)=>{let{source:Ee}=fe;return Fe(pe,{source:Ee,applyFormatToEmptySelection:!0})},[Fe]);return t.a.createElement(t.a.Fragment,null,!Y&&t.a.createElement(k,{ref:W,isEnabled:!ee||!Y,textyRef:D,buttons:be,menuItems:Se,menuPosition:Pe,activeFormats:q,onFormatButtonClick:_e,supportsAnchorText:!!$,toolbarPositionData:ae,onMouseDown:Ue,openDocsLinkForm:de,closeDocsLinkForm:ge,isDocsLinkFormOpen:!!le,isDisabled:Q}),Y&&t.a.createElement(y,{textyHasFocus:!!H,buttons:be,menuItems:Se,menuPosition:Pe,activeFormats:q,onFormatButtonClick:_e,supportsAnchorText:!!$,onMouseDown:Ue,overflowVisible:!!w,onEscape:je,isDisabled:Q}))});var S=i.a=L},B4kw:function(J,i,e){"use strict";e.d(i,"d",function(){return v}),e.d(i,"f",function(){return g}),e.d(i,"e",function(){return O}),e.d(i,"g",function(){return b}),e.d(i,"a",function(){return y}),e.d(i,"c",function(){return C}),e.d(i,"b",function(){return _});var n=e("SQ0V"),t=e("83nZ"),a=e("NgZ7"),s=e("s4P+"),l=e("5IZy"),o=e("80lu"),f=e("3dye"),r=e("ktUG"),m=e("p/ji"),c=e("oH+m"),u=e("Esa/"),d=e("ZFGU");const p=Object(s.b)({label:"JOINER_LAUNCHPAD"}),v=Object(n.c)("set launchpad recommmendations for channels",(j,E,M)=>{let{recommendedChannelIdList:T,recommendedRequestId:P}=M,B;try{const R=Object(a.a)(E(),m.b);R?B={...JSON.parse(R),[u.a.CHANNELS]:T,[u.a.CHANNEL_RECS_REQUEST_ID]:P}:B={[u.a.CHANNELS]:T,[u.a.CHANNEL_RECS_REQUEST_ID]:P,[u.a.DMS]:[],[u.a.DM_RECS_REQUEST_ID]:"",[u.a.JOINED_CHANNELS]:[]},j(Object(t.a)({pref:m.b,value:JSON.stringify(B),reason:"add_recommended_channels_to_onboarding_pref"}))}catch{p.error("there was an issue setting the channel recommendations on the onboarding pref")}});v.meta={name:"createThunk",key:"createThunksetLaunchpadChannelRecommendations",description:"set launchpad recommmendations for channels"};const g=Object(n.c)("set joined launchpad recommended channels along with the ML feedback clog",(j,E,M)=>{let T;try{const P=Object(a.a)(E(),m.b);if(P){const B=JSON.parse(P),R=[...B[u.a.JOINED_CHANNELS],M].slice(0,c.e);T={...B,[u.a.CHANNELS]:B.channels.filter(K=>K!==M),[u.a.JOINED_CHANNELS]:R};const U=Object(l.a)({state:E()});Object(o.a)({clogger:U,data:{requestId:B[u.a.CHANNEL_RECS_REQUEST_ID],selectedItemId:M,selectedPosition:B[u.a.CHANNELS].indexOf(M),selectedAction:"join"}})}else T={[u.a.CHANNELS]:[],[u.a.CHANNEL_RECS_REQUEST_ID]:"",[u.a.DMS]:[],[u.a.DM_RECS_REQUEST_ID]:"",[u.a.JOINED_CHANNELS]:[M]};j(Object(t.a)({pref:m.b,value:JSON.stringify(T),reason:"add_recommended_joined_channels_to_onboarding_pref"}))}catch{p.error("there was an issue setting the joined channel recommendations on the onboarding pref")}});g.meta={name:"createThunk",key:"createThunksetLaunchpadJoinedChannelRecommendations",description:"set joined launchpad recommended channels along with the ML feedback clog"};const O=Object(n.c)("set launchpad recommmendations for DMs",(j,E,M)=>{let{recommendedDMIdList:T,recommendedRequestId:P}=M,B;try{const R=Object(a.a)(E(),m.b);R?B={...JSON.parse(R),[u.a.DMS]:T,[u.a.DM_RECS_REQUEST_ID]:P}:B={[u.a.CHANNELS]:[],[u.a.CHANNEL_RECS_REQUEST_ID]:"",[u.a.DMS]:T,[u.a.DM_RECS_REQUEST_ID]:P,[u.a.JOINED_CHANNELS]:[]},j(Object(t.a)({pref:m.b,value:JSON.stringify(B),reason:"add_recommended_dms_to_onboarding_pref"}))}catch{p.error("there was an issue setting the DM recommendations on the onboarding pref")}});O.meta={name:"createThunk",key:"createThunksetLaunchpadDMRecommendations",description:"set launchpad recommmendations for DMs"};const b=Object(n.c)("update launchpad recommmendations for recommended joined channels that were removed",(j,E,M)=>{try{const T=Object(a.a)(E(),m.b);if(T){const P=JSON.parse(T);P[u.a.JOINED_CHANNELS].splice(P[u.a.JOINED_CHANNELS].indexOf(M),1),P[u.a.CHANNELS].includes(M)||P[u.a.CHANNELS].push(M),j(Object(t.a)({pref:m.b,value:JSON.stringify(P),reason:"remove_recommended_joined_channels_from_onboarding_pref"}))}}catch{p.error("there was an issue removing joined channel recommendations from the onboarding pref")}});b.meta={name:"createThunk",key:"createThunksetLaunchpadRemovedJoinedChannelRecommendations",description:"update launchpad recommmendations for recommended joined channels that were removed"};const y=Object(n.c)("clog the fact that a recommended launchpad channel was previewed",(j,E,M)=>{try{const T=Object(a.a)(E(),m.b);if(T){const P=JSON.parse(T),B=Object(l.a)({state:E()});Object(o.a)({clogger:B,data:{requestId:P[u.a.CHANNEL_RECS_REQUEST_ID],selectedItemId:M,selectedPosition:P[u.a.CHANNELS].indexOf(M),selectedAction:"preview"}})}}catch{p.error("there was an issue fetching the onboarding pref for clogging recommnded channel preview")}});y.meta={name:"createThunk",key:"createThunkclogLaunchpadChannelPreviewed",description:"clog the fact that a recommended launchpad channel was previewed"};const C=Object(n.c)("clog the fact that a recommended DM was opened",(j,E,M)=>{try{const T=Object(a.a)(E(),m.b);if(T){const P=JSON.parse(T),B=Object(l.a)({state:E()});Object(f.a)({clogger:B,data:{requestId:P[u.a.DM_RECS_REQUEST_ID],selectedItemId:M,selectedPosition:P[u.a.DMS].indexOf(M),selectedAction:"preview"}})}}catch{p.error("there was an issue fetching the onboarding pref for clogging a recommended DM preview")}});C.meta={name:"createThunk",key:"createThunkclogLaunchpadDMPreviewed",description:"clog the fact that a recommended DM was opened"};const _=Object(n.c)("clog the fact that a recommended DM was opened and a first message was sent by the joiner and remove it from the pref",(j,E,M)=>{try{const T=Object(a.a)(E(),m.b);if(T){const P=JSON.parse(T);if(P[u.a.DMS].includes(M)){const B=Object(l.a)({state:E()});Object(f.a)({clogger:B,data:{requestId:P[u.a.DM_RECS_REQUEST_ID],selectedItemId:M,selectedPosition:P[u.a.DMS].indexOf(M),selectedAction:"send"}});const R=Object(m.e)(E());B.track(r.EventId.NEWXP_JOIN_TEAM,Object(d.j)(R)),P[u.a.DMS].splice(P[u.a.DMS].indexOf(M),1),j(Object(t.a)({pref:m.b,value:JSON.stringify(P),reason:"remove_recommended_dm_from_onboarding_pref"}))}}}catch{p.error("there was an issue fetching the onboarding pref for clogging a recommnded DM was messaged by the joiner")}});_.meta={name:"createThunk",key:"createThunkclogLaunchpadDMMessaged",description:"clog the fact that a recommended DM was opened and a first message was sent by the joiner and remove it from the pref"}},B4rO:function(J,i,e){"use strict";e.d(i,"a",function(){return f}),e.d(i,"b",function(){return u});var n=e("ZKjC"),t=e("SQ0V"),a=e("RVJP"),s=e("shU/");const l=Object(n.b)(d=>Object(a.d)(d,"newxp_9937",!1));l.meta={name:"createSelector",key:"createSelectorNewxp9937GetAssignment",description:d=>Object(a.d)(d,"newxp_9937",!1)};const o=Object(n.b)(d=>Object(a.d)(d,"newxp_9937",!1)==="control");o.meta={name:"createSelector",key:"createSelectorNewxp9937IsControl",description:d=>Object(a.d)(d,"newxp_9937",!1)==="control"};const f=Object(n.b)(d=>Object(a.d)(d,"newxp_9937",!1)==="treatment");f.meta={name:"createSelector",key:"createSelectorNewxp9937IsTreatment",description:d=>Object(a.d)(d,"newxp_9937",!1)==="treatment"};const r=Object(n.b)(d=>{var p;return["treatment"].includes((p=Object(a.d)(d,"newxp_9937",!1))!==null&&p!==void 0?p:"")});r.meta={name:"createSelector",key:"createSelectorNewxp9937IsAnyTreatment",description:d=>{var p;return["treatment"].includes((p=Object(a.d)(d,"newxp_9937",!1))!==null&&p!==void 0?p:"")}};const m=Object(n.b)(d=>o(d)||r(d));m.meta={name:"createSelector",key:"createSelectorNewxp9937IsExposed",description:d=>o(d)||r(d)};const c=h(d=>{const p=Object(a.c)(d,"newxp_9937");p&&p.log_exposures&&Object(s.a)("newxp_9937",p,d)},"Newxp9937LogExposure"),u=Object(t.c)("Log exposure for the newxp_9937 experiment if it is exposed",(d,p)=>{m(p())&&c(p())});u.meta={name:"createThunk",key:"createThunkNewxp9937MaybeLogExposure",description:"Log exposure for the newxp_9937 experiment if it is exposed"}},B8JY:function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("ZKjC"),t=e("KPXh"),a=e("+GhL"),s=e("4Ky9");const l=Object(n.b)((o,f)=>{const r=Object(t.i)(f);let m,c;if(r==="client"||r==="core")m="Slack";else if(r==="app"){c=f.app;const u=Object(s.a)(o,c)||void 0;m=u.name||Object(a.h)(u)||void 0}else r==="custom"?m="Custom":r==="service"&&(m=f.service_name);return{...f,appName:m,appId:c}});l.meta={name:"createSelector",key:"createSelectoraddAppInfoToCommand",description:(o,f)=>{const r=Object(t.i)(f);let m,c;if(r==="client"||r==="core")m="Slack";else if(r==="app"){c=f.app;const u=Object(s.a)(o,c)||void 0;m=u.name||Object(a.h)(u)||void 0}else r==="custom"?m="Custom":r==="service"&&(m=f.service_name);return{...f,appName:m,appId:c}}}},BBys:function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("Yk7g"),t=e("mM05"),a=e.n(t),s=e("3yyz"),l=e("dA19"),o=e("TQ9f"),f=e("jmOL"),r=e("Ms05");function m(u){const d=u&&u.ops;if(!d)return[];const p=Object(r.a)(d),v=[];return p.replace(f.m,(g,O,b,y,C)=>{v.push({index:C+O.length,length:b?b.length:0})}),v}h(m,"findMarkdownCodeBlockRanges");function c(u){if(!(u&&u.ops))return new a.a;let p=new a.a;const v=m(u);return Object(n.a)(v).forEach(g=>{let{index:O,length:b}=g;const y=new a.a;y.retain(O),u.slice(O,O+b).forEach(C=>{Object(l.a)(C)?(y.delete(1),Object(o.a)(C)&&y.insert(Object(o.c)(C))):y.retain(Object(s.a)(C),{bold:!1,italic:!1,strike:!1,code:!1,underline:!1,slackmention:!1,link:!1,unlink:!1})}),p=p.compose(y)}),p}h(c,"buildChangeDeltaToFixEmbedsInTripleBackticks")},BH90:function(J,i,e){"use strict";e.d(i,"a",function(){return U});var n=e("mM05"),t=e.n(n),a=e("gSGL"),s=e("1myf"),l=e("pu3F"),o=e("wsJ+"),f=e("Oy0v"),r=e("sxm7"),m=e("slMn"),c=e("yrot"),u=e("7nxQ"),d=e("0qhH"),p=e("htTJ"),v=e("IOc2"),g=e("TQ9f"),O=e("tfz1"),b=e("5SjC"),y=e("lhZz"),C=e("3yyz"),_=e("0f4s"),j=e("p7YC"),E=e("Z5O3"),M=e("pbCm"),T=e("v/Sk"),P=e("v/ip");const B=new RegExp(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"ig"),R=h(K=>B.test(K),"isUnicodeChar");function U(K){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{useWysiwyg:!1,usePlainTextMode:!1,inlineEmojiIsEnabled:!1,emojiNames:[],locale:void 0,replaceNativeEmoji:!1,teamId:void 0};const z=new t.a;let N=0,A=0;if(!V.inlineEmojiIsEnabled)return z;let x=null;return Object(b.a)(K,(k,F)=>{const L=!Object(O.a)(F),S=Object(C.a)(k);if(!L||!Object(d.a)(k)||Object(p.a)(k)||Object(v.a)(k)){N+=S,x=k;return}const I=k.attributes;let W=[];const D=V.useWysiwyg&&!V.usePlainTextMode;let H="";Object(u.e)()&&Object(a.a)(k.insert)?H=k.insert.replace(/\uFF1A/g,":"):H=Object(a.a)(k.insert)?k.insert:"";const Z=D?[]:Object(E.a)(H);H.replace(Object(o.a)(),(te,se,$)=>{if(!D&&Object(M.a)($,Z)||!D&&Object(j.a)(Object(_.a)(K,0,N+$)))return;let X=Object(T.a)(te,{emojiNames:V.emojiNames,locale:V.locale||"",teamId:V.teamId||""});if(X){const q=/^:[0-9]+:$/.test(X),Y=H.substring(0,$),ee=/(^|\s)[0-9]+$/.test(Y);q&&ee&&(X="")}X&&W.push({match:X,index:$,matchLength:te.length,attributes:I})});const G=V.teamId&&Object(y.getStateByTeamId)(V.teamId);if(V.replaceNativeEmoji){const te=Object(r.b)(V.teamId);H.replace(te,(se,$,X,q)=>{if(q>0){const ne=H.charAt(q-1);if(ne===l.fb||R(ne)&&r.a.includes(se))return}const Y=Object(m.a)(se)||"",ee=Object(c.i)(G,Y),w=ee?`:${ee}:`:null;w&&W.push({match:w,index:q,matchLength:se.length,nativeEmojiReplacement:!0,attributes:I})})}if(W=Object(s.a)(W,"index"),W.length){let te=0,se=0;W.forEach(($,X)=>{let q=!1,Y=$.match,ee=0,w=$.matchLength;X===0?ee=N+$.index-A:ee=$.index-te-se;const ne=Y.match(P.a);let ae=null,de=null;if(ne&&(de=parseInt(ne[2],10)||null,ae=parseInt(ne[3],10)||null),!$.nativeEmojiReplacement&&X===0&&$.index===0&&ne&&x&&Object(g.a)(x)){const ge=Object(f.a)(Object(g.c)(x));(!ae&&Object(c.o)(G,{text:(ge==null?void 0:ge.name)||"",teamId:V.teamId||""})||ae&&de!==ae&&Object(c.p)(G,{text:(ge==null?void 0:ge.name)||"",teamId:V.teamId||""}))&&(ee-=1,w+=1,Y=`:${ge==null?void 0:ge.name}:${Y}`,q=!0)}te=$.index,se=$.matchLength,A=N+te+se,(q||!ae)&&(ee&&z.retain(ee),z.delete(w).insert({slackemoji:{text:Y}},$.attributes))})}N+=S,x=k}),z}h(U,"buildEmojiReplacementDelta")},BHto:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("zxER"),l=e("+kJ4"),o=e("Q3AP"),f=e("hwNb"),r=e("nNoG"),m=e("WMzb"),c=e("wKGu"),u=e("ktUG"),d=e("YUBf"),p=e("eBYm"),v=e("jWAO"),g=e("FVy1"),O=e("9oTK"),b=e("Lgge"),y=e("GzZI"),C=e("N8ug"),_=e("YKBt"),j=e("8dl9"),E=e("RgZo"),M=e("WSQ4");function T(){return T=Object.assign||function(z){for(var N=1;N<arguments.length;N++){var A=arguments[N];for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(z[x]=A[x])}return z},T.apply(this,arguments)}h(T,"_extends");const P=new r.b("stories_av"),B=h(z=>{let{file:N,elapsed:A,duration:x,setTime:k}=z;const F=Object(n.useRef)(null),L=Object(n.useRef)(null),S=Object(n.useRef)(null),{window:I}=Object(n.useContext)(M.a),W=Object(n.useCallback)(function(){var G=Object(O.coroutine)(function*(te){let{bounds:se}=te;if(!F.current||!L.current||!(se!=null&&se.width))return;const $=F.current,X=$.getContext("2d");if(!X)return;$.width=se.width,X.fillStyle="#000000",X.fillRect(0,0,$.width,$.height);var q;const Y=(q=N.thumb_video_w)!==null&&q!==void 0?q:1280;var ee;const w=(ee=N.thumb_video_h)!==null&&ee!==void 0?ee:720,ne=Y/w*$.height;if(!Number.isFinite(ne))return;const ae=Math.ceil($.width/ne);yield b.a.all(Object(y.a)(ae,de=>new b.a((ge,le)=>{const Q=I.document.createElement("video");Q.muted=!0,Q.preload="none";var ie,oe,me;Q.src=(me=(oe=(ie=N.mp4_low)!==null&&ie!==void 0?ie:N.mp4)!==null&&oe!==void 0?oe:N.url_private)!==null&&me!==void 0?me:"",Q.currentTime=Math.max(.1,de/ae*x),Q.play(),Q.addEventListener("playing",()=>{X.drawImage(Q,de*ne,0,ne,$.height),Q.pause(),Q.src="",Q.remove(),ge()}),Q.addEventListener("error",()=>le(new Error(`Frame ${de} failed to load`)))})))});return function(te){return G.apply(this,arguments)}}(),[N,x,I]),D=Object(n.useCallback)(G=>t.a.createElement("div",T({className:"p-video_thumbnail_dialog__timeline",ref:S.current},G)),[]),H=Object(n.useCallback)(G=>{let{children:te,...se}=G;return t.a.createElement("div",T({className:"p-video_thumbnail_dialog__timeline__track"},se),t.a.createElement("video",{ref:L,className:"p-video_thumbnail_dialog__timeline__source"}),t.a.createElement("canvas",{ref:F,width:400,height:50,className:"p-video_thumbnail_dialog__timeline__canvas"}),te)},[]),Z=Object(n.useCallback)(G=>t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-video_thumbnail_dialog__timeline__elapsed_container"},t.a.createElement("div",T({className:"p-video_thumbnail_dialog__timeline__elapsed"},G))),t.a.createElement("div",T({className:"p-video_thumbnail_dialog__timeline__elapsed__tooltip_container"},G),t.a.createElement("div",{className:"p-video_thumbnail_dialog__timeline__elapsed__tooltip"},Object(E.a)(A*1e3)))),[A]);return t.a.createElement(C.a,{onResize:W},G=>{let{measureRef:te}=G;return S.current=te,t.a.createElement(_.a,{value:A,max:x,onChange:k,renderContainer:D,renderTrack:H,renderInner:Z,"aria-label":P.t("Media time scrubber, {currentTime} / {totalTime}",{currentTime:Object(j.a)(A),totalTime:Object(j.a)(x)}),"aria-valuetext":Object(j.a)(A)})})},"VideoThumbnailTimeline");B.displayName="VideoThumbnailTimeline";var R=B;const U=new r.b("stories_av"),K=h(z=>{let{file:N,onSubmit:A,clogButton:x,clogImpression:k}=z;const F=Object(c.a)(),L=Object(a.useDispatch)(),S=Object(s.c)(f.c),I=Object(n.useRef)(null),[W,D]=Object(n.useState)(0);var H;const[Z,G]=Object(n.useState)(((H=N==null?void 0:N.duration_ms)!==null&&H!==void 0?H:0)/1e3),[te,se]=Object(n.useState)(!1),[$,X]=Object(n.useState)(!1),q=Object(m.a)(),Y="edit_thumbnail",ee=Object(n.useCallback)(oe=>{x?x(oe,Y):F.track(u.EventId.AV_CAPTURE,{media_type:"video",contexts:{ui_context:{ui_step:Y,action:"click",ui_properties:{element_type:"button",element_name:oe}}}})},[x,F]),w=Object(n.useCallback)(()=>{const oe={element_type:u.ElementType.MODAL,element_name:"edit_thumbnail"};k?k({step:Y,uiProperties:oe}):F.track(u.EventId.AV_CAPTURE,{media_type:"video",contexts:{ui_context:{ui_step:Y,action:"impression",ui_properties:oe}}})},[k,F]),ne=Object(n.useCallback)(()=>{L(Object(l.a)()),ee("cancel_edit_thumbnail")},[ee,L]),ae=Object(n.useCallback)(oe=>{var me;(me=I.current)===null||me===void 0||me.setCurrentTime(oe,!1)},[]),de=Object(n.useCallback)((oe,me)=>{oe&&D(oe),me&&G(me)},[]),ge=Object(n.useCallback)(()=>{if(ee("submit_edit_thumbnail"),A)return L(Object(l.a)()),A(W);se(!0),X(!1),L(Object(o.a)({id:N.id,offsetMs:Math.round(W*1e3),reason:"VideoThumbnailDialog"})).then(()=>{se(!1),L(Object(l.a)())}).catch(oe=>{q.error("VIDEO_THUMBNAIL","Error when submitting timestamp",oe),X(!0),se(!1)})},[A,L,N.id,W,ee,q]);var le,Q;const ie=(Q=(le=N.mp4_low)!==null&&le!==void 0?le:N.mp4)!==null&&Q!==void 0?Q:N.url_private;return!ie||!S?null:t.a.createElement(d.a,{closeModal:ne,onAfterOpen:w},t.a.createElement(d.l,{title:U.t("Select thumbnail")}),t.a.createElement(d.d,null,t.a.createElement(d.e,null,t.a.createElement("div",{className:"p-video_thumbnail_dialog__video"},t.a.createElement(g.a,{file:N,url:ie,hlsEmbed:N.hls_embed,thumbVideo:N.thumb_video,autoPlay:!1,ref:I,onProgress:de})),t.a.createElement(R,{file:N,elapsed:W,duration:Z,setTime:ae}),$&&t.a.createElement(v.d,{level:"error",className:"margin_top_100"},U.t("Sorry! Something went wrong. Please try again.",{fallbackHash:"48faa2ac6ac6d273cd7dacbe15a5b6f7e1822087",fallbackHashNs:"file_viewer"})))),t.a.createElement(d.g,null,t.a.createElement(d.h,null,t.a.createElement(d.c,{type:"outline"},U.t("Cancel")),t.a.createElement(p.a,{type:"primary",loading:te,onClick:ge},U.t("Select")))))},"VideoThumbnailDialog");K.displayName="VideoThumbnailDialog";var V=i.a=K},BQeT:function(J,i,e){"use strict";e.d(i,"a",function(){return R});var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("ifKl"),l=e("fp5s"),o=e("BHdc"),f=e("Nyfl"),r=e("9Gfp"),m=e("SgHf"),c=e("1HOW"),u=e("ZobM"),d=e("JoR1"),p=e("xwCZ"),v=e("C3vN"),g=e("nNoG"),O=e("JvzI"),b=e("sryV"),y=e("BeL+"),C=e("P1FA"),_=e("7nxQ"),j=e("XxnT");function E(N){let{normalizedFmt:A="HH:mm",includeMeridiem:x=Object(_.g)(j.a.locale())}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var k;const F=j.a.locale();var L;let S=(L=Object(C.a)((k=N==null?void 0:N.trim())===null||k===void 0?void 0:k.toLocaleLowerCase()))!==null&&L!==void 0?L:"";if(!S)return[];const I=/^(.*)(\d)(\d\d)(?!\d)(.*)/.exec(S);I&&(S=`${I[1]}${I[2]}:${I[3]}${I[4]}`);const W=Object(_.g)(F),D=x?["LT"]:["LT","HH:mm"],H=[];return D.forEach(Z=>{const G=Object(j.a)(S,Z);if(G.isValid()&&(H.push(G.format(A)),x&&W)){const te=G.hour();te>=1&&te<=12&&!G.parsingFlags().meridiem&&H.push(G.add(12,"hours").format(A))}}),Object(y.a)(H)}h(E,"parseTime");var M=e("3bXy"),T=e("ZpEY");function P(){return P=Object.assign||function(N){for(var A=1;A<arguments.length;A++){var x=arguments[A];for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(N[k]=x[k])}return N},P.apply(this,arguments)}h(P,"_extends");const B=new g.b("date_time_picker"),R={QUARTER_HOUR:"quarter",HALF_HOUR:"half",FULL_HOUR:"full"},U=h(N=>{const A=N.replace(":","");return parseInt(A,10)},"timeFromStringToInt"),K=h(N=>{let{allowCustomInput:A=!0,autoClogProps:x,isDisabled:k=!1,do24hrTime:F,isInvalid:L=!1,isRequired:S=!1,max:I="23:59",min:W="0:00",onChange:D=s.a,onBlur:H=s.a,onOptionsListClose:Z=s.a,optionsHourIncrement:G=R.FULL_HOUR,placeholderText:te,showTimeZone:se=!0,size:$=M.b.Medium,timeZone:X,value:q,timeZoneClassName:Y,...ee}=N;const w=Object(n.useCallback)(Ee=>{if(!(Ee!=null&&Ee.value))return!S;const ye=U(Ee.value),Te=U(W),Oe=U(I);return ye>=Te&&ye<=Oe},[S,I,W]),ne=Object(f.a)(()=>{let Ee;switch(G){case R.QUARTER_HOUR:Ee=Object(T.d)(F);break;case R.HALF_HOUR:Ee=Object(T.b)(F);break;case R.FULL_HOUR:default:{Ee=Object(T.a)(F);break}}return Ee.filter(w)},[G,w,F]),ae=Object(f.a)(()=>{let Ee=q?Object(T.c)(q,F):null;return w(Ee)||(Ee=null),Ee},[F,w,q]),de=Object(f.a)(()=>Object(l.a)("time-picker-")),[ge,le]=Object(n.useState)({selectId:de,filterQuery:"",options:ne,selectedOption:ae,initialActiveOption:ae}),Q=Object(n.useRef)(null),ie=Object(n.useRef)([]),oe=Object(n.useCallback)(()=>{var Ee,ye;typeof((Ee=Q.current)===null||Ee===void 0?void 0:Ee.setSelectionRange)=="function"&&ae&&ae.label===((ye=Q.current)===null||ye===void 0?void 0:ye.value)&&Q.current.select()},[ae]),me=Object(n.useCallback)(Ee=>Ee&&E(Ee,{includeMeridiem:!F}).map(Te=>Object(T.c)(Te,F)).filter(w)[0]||null,[F,w]),be=Object(n.useCallback)((Ee,ye)=>{ye&&ie.current.push(ye),le(Te=>{var Oe;let Ce={...Te,...Ee(Te)};if(Ce.isExpanded&&!Te.isExpanded){const he=me(q);var ce;Ce={...Ce,filterQuery:(ce=he==null?void 0:he.label)!==null&&ce!==void 0?ce:"",isInvalid:!1,initialActiveOption:he}}else if(Ce.filterQuery&&Ce.filterQuery!==Te.filterQuery){const he=me(Ce.filterQuery);Ce={...Ce,isInvalid:!he,initialActiveOption:he}}else!(!((Oe=Ce.filterQuery)===null||Oe===void 0)&&Oe.trim())&&Ce.isExpanded&&!S&&(Ce={...Ce,initialActiveOption:{value:null}});return Ce})},[me,S,q]);Object(n.useEffect)(()=>{ie.current.forEach(Ee=>Ee()),ie.current=[]});const Se=Object(n.useCallback)(Ee=>{if(w(Ee)&&(Ee==null?void 0:Ee.value)!==(ae==null?void 0:ae.value)){le(Te=>({...Te,initialActiveOption:Ee}));var ye;D((ye=Ee==null?void 0:Ee.value)!==null&&ye!==void 0?ye:null)}},[w,D,ae]),{initialActiveOption:Pe}=ge,Ue=Object(n.useCallback)(Ee=>{Se(Pe),le(ye=>({...ye,isInvalid:!1,isExpanded:!1})),H(Ee)},[Se,Pe,H]),Fe=Object(n.useCallback)(()=>{var Ee,ye;const Te=(ye=(Ee=me(q))===null||Ee===void 0?void 0:Ee.label)!==null&&ye!==void 0?ye:"";le(Oe=>({...Oe,filterQuery:Te,initialActiveOption:null}))},[me,q]),je=Object(n.useCallback)(Ee=>t.a.createElement("div",{className:"c-time_picker__selected-option-wrapper"},t.a.createElement("span",{className:"c-time_picker__option-icon"},t.a.createElement(u.a,{name:"clock"})),t.a.createElement("span",null,Ee.label)),[]),_e=B.t("Time"),pe=L||ge.isInvalid,fe=Object(n.useMemo)(()=>({...ge,options:ne,selectedOption:ae,isInvalid:pe,isRequired:S,isDisabled:k}),[k,pe,S,ne,ae,ge]);return t.a.createElement("div",null,A?t.a.createElement(c.b,P({key:de,selectState:fe,setSelectState:be,inputRef:Q,inputIcon:"clock-o",onBlur:Ue,onEsc:Fe,onOpen:oe,onOptionSelected:Se,onOptionsListClose:Z,placeholderText:te||_e,isInvalid:pe,isRequired:S,isDisabled:k,selectAllOnFocus:!0,size:$,autoClogProps:x,overlayClassName:"c-popover c-time_picker__popover_overlay",classPrefix:"c-time_picker"},ee)):t.a.createElement(m.d,P({key:de,options:ne,onOptionSelected:Se,selectedOption:ae,renderSelectedOption:je,placeholderText:te||_e,size:$,isInvalid:pe,isRequired:S,isDisabled:k},ee)),se&&X&&t.a.createElement("p",{className:Object(o.default)("c-time_picker__timezone-caption",Y)},B.t("Time zone: {timeZone}",{timeZone:X})))},"TimePicker");K.displayName="TimePicker";const V=h((N,A)=>{const x=Object(r.a)(N);var k;const F=(k=Object(p.g)(N,x))!==null&&k!==void 0?k:void 0,L=Object(v.D)(F);return{do24hrTime:Object(d.u)(N,"time24"),timeZone:A.timeZone||(L?Object(b.a)(L,Object(O.a)()):null)}},"mapStateToProps");var z=i.b=Object(a.a)(V)(K)},BU52:function(J,i,e){"use strict";var n=e("PIf0"),t=e("azFB"),a=e("SQ0V"),s=e("stxl"),l=e("+kJ4"),o=e("bdcb");const f=Object(a.c)("Closes any open Texty modals",(r,m,c,u)=>{const d=m();let p;const v=u(n.a);(v==null?void 0:v.window)!==t.a&&(v!=null&&v.windowId)&&(p=v.windowId);const g=Object(s.a)(d,p).map(O=>O.name);Object(o.a)(g)&&r(Object(l.a)())});f.meta={name:"createThunk",key:"createThunkcloseTextyModals",description:"Closes any open Texty modals"},i.a=f},BUaB:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("ifKl"),l=e("m8R6"),o=e("hRMJ"),f=e("Xstn"),r=e("ZaGd"),m=e("heah");function c(){return c=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var O=arguments[g];for(var b in O)Object.prototype.hasOwnProperty.call(O,b)&&(v[b]=O[b])}return v},c.apply(this,arguments)}h(c,"_extends");function u(v){const{channelId:g,threadTs:O,completeOnMembers:b=!1,completeOnChannels:y=!1,completeOnEmoji:C=!1,completeOnLinks:_=!1,completeOnLists:j=!1,completeOnCommands:E=!1,shouldCompleteOnTab:M=!0,position:T="top",fixedPosition:P=!1,onOpen:B=s.a,onClose:R=s.a,onTextyInputMount:U=s.a,autocompleteClassName:K,zIndex:V="menu",forceChannelTaggingDisabled:z=!1,forcePlainTextModeDisabled:N=!1,includeAllBroadcastKeywords:A=!1,refToForward:x,searchViewContext:k,isMultiverseQuillEnabled:F=!1,useExpandedRichText:L=!1,viewContext:S,windowId:I}=v,W=Object(l.a)(v,["completeOnMembers","completeOnChannels","completeOnEmoji","completeOnLinks","completeOnLists","completeOnCommands","shouldCompleteOnTab","position","fixedPosition","onOpen","onClose","onTextyInputMount","autocompleteClassName","zIndex","searchViewContext","autocompleteConfig"]),D=Object(n.useCallback)(H=>{let{autocompleteConfig:Z,isOpen:G}=H;const te=F?m.a:r.b;return t.a.createElement(te,c({autocompleteConfig:Z,isAutocompleteOpen:G,onMount:U,useExpandedRichText:L,ref:x},W))},[F,U,L,x,W]);return t.a.createElement(f.a,{className:K,channelId:g,threadTs:O,completeOnMembers:b,completeOnChannels:y,completeOnEmoji:C,completeOnLinks:_,completeOnLists:j,completeOnCommands:E,shouldCompleteOnTab:M,position:T,fixedPosition:P,onOpen:B,onClose:R,zIndex:V,forceChannelTaggingDisabled:z,forcePlainTextModeDisabled:N,includeAllBroadcastKeywords:A,renderInput:D,searchViewContext:k,viewContext:S,windowId:I})}h(u,"TextyInputWithAutocomplete"),u.displayName="TextyInputWithAutocomplete";const d=h(v=>({isMultiverseQuillEnabled:Object(o.a)(v)}),"mapStateToProps"),p=Object(a.a)(d)(u);i.a=t.a.forwardRef((v,g)=>t.a.createElement(p,c({},v,{refToForward:g})))},BXkk:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("TyLq"),t=e("y//8");const a=h((s,l)=>{if(!s)return null;const o=s.emojiBestNameMatchCanonical;if(!o)return"";const f=`:${o}:`;return Object(n.a)(l)&&Object(t.a)(s.item)?`${f}:skin-tone-${l}:`:f},"getCanonicalTextFromEmojiResult")},BlYK:function(J,i,e){J.exports=e.p+"trial-message-limit-trial-offer-7e96348.png"},Bnbe:function(J,i,e){"use strict";var n=e("SQ0V"),t=e("q6Tz"),a=e("uVZW"),s=e("rZ8V");const l=Object(n.c)("Load the later_tab_revealed Megaphone event if the user has not saved an item yet",(o,f,r)=>{const m=f(),c=Object(s.n)(m)?4:3;r||o(Object(t.b)({event:{iaVersion:c,type:a.e.LATER_TAB_REVEALED}}))});l.meta={name:"createThunk",key:"createThunkmaybeLoadLaterTabRevealedEvent",description:"Load the later_tab_revealed Megaphone event if the user has not saved an item yet"},i.a=l},BtdC:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("qMw6"),t=e("RB1+");function a(s,l){if(l){let o;return o=Object(t.a)({channelId:s,threadTs:l,viewContext:n.a.THREAD}),o||(o=Object(t.a)({channelId:s,threadTs:l,viewContext:n.a.THREADS_VIEW})),o}return Object(t.a)({channelId:s,viewContext:n.a.MESSAGE_PANE})}h(a,"getDraftInput")},Btza:function(J,i,e){"use strict";var n=e("SQ0V"),t=e("UWtm");const a=Object(n.c)("Upsert a slack doc last read for a given file ID",(s,l,o)=>{let{fileId:f,lastReadByUser:r}=o;return s(Object(t.c)({objects:[{id:f,lastReadByUser:r}]}))});a.meta={name:"createThunk",key:"createThunkupsertSlackDocLastReadByUserForFileId",description:"Upsert a slack doc last read for a given file ID"},i.a=a},BwCw:function(J,i,e){"use strict";var n=e("mM05"),t=e.n(n);i.a=(a,s)=>{let{shouldUseInlineEmoji:l,formats:o}=s;return new t.a().insert(l?{slackemoji:{text:a}}:a,o)}},"CF/G":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("GzZI"),s=e("F0YV");const l=3,o=h(r=>{let{teamIds:m,size:c}=r;const u=Math.min(m.length,l),d=Object(a.a)(u).map(p=>t.a.createElement(s.b,{className:"p-team_icon_pile__icon",size:c,id:m[p],key:m[p]}));return t.a.createElement("span",{className:"p-team_icon_pile"},d)},"TeamIconPile");o.displayName="TeamIconPile";var f=i.a=t.a.memo(o)},CcwH:function(J,i,e){"use strict";e.d(i,"a",function(){return o}),e.d(i,"b",function(){return f}),e.d(i,"c",function(){return r});var n=e("LK2A"),t=e("ZTSm"),a=e("kY/x"),s=e("+AOw"),l;(function(m){m.START_THREAD="start-thread",m.OPEN_THREAD="open-thread",m.START_ASSISTANT_THREAD="start-assistant-thread",m.INSERT_VARIABLE="insert-variable",m.MAX_VARIABLE_LIMIT_REACHED="variable-limit-reached",m.SHARE="share",m.OPEN_IN_DETACHED_WINDOW="open-in-detached-window",m.VIEW_FULL_SCREEN="view-full-screen",m.VIEW_IN_SLACK="view-in-slack",m.OPEN_IN_NEW_WINDOW="open-in-new-window",m.SHARE_CHANNEL_CANVAS="channel-canvas-share"})(l||(l={}));const o={...a.a,...s.a},f={...o,...l},r=h(function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.DocBlockStyle.PLAIN;const u=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).map(d=>Object(s.b)(d)).filter(t.a);return m&&u.push(Object(a.b)(m)||a.a.PARAGRAPH),u},"getFormats")},Cepj:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("0LZ2");function t(s){const o=Object(n.a)(s).import("parchment");let f=h(class extends o.Attributor.Class{add(c,u){let d=u;if(d==="+1"||d==="-1"){const v=this.value(c)||0;d=(d==="+1"?v+1:v-1).toString()}if(parseInt(d,10)===0)return this.remove(c,d),!0;const p=c==null?void 0:c.parentNode;return c.tagName==="LI"&&p&&parseInt(d,10)>0?(super.add(p,d),p.querySelectorAll("li").forEach(v=>{super.add(v,d)}),!0):(super.add(c,d),this.cleanup(),!0)}remove(c,u){const d=c==null?void 0:c.parentNode;parseInt(u,10)===0&&(d&&(d.tagName==="OL"||d.tagName==="UL")&&(super.remove(d),d.querySelectorAll("li").forEach(p=>{super.remove(p)})),c.tagName==="DIV"&&c.classList.contains("ql-border-1")&&c.classList.contains("ql-code-block")&&super.remove(c),c.tagName==="BLOCKQUOTE"&&c.classList.contains("ql-border-1")&&super.remove(c))}canAdd(c,u){return c&&super.canAdd(c,u)||c&&super.canAdd(c,parseInt(u,10))||(c==null?void 0:c.parentNode)&&super.canAdd(c.parentNode,u)}value(c){return c&&parseInt(super.value(c),10)||(c==null?void 0:c.parentNode)&&parseInt(super.value(c.parentNode),10)||void 0}cleanup(){setTimeout(()=>{document.querySelectorAll("p[class*='ql-border-']").forEach(c=>{super.remove(c)})},0)}},"BorderAttributor");return new f("border","ql-border",{scope:o.Scope.BLOCK,whitelist:[1,2]})}h(t,"getSlackBorderFormat");const a=t(window)},Cfjn:function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("9oTK"),t=e.n(n),a=e("uXhx"),s=e("SQ0V"),l=e("Sl1j"),o=e("E3dU");const f=Object(s.c)("Ensures unknown channels with corresponding ids have been fetched",function(){var r=Object(n.coroutine)(function*(m,c){let{channelIds:u,reason:d}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const p=c(),v=Object(a.a)(u,g=>Object(o.A)(p,g));yield m(Object(l.f)({ids:v,reason:d,callSource:l.a.EnsureChannelsArePresent}))});return function(m,c){return r.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkensureChannelsArePresent",description:"Ensures unknown channels with corresponding ids have been fetched"}},CmyG:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("FRd1"),s=e("6Tgc"),l=e("Vzni"),o=e("rBAR"),f=e("/CFe");const r=h(m=>{let{file:c,selectedOption:u,setSelectedOption:d}=m;const p=Object(l.b)(c);return t.a.createElement(a.a,{autoClogProps:o.c,actionProps:o.i},t.a.createElement(s.a,{options:p,selectedOption:u,selectId:"access",width:"auto",onOptionSelected:d,"data-qa":f.b.ACCESS_SELECT}))},"ShareDialogAccessSelect");r.displayName="ShareDialogAccessSelect",i.a=r},Cnv9:function(J,i,e){"use strict";e.d(i,"a",function(){return f}),e.d(i,"c",function(){return r}),e.d(i,"b",function(){return m});var n=e("Awbm"),t=e("ehcD"),a=e("G0eX"),s=e("xwCZ"),l=e("9Gfp"),o=e("beVI");const f={RESTRICTED_USER:"user_is_restricted",USER_IS_ON_FREE_TEAM:"not_allowed_for_free_team"};function r(c){const u=[],d=Object(l.a)(c),p=Object(s.g)(c,d),v=Object(t.c)(c,p);var g;const O=(g=Object(o.s)(c,v))!==null&&g!==void 0?g:null;return Object(n.b)(p)&&u.push(f.RESTRICTED_USER),Object(a.H)(O)&&u.push(f.USER_IS_ON_FREE_TEAM),u.length>0?{ok:!1,reasons:u}:{ok:!0}}h(r,"canUserShareContactsWithReasons");function m(c){return r(c).ok}h(m,"canUserShareContacts")},CpuT:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("jWAO"),l=e("9ADk"),o=e("dq9a");function f(){return f=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(c[p]=d[p])}return c},f.apply(this,arguments)}h(f,"_extends");const r=h(c=>{let{"aria-label":u,"aria-labelledby":d,errorId:p,className:v,errorText:g,hintId:O,hintText:b,isDisabled:y=!1,isRequired:C=!1,"data-qa":_,errorLevel:j=s.b.error,errorType:E=s.c.nestedBox,children:M,legendText:T,legendClassNames:P=""}=c;const B=Object(n.useRef)(null),R=T;Object(n.useEffect)(()=>{const L=B.current;if(!L||R)return;const S=L.querySelectorAll('input[type="radio"]:not(:scope [role="radiogroup"] input[type="radio"])');Array.from(S).forEach(I=>{I.disabled=y})},[y,R]);const U=(d||p)&&[d,p].join(" ").trim(),K=g&&t.a.createElement(s.d,{id:p,level:j,type:E,className:"c-alert--error margin_bottom_100"},g),V=b&&t.a.createElement(l.a,{id:O},b),z=T&&t.a.createElement(o.a,{className:P},T),N=Object(a.default)("c-radiogroup",{"c-radiogroup--with_error":!!g,"c-radiogroup--with_hint":!!b},v),A={"aria-describedby":O,"aria-invalid":!!g,"aria-labelledby":U,"aria-required":C,className:N},x=h(()=>t.a.createElement("fieldset",f({},A,{disabled:y}),z,M),"renderFieldset");x.displayName="renderFieldset";const k=h(()=>t.a.createElement("div",f({},A,{role:"radiogroup","aria-disabled":y,"aria-label":u,ref:B}),M),"renderAriaGroup");k.displayName="renderAriaGroup";const F=R?x():k();return t.a.createElement("div",{"data-qa":_},F,K,V)},"Radiogroup");r.displayName="Radiogroup";var m=i.a=r},D1F6:function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("gPPH"),t=e("nNoG"),a=e("z4V0"),s=e("nwIl"),l=e("pu3F");const o=new t.b("emoji_picker"),f=h((r,m)=>{let{draftId:c,status:u=a.b.SENDING}=m;if(!c)return[];const d=Object(s.f)(r),p=Object(s.b)(r,{draftId:c,status:u});return Array.isArray(p)?p.map(v=>{let{fallback:g,image_url:O,image_width:b,image_height:y,image_bytes:C}=v;return{blocks:[{type:l.e.image,block_id:Object(n.a)(),image_url:O,alt_text:g,image_width:b,image_height:y,image_bytes:C,is_animated:!0,fallback:g,title:{type:"plain_text",text:d?o.t("GIF"):"GIF",emoji:!0}}]}}):[]},"getImageBlockFromGifUnfurls")},DCrr:function(J,i,e){"use strict";e.d(i,"d",function(){return a}),e.d(i,"b",function(){return s}),e.d(i,"a",function(){return l}),e.d(i,"c",function(){return o});var n=e("4p6e"),t=e("G5NC");const a=h(()=>Object(t.a)()||Object(n.a)(),"areAppPopoutsEnabled"),s={openAppDialog:"openAppDialog",openBlockKitModal:"openBlockKitModal"},l="initStateQuery",o="postMessageCallback"},DEph:function(J,i,e){"use strict";e.d(i,"b",function(){return s}),e.d(i,"a",function(){return f});var n=e("SQ0V"),t=e("2XU3"),a=e("0Wfr");const s=Object(n.c)("calls the megaphone.executeEvent API to trigger download fallback email",(r,m,c)=>{let{reason:u,eventHandler:d,subtype:p,selectedWorkspaces:v}=c,g;p&&(g={subtype:p}),v&&(g={selected_workspaces:v});const O={event_handler:d,event_params:g};return r(Object(t.apiCall)({reason:u,method:"megaphone.executeEvent",args:O}))});s.meta={name:"createThunk",key:"createThunktriggerFallbackEmail",description:"calls the megaphone.executeEvent API to trigger download fallback email"};const l=6e4,o=!1,f=Object(a.a)(s,l,o)},DJ7B:function(J,i,e){"use strict";var n=e("SQ0V"),t=e("LK2A"),a=e("yrot"),s=e("whaK"),l=e("nift"),o=e("O86Y"),f=e("RJAC");const r=h((c,u,d)=>{const p=Object(s.a)(c,{forceDisplay:!1}),v=Object(a.j)(c,{text:u,teamId:d,emojiMode:p,emojiSize:l.a.SMALL}),g=Object(a.j)(c,{text:u,teamId:d,emojiMode:p,emojiSize:l.a.MEDIUM}),O=Object(a.j)(c,{text:u,teamId:d,emojiMode:p,emojiSize:l.a.LARGE}),b=Object(a.j)(c,{text:u,teamId:d,emojiMode:p,emojiSize:l.a.XLARGE});return[v,g,O,b,Object(f.a)(c,{url:v??void 0,isEmoji:!0,stopAnimations:!0}),Object(f.a)(c,{url:g??void 0,isEmoji:!0,stopAnimations:!0}),Object(f.a)(c,{url:O??void 0,isEmoji:!0,stopAnimations:!0}),Object(f.a)(c,{url:b??void 0,isEmoji:!0,stopAnimations:!0})]},"getEmojiUrlsForAllSizes"),m=Object(n.c)("Returns an emoji object for use in Spaceship",(c,u,d)=>{let{result:p,emojiText:v,requestedTeamId:g}=d;const O=u();var b;const y=(b=v??p.name)!==null&&b!==void 0?b:"";var C;const _=(C=p.unicode)!==null&&C!==void 0?C:"",j=g&&g.length?g:Object(o.i)(O);let[E,M,T,P,B,R,U,K]=r(O,y,j);if(!E){var V;(V=p.aliases)===null||V===void 0||V.find(A=>{const[x,k,F,L,S,I,W,D]=r(O,A&&typeof A=="object"?A.name:A,j);return x?(E=x,M=k,T=F,P=L,B=S,R=I,U=W,K=D,!0):!1})}const N={id:y.replace(/(^:|:$)/g,""),type:t.SlackObjectType.EMOJI,teamId:j,displayUrl:E??""};return M&&(N.displayUrlMedium=M),T&&(N.displayUrlLarge=T),P&&(N.displayUrlXLarge=P),B&&(N.nonAnimatedUrlSmall=B),R&&(N.nonAnimatedUrlMedium=R),U&&(N.nonAnimatedUrlLarge=U),K&&(N.nonAnimatedUrlXLarge=K),N.unicode=_,N});m.meta={name:"createThunk",key:"createThunkgetEmojiByNameForQuip",description:"Returns an emoji object for use in Spaceship"},i.a=m},DPHH:function(J,i,e){"use strict";e.d(i,"b",function(){return m}),e.d(i,"c",function(){return c}),e.d(i,"a",function(){return u});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("oEDn"),l=e("nNoG"),o=e("0cEW"),f=e("kBpe");const r=new l.b("keyboard_key");var m;(function(d){d.CmdOrCtrl="CmdOrCtrl",d.OptOrAlt="OptOrAlt",d.ArrowUp="\u2191",d.ArrowDown="\u2193",d.ArrowLeft="\u2190",d.ArrowRight="\u2192"})(m||(m={}));const c=h(d=>({"\u2191":r.t("up arrow"),"\u2193":r.t("down arrow"),"\u2190":r.t("left arrow"),"\u2192":r.t("right arrow"),Ctrl:r.t("Control"),Cmd:r.t("Command"),".":r.t("period"),"[":r.t("left bracket"),"]":r.t("right bracket"),"+":r.t("plus"),"-":r.t("minus"),Esc:r.t("Escape"),Strg:"Steuerung"})[d]||String(d).toLowerCase(),"getNameForKey"),u=h(d=>{let{label:p,className:v,slim:g=!1,theme:O=o.c.Light,tooltip:b=!1}=d,y=!1,C,_=p;switch(_===m.CmdOrCtrl?_=Object(f.p)()?"Cmd":"Ctrl":_===m.OptOrAlt&&(_=Object(f.p)()?"Option":"Alt"),_){case"Cmd":C="cmd-small";break;case m.ArrowUp:y=!0,C="caret-up";break;case m.ArrowDown:y=!0,C="caret-down";break;case m.ArrowLeft:y=!0,C="caret-left";break;case m.ArrowRight:y=!0,C="caret-right";break;default:break}const j=Object(a.default)(v,{"c-keyboard_key":!0,"c-keyboard_key__arrow_key":y,"c-keyboard_key--slim":g,"c-keyboard_key--dark":O===o.c.Dark,"c-keyboard_key__tooltip":b}),E=c(_),M=r.t("{keyName} key",{keyName:E});return t.a.createElement("div",{role:"img","aria-label":M,className:j},C?t.a.createElement(s.a,{type:C,size:g?"inherit":20,inline:g}):_)},"KeyboardKey");u.displayName="KeyboardKey"},DPzB:function(J,i,e){"use strict";var n=e("fujP"),t=e("SQ0V"),a=e("gPPH"),s=e("9Gfp"),l=e("Jhy3"),o=e("cBLH"),f=e("xcHN"),r=e("dUj5");const m=Object(t.c)("Append a placeholder message to the channel",(c,u,d)=>{let{msgParams:p,channelId:v,threadTs:g,fileIds:O,pendingFileIds:b}=d;const{client_msg_id:y}=p,C=y||Object(a.a)(),_={...p,thread_ts:g,client_msg_id:C,user:Object(s.a)(u()),is_pending:!0,_hidden_reply:!!g,files:Object(n.a)(b)?O:[],pendingFiles:Object(n.a)(b)?[]:[...O,...b]};return c(Object(l.a)([_])),c(Object(o.a)({channelId:g?Object(f.c)(_.channel,_.thread_ts):v,timestamps:[_.ts],oldest:_.ts,hasMore:!1,append:!0})),c(Object(r.a)({clientMsgId:C,channelId:_.channel,ts:_.ts})),_});m.meta={name:"createThunk",key:"createThunkappendPlaceholderMessage",description:"Append a placeholder message to the channel"},i.a=m},DToD:function(J,i,e){"use strict";e.d(i,"b",function(){return a}),e.d(i,"e",function(){return s}),e.d(i,"a",function(){return l}),e.d(i,"d",function(){return o}),e.d(i,"c",function(){return f});var n=e("gPPH");const t=new Map;function a(r,m,c){var u;const d=(u=t.get(r))!==null&&u!==void 0?u:new Map;d.set(m,c),t.set(r,d)}h(a,"registerFileIdForWindow");function s(r,m){var c;if(((c=t.get(r))===null||c===void 0?void 0:c.size)===1)t.delete(r);else{var u;(u=t.get(r))===null||u===void 0||u.delete(m)}}h(s,"unregisterFileIdForWindow");function l(r,m){var c,u;return(u=(c=t.get(r))===null||c===void 0?void 0:c.get(m))===null||u===void 0?void 0:u.docEmbed.a11yReadOnlyMode}h(l,"getA11yReadOnly");function o(r,m){var c,u;(u=(c=t.get(r))===null||c===void 0?void 0:c.get(m))===null||u===void 0||u.docEmbed.docEditor.toggleA11yReadOnlyMode()}h(o,"toggleA11yReadOnly");function f(r,m,c,u){var d,p;(p=(d=t.get(r))===null||d===void 0?void 0:d.get(m))===null||p===void 0||p.announcerContext.sendMessageToAnnouncerAPI({message:c,assertive:u,uuid:Object(n.a)()})}h(f,"sendA11yAnnouncement")},DmfU:function(J,i,e){"use strict";e.d(i,"a",function(){return g}),e.d(i,"b",function(){return O}),e.d(i,"c",function(){return y});var n=e("9oTK"),t=e.n(n),a=e("oTSI"),s=e("6f8m"),l=e("uAML"),o=e("Lgge"),f=e("Z7Ay"),r=e("SQ0V"),m=e("aVws"),c=e("lhZz"),u=e("o07q"),d=e("u0yg");const p=Object(r.c)("Fetch and upsert channel list prefs",function(){var _=Object(n.coroutine)(function*(j,E,M){let{channelId:T,teamId:P}=M;const B=yield j(Object(s.a)({channel:T,reason:"client_redux_store"})),{prefs:R}=B;j(Object(u.b)({channelId:T,prefs:R})),b(P,T)});return function(j,E,M){return _.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkfetchAndUpsertConversationsListPrefs",description:"Fetch and upsert channel list prefs"};const v=Object(a.a)(()=>new l.b({fetch:(_,j)=>o.a.map(j,E=>Object(c.dispatchForTeamId)(_,p({channelId:E,teamId:_}))),isEnabled:()=>!0,metricsName:d.a})),g=h((_,j)=>v().markObjectsAsStale(Object(m.b)(_,d.a),[j]),"markConversationsListPrefsAsStale"),O=h((_,j)=>v().markObjectsAsStale(Object(m.b)(_,d.a),j),"markConversationsListPrefsAsStaleForMultipleChannels"),b=h((_,j)=>v().markObjectsAsFresh(Object(m.b)(_,d.a),[j]),"markConversationsListPrefsAsFresh"),y=h((_,j)=>v().maybeRefetch(Object(m.b)(_,d.a),j),"maybeRefetchConversationsListPrefs"),C={fetchAndUpsertConversationsListPrefs:p};Object(f.b)("conditionalFetchManagerConversationsListPrefs",v)},Dpf0:function(J,i,e){"use strict";e.d(i,"a",function(){return r});var n=e("fujP"),t=e("NFsq"),a=e("SQ0V"),s=e("s4P+"),l=e("ZvCj"),o=e("gCYc"),f=e("BBdC");const r=Object(a.c)("Adds a file ID to a draft and syncs the updates",function(m,c){let{draftId:u,fileId:d}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!u||!d)return;const{error:p,info:v}=Object(s.a)({getState:c,label:"DRAFTS"}),g=`draftId: ${u} || fileId: ${d}`,O=Object(o.k)(c(),u);if(!O||Object(n.a)(O)){p(`Attempting to update a draft that does not exist - ${g}`);return}const b=Object(f.a)(O)||[];if(Object(t.a)(b,d)){v(`File is already attached to the draft - ${g}`);return}const y={...O,file_ids:[...b,d]};m(Object(l.a)({draft:y,reason:"addFileIdToDraft"}))});r.meta={name:"createThunk",key:"createThunkaddFileIdToDraft",description:"Adds a file ID to a draft and syncs the updates"}},"Dw+s":function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("SQ0V"),t=e("RVJP"),a=e("z4V0"),s=e("KVhq");const l=Object(n.c)("Upserts the selected gif from the gif picker to the gif unfurl store",(o,f,r)=>{let{payload:m,draftId:c}=r;const u=f();if(!(Object(t.d)(u,"native_gif_picker")==="on"))return;const p={from_url:m.originalGifUrl,image_url:m.originalGifUrl,image_width:m.width,image_height:m.height,image_bytes:m.bytes,fallback:m.name,original_url:m.originalGifUrl,original_gif_url:m.originalGifUrl,preview_gif_url:m.previewUrl,type:a.a};c&&o(Object(s.d)({draftId:c,url:m.originalGifUrl,data:p,status:a.b.DRAFT}))});l.meta={name:"createThunk",key:"createThunkhandleSelectGif",description:"Upserts the selected gif from the gif picker to the gif unfurl store"}},ECHX:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("m5Yc");const{USER:t}=n.b,a=h(s=>{var l;return((l=s)===null||l===void 0?void 0:l.type)===t},"isRichTextUserElement")},EHXP:function(J,i,e){"use strict";var n=e("Lgge"),t=e("9068"),a=e("SQ0V"),s=e("RVJP"),l=e("sjEp"),o=e("O86Y"),f=e("beVI"),r=e("E3dU"),m=e("lhZz"),c=e("ohbk"),u=e("cU/a"),d=e("pZC0"),p=e("Yauy"),v=e("xcHN"),g=e("jJ7u"),O=e("HKlo"),b=e("gpLM"),y=e("G5NC"),C=e("s4P+"),_=e("ZqJU"),j=e("HW3N"),E=e("kBpe"),M=e("/YJq"),T=e("RV0M"),P=e("2VFn"),B=e("I0j/"),R=e("37+L"),U=e("3NZ6"),K=e("oUrV"),V=e("rZ8V"),z=e("hjzp"),N=e("x6tY"),A=e("dmdh"),x=e("S9on"),k=e("Wn1n"),F=e("KcWJ"),L=e("RWAF"),S=e("tF1a"),I=e("O9Jz");const W=Object(a.c)("Jumps to a message in another workspace via navigateToRoute",(H,Z,G,te)=>{let{channelId:se,ts:$,threadTs:X,teamId:q,subdomain:Y,isSpaceship:ee,dangerouslyOverrideRouting:w=!1}=G;if(!Object(y.a)())return n.a.reject(new Error("jumpViaRoutes called outside Sonic"));const ne=Object(_.a)({teamId:q,subdomain:Y});if(!ne)return n.a.reject(new Error(`Unable to find workspace with teamId ${q} or subdomain ${Y}`));Object(C.a)({getState:Z,label:"JUMP-TO-MESSAGE"}).info("jumpViaRoutes",{channelId:se,ts:$,threadTs:X,teamId:q,subdomain:Y});const ae=Z();var de;const ge=(de=Object(m.getStateByTeamId)(ne))!==null&&de!==void 0?de:ae,le=Object(s.d)(ae,"thread_root_permalink")==="on",Q=ne!==Object(o.g)(ae),{shouldUseNavigate:ie,getSiblingView:oe}=te(T.a),me=!Q&&ie,be=Object(V.n)(ge),Se=Object(l.a)(ae);if(!me&&!be&&Se&&X)return w&&Object(p.Y)(ae,Object(k.a)(ae),!1)?H(Object(F.a)({channelId:se,threadTs:X,highlightTs:$})):H(Object(M.a)({channelId:se,threadTs:X,threadTsToHighlight:$,replaceHistoryState:!0,isSpaceship:ee,teamId:ne}));const Pe=Q?je=>Object(m.dispatchForTeamId)(ne,je):H;if(X&&(le||ee||X!==$)){if(me||be){if(ee)H(Object(U.a)({fileId:Object(z.b)(se),threadTs:X,source:K.a.JUMP_TO_MESSAGE}));else{var Ue;Pe(Object(B.a)(Object(R.mb)({channelId:se,threadTs:X,replyTs:$,highlightRoot:!0,dangerouslyOverrideRouting:w&&Object(p.Y)(ae,(Ue=oe(ae,{container:P.i.Primary}))===null||Ue===void 0?void 0:Ue.id,!1)})))}return n.a.resolve()}return H(Object(u.a)({teamId:ne,routeName:g.C,flexName:"thread",flexParams:{threadId:Object(v.c)(se,X),replyTs:$}}))}if(me||be){if(X){var Fe;Pe(Object(B.a)(Object(R.mb)({channelId:se,threadTs:X,replyTs:$,highlightRoot:!0,dangerouslyOverrideRouting:w&&Object(p.Y)(ae,(Fe=oe(ae,{container:P.i.Primary}))===null||Fe===void 0?void 0:Fe.id,!1)})))}else Object(L.a)(ae,se)?H(Object(B.a)(Object(R.f)({channelId:se,tabId:S.a.Messages,startTs:$}))):Pe($?Object(B.a)(Object(R.R)(se,$,$)):Object(B.a)(Object(R.k)(se)));return n.a.resolve()}return H(Object(c.a)({teamId:ne,id:se,startTs:$}))});W.meta={name:"createThunk",key:"createThunkjumpViaRoutes",description:"Jumps to a message in another workspace via navigateToRoute"};const D=Object(a.c)("Jumps to a message in the client",(H,Z,G,te)=>{let{channelId:se,ts:$,threadTs:X,teamId:q,subdomain:Y,shouldOpenInTile:ee,listRecordId:w,dangerouslyOverrideRouting:ne=!1}=G;const ae=Z(),de=Object(r.d)(ae,se,!1),ge=Object(o.g)(ae);let le=!1;if(ge){const je=Object(f.s)(ae,ge),_e=je&&je.domain;le=q===ge||Y===_e}const Q=Object(_.a)({teamId:q,subdomain:Y}),oe=(de&&ge?Object(j.a)({state:ae,channel:de,currentTeamId:ge,preferredTeamId:Q??void 0}):void 0)||le&&ge||Q;if(!oe){const je=Object(p.Fb)(ae,de);if(!je||Object(E.i)())return n.a.reject(new Error("jumpToMessage: Could not find suitable target workspace"));H(Object(c.a)({id:se,teamId:je}))}let me=!1,be=!1,Se;const Pe=Object(d.c)(ae,se);if(de&&Pe){Se=Object(z.b)(se);const je=Object(A.e)(ae,Se||"");me=!!je&&Object(t.a)(je)&&(Object(N.u)(je)||Object(N.h)(je)||Object(N.kb)(je)),be=Object(N.o)(je)}let Ue=X;if(me&&!Ue&&(Ue=$),be&&Se&&!Ue)return H(Object(B.a)(Object(R.L)({listId:Se}))),H(Object(x.a)({listId:Se,recordId:w,threadTs:Ue})),n.a.resolve();const{shouldUseNavigate:Fe}=te(T.a);if(!Fe){const je=Object(s.d)(ae,"thread_root_permalink")==="on";H(Ue&&(je||me||Ue!==$)?Object(b.a)({focusKey:O.c.THREAD_MESSAGE_LIST,focusMetadata:{params:{threadId:Object(v.c)(se,Ue),replyTs:$}}}):Object(b.a)({focusKey:O.c.MESSAGE_PANE_MESSAGE_LIST,focusMetadata:{id:se,uiState:{ts:$}}}))}return ee?(H(Ue?Object(I.a)({viewId:"thread",params:{threadId:Object(v.c)(se,Ue),replyTs:$,highlightTs:$}}):Object(I.a)({viewId:se,params:$?{startTs:$,highlightTs:$}:{}})),n.a.resolve()):H(W({channelId:se,ts:$,threadTs:Ue,teamId:oe??void 0,subdomain:Y,isSpaceship:me,dangerouslyOverrideRouting:ne}))});D.meta={name:"createThunk",key:"createThunkjumpToMessage",description:"Jumps to a message in the client"},i.a=D},EIL7:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("5IZy");function t(a){return Object(n.a)({state:a})}h(t,"getClogger")},EIVZ:function(J,i,e){J.exports=e.p+"slack_logo_mark-01b46d3.svg"},Ec0U:function(J,i,e){"use strict";e.d(i,"a",function(){return Nn});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("/MKj"),l=e("ifKl"),o=e("OZf9"),f=e("zmn3"),r=e("oSkh"),m=e("zxER"),c=e("RVJP"),u=e("Atq3"),d=e("gNhz"),p=e("E3dU"),v=e("xwCZ"),g=e("9Gfp"),O=e("ktUG"),b=e("+oez"),y=e("dmdh"),C=e("7ibc"),_=e("x6tY"),j=e("bTgy"),E=e("hjzp"),M=e("E97Y"),T=e("pZC0"),P=e("K7jq"),B=e("YUBf"),R=e("mzsf"),U=e("4HNC"),K=e("CD4m"),V=e("nFQW"),z=e("Iy3M"),N=e("y/Pn"),A=e("FdVR"),x=e("beVI"),k=e("G0eX"),F=e("nNoG");const L=new F.b("share-dialog");function S(bn){let{channel:Xn}=bn;const vt=Object(m.c)(Tt=>Object(A.a)(Tt,Xn)),Je=Object(m.c)(x.g),et=Object(m.c)(Tt=>Object(x.s)(Tt,vt[0])),mt=Object(k.h)(et),Pt=vt.length;return!Object(N.a)(Xn)||Pt===0||!Je||!et?null:Pt===1?L.rt("{otherTeamName}",{otherTeamName:mt}):L.rt("{otherTeamName}, and {numOtherTeams} {numOtherTeams, plural, =1 {other team} other {other teams}}",{numOtherTeams:Pt-1,otherTeamName:mt})}h(S,"ShareDialogSharedChannelText");var I=S,W=e("FXMY"),D=e("Z6bF"),Z=h(bn=>{let{file:Xn,channelGrant:vt,channel:Je}=bn;var et;const mt=(et=Xn.shares)===null||et===void 0?void 0:et.private,{fileId:Pt}=Object(D.a)(Je);if(!mt||!Pt)return vt.access;const Tt=Object(E.a)(Pt);return!!Object.keys(mt).find(zt=>zt===Tt)&&mt[Tt][0].access===d.a.Write||vt.access===d.a.Write?d.a.Write:vt.access},"getEffectiveAccessForChannel"),G=e("68qM"),te=e("q3qm"),se=e("O86Y"),$=e("hUMe"),X=e("ZobM"),q=e("6Tgc"),Y=e("FRd1"),ee=e("/CFe");const w=new F.b("share-dialog"),ne={elementName:"quip_org_access_select",onOptionSelected:{enableClogAction:!0,setElementValueOnAction:!0}},ae={onOptionSelected:{action:O.UiAction.SELECT}};function de(bn){let{file:Xn,onOrgSharingChange:vt=l.a,modifiedOrgSharingSetting:Je,hasOrgSharingSettingError:et=!1,isSlackList:mt,isOrgWideTemplate:Pt}=bn;const Tt=Object(m.c)(x.g),Qt=Object(m.c)(se.i),dt=Object(m.c)(kn=>Object(c.d)(kn,"canvas_templates_admin")==="on"),zt=Object(m.c)(kn=>Object(_.yb)(Xn,kn)),At=dt&&zt&&Pt,Qe=h(()=>{switch((Xn==null?void 0:Xn.org_or_workspace_access)||"none"){case"read":return te.a.Viewer;case"write":return te.a.Editor;default:return te.a.None}},"getInitialFileCrossWorkspaceSetting"),nt=Qe(),[_t,Et]=Object(n.useState)(Je||Qe),[kt,jn]=Object(n.useState)(et),pn={Restricted:w.t("Restricted"),Viewer:w.t("Can view"),Edit:w.t("Can edit")},An=Object(n.useMemo)(()=>[{label:pn.Restricted,value:te.a.None},{label:pn.Viewer,value:te.a.Viewer},{label:pn.Edit,value:te.a.Editor}],[pn.Edit,pn.Restricted,pn.Viewer]);Object(G.a)(()=>{Et(Je||nt)},[Je,Xn==null?void 0:Xn.org_or_workspace_access]),Object(n.useEffect)(()=>{jn(et)},[et,jn]);const lt=Object(n.useMemo)(()=>kt?[{id:"org_sharing_api_error",message:w.t("Unable to change permissions right now. Refresh and try again later.")}]:void 0,[kt]);if(!Xn||!Object(_.Yb)(Xn))return null;const Dn=h(kn=>{if(!Tt||!kn||!kn.value)return;const wn=kn.value!==nt?kn.value:void 0;vt({orgSharingSetting:wn}),Et(kn.value)},"handleOrgShareSettingToggle"),fn=h(function(kn){let wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const fa=h(()=>mt?w.t("This list can only be accessed by people or channels it\u2019s shared with."):zt?w.t("This template can only be accessed by people or channels it\u2019s shared with.",{fallbackHash:"bb3ac1b615309c9a402452c742a7c75ba2062856"}):w.t("This canvas can only be accessed by people or channels it\u2019s shared with."),"restrictedAccessSubtext"),In=h(()=>mt?w.rt("Anyone from {teamName} with the link can view this list.",{teamName:t.a.createElement($.a,{id:Qt})}):zt?w.rt("Anyone from {teamName} can view this template.",{fallbackHash:"aaef80c64babfb01375a4cd4cc0cb829d3d112cf",teamName:t.a.createElement($.a,{id:Qt})}):w.rt("Anyone from {teamName} with the link can view this canvas.",{teamName:t.a.createElement($.a,{id:Qt})}),"viewerAccessSubtext");In.displayName="viewerAccessSubtext";const ha=h(()=>mt?w.rt("Anyone from {teamName} with the link can edit and add comments to this list.",{teamName:t.a.createElement($.a,{id:Qt})}):zt?w.rt("Anyone from {teamName} can edit and add comments to this template.",{fallbackHash:"b861dd6bbeae7cae99ec5670862e42ece592202f",teamName:t.a.createElement($.a,{id:Qt})}):w.rt("Anyone from {teamName} with the link can edit and add comments to this canvas.",{teamName:t.a.createElement($.a,{id:Qt})}),"editAccessSubtext");ha.displayName="editAccessSubtext";const jt=[{accessLabel:pn.Restricted,subtext:fa(),icon:t.a.createElement(X.a,{name:"lock",size:"20"})},{accessLabel:pn.Viewer,subtext:In(),icon:t.a.createElement(X.a,{name:"eye-open",size:"20"})},{accessLabel:pn.Edit,subtext:ha(),icon:t.a.createElement(X.a,{name:"edit",size:"20"})}].find($t=>$t.accessLabel===kn.label)||{accessLabel:"",subtext:"",icon:""};return t.a.createElement("div",{className:"padding_top_25 padding_bottom_25 display_flex"},t.a.createElement("span",{className:"padding_right_100 align_self_center"},jt.icon),t.a.createElement("div",null,t.a.createElement("span",{className:"p-share_dialog_share_locations__org_sharing_title"},jt.accessLabel),wn?null:t.a.createElement("div",{className:"p-share_dialog_share_locations__org_sharing_caption"},jt.subtext)))},"renderOptions");return fn.displayName="renderOptions",t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-share_dialog_share_locations__settings_group_header","data-qa":ee.b.SHARE_DIALOG_ORG_SHARING_TEAM},dt?w.rt("General access for everyone in {teamName}",{teamName:t.a.createElement($.a,{id:Qt})}):w.rt("Sharing in {teamName}",{teamName:t.a.createElement($.a,{id:Qt})})),t.a.createElement(Y.a,{autoClogProps:ne,actionProps:ae},t.a.createElement(q.a,{className:"p-share_dialog_share_locations__org_sharing__select",selectId:"org_sharing_level",options:An,width:"100%",classPrefix:"p-share_dialog_share_locations__org_sharing",onOptionSelected:Dn,renderOption:kn=>fn(kn,!1),renderSelectedOption:kn=>fn(kn,!0),selectedOption:An.find(kn=>kn.value===(At?te.a.Viewer:_t)),optionsRowHeight:64,errors:lt,isDisabled:At})),At&&t.a.createElement("div",{className:"p-share_dialog_share_locations__settings_org_wide_template_text"},dt?w.rt("Adding to <b>Created by {teamName}</b> automatically grants everyone <b>Can view</b> permission. People and channels who have been individually granted <b>Can edit</b> permissions will still have edit access.",{teamName:t.a.createElement($.a,{id:Qt})}):""))}h(de,"ShareDialogOrgSharingDropdown");var ge=e("ndUn"),le=e("8eQr");const Q=new F.b("share-dialog");var ie=t.a.memo(h(function(Xn){let{file:vt}=Xn;const Je=Object(_.db)(vt),et=Object(m.c)(x.i),mt=Object(le.a)(et==null?void 0:et.id,Je);if(!vt||Je.length<=1)return null;const Pt=h(Tt=>{let{teamId:Qt}=Tt;return t.a.createElement(ge.a,{id:Qt,key:Qt,"data-qa":"share_dialog_connected_team_entity"})},"renderTeamRow");return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-share_dialog_share_locations__settings_group_header bold"},Q.t("Organizations")),mt.map(Tt=>Pt({teamId:Tt})))},"ShareDialogConnectedOrgList")),oe=e("3V+Q"),me=e("Ws5+"),be=e("gZuW"),Se=e("GMcg");const Pe=new F.b("share-dialog");var Ue=t.a.memo(h(function(Xn){let{file:vt,onOrgTemplateSettingChange:Je=l.a,hasOrgTemplateSettingError:et}=Xn;const mt=Object(m.c)(se.i),Pt=Object(m.c)(Et=>Object(c.d)(Et,"canvas_templates_admin")==="on"),Tt="publish_org_template_checkbox",Qt=Object(m.c)(Et=>Object(j.a)(Et,vt)),[dt,zt]=Object(n.useState)(Qt),At=Object(n.useCallback)(Et=>{const kt=!!Et.target.checked;zt(kt),Je(kt!==Qt?kt:void 0)},[Qt,Je]),Qe=Object(m.c)(Et=>Object(_.yb)(vt,Et)),nt=Object(m.c)(Et=>Object(_.xb)(vt,Et)),_t=Object(m.c)(Et=>Object(Se.a)(Et,vt.id));return!Pt||!vt||!Qe||nt||_t?null:t.a.createElement(t.a.Fragment,null,t.a.createElement(oe.b,{className:"no_margin",text:Pe.rt("Add this template to the <b>Created by {teamName}</b> section in the template gallery for everyone in your organization.",{teamName:t.a.createElement($.a,{id:mt})}),type:"inline",cursor:"pointer","data-qa":"publish_org_template_label"},t.a.createElement(me.a,{id:Tt,name:Tt,checked:dt,onChange:At,"data-qa":Tt})),et&&t.a.createElement(be.a,null,Pe.t("Unable to save template setting. Refresh and try again later.")))},"ShareDialogOrgTemplateCheckbox")),Fe=e("dlm8");const je=new F.b("share-dialog");function _e(bn){let{channelId:Xn}=bn;var vt;const Je=Object(m.c)(et=>{var mt,Pt;return(vt=(mt=Object(Fe.d)(et,Xn))===null||mt===void 0||(Pt=mt.counts)===null||Pt===void 0?void 0:Pt.member_count)!==null&&vt!==void 0?vt:0});return Je===0?null:je.rt("{count, plural, =1 {# person} other {# people}}",{count:Je})}h(_e,"ShareDialogChannelMembershipText");var pe=e("SgHf"),fe=e("2K8U"),Ee=e("Zbwg"),ye=e("Tsh7");const Te=new F.b("share-dialog");var Oe;(function(bn){bn.Update="update_permission_error",bn.Revoke="revoke_permission_error"})(Oe||(Oe={}));function Ce(bn){let{error:Xn,className:vt,updateLabel:Je}=bn;const et=Xn===Oe.Update&&Je?Je:Te.t("Remove");return t.a.createElement(ye.d,{tip:Xn===Oe.Update?Te.t("Unable to change access level. Refresh and try again later."):Te.t("Unable to remove access. Refresh and try again later."),"data-qa":"canvas_access_management_tooltip"},t.a.createElement("span",{className:Object(a.default)(vt,"sk_raspberry_red no_wrap"),"data-qa":"canvas_access_management_error"},t.a.createElement(X.a,{inline:!0,name:"warning"})," ",et))}h(Ce,"CanvasAccessErrorEntity");var ce=e("aCzs"),he=e("eUIW"),Me=e("52Wj"),Ae=e("Yauy");const xe=new F.b("share-dialog"),Re={onOptionSelected:{action:O.UiAction.SELECT}},Ge={uiComponentName:O.UiComponentName.QUIP_PERMISSIONS_ACCESS_SELECT,uiComponentVariant:"access_management",elementName:"quip_permissions_access_select_access_management_option",onOptionSelected:{enableClogAction:!0,setElementValueOnAction:!0}};function ze(bn){let{fileId:Xn,entityId:vt,canUpdateUserPermission:Je,currentAccess:et,onPermissionChange:mt,modifiedAccess:Pt,onSelectRevoke:Tt,hasUpdateError:Qt,hasRevokeError:dt}=bn;const zt=Object(Ee.a)(vt),At=Object(m.b)(jt=>Object(y.e)(jt,Xn)),Qe=Object(_.Hb)(At),nt=Object(m.c)(jt=>Object(v.g)(jt,vt)),_t=Object(m.c)(jt=>Object(p.d)(jt,vt)),Et=Object(m.c)(jt=>Object(Ae.t)(jt,_t)||""),kt=[{label:xe.t("Can edit"),value:d.a.Write,overrides:{className:"padding_right_25"}}],jn=zt&&!Qe||!zt&&Je===ce.a.CAN_UDPATE,pn=xe.t("Can view");let An;jn||(An=xe.t("To change this, go to general permissions."),zt||(Je===ce.a.CANNOT_DOWNGRADE_CHANNEL?An=xe.t("This person has edit access through a certain channel."):Je===ce.a.CANNOT_DOWNGRADE_ORG_EDIT&&(An=xe.t("Based on general permissions, anyone can edit.")))),kt.push({label:jn?pn:t.a.createElement("div",null,pn,t.a.createElement("br",null),An),value:jn?d.a.Read:"none",isDisabled:!jn,height:jn?void 0:65,overrides:{className:jn?"padding_right_25":"p-canvas_access_management_select__option--disabled"}}),kt.push({label:xe.t("Remove"),value:"revoke",overrides:{className:"p-canvas_access_management_select__option--danger"}});const lt=Pt?kt.find(jt=>jt.value===Pt):kt.find(jt=>jt.value===et),[Dn,fn]=Object(n.useState)(lt);let kn;Qt?kn=Oe.Update:dt&&(kn=Oe.Revoke);const[wn,fa]=Object(n.useState)(kn),In=Object(n.useCallback)(jt=>{mt({access:jt.value,entityId:vt,currentAccess:et}),jt.value!==(Dn==null?void 0:Dn.value)&&(jt.value===d.a.Write||jt.value===d.a.Read)?fn(jt):jt.value==="revoke"&&Tt({entityId:vt})},[fn,Dn,vt,mt,et,Tt]);if(Object(G.a)(()=>{Pt||fn(lt)},[Pt,et]),Object(n.useEffect)(()=>{fa(kn)},[fa,kn]),wn&&Dn)return t.a.createElement(Ce,{error:wn,updateLabel:Dn.label});let ha=90;jn||(ha=zt?180:200);let Dt=xe.t("Permissions",{fallbackHash:"d06d55570938d12f87db3bf2b48caa9de22d9c67",fallbackHashNs:"developer_app_settings"});return Object(he.a)(vt)?(Dt=`${Object(Me.e)(nt)} `,Dt+=xe.t("Manage permissions",{fallbackHash:"3fcf22765c2fb9f5b1ab2dbb880162bc4e87e1f0",fallbackHashNs:"channel_details"})):zt&&(Dt=`${Et} `,Dt+=xe.t("Channel permissions",{fallbackHash:"c0e3a558f6a3e9da5912ebf5706ecb6d00d8cd31",fallbackHashNs:"channel_details"})),t.a.createElement(Y.a,{autoClogProps:Ge,actionProps:Re},t.a.createElement(pe.d,{key:`canvas-access-select-${vt}-${kt.length}`,selectId:`canvas-access-select-${vt}`,className:"p-canvas_access_management_select",size:fe.f.SMALL,width:"auto",minOptionsListWidth:ha,options:kt,selectedOption:Dn,onOptionSelected:In,"data-qa":"canvas_access_management_select",ariaLabel:Dt}))}h(ze,"CanvasAccessManagementSelect");var Ie=e("Vzni"),Ne=e("VkPA"),Ke=e("iBeP"),Ve=e("2yT+"),$e=e("A36J");const tt=h(bn=>{const Xn=Object(s.useDispatch)(),[vt,Je]=Object(n.useState)([]),et=Object(m.c)(mt=>Object(Se.a)(mt,bn.id));return Object(n.useEffect)(()=>{if(!Object(_.Yb)(bn)||et)return;const mt=Xn(Object($e.a)({fileId:bn.id,reason:"share-dialog-share-locations"}));return mt==null||mt.then(Pt=>{let{ok:Tt,userIdUpdateMap:Qt}=Pt;Tt&&Je(Qt)}),()=>{mt==null||mt.cancel()}},[Xn,bn,et]),vt},"useCanvasCanUpdateUserLevelPermissions");var qe=e("sGXp"),ut=e("Fn/R"),rt=e("rZ8V"),yt=e("djjd"),Mt=e("5BbJ");const st=Object(n.memo)(bn=>{let{channelId:Xn}=bn;const vt=Object(m.c)(mt=>Object(p.d)(mt,Xn)),Je=Object(m.c)(mt=>Object(Mt.a)(mt,{channel:vt})),et=Object(m.c)(mt=>Object(yt.a)(Object(p.a)(mt),vt)&&Object(rt.n)(mt));return!et||et&&!Je?null:t.a.createElement(t.a.Fragment,null,Je,"\u2002\xB7\u2002")});var Vt=e("9hLx"),Wt=e("qDEp"),Xt=e("iUFw"),Ut=e("BHH9"),Nt=e("Qyb6");const Ft=new F.b("share-dialog"),_n={width:"100%",minWidth:"0"};var cn=t.a.memo(h(function(Xn){let{file:vt}=Xn;const Je=Object(s.useDispatch)(),et=Object(n.useCallback)(()=>{Je(Object(Nt.a)({templateId:Ut.a.ADD_RECORD_TO_LIST_NO_NOTIFICATION,list:vt}))},[vt,Je]),mt=Ft.t("Share as a form"),Pt=Ft.t("Anyone can contribute - even without List access"),Tt=Object(n.useMemo)(()=>t.a.createElement(Wt.d,{style:_n,onClick:et},t.a.createElement("div",{className:"display_flex align_items_center"},t.a.createElement(X.a,{name:"edit"}),t.a.createElement("div",{className:"display_flex flex_direction_column padding_left_75"},t.a.createElement("div",{className:"bold"},mt),t.a.createElement("div",null,Pt)))),[Pt,et,mt]),Qt=Ft.t("Start"),dt=Object(n.useMemo)(()=>t.a.createElement(Xt.d,{type:"outline",size:"small",onClick:et},Qt),[et,Qt]);return t.a.createElement(U.a,{size:qe.c.small,primaryContent:Tt,secondaryContent:dt})},"CreateWorkflowFormCTAListEntity"));const Rn=new F.b("share-dialog"),Vn={width:"100%",minWidth:"0"};var ea=t.a.memo(h(function(Xn){let{file:vt}=Xn;const Je=Object(s.useDispatch)(),et=Object(n.useCallback)(()=>{Je(Object(Nt.a)({templateId:Ut.a.ADD_RECORD_TO_LIST_NO_NOTIFICATION,list:vt}))},[vt,Je]),mt=Rn.t("New form"),Pt=Object(n.useMemo)(()=>t.a.createElement(Wt.d,{style:Vn,onClick:et},t.a.createElement("div",{className:"display_flex align_items_center"},t.a.createElement("div",{className:"p-share_dialog_share_locations__new_form_plus"},t.a.createElement(X.a,{name:"plus"})),t.a.createElement("div",{className:"bold padding_left_25"},mt))),[mt,et]);return t.a.createElement(U.a,{size:qe.c.small,primaryContent:Pt})},"CreateNewWorkflowFormListEntity")),Lt=e("NjAx");function vn(bn){return Object(c.d)(bn,"canvas_templates_admin")==="on"&&Object(Lt.N)(bn)}h(vn,"canUserPublishCanvasOrgTemplates");const Wn=new F.b("share-dialog"),Nn="unknown_private_channel_count_id",ia={eventId:O.EventId.QUIP_SHARE,onClick:{enableClogAction:!0}};var Ea=i.b=t.a.memo(h(function(Xn){let{file:vt,isSlackDoc:Je,isSlackList:et,initialTab:mt,onPermissionChange:Pt=l.a,modifiedPermissions:Tt,onOrgSharingChange:Qt,modifiedOrgSharingSetting:dt,handleOnSelectRevoke:zt=l.a,permissionsFailedEntityIds:At,hasOrgSharingSettingError:Qe,hasOrgTemplateSettingError:nt,onOrgTemplateSettingChange:_t,onSwitchTabsWithChanges:Et,onTabChange:kt,tabsRef:jn,revokeFailedEntityIds:pn}=Xn;const An=Object(m.c)(C.e),lt=Object(m.c)(gt=>Object(c.d)(gt,"canvas_templates_admin")==="on"),Dn=Object(m.c)(gt=>Object(_.yb)(vt,gt)),fn=Object(m.c)(gt=>Object(_.xb)(vt,gt)),kn=Object(m.c)(vn),wn=Object(m.c)(rt.n),fa=Object(s.useDispatch)(),In=Object(m.c)(g.a),ha=Object(m.b)(gt=>{var Rt;const mn={public:[],private:[]};return Object(o.a)((Rt=vt.shares)===null||Rt===void 0?void 0:Rt.private,(ca,da)=>{const _a=Object(p.d)(gt,da);if(An&&Object(T.c)(gt,da)){const Oa=Object(E.b)(da),Ua=Object(y.e)(gt,Oa).linked_channel_id,Va=Object(p.d)(gt,Ua);if(Ua&&Va)if(Object(M.k)(Va)){var zn,na;!!(!((zn=vt.shares)===null||zn===void 0)&&zn.private?Object.keys((na=vt.shares)===null||na===void 0?void 0:na.private):[]).find(xa=>xa===Ua)||mn.public.push({channelId:Ua,access:ca[0].access})}else{var ga,ma;!!(!((ga=vt.shares)===null||ga===void 0)&&ga.public?Object.keys((ma=vt.shares)===null||ma===void 0?void 0:ma.public):[]).find(xa=>xa===Ua)||mn.public.push({channelId:Ua,access:ca[0].access})}}else if(_a&&Object(M.k)(_a)){const Oa=Z({file:vt,channelGrant:ca[0],channel:_a});mn.private.push({channelId:da,access:Oa})}}),mn}),Dt=Object(_.Z)(vt),jt=Object(m.b)(gt=>{var Rt;const mn=[];return Object(o.a)((Rt=vt.shares)===null||Rt===void 0?void 0:Rt.public,(ca,da)=>{const _a=Object(p.d)(gt,da);if(_a){const zn=Z({file:vt,channelGrant:ca[0],channel:_a});mn.push({channelId:da,access:zn})}}),mn}),$t=Object(m.b)(gt=>Object(_.D)(vt).map(Rt=>{const mn=Object(v.g)(gt,Rt.user_id),ca=Object(P.a)(mn),da=Object(ut.a)(mn);return{...Rt,isExternalMember:ca,isAppOrBotMember:da}})),Tn=tt(vt),dn=Object(m.c)(gt=>Object(P.a)(Object(v.g)(gt,vt.user))),Un=Object(m.c)(gt=>Object(W.a)(gt,{file:vt})),Bn=Object(_.Yb)(vt),Kt=Object(_.hb)(vt),Kn=Dt.length+ha.public.length+ha.private.length+(Bn?Kt:0),aa=Kn>0,ln=!Un&&Object(_.Yb)(vt),xt=Object(_.db)(vt).length>1||Un,sn=lt&&Dn&&!fn&&kn,nn=$t.filter(gt=>!gt.isAppOrBotMember).length,Ln=$t.filter(gt=>gt.isAppOrBotMember).length,Pn=Ln>0,yn=Object(Vt.c)(vt.id).length,Zt=[{id:Ve.a.Channels,show:aa,autoClogProps:{elementName:"canvas_share_dialog_channels"}},{id:Ve.a.People,show:Dn?!!nn:!0,autoClogProps:{elementName:"canvas_share_dialog_people"}},{id:Ve.a.Integrations,show:Pn||et,autoClogProps:{elementName:"canvas_share_dialog_integrations"}},{id:Ve.a.Settings,show:ln||xt,autoClogProps:{elementName:"canvas_share_dialog_general"}}].filter(gt=>!!gt.show),qn=mt&&Zt.find(gt=>gt.id===mt)?mt:Zt[0].id,ta=Object(m.c)(gt=>Object(j.a)(gt,vt)),[la,Yn]=Object(n.useState)(qn),[Jt,Qn]=Object(n.useState)(ta),Zn=Object(n.useCallback)(gt=>{gt!==la&&(Yn(gt),kt&&kt(gt))},[kt,la]),Hn=Object(n.useCallback)(gt=>Et?!Et(gt):!0,[Et]),Sa=Object(n.useCallback)(gt=>{const Rt=ta;Qn(ta&&gt===void 0||!ta&&gt===!0),_t&&_t(gt,Rt)},[ta,_t]),Ca=Wn.t("{count, plural, =1 {# restricted channel} other {# restricted channels}}",{count:Kt}),La=Object(n.useMemo)(()=>({name:Ca,is_channel:!0,is_private:!0,id:"private"}),[Ca]),Gt=h(()=>!et||yn?null:t.a.createElement(cn,{file:vt}),"renderCreateWorkflowFormCTA");Gt.displayName="renderCreateWorkflowFormCTA";const Ct=Object(_.O)(vt),It=Je||et;if((!Ct||!Ct.length)&&!It)return null;const on=h(gt=>{let{entityId:Rt,channelCount:mn}=gt;zt({entityId:Rt,unknownPrivateChannelCount:mn})},"onSelectRevoke"),Sn=h(gt=>{on({entityId:gt})},"onClickRevoke"),He=h(()=>{on({channelCount:Kt})},"onClickRevokeNonmemberPrivateChannel"),re=Wn.t("Remove"),ue=t.a.createElement("span",{className:"p-share_dialog_share_locations__conversation_entity c-base_list_entity"},re),ve=Wn.t("Remove access"),De=Wn.t("Remove {count, plural, =1 {# restricted channel} other {# restricted channels}} from this canvas?",{count:Kt}),We=h(gt=>{let{revokeNonmemberPrivateChannel:Rt,id:mn,elementNameSuffix:ca}=gt;return t.a.createElement("div",{className:Object(a.default)({"display_flex align_items_baseline":Rt,"c-base_list_entity__secondary_content":Rt})},Rt?ue:null,t.a.createElement(ye.d,{tip:ve,hideFromScreenReader:!0},t.a.createElement(V.a,{onClick:()=>Rt?He():Sn(mn),"aria-label":Rt?De:ve,className:"p-share_dialog_share_locations__revoke_button","data-qa":"p-share_dialog_share_locations__revoke_button",autoClogProps:{uiComponentName:O.UiComponentName.QUIP_PERMISSIONS_REVOKE,uiComponentVariant:`revoke_${ca}`,elementName:"quip_permissions_revoke_button",onClick:{enableClogAction:!0}},icon:"times-small"})))},"getRevokeButton"),we=h(gt=>{const Rt=Tn.find(mn=>{let{userId:ca}=mn;return ca===gt});return Rt?Rt.canUpdate:ce.a.CAN_UDPATE},"getUserLevelUpdatePermission"),Be=h(gt=>{let{id:Rt,rowAccess:mn,elementNameSuffix:ca="other",renderRevokeButton:da=!0}=gt;if(!Rt||!mn)return null;let _a;if(mn===d.a.Owner||!Bn&&Rt===In)_a=t.a.createElement("div",{className:"no_wrap p-share_dialog_share_locations__user_level_access","data-qa":"p-share_dialog_share_locations__access_level"},Object(Ie.c)(mn));else if(Bn){const ga=Object(Ee.a)(Rt),ma=da,Oa=pn&&pn.includes(Rt),ka=ma?t.a.createElement(ze,{fileId:vt.id,entityId:Rt,canUpdateUserPermission:ga?void 0:we(Rt),currentAccess:mn,onPermissionChange:Pt,modifiedAccess:Tt&&Tt[Rt],onSelectRevoke:on,hasUpdateError:At&&At.includes(Rt),hasRevokeError:Oa}):t.a.createElement(t.a.Fragment,null,!Oa&&Object(Ie.c)(mn),!Oa&&da&&We({id:Rt,elementNameSuffix:ca}),Oa&&t.a.createElement(Ce,{error:Oe.Revoke}));_a=t.a.createElement("div",{className:Object(a.default)("display_flex align_items_center no_wrap",{"p-share_dialog_share_locations__user_level_access":!ga&&!ma}),"data-qa":"p-share_dialog_share_locations__access_level"},ka)}let zn;const na=fa(Object(b.a)({channelId:Rt}));return na&&(Object(N.a)(na)?zn=t.a.createElement(K.d,{size:"small",text:t.a.createElement(K.c,{withTruncationTooltip:!0},t.a.createElement(I,{channel:na}))}):zn=t.a.createElement(K.c,{withTruncationTooltip:!0},t.a.createElement(_e,{channelId:Rt}))),wn&&(zn=t.a.createElement(t.a.Fragment,null,t.a.createElement(st,{channelId:Rt}),zn)),t.a.createElement(R.b,{key:Rt,id:Rt,type:R.a.SMALL,secondaryContent:_a,className:Object(a.default)({"p-share_dialog_share_locations__conversation_entity":!0,"p-share_dialog_share_locations__conversation_entity_small":!0}),showPresence:!1,showSubtext:!1,inlineNameSuffix:zn,useShortMode:!0,showTruncatedChannelNameTooltip:!0})},"renderRow");Be.displayName="renderRow";const ke=h(()=>{const gt=[],Rt=Gt();return Rt&&gt.push(Rt),Object(o.a)($t,mn=>{if(mn.isAppOrBotMember&&mn.user_id!==vt.user){const ca=!dn&&mn.user_id!==In;gt.push(Be({id:mn.user_id,rowAccess:mn.access,elementNameSuffix:"user",renderRevokeButton:ca}))}}),et&&!Rt&&gt.push(t.a.createElement(ea,{file:vt})),gt},"renderIntegrations");ke.displayName="renderIntegrations";const Le=h(()=>{const gt=[];return Object(o.a)($t,Rt=>{if(!Rt.isAppOrBotMember&&Rt.user_id!==vt.user){const mn=!dn&&Rt.user_id!==In;gt.push(Be({id:Rt.user_id,rowAccess:Rt.access,elementNameSuffix:"user",renderRevokeButton:mn}))}}),gt},"renderUsers"),Ze=h(()=>{var gt;return An?Object(f.a)(jt,Rt=>{let{channelId:mn,access:ca}=Rt;return Be({id:mn,rowAccess:ca,elementNameSuffix:"public_channel",renderRevokeButton:!dn})}):Object(f.a)((gt=vt.shares)===null||gt===void 0?void 0:gt.public,(Rt,mn)=>{const ca=Rt[0].access||d.a.Write;return Be({id:mn,rowAccess:ca,elementNameSuffix:"public_channel",renderRevokeButton:!dn})})},"renderPublicChannels"),ot=h(()=>Object(f.a)(ha.public,gt=>Be({id:gt.channelId,rowAccess:gt.access,elementNameSuffix:"public_channel",renderRevokeButton:!dn})).concat(Object(f.a)(ha.private,gt=>Be({id:gt.channelId,rowAccess:gt.access,elementNameSuffix:"private_channel",renderRevokeButton:!dn}))),"renderPrivateChannels"),bt=Wn.t("{count, plural, =1 {This could be a private channel, or a channel in a workspace you don\u2019t have access to.} other {These could be private channels, or channels in a workspace you don\u2019t have access to.}}",{count:Kt}),ht=t.a.createElement(K.c,null,t.a.createElement(ye.d,{tip:bt,"data-qa":"p-share_dialog_share_locations__other_private_tooltip"},t.a.createElement("span",null,t.a.createElement(z.a,{channel:La,showFilledIcon:!0,"data-qa":"p-share_dialog_share_locations__channel_name"})))),Bt=h(()=>{if(!Kt||!Bn)return null;const gt=pn&&pn.includes(Nn),Rt=dn?null:t.a.createElement(t.a.Fragment,null,!gt&&We({revokeNonmemberPrivateChannel:!0}),gt&&t.a.createElement(Ce,{error:Oe.Revoke,className:"c-base_list_entity__secondary_content"})),mn=qe.d.dim;return t.a.createElement(U.a,{className:"p-share_dialog_share_locations__conversation_entity","data-qa":"p-share_dialog_share_locations__other_private_description",size:"small",primaryContent:t.a.createElement(K.d,{size:"small",text:ht,subtext:Rt,style:mn})})},"renderUnknownPrivateChannelCount");Bt.displayName="renderUnknownPrivateChannelCount";const Yt=t.a.createElement(r.a,null,gt=>{let{width:Rt,height:mn}=gt;return t.a.createElement(Ke.a,{width:Rt,height:mn},t.a.createElement(B.e,{className:"margin_top_125"},Gt(),Be({id:vt.user,rowAccess:d.a.Owner,elementNameSuffix:"user"}),Le()))}),Cn=t.a.createElement(r.a,null,gt=>{let{width:Rt,height:mn}=gt;return t.a.createElement(Ke.a,{width:Rt,height:mn},t.a.createElement(B.e,{className:"margin_top_125"},ke()))}),an=t.a.createElement(r.a,null,gt=>{let{width:Rt,height:mn}=gt;return t.a.createElement(Ke.a,{width:Rt,height:mn},t.a.createElement(B.e,{className:"margin_top_125"},Gt(),Ze(),ot(),Bt()))}),Mn=t.a.createElement(r.a,null,gt=>{let{width:Rt,height:mn}=gt;return t.a.createElement(Ke.a,{width:Rt,height:mn},t.a.createElement(B.e,{className:"p-share_dialog_share_locations__settings"},ln?t.a.createElement("div",{className:"p-share_dialog_share_locations__settings_group"},t.a.createElement(de,{file:vt,onOrgSharingChange:Qt,modifiedOrgSharingSetting:dt,hasOrgSharingSettingError:Qe,isSlackList:et,isOrgWideTemplate:Jt})):null,sn?t.a.createElement("div",{className:"p-share_dialog_share_locations__settings_group"},t.a.createElement(Ue,{file:vt,onOrgTemplateSettingChange:Sa,hasOrgTemplateSettingError:nt})):null,xt?t.a.createElement("div",{className:"p-share_dialog_share_locations__settings_group"},t.a.createElement(ie,{file:vt})):null))}),rn=Zt.map(gt=>{let Rt;switch(gt.id){case Ve.a.Channels:Rt={...gt,title:Wn.t("Channels"),content:an,titleCount:Kn};break;case Ve.a.People:Rt={...gt,title:Wn.t("People"),content:Yt,titleCount:nn};break;case Ve.a.Integrations:Rt={...gt,title:Wn.t("Integrations"),content:Cn,titleCount:Ln};break;case Ve.a.Settings:Rt={...gt,title:Wn.t("General"),"aria-label":`${Wn.t("General")} ${Wn.t("Permissions",{fallbackHash:"d06d55570938d12f87db3bf2b48caa9de22d9c67",fallbackHashNs:"developer_app_settings"})}`,content:Mn};break;default:Object(u.a)(gt.id)}return Rt}),xn=Zt.find(gt=>gt.id===la)?la:qn;return t.a.createElement(Ne.a,{className:"p-share_dialog_share_locations__tabs",tabs:rn,onTabChange:Zn,tabPanelClassnames:`p-share_dialog_share_locations__tabs--${xn}`,fullHeight:!0,currentTabId:xn,onTabWillChange:Hn,ref:jn,autoClogProps:ia})},"ShareDialogShareLocations"))},Ep1z:function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(t){return!t.is_public&&!t.is_external&&!t.is_shared}h(n,"isFilePrivateAndUnshared")},Epto:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("QLhP"),t=e("+tZp");function a(s){let{userId:l,botId:o,username:f,botProfile:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{member:m,bot:c}=Object(n.f)(s,{userId:l,botId:o,botProfile:r});return m?Object(t.a)(s,m):o&&f?f:c?c.name||"":!o&&!c&&f?f:""}h(a,"getMessageSenderNameFromState")},ExKK:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("bPB8"),s=e("BeL+"),l=e("SQ0V"),o=e("3l96"),f=e("+kJ4"),r=e("dmdh"),m=e("hRxb"),c=e("o2tK"),u=e("FXMY"),d=e("x6tY"),p=e("zxER"),v=e("nNoG"),g=e("zZZw"),O=e("ktUG"),b=e("z28c"),y=e("YUBf"),C=e("hUMe"),_=e("Trx9"),j=e("1TxD");const E=new v.b("drafts"),M={elementName:"external_quip_speed_bump",elementType:O.ElementType.MODAL},T={elementName:"cancel",elementType:O.ElementType.BUTTON,action:O.UiAction.CLICK,onClick:{enableClogAction:!0}},P={elementName:"share",elementType:O.ElementType.BUTTON,action:O.UiAction.CLICK,onClick:{enableClogAction:!0}};function B(V){let{onClose:z,onSend:N,teamIds:A,fileCount:x}=V;if(!Object(p.c)(b.a))return null;const F=A.map(L=>t.a.createElement(C.a,{key:L,id:L}));return t.a.createElement(_.a,{eventId:O.EventId.QUIP_EXTERNAL_FILE_SPEED_BUMP},t.a.createElement(y.a,{closeModal:z,overlayClassName:"p-message_pane_input_external_members_speed_bump",autoClogProps:M},t.a.createElement(y.l,{title:E.t("Some people won\u2019t be able to view {count, plural, =1 {this canvas} other {these canvases}}",{count:x})}),t.a.createElement(y.d,null,t.a.createElement(y.e,null,t.a.createElement("p",null,A.length?E.rt("{teams} {count, plural, =1 {owns this canvas} other {own these canvases}} so only people from {teamCount, plural, =1 {that organization} other {those organizations}} can grant others access.",{count:x,teams:Object(g.a)(F,{react:!0}),teamCount:A.length}):E.t("Another team owns {count, plural, =1 {this canvas} other {these canvases}} so only people from that organization can grant others access.",{count:x})))),t.a.createElement(y.g,null,t.a.createElement(y.h,{className:"p-message_pane_input_external_members_speed_bump__footer"},t.a.createElement(y.c,{type:"outline",onClick:z,autoFocus:!0,autoClogProps:T},E.t("Back")),t.a.createElement(y.c,{type:"primary",onClick:()=>{N(),z()},className:"p-message_pane_input_external_members_speed_bump__send",autoClogProps:P},E.t("Share Anyway"))))))}h(B,"MessagePaneInputExternalQuipFileSpeedBump"),B.displayName="MessagePaneInputExternalQuipFileSpeedBump";var R=B;const U=Object(l.c)("Show external quip doc reshare warning",(V,z,N)=>{let{delta:A,fileIds:x=[],onSend:k}=N;const F=z(),L=Object(c.a)(A),S=Object(a.a)(L.map(D=>Object(m.a)(F,D))),I=[];[...x,...S].forEach(D=>{const H=Object(r.e)(F,D);H&&Object(d.u)(H)&&I.push(H)});const W=I.filter(D=>Object(u.a)(F,{file:D}));if(W.length>0){const D=Object(s.a)(Object(a.a)(W.map(Z=>Z.user_team))),H=t.a.createElement(R,{fileCount:W.length,teamIds:D,onClose:()=>{V(Object(f.a)())},onSend:k});return V(Object(o.a)({element:H})),{didOpen:!0}}return{didOpen:!1}});U.meta={name:"createThunk",key:"createThunkmaybeOpenExternalQuipFileSpeedBump",description:"Show external quip doc reshare warning"};var K=i.a=U},EyGR:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("3l96"),s=e("SQ0V"),l=e("/MKj"),o=e("+kJ4"),f=e("YUBf"),r=e("nNoG");const m=new r.b("request_access_done"),c=h(()=>{const v=Object(l.useDispatch)(),g=Object(n.useCallback)(()=>{v(Object(o.a)())},[v]),O=m.t("Request sent"),b=m.t("You\u2019ll be notified once it\u2019s been shared with you"),y=m.t("Done");return t.a.createElement(f.a,{closeModal:g,centered:!0,shouldCloseOnOverlayClick:!0},t.a.createElement(f.i,null,t.a.createElement(f.l,null,t.a.createElement("h2",null,O))),t.a.createElement(f.d,null,t.a.createElement(f.e,null,b)),t.a.createElement(f.g,null,t.a.createElement(f.h,null,t.a.createElement(f.c,{type:"primary",onClick:g},y))))},"RequestAccessDoneModal");c.displayName="RequestAccessDoneModal";var u=c;const d=Object(s.c)("Opens the Request Access Done confirmation modal in client",(v,g)=>{v(Object(a.a)({element:t.a.createElement(u,null)}))});d.meta={name:"createThunk",key:"createThunkopenRequestAccessDoneModal",description:"Opens the Request Access Done confirmation modal in client"};var p=i.a=d},EzYr:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("JBL2"),l=e("x5Wd"),o=e("YUBf"),f=e("zBqE"),r=e("3H60"),m=e("vbN2"),c=e("/ZWZ"),u=e("csgs"),d=e("wQZu"),p=e("RMmo");function v(C){let{videoRef:_}=C;Object(n.useEffect)(()=>{const j=new p.a;return j.bindAll([{keys:["space"],handler:()=>{var E;return(E=_.current)===null||E===void 0?void 0:E.togglePlayPause()},filter:E=>{var M;return((M=E.target)===null||M===void 0?void 0:M.nodeName)==="BUTTON"},ignoreInputs:!0}]),()=>j.reset()},[])}h(v,"useKeyCommands");var g=v,O=e("c15m");function b(C){let{url:_,mimeType:j,videoClassNames:E,duration:M,additionalControls:T,modalHeaderChildren:P,onClose:B,onDurationChanged:R}=C;Object(s.a)();const U=Object(n.useContext)(l.a),[K,V]=Object(n.useState)(0),[z,N]=Object(n.useState)(M||0),[A,x]=Object(n.useState)(!1),k=Object(n.useRef)(null),F=Object(n.useMemo)(()=>({videoRef:k}),[k]),L=Object(n.useCallback)((D,H)=>{V(D),H!==void 0&&(N(H),R==null||R(H))},[R]),S=Object(n.useCallback)((D,H)=>{H&&N(H)},[]),I=Object(n.useCallback)(()=>x(!0),[]),W=Object(n.useCallback)(()=>x(!1),[]);return g(F),t.a.createElement(o.a,{fullscreen:!0,closeModal:B,className:"p-video_review_modal"},t.a.createElement(d.a.Provider,{value:F},t.a.createElement(u.a,null,P),t.a.createElement("div",{className:Object(a.default)("p-video_review_modal__video_container",E)},t.a.createElement(f.a,{url:_,mimeType:j,userIndex:0,storyIndex:0,autoPlay:!0,shouldComputeHeight:!1,ref:k,onProgress:L,onPlay:I,onPause:W,isMuted:!1,mediaPlaybackSpeed:1,onLoadedMetadata:S})),t.a.createElement(o.g,{className:"p-video_review_modal__footer"},t.a.createElement("div",{className:"p-video_review_modal__controls",role:"toolbar"},t.a.createElement(c.a,{duration:z,elapsed:K,interpolate:A,videoRef:k,isPlaying:A,autoFocus:U}),t.a.createElement(r.a,{isPlaying:A,videoRef:k}),t.a.createElement(m.a,{elapsed:K,duration:z}),T))))}h(b,"VideoReviewContents"),b.displayName="VideoReviewContents";var y=i.a=b},F0cE:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("SQ0V"),t=e("Yauy");const a=Object(n.c)("Get a display friendly name for a channel/IM/MPIM",(s,l,o)=>{const f=l();return Object(t.t)(f,o.channel,{publicChannelIncludeHashSign:o.publicChannelIncludeHashSign,imIncludeAtSign:o.publicChannelIncludeHashSign})});a.meta={name:"createThunk",key:"createThunkgetDisplayNameForChannel",description:"Get a display friendly name for a channel/IM/MPIM"}},F1Bf:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),s=e("SQ0V"),l=e("/Q0P"),o=e("Z9Pi");const f=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"xZS8"))),r=Object(s.c)("open the video recorder",(m,c,u)=>{let{draftId:d,channelId:p,threadTs:v,onContainerUpload:g,isStackable:O,forceTargetWindowId:b}=u;m(Object(l.a)({element:t.a.createElement(f,{draftId:d||Object(o.b)({channelId:p,threadTs:v}),onContainerUpload:g}),isStackable:O,forceTargetWindowId:b}))});r.meta={name:"createThunk",key:"createThunkopenVideoRecorder",description:"open the video recorder"},r.propTypes={draftId:a.default.string,channelId:a.default.string,threadTs:a.default.string},i.a=r},F3oq:function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(t){return t.recipient_team}h(n,"getInviteRecipientTeam")},F4sy:function(J,i,e){"use strict";e.d(i,"a",function(){return j}),e.d(i,"b",function(){return E});var n=e("fujP"),t=e("qMw6"),a=e("ZKjC"),s=e("gCYc"),l=e("Kn+X"),o=e("OtLZ"),f=e("Z0Cl"),r=e("NFsq"),m=e("Muja"),c=e("1myf"),u=e("AFNo"),d=e("E3dU"),p=e("9Gfp"),v=e("Yauy"),g=e("gVOt"),O=e("E97Y"),b=e("3ucF");const y=Object(u.c)(function(M){let{channelId:T}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!T)return[];const P=Object(b.a)(M),B=Object(d.d)(M,T);let R=[];if(B&&Object(O.g)(B)){const K=Object(g.a)(B);K&&(R=[K])}if(B&&Object(O.i)(B)){const K=Object(p.a)(M);R=Object(o.a)(Object(v.C)(B),K).sort()}const U=Object(f.a)(P,K=>{const V=Object(l.d)(K),z=[...Object(l.m)(K)].sort();return Object(r.a)(V,T)||!Object(n.a)(z)&&Object(m.a)(R,z)});return Object(c.a)(U,K=>Object(l.i)(K))});y.meta={name:"createSelector",key:"createSelectorgetScheduledDraftsInChannel",description:function(M){let{channelId:T}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!T)return[];const P=Object(b.a)(M),B=Object(d.d)(M,T);let R=[];if(B&&Object(O.g)(B)){const K=Object(g.a)(B);K&&(R=[K])}if(B&&Object(O.i)(B)){const K=Object(p.a)(M);R=Object(o.a)(Object(v.C)(B),K).sort()}const U=Object(f.a)(P,K=>{const V=Object(l.d)(K),z=[...Object(l.m)(K)].sort();return Object(r.a)(V,T)||!Object(n.a)(z)&&Object(m.a)(R,z)});return Object(c.a)(U,K=>Object(l.i)(K))}};var C=y;const _=[t.a.COMPOSER_VIEW,t.a.MESSAGE_PANE],j=Object(a.b)(function(M){let{channelId:T,draftId:P,viewContext:B}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!_.includes(B))return[];if(B===t.a.COMPOSER_VIEW){const R=Object(s.k)(M,P);if(!!Object(l.i)(R))return[R]}return C(M,{channelId:T})});j.meta={name:"createSelector",key:"createSelectorgetScheduledDraftsForContextBar",description:function(M){let{channelId:T,draftId:P,viewContext:B}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!_.includes(B))return[];if(B===t.a.COMPOSER_VIEW){const R=Object(s.k)(M,P);if(!!Object(l.i)(R))return[R]}return C(M,{channelId:T})}};const E=Object(a.b)(function(M){let{channelId:T,draftId:P,viewContext:B}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const R=j(M,{channelId:T,draftId:P,viewContext:B});return!Object(n.a)(R)});E.meta={name:"createSelector",key:"createSelectorshouldShowScheduledSendContextBarForChannel",description:function(M){let{channelId:T,draftId:P,viewContext:B}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const R=j(M,{channelId:T,draftId:P,viewContext:B});return!Object(n.a)(R)}}},F8ux:function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("WCk1"),t=e("fujP"),a=e("n3tL"),s=e("2XU3"),l=e("RVJP"),o=e("pOmS"),f=e("E3dU"),r=e("s4P+"),m=e("OqoL");const c=Object(n.a)("Calls files.share",function(u,d){let{fileIds:p,channelId:v,threadTs:g,broadcast:O,msgText:b,attachments:y,blocks:C,clientMsgId:_,xArgs:j,reason:E="",unfurls:M,permissions:T,skipDlpUserWarning:P=!1,fromShareModal:B=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const R=d(),U="files.share";Object(r.a)({state:R}).info("FILES",`Sharing files ${p==null?void 0:p.join(",")} for ${_}`);const K=!C&&b?Object(m.a)(d(),b):void 0,z=Object(l.d)(R,"workspace_context_for_netskope")==="on"?Object(o.a)(Object(f.d)(R,v)):void 0,N={...j,files:p,channel:v,thread_ts:g,broadcast:O,comment:K,attachments:y,client_msg_id:_,blocks:JSON.stringify(C),resharing_aware:!0,permissions:Object(t.a)(T)?void 0:T,skip_dlp_user_warning:P,from_share_modal:B};return M&&(N.unfurl=JSON.stringify(M)),z&&(N.client_context_team_id=z),u(Object(s.apiCall)({method:U,args:N,reason:E}))});c.meta={name:"createFetcher",key:"createFetchershareFile",description:"Calls files.share"},c.propTypes={fileId:a.default.string,fileIds:a.default.arrayOf(a.default.string),channelId:a.default.string,threadTs:a.default.string,msgText:a.default.string,attachments:a.default.arrayOf(a.default.object),clientMsgId:a.default.string,xArgs:a.default.object,unfurls:a.default.array,permissions:a.default.arrayOf(a.default.object),skipDlpUserWarning:a.default.bool,fromShareModal:a.default.bool}},FAxm:function(J,i,e){"use strict";e.d(i,"a",function(){return n});var n;(function(t){t.EMOJI="emoji",t.GIF="gif",t.GROUP="group",t.EMPTY_HEADER_ROW="empty-header-row"})(n||(n={}))},FC23:function(J,i,e){"use strict"},FENE:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("0LZ2");function t(a){const l=Object(n.a)(a).import("blots/inline");let o=h(class extends l{static create(r){return super.create(r)}static formats(r){return r.tagName==="TS-UNLINKED"}},"SlackUnlinked");return o.blotName="unlink",o.tagName=["ts-unlinked"],o}h(t,"getSlackUnlinkedFormat")},FFLn:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("BHdc"),l=e("E3dU"),o=e("ISSR"),f=e("Yauy"),r=e("E97Y"),m=e("nNoG"),c=e("CD4m"),u=e("qDEp"),d=e("sGXp"),p=e("AwEi"),v=e("fZDj"),g=e("4unc"),O=e("QpNZ"),b=e("TAzn"),y=e("9WS/"),C=e("fMsH");const _=new m.b("search"),j=h(P=>{let{className:B,onClick:R,children:U}=P;return R?t.a.createElement(u.d,{className:B,onClick:R},U):t.a.createElement("span",{className:B},U)},"MaybeUnstyledButton");function E(P){let{bestFormerName:B,className:R,channel:U,displayFormerNames:K=d.e.false,showPurpose:V=!0,truncatePurpose:z=!1,noLinkingInPurpose:N=!1,metadata:A,inlineNameSuffix:x,nameSuffix:k,showUnreadBadge:F=!1,badgeCount:L,onClick:S,memberCount:I,showTeam:W=!0,showTeamName:D=!0,useFilledIcon:H,showHashWhenLoading:Z=!0}=P;const G=Object(f.N)(U),te=Object(r.q)(U),se=V&&G&&!te,$=A&&!te,X=!!(F&&L&&L>0&&!te),q=!te,Y=I&&I>=0,ee="\xA0\xA0\xB7\xA0\xA0",w=Object(s.default)(R,"c-medium_channel_entity"),ne=Object(o.a)(U)?d.d.dim:void 0,ae=se?t.a.createElement(p.a,{"data-qa":"medium_channel_entity_purpose",text:G,noJumbomoji:!0,noLinking:N}):null;return t.a.createElement(c.d,{className:w,size:"medium",style:ne,text:t.a.createElement("div",{className:"c-medium_channel_entity__info"},t.a.createElement(j,{onClick:S,className:"c-medium_channel_entity__name"},te?t.a.createElement(v.a,{type:"unknown",size:"medium",showHash:Z}):t.a.createElement(t.a.Fragment,null,t.a.createElement(O.a,{channel:U,filled:!!H}),t.a.createElement(c.c,null,t.a.createElement(y.a,{channel:U,bestFormerName:B,displayFormerNames:K,inlineNameSuffix:x,showTeamName:D,showTeam:W})),t.a.createElement("span",{className:"c-medium_channel_entity__channel_suffix"},x&&t.a.createElement("span",{className:"c-medium_channel_entity__inline_name_suffix","data-qa":"medium_channel_entity_inline_name_suffix"},x)))),t.a.createElement("div",{className:"c-medium_channel_entity__channel_suffix","data-qa":"medium_channel_entity_name_suffix"},q&&k),X&&t.a.createElement(g.b,{count:L,className:"c-channel_entity__mentions c-channel_entity__mentions--medium c-channel_entity__mention--not-inverted",style:g.a.red})),subtext:t.a.createElement(c.b,null,Y&&t.a.createElement("span",{className:"c-medium_channel_entity__member_count","data-qa":"medium_channel_entity_member_count"},_.t("{count, plural, =1 {# member} other {# members}}",{count:I}),se&&ee),se&&z?t.a.createElement(b.a,{tip:ae,"data-qa":"medium_channel_entity_purpose_tooltip"},t.a.createElement("div",{className:"c-medium_channel_entity__channel_truncated_purpose","data-qa":"medium_channel_entity_purpose_tooltip_wrapper"},ae)):null,se&&!z?ae:null),metadata:$&&t.a.createElement(c.a,{"data-qa":"medium_channel_entity_metadata"},A)})}h(E,"MediumChannelEntityBase"),E.displayName="MediumChannelEntityBase";function M(P){return Object.prototype.hasOwnProperty.call(P,"channel")}h(M,"propsContainsChannel");const T=h((P,B)=>{const R=M(B)?B.channel:Object(l.d)(P,B.channelId),U=B.showUnreadBadge?B.badgeCount||Object(l.c)(P,R):void 0;return{channel:R,badgeCount:U}},"mapStateToProps");i.a=Object(a.a)(T)(E)},FFYQ:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("m5Yc");const{CHANNEL:t}=n.b,a=h(s=>{var l;return((l=s)===null||l===void 0?void 0:l.type)===t},"isRichTextChannelElement")},FGjW:function(J,i,e){"use strict";e.d(i,"a",function(){return x});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("mM05"),l=e.n(s),o=e("Cfcg"),f=e("nNoG"),r=e("XjEU"),m=e("6pED"),c=e("5/Zs"),u=e("xwCZ"),d=e("zm5I"),p=e("C3vN"),v=e("52Wj"),g=e("SQ0V"),O=e("Lgge"),b=e("CMT/"),y=e("f7Y4"),C=e("GV2D"),_=e("wFOH");const j=Object(g.c)("Open a SCDM with an external user and send them a message",(W,D,H)=>{let{memberId:Z,message:G,reason:te}=H;return W(Object(b.a)({memberIds:[Z],reason:te})).then(se=>{const $=se.id;W(Object(y.c)({channelId:$,delta:G})).then(()=>{const X=Object(_.a)(D(),$);W(Object(C.a)({channelId:$,startTs:X==null?void 0:X.ts}))})}).catch(se=>O.a.reject(se))});j.meta={name:"createThunk",key:"createThunkopenScdmAndSendMessage",description:"Open a SCDM with an external user and send them a message"};var E=e("+kJ4"),M=e("/XFw"),T=e("YUBf"),P=e("Tevt"),B=e("jWAO"),R=e("4oy+"),U=e("BUaB"),K=e("daiH");const V=new f.b("setup_page"),z={continueButton:{elementName:"speedbump_send_message",onClick:{enableClogAction:!0}},cancelButton:{elementName:"speedbump_keep_editing",onClick:{enableClogAction:!0}}},N={elementName:"send_message",onClick:{enableClogAction:!0}},A={elementName:"no_thanks",onClick:{enableClogAction:!0}};var x;(function(W){W.InvitingTeam="inviting_team",W.AcceptingTeam="accepting_team"})(x||(x={}));const k={MODAL_CONTENT:"promote_scdm_screen_modal_content",INVITER_ICON:"promote_scdm_screen_inviter_icon",MESSAGE_INPUT:"promote_scdm_screen_message_input",SUBMIT_BUTTON:"promote_scdm_screen_submit_button",ERROR_ALERT:"promote_scdm_screen_error_alert",CLOSE_LINK:"promote_scdm_screen_close_link"},F=h(W=>{let{connectInvite:D,teamToPrompt:H,targetUser:Z,isDarkMode:G,useJumbomoji:te,enterCreatesNewlinePref:se,setShouldShowSpeedBump:$,openScdmAndSendMessage:X,closeModal:q}=W;const Y=Object(n.useCallback)(()=>Z?V.t("Hi {inviterName}! \u{1F44B} I\u2019m waiting on the channel to be connected, but I\u2019m excited to work together in channel soon.",{inviterName:Object(r.b)(Object(p.t)(Z)||Object(v.e)(Z))}):V.t("Hi! \u{1F44B} I\u2019m waiting on the channel to be connected, but I\u2019m excited to work together in channel soon."),[Z]),[ee,w]=Object(n.useState)(!1),[ne,ae]=Object(n.useState)(!1),[de,ge]=Object(n.useState)(null),le=Object(n.useRef)(null);if(!D)return null;const Q=h(()=>{if(Z){var Pe;ae(!0);const Ue=new l.a(le==null||(Pe=le.current)===null||Pe===void 0?void 0:Pe.getContents().contents)||Y();ge(null),X(Z.id,Ue,"pendingScscMessage").then(()=>q()).catch(Fe=>{Fe.name==="user_not_found"?ge(V.t("Could not connect with this user.")):ge(V.t("Something went wrong. Try again please."))}).finally(()=>ae(!1))}},"onSubmit"),ie=h(()=>{var Pe;Object(m.a)(new l.a(le==null||(Pe=le.current)===null||Pe===void 0?void 0:Pe.getContents().contents),{trimWhitespace:!0})?ee&&w(!1):w(!0)},"onChange"),oe=h(()=>{se||$(!0)},"onEnterInput"),me=Object(a.default)("p-promote_scdm_screen__header",{"p-promote_scdm_screen__header--dark_mode":G}),be=Object(a.default)("p-promote_scdm_screen__send_button",{"p-promote_scdm_screen__send_button--aubergine":H===x.InvitingTeam}),Se=h(()=>t.a.createElement(T.k,{className:"p-promote_scdm_screen_speedbump",heading:V.t("Ready to send your message?"),description:null,continueButtonLabel:V.t("Send Message"),continueButtonIsLoading:ne,continueButtonType:"primary",onCancel:()=>$(!1),onContinue:Q,autoClogProps:z}),"renderSpeedBump");return Se.displayName="renderSpeedBump",t.a.createElement(t.a.Fragment,null,t.a.createElement(T.d,{"data-qa":k.MODAL_CONTENT},t.a.createElement("div",{className:me},t.a.createElement(K.a,{team:D.invite.inviting_team,user:D.invite.inviting_user,size:72,teamIconSize:26,shouldRenderTeamBadge:!0,allowTeamInitials:!0,allowDefaultProfileImage:!0,"data-qa":k.INVITER_ICON})),t.a.createElement("div",{className:"p-promote_scdm_screen__content"},t.a.createElement("div",{className:"p-promote_scdm_screen__title"},V.t("Let {inviterName} know you\u2019re here",{inviterName:Object(r.b)(Object(v.e)(Z))})),t.a.createElement("p",null,V.t("Start a DM conversation while you wait to join the channel.")),t.a.createElement(R.a,{enableEmojiButton:!0,numMaxLines:3,numMinLines:3,className:"align_left"},t.a.createElement(U.a,{ref:le,onTextChange:ie,onEnter:oe,completeOnMembers:!0,completeOnChannels:!0,completeOnEmoji:!0,completeOnLinks:!0,completeOnLists:!0,shouldCompleteOnTab:!0,position:"bottom",ariaLabel:V.t("Message"),initialText:Y(),placeholder:V.t("Write a message"),enableJumbomoji:te,focusOnMount:!0,useWysiwyg:!0,"data-qa":k.MESSAGE_INPUT})),de&&t.a.createElement(B.d,{level:B.b.error,className:"margin_bottom_125","data-qa":k.ERROR_ALERT},de),t.a.createElement(T.c,{onClick:Q,disabled:ee,loading:ne,className:be,type:"primary",size:"large","data-qa":k.SUBMIT_BUTTON,autoClogProps:N},V.t("Send Message")),t.a.createElement(P.a,{onClick:q,className:"p-promote_scdm_screen__close_cta","data-qa":k.CLOSE_LINK,autoClogProps:A},V.t("No, thanks")))),t.a.createElement(T.g,{className:"p-promote_scdm_screen__footer",renderSpeedBump:Se}))},"PromoteScdmScreen");F.displayName="PromoteScdmScreen";const L=h((W,D)=>{var H,Z,G;const te=D.teamToPrompt===x.AcceptingTeam&&(!((H=D.connectInvite)===null||H===void 0)&&H.acceptances)?(Z=D.connectInvite)===null||Z===void 0?void 0:Z.acceptances[0].accepting_user.id:(G=D.connectInvite)===null||G===void 0?void 0:G.invite.inviting_user.id;return{targetUser:te?Object(u.g)(W,te):null,isDarkMode:Object(d.a)(W)==="dark",useJumbomoji:Object(M.a)(W),enterCreatesNewlinePref:Object(c.a)(W)}},"mapStateToProps"),S=h(W=>({openScdmAndSendMessage:(D,H,Z)=>W(j({memberId:D,message:H,reason:Z})),closeModal:()=>W(Object(E.a)())}),"mapDispatchToProps");var I=i.b=Object(o.a)(L,S)(F)},FVTI:function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("3Hq1"),t=e("HI9p"),a=e("SQ0V"),s=e("YBS9"),l=e("eJek"),o=e("yxNq");const f=Object(a.c)("add a single reaction by a user for a reaction key",(r,m,c)=>{const{key:u,name:d,userId:p,url:v,fromUserAction:g}=c||{};if(Object(n.a)(u)||Object(n.a)(d)||Object(n.a)(p))return!1;const O={users:[],count:0,name:d,...Object(s.b)(m(),u,d)};v&&(O.url=v);const b=[...O.users];b.indexOf(p)===-1&&(b.push(p),O.count+=1);const y=Object(s.a)(m(),u)||[],C=Object(t.a)(y,j=>j.name===d);let _;if(C===-1)_=[...y,{...O,users:b}];else{if(Object(o.a)(O,y[C]))return!1;_=[...y.slice(0,C),{...O,users:b},...y.slice(C+1)]}return r(Object(l.a)({key:u,reactions:_,fromUserAction:g}))});f.meta={name:"createThunk",key:"createThunkaddReaction",description:"add a single reaction by a user for a reaction key"}},FVy1:function(J,i,e){"use strict";var n=e("zBqE");i.a=n.a},FXMY:function(J,i,e){"use strict";var n=e("ZKjC"),t=e("x6tY"),a=e("GMcg"),s=e("gnJq");const l=Object(n.b)((o,f)=>{let{file:r}=f;return!r||Object(s.a)(r)?!1:!!(Object(t.u)(r)&&Object(a.a)(o,r.id)||Object(t.kb)(r))});l.meta={name:"createSelector",key:"createSelectorisExternallyOwnedCanvas",description:(o,f)=>{let{file:r}=f;return!r||Object(s.a)(r)?!1:!!(Object(t.u)(r)&&Object(a.a)(o,r.id)||Object(t.kb)(r))}},i.a=l},FZE2:function(J,i,e){"use strict";e.d(i,"a",function(){return m}),e.d(i,"b",function(){return c});var n=e("NFsq"),t=e("qAkX"),a=e("mM05"),s=e.n(a),l=e("KENN"),o=e("TQ9f"),f=e("fR2/"),r=e("0qhH");function m(u){const d=u.reduce((v,g)=>{if(Object(o.a)(g)){const O=Object(o.c)(g);return O?v+O.length:v}if(Object(f.a)(g)){const O=Object(f.b)(g),b=Object(f.c)(g);return O==="UNVERIFIED"||Object(n.a)(Object(l.a)(),O)?b.length:v+(O?O.length:b.length)}if(Object(r.a)(g)){const O=Object(r.b)(g);return v+O.length}return v},0),p=Object(t.a)(u.ops)||{};return Object(r.a)(p)&&Object(r.b)(p).substr(-1)===`
`?d-1:d}h(m,"getMessageLengthForDelta");function c(u){if(!u||!u.length)return 0;const d=new s.a(u);return m(d)}h(c,"getMessageLengthForMsgOps")},FaiB:function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(t){return t.offlineOutbox}h(n,"getPendingOnlineMessages")},Fb72:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("5jHt");const t=h((a,s)=>{const l=Object(n.n)(s),o=Object(n.a)(a,s);return(!l||o)&&(s.mode==="hosted"||s.mode==="snippet")},"canDownloadFile")},FezJ:function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(t,a){if(!t||!t.length||!a)return[];const s=[];return t.forEach(l=>{const{url:o}=l;a[o]&&a[o].private_channel_prompt?s.push({url:o,acknowledged_private_share:!0}):s.push({url:o})}),s}h(n,"getAcknowledgedUnfurlsForMessageSend")},FsHF:function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"d",function(){return a}),e.d(i,"c",function(){return l}),e.d(i,"a",function(){return o});var n=e("ROZo");const t=Object(n.a)("TS.members.getMemberProfileFieldDisplayName",f=>f&&f.profile&&f.profile.display_name||""),a=Object(n.a)("TS.members.legacyUpsertAndSignal",()=>{throw new Error("Not implemented")}),s=Object(n.a)("TS.members.legacyGetPrefCompliantMemberNameLowerCase",()=>{throw new Error("Not implemented")}),l=Object(n.a)("TS.members.invalidateMembersUserCanSeeArrayCaches"),o=Object(n.a)("TS.members.presence_changed_sig.dispatch")},"G+ia":function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("ssje"),t=e("QLhP"),a=e("nNoG");const s=new a.b("recent_page"),l=h((o,f)=>{let{msg:r}=f;if(!(r!=null&&r.bot_id))return;if(Object(n.a)(r))return`${s.t("Slackbot",{fallbackHash:"9fbb94b5162e7574992afdd016c779599cac2cad",fallbackHashNs:"prefs"})}:`;const m=Object(t.d)(o,r.bot_id);return m?`${m}:`:void 0},"getBotMessagePrefix")},GMcg:function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("ZKjC"),t=e("xwCZ"),a=e("K7jq"),s=e("dmdh");const l=Object(n.b)((o,f)=>{const r=Object(s.e)(o,f);if(!r||!r.user)return!1;const m=Object(t.g)(o,r.user);return m?Object(a.a)(m):!1});l.meta={name:"createSelector",key:"createSelectorisFileAuthorExternal",description:(o,f)=>{const r=Object(s.e)(o,f);if(!r||!r.user)return!1;const m=Object(t.g)(o,r.user);return m?Object(a.a)(m):!1}}},GR6R:function(J,i,e){"use strict";var n=e("9oTK"),t=e("q1tI"),a=e.n(t),s=e("SQ0V"),l=e("/0Xg"),o=e("3l96"),f=e("s9Q6"),r=e("zxER"),m=e("BlYK"),c=e.n(m),u=e("beWg"),d=e("nNoG"),p=e("/cL/"),v=e("54tk"),g=e("gJbv");function O(){return O=Object.assign||function(k){for(var F=1;F<arguments.length;F++){var L=arguments[F];for(var S in L)Object.prototype.hasOwnProperty.call(L,S)&&(k[S]=L[S])}return k},O.apply(this,arguments)}h(O,"_extends");const b=new d.b("trials_highlight_paid_features"),y=h(k=>{let{isEligibleForTrial:F,onTrialStart:L,...S}=k;const I=Object(t.useCallback)(()=>{L==null||L()},[L]),W=h(se=>{let{text:$}=se;return a.a.createElement(p.a,{"data-qa":"message_limit_trial_entry_point-plans_page_link",useLink:!0},$)},"renderPlansPageLink"),D=Object(r.c)(se=>Object(g.b)(se,F,!0)),H=b.t("Unlimited access to messages and files"),Z=F?b.rt("Unlock access to your entire message and file history, and other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:D,"<plansPageLink>":W}):b.rt("Unlock access to your entire message and file history, and other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":W}),G=b.t("With unlimited access, your team can:"),te=[b.t("Get context on past discussions"),b.t("Maintain team documents for the long term"),b.t("Quickly search across your full history")];return a.a.createElement(v.a,O({imgSrc:c.a,modalTitle:H,modalSubtitle:Z,modalVideoPosterExtension:"png",modalBannerBackgroundColor:"#e8f5fa",modalChecklistHeading:G,modalChecklistItems:te,isEligibleForTrial:F,startTrialContext:u.a.messageLimitTrialOfferModal,onTrialStart:I},S))},"MessageLimitTrialEntryPointModal");y.displayName="MessageLimitTrialEntryPointModal";var C=y,_=e("zm5I"),j=e("Q+Yn"),E=e.n(j),M=e("vUzD"),T=e.n(M),P=e("QW4n"),B=e("xLpb");function R(){return R=Object.assign||function(k){for(var F=1;F<arguments.length;F++){var L=arguments[F];for(var S in L)Object.prototype.hasOwnProperty.call(L,S)&&(k[S]=L[S])}return k},R.apply(this,arguments)}h(R,"message_limit_trial_entry_point_modal_v2_extends");const U=new d.b("trials_highlight_paid_features"),K=h(k=>{let{isEligibleForTrial:F,onTrialStart:L,...S}=k;const I=Object(r.c)(g.d),W=Object(r.c)(q=>Object(g.b)(q,F,!0)),H=Object(r.c)(_.a)==="light",Z=I?U.t("Quickly search your entire message history"):"",G=I?U.t("Get context on past discussions"):" ",te=I?U.t("Save important messages for later"):"",se=Object(t.useMemo)(()=>[Z,G,te],[Z,G,te]);if(!I)return null;const $=U.t("Unlock your team\u2019s entire message and file history"),X=U.t("Start a free, {trialLength}-day trial to unlock all the premium features of Slack Pro.",{trialLength:W,fallbackHash:"5cff725a1c7cb5f5dbca513212eac36574a8ecc2"});return a.a.createElement(v.a,R({modalCloseButtonTheme:P.a.GRAY,imgSrc:H?E.a:T.a,modalTitle:$,modalType:B.a.HORIZONTAL_BANNER,modalSubtitle:X,modalVideoPosterExtension:"gif",modalBannerBackgroundColor:"#4A154B",modalChecklistItems:se,isEligibleForTrial:F,startTrialContext:u.a.messageLimitTrialOfferModal,onTrialStart:L},S))},"message_limit_trial_entry_point_modal_v2_MessageLimitTrialEntryPointModal");K.displayName="MessageLimitTrialEntryPointModal";var V=K,z=e("iaW+");function N(){return N=Object.assign||function(k){for(var F=1;F<arguments.length;F++){var L=arguments[F];for(var S in L)Object.prototype.hasOwnProperty.call(L,S)&&(k[S]=L[S])}return k},N.apply(this,arguments)}h(N,"open_message_limit_trial_entry_point_modal_extends");const A=Object(s.c)("Open message limit trial entry point modal",function(){var k=Object(n.coroutine)(function*(F,L,S){const I=Object(g.d)(L()),W=l.q.PaidFeatureTrial,D=l.p.MessageLimit;yield F(Object(z.a)({campaignType:W,campaignSubType:D,reason:"message_limit_trial_entry_point_modal"}));const H=Object(f.c)(L(),W,D),Z=I?V:C,G=a.a.createElement(Z,N({},S,{promoType:W,promoSubtype:D,isEligibleForTrial:H}));return F(Object(o.a)({element:G}))});return function(F,L,S){return k.apply(this,arguments)}}());A.meta={name:"createThunk",key:"createThunkopenMessageLimitTrialEntryPointModal",description:"Open message limit trial entry point modal"};var x=i.a=A},GTwG:function(J,i,e){"use strict";e.d(i,"a",function(){return d});var n=e("n3tL"),t=e("oaNE"),a=e("SQ0V"),s=e("dmdh"),l=e("qpkA"),o=e("QLhP"),f=e("x6tY"),r=e("xwCZ"),m=e("Nnn3"),c=e("5IZy");const u=Object(a.c)("Clogs a link click in a file",function(p,v){let{file:g,payload:O={},isChannelFiles:b=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var y,C,_;if(!g)return;const j=v(),E=Object(c.a)({state:j}),{timestamp:M}=g,T=Object(f.H)(g),{userId:P}=T;let{botId:B}=T;if(!B){const K=Object(r.g)(j,P);B=Object(m.a)(j,K)}let R=null;if(B){const K=Object(o.b)(j,B);R=K?K.app_id:null}const U={...O,timestamp:M,member_id:P,app_id:R,bot_id:B,item_type:g.id[0],item_id:g.id,file_type:g.filetype||Object(f.S)(g.mimetype),is_channel_files:b};!(!((y=O.contexts)===null||y===void 0||(C=y.ui_context)===null||C===void 0||(_=C.ui_properties)===null||_===void 0)&&_.element_value)&&(O.link_action||O.subtype)&&(U.contexts=Object(t.a)(O.contexts,{ui_context:{ui_properties:{element_value:O.link_action||O.subtype}}})),E.track("FILE_LINK_CLICK",U),O.subtype==="copy_link"?E.track("MSG_LINK_COPY",U):O.subtype==="video_play"?E.track("MSG_VIDEO_PLAY",U):O.subtype==="file_share"?E.track("FILE_SHARE",U):O.subtype==="file_download"?E.track("FILE_DOWNLOAD",U):O.subtype==="file_expand"?E.track("PREVIEW_EXPAND",U):O.subtype==="file_collapse"&&E.track("PREVIEW_COLLAPSE",U),p(Object(l.a)({files:[g]}))});u.meta={name:"createThunk",key:"createThunkclogFileClick",description:"Clogs a link click in a file"},u.propTypes={file:n.default.shape({timestamp:n.default.number,user:n.default.string}).isRequired,payload:n.default.object},i.b=u;const d=Object(a.c)("Clogs a link click in a file given a file ID",function(p,v){let{fileId:g,payload:O={},isChannelFiles:b}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!g)return;const y=v(),C=Object(s.e)(y,g,!1);p(u({file:C,payload:O,isChannelFiles:b}))});d.meta={name:"createThunk",key:"createThunkclogFileIdClick",description:"Clogs a link click in a file given a file ID"},d.propTypes={fileId:n.default.string,payload:n.default.object}},GWKd:function(J,i,e){"use strict";e.d(i,"a",function(){return T}),e.d(i,"b",function(){return P});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),s=e("+l5E"),l=e("JQ3U"),o=e("ALys"),f=e("+uU3"),r=e("NmJ/"),m=e("AwEi"),c=e("OXvE"),u=e("zxER"),d=e("qZ3p"),p=e("GNR7"),v=e("3vtZ");const g=new a.b("huddles");function O(B){let{msg:R}=B;const U=Object(u.c)(z=>Object(v.D)({state:z,roomId:R==null?void 0:R.room_id})),K=Object(u.c)(z=>Object(p.x)(z,R==null?void 0:R.room_id));if(!Object(s.ib)(R))return null;let V;return K?U?V=g.rt("{huddleTopic} is happening",{huddleTopic:t.a.createElement(d.a,{text:K.trim()})}):V=g.rt("{huddleTopic} happened",{huddleTopic:t.a.createElement(d.a,{text:K.trim()})}):U?V=g.t("A huddle is happening"):V=g.t("A huddle happened"),t.a.createElement("span",null,V)}h(O,"HuddleBroadcastMsgText"),O.displayName="HuddleBroadcastMsgText";var b=t.a.memo(O),y=e("QE0t");const C=h(B=>{let{msg:R}=B;var U,K,V,z,N;if(!(!Object(s.W)(R)&&!(!(R==null||(U=R.blocks)===null||U===void 0||(K=U[0])===null||K===void 0||(V=K.text)===null||V===void 0)&&V.text)))return R==null||(z=R.blocks)===null||z===void 0||(N=z[0])===null||N===void 0?void 0:N.text.text},"getCanvasShareText");var _=e("9Gfp"),j=e("G+ia"),E=e("jJoK");const M=new a.b("recent_page");function T(B){let{msg:R,file:U,experimentRichTextGroupOn:K,truncateLength:V,withFormattingStyles:z=!1,withHighlights:N=!1,withSlackLinks:A=!1,withHyperlinks:x=!1,withCanvasShare:k=!1,withYouPrefix:F=!1,withBotNamePrefix:L=!1}=B;const S=Object(u.c)(_.a),I=Object(u.c)(H=>Object(j.a)(H,{msg:R}));if(R&&Object(s.ib)(R))return t.a.createElement(b,{msg:R});if(R&&Object(l.j)(R))return t.a.createElement(E.a,null);if(!P({msg:R,file:U}))return null;let W="";if(F&&(R==null?void 0:R.user)===S&&(W=M.t("You:")),L&&I&&(W=I),R&&Object(o.b)(R,K)&&(!K||Object(y.a)(R.blocks))&&!Object(f.a)(R))return t.a.createElement(t.a.Fragment,null,W,W?" ":"",t.a.createElement(c.a,{richTextBlock:R.blocks[0],truncateLength:V,withFormattingStyles:z,withHighlights:N,withSlackLinks:A,withHyperlinks:x}));let D="";return R&&(k&&Object(s.W)(R)?D=C({msg:R}):D=Object(r.a)(R,U)),t.a.createElement(m.a,{text:D,noHighlights:!N,noHexColors:!0,noJumbomoji:!0,noLinking:!A,noCode:!0,noQuotes:!0,customLineEnding:"\u2026",maxNewlines:1,maxCharacters:V,"data-qa":"simple_message_preview"})}h(T,"SimpleMessagePreview"),T.displayName="SimpleMessagePreview";function P(B){let{msg:R,file:U}=B;return!R||Object(l.a)(R)==="tombstone"?!1:Object(o.b)(R)&&!Object(f.a)(R)||Object(s.W)(R)?!0:!!Object(r.a)(R,U)}h(P,"canRenderSimpleMessagePreview")},GYiN:function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("WMzb");function l(o){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.a,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;const m=Object(s.a)();o||m.warn("USE_EVENT_LISTENER",'Missing required "eventName"');const c=Object(n.useRef)();Object(n.useEffect)(()=>{c.current=f},[f]),Object(n.useEffect)(()=>{const u=h(d=>{var p;return(p=c.current)===null||p===void 0?void 0:p.call(c,d)},"handlerWrapper");return r.addEventListener(o,u),()=>{r.removeEventListener(o,u)}},[o,r])}h(l,"useEventListener")},GYna:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("RVJP");const t=h(a=>Object(n.d)(a,"a11y_emoji_group")==="on","isEmojiGroupEnabled")},GjHN:function(J,i,e){"use strict";e.d(i,"a",function(){return A});var n=e("mM05"),t=e.n(n),a=e("YOgf"),s=e("ALys"),l=e("NFsq"),o=e("x91h"),f=e("qAkX"),r=e("gSGL"),m=e("LARX"),c=e("xwCZ"),u=e("GhjL"),d=e("E3dU"),p=e("JnIm"),v=e("52Wj"),g=e("DQNL"),O=e("Yauy"),b=e("jlKB"),y=e("oNuo"),C=e("6kKm"),_=e("K1vi"),j=e("0qhH"),E=e("2oNE"),M=e("/+/u"),T=e("pTwU");function P(x,k){const F=x.blockStyle==="code-block",L=x.inlineStyles;return k===m.a.BOLD_START&&!F?L.bold=!0:k===m.a.BOLD_END?delete L.bold:k===m.a.ITALIC_START&&!F?L.italic=!0:k===m.a.ITALIC_END?delete L.italic:k===m.a.CODE_START&&!F?L.code=!0:k===m.a.CODE_END?delete L.code:k===m.a.STRIKE_START&&!F?L.strike=!0:k===m.a.STRIKE_END?delete L.strike:k.slice(0,11)===m.a.LINK_START.substr(0,m.a.LINK_START.length-1)&&!F?L.link=k.slice(12,-1):k===m.a.LINK_END&&delete L.link,{...x,inlineStyles:L}}h(P,"setInlineStylesFromToken");function B(x,k,F){return F.insert(`
`,x.blockStyle?{[x.blockStyle]:!0}:{}),k===m.a.PARA_BREAK&&F.insert(`
`,x.blockStyle&&!x.endBlockStyleOnNextLineBreak?{[x.blockStyle]:!0}:{}),F}h(B,"insertLineBreak");function R(x,k,F,L){const S=k.blockStyle==="code-block",I=Object(p.a)(x),W=F.slice(2,-1);var D;const H=(D=Object(c.g)(x,W))!==null&&D!==void 0?D:void 0,Z=`@${Object(v.b)(H)}`;return L.insert(Z,{...k.inlineStyles,slackmention:!S&&Object(M.a)(H,I)}),L}h(R,"insertMention");function U(x,k,F,L){const S=F.slice(2,-1).split("|"),I=Object(d.d)(x,S[0]),W=`#${Object(O.t)(x,I,{publicChannelIncludeHashSign:!1})}`,D=k.blockStyle==="code-block";return L.insert(W,{...k.inlineStyles,slackmention:!D&&Object(E.a)(I.id,W)}),L}h(U,"insertChannel");function K(x,k,F,L){const S=k.blockStyle==="code-block",W=F.slice(2,-1).split("|")[0].split("^"),D=W[0];if(Object(l.a)(["here","channel","everyone"],D)){const H=Object(y.a)(`BK${D}`),Z=`@${Object(C.a)(H)}`;L.insert(Z,{...k.inlineStyles,slackmention:!S&&Object(E.a)(`BK${D}`,Z)})}else if(D==="subteam"){const H=Object(p.a)(x),Z=Object(u.d)(x,W[1]),G=Object(g.g)(Z);L.insert(G,{...k.inlineStyles,slackmention:!S&&Object(T.a)(Z,H)})}return L}h(K,"insertCommand");function V(x){return x===m.a.PRE_START?"code-block":x===m.a.QUOTE_START||x===m.a.LONGQUOTE_PREFIX?"blockquote":null}h(V,"tokenToBlockStyle");function z(x,k){let F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"NORMAL";var L;let S=new t.a;if(!k)return S;const I=Object(b.a)(x),W=Object(_.a)(k,F),D=[m.a.LINE_BREAK,m.a.PARA_BREAK],H=[m.a.PRE_START,m.a.QUOTE_START,m.a.LONGQUOTE_PREFIX],Z=[m.a.PRE_END,m.a.QUOTE_END];let G={inlineStyles:{},blockStyle:null,endBlockStyleOnNextLineBreak:!1};for(let se=0;se<W.length;se++){const $=W[se],X=se===W.length-1;if($.slice(0,1)==="<"){if(G=P(G,$),Object(l.a)(D,$)&&(S=B(G,$,S),G.endBlockStyleOnNextLineBreak&&(G.endBlockStyleOnNextLineBreak=!1,G.blockStyle=null),Object(l.a)(Z,W[se+1])&&(G.blockStyle=null)),Object(l.a)(H,$)&&(se>0&&!Object(l.a)(D,W[se-1])&&!Object(l.a)(Z,W[se-1])&&(S=B(G,m.a.LINE_BREAK,S)),G.blockStyle=V($)),Object(l.a)(Z,$)&&(!Object(l.a)(D,W[se-1])&&!Object(l.a)(D,W[se+1])?(S=B(G,m.a.LINE_BREAK,S),G.blockStyle=null):X||(G.endBlockStyleOnNextLineBreak=!0)),$===m.a.SPACE_HARD&&S.insert(" ",G.inlineStyles),$.slice(0,13)===m.a.EMOJI_COLONS.substr(0,m.a.EMOJI_COLONS.length-1)){const q=$.slice(14,-1);I||G.blockStyle==="code-block"?S.insert(q,G.inlineStyles):S.insert({slackemoji:{text:q}},G.inlineStyles)}$.slice(0,2)==="<@"&&(S=R(x,G,$,S)),$.slice(0,2)==="<#"&&(S=U(x,G,$,S)),$.slice(0,2)==="<!"&&(S=K(x,G,$,S))}else S.insert(Object(o.a)($),G.inlineStyles)}const te=Object(f.a)(S.ops);return Object(j.a)(te)&&Object(r.a)(te==null?void 0:te.insert)&&(te==null||(L=te.insert)===null||L===void 0?void 0:L.slice(-1))===`
`||(S=B(G,m.a.LINE_BREAK,S)),S}h(z,"convertMrkdwnToDelta");var N=e("JgQX");function A(x,k){let{usePlainTextMode:F}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return k?F?Object(s.a)(k)?Object(N.a)(x,k.blocks):z(x,k.text||"","EDIT"):Object(s.a)(k)?Object(a.a)(x,k.blocks):z(x,k.text||""):new t.a}h(A,"getDeltaForMessageObject")},GjLU:function(J,i,e){"use strict";e.r(i),e.d(i,"CanvasSpeedBumpTypes",function(){return wn}),e.d(i,"ListSpeedBumpTypes",function(){return fa});var n=e("9oTK"),t=e("BHdc"),a=e("fujP"),s=e("q1tI"),l=e.n(s),o=e("/MKj"),f=e("Trx9"),r=e("zxER"),m=e("ktUG"),c=e("Vzni"),u=e("nNoG"),d=e("Zbwg"),p=e("mLC8"),v=e("qDEp"),g=e("YUBf"),O=e("Gnyr"),b=e("bPB8"),y=e("/CFe"),C=e("E3dU"),_=e("zm5I"),j=e("NfYe"),E=e("9oWK"),M=e("T00V"),T=e("Yauy"),P=e("hUMe");const B=new u.b("share-dialog"),R={elementName:"cancel",elementType:m.ElementType.BUTTON,action:m.UiAction.CLICK,onClick:{enableClogAction:!0}},U={elementName:"share",elementType:m.ElementType.BUTTON,action:m.UiAction.CLICK,onClick:{enableClogAction:!0}},K=h(Dt=>{let{filesCount:jt,entityId:$t,onContinue:Tn,onCancel:dn}=Dt;const[Un,Bn]=Object(s.useState)(!1),Kt=Object(r.c)(xt=>Object(C.d)(xt,$t)),Kn=Object(r.c)(xt=>Object(T.Eb)(xt,Kt)),aa=Object(r.c)(_.a),ln=Object(s.useCallback)(()=>{Bn(!0),Tn()},[Tn]);return Object(r.c)(j.e)?l.a.createElement(f.a,{eventId:m.EventId.QUIP_SHARE,uiComponentName:m.UiComponentName.QUIP_SHARE_DIALOG_SPEEDBUMP,uiComponentVariant:"external_workspace_canvas",clogImpression:!0},l.a.createElement(g.a,{closeModal:dn,"data-qa":y.b.EXTERNAL_WORKSPACE_CANVAS_SHARING_WARNING_SPEEDBUMP},l.a.createElement(E.a,{theme:aa}),l.a.createElement(g.d,{className:"margin_0"},l.a.createElement(g.l,{title:jt>1?B.rt("Is it OK to send this?"):B.rt("Share canvas with {externalWorkspaceName}",{externalWorkspaceName:l.a.createElement(P.a,{id:Kn})}),className:"break_word"}),l.a.createElement(g.e,{id:"canvas_external_workspace_sharing_speedbump"},B.rt("You\u2019re about to share {filesCount, plural, =1 {a canvas} other {canvases}} with an external workspace, {externalWorkspace}, which means only people in that workspace will be able to access it.",{filesCount:jt,externalWorkspace:l.a.createElement("span",{className:"position_relative"},l.a.createElement(M.a,{id:Kn,size:16,className:"nudge_top_2 margin_right_25"}),l.a.createElement(P.a,{id:Kn,className:"bold"}))}))),l.a.createElement(g.g,null,l.a.createElement(g.h,null,l.a.createElement(g.c,{type:"outline",onClick:dn,autoClogProps:R,disabled:Un},B.t("Back",{fallbackHash:"b52b36b7269fbfc58ec24bb724691951a3decbe8",fallbackHashNs:"channel_details"})),l.a.createElement(g.c,{autoFocus:!0,type:"primary",loading:Un,onClick:ln,autoClogProps:U,"aria-describedby":"canvas_external_workspace_sharing_speedbump"},B.t("Share Canvas",{fallbackHash:"c0268211ada5bb7c89509fcc6d9900142807b028",fallbackHashNs:"files"})))))):null},"CanvasExternalWorkspaceSharingModalSpeedBump");K.displayName="CanvasExternalWorkspaceSharingModalSpeedBump";var V=e("+kJ4"),z=e("SQ0V"),N=e("o2tK"),A=e("dmdh"),x=e("hRxb"),k=e("3l96"),F=e("x6tY"),L=e("beVI"),S=e("CaVW");const I=h((Dt,jt)=>{let{file:$t,entityId:Tn}=jt;if(!Object(j.e)(Dt)||!$t||!Object(F.g)($t))return!1;const Un=Object(C.d)(Dt,Tn);if(!Un)return!1;const Bn=Object(S.a)(Dt,Un),Kt=Object(T.Eb)(Dt,Un);return!(!Kt||!Bn||!Object(L.s)(Dt,Kt)||Object(F.db)($t).includes(Kt))},"shouldShowExternalWorkspaceCanvasSharingSpeedbump"),W=Object(z.c)("Opens a warning modal as a speedbump when sharing a canvas with an external workspace",(Dt,jt,$t)=>{let{fileIds:Tn=[],entityId:dn,onContinue:Un,delta:Bn}=$t;const Kt=jt(),Kn=Bn&&Object(N.a)(Bn)||[],aa=Object(b.a)(Kn.map(nn=>Object(x.a)(Kt,nn))),ln=[...Tn,...aa].map(nn=>Object(A.e)(Kt,nn));if(!!!ln.filter(nn=>I(Kt,{file:nn,entityId:dn})).length)return{didOpen:!1};const sn=l.a.createElement(K,{filesCount:ln.length,entityId:dn,onContinue:Un,onCancel:()=>{Dt(Object(V.a)())}});return Dt(Object(k.a)({element:sn,isStackable:!0})),{didOpen:!0}});W.meta={name:"createThunk",key:"createThunkmaybeOpenExternalWorkspaceCanvasSharingModalSpeedBump",description:"Opens a warning modal as a speedbump when sharing a canvas with an external workspace"};var D=e("I27i"),H=e("RVJP"),Z=e("gNhz"),G=e("iNDb"),te=e("O86Y"),se=e("JoR1"),$=e("oY18"),X=e("q3qm"),q=e("KEet"),Y=e("Lgge"),ee=e("3zNH");const w=Object(z.c)("publishes a template org-wide",(Dt,jt,$t)=>{let{fileId:Tn}=$t;return Object(A.e)(jt(),Tn)?Dt(Object(q.a)({reason:"publish-org-wide-template",fileId:Tn})).then(Un=>{let{file:Bn}=Un;Bn&&Dt(Object(ee.a)({files:[Bn],reason:"publish-org-wide-template"}))}):Y.a.reject(new Error("Missing file"))});w.meta={name:"createThunk",key:"createThunkpublishOrgWideCanvasTemplate",description:"publishes a template org-wide"};var ne=e("01Zq"),ae=e("cBJ3");const de=Object(z.c)("unpublishes an org-wide template",(Dt,jt,$t)=>{let{fileId:Tn}=$t;return Object(A.e)(jt(),Tn)?Dt(Object(ne.a)({reason:"unpublish-org-wide-template",fileId:Tn})).then(Un=>{let{file:Bn}=Un;Bn&&Dt(Object(ae.j)({fileId:Bn.id}))}):Y.a.reject(new Error("Missing file"))});de.meta={name:"createThunk",key:"createThunkunpublishOrgWideCanvasTemplate",description:"unpublishes an org-wide template"};var ge=e("bTgy"),le=e("FXMY"),Q=e("VJ2K"),ie=e("Ql5a"),oe=e("bLbp"),me=e("2vX4"),be=e("8Mjy"),Se=e("nLfX"),Pe=e("W1Od"),Ue=e("Zp1r"),Fe=e("P4EH"),je=e("0mlZ");const _e=new u.b("share-dialog");function pe(Dt){let{onClick:jt,shareType:$t,buttonAutoClogProps:Tn,isStoryShare:dn,isFetchingUnfurlData:Un,canPostInSelectedChannel:Bn,disallowedKeywordInMsgText:Kt,overMsgLengthLimit:Kn,submitting:aa,destinationError:ln}=Dt;const en=Object(r.c)(Fe.a),xt=Object(r.c)(Ln=>Object(H.d)(Ln,"shareable_sections")==="treatment"),sn=!Object(r.c)(D.d);let nn=_e.t("Share");return dn?nn=_e.t("Send"):en&&$t!==je.b.CANVAS&&$t!==je.b.LIST&&!xt&&(nn=_e.t("Forward")),l.a.createElement(v.c,{onClick:jt,disabled:Object(Se.d)({disallowedKeywordInMsgText:Kt,canPostInSelectedChannel:Bn,isOffline:sn,overMsgLengthLimit:Kn,submitting:aa,destinationError:ln}),loading:Object(Se.e)({isFetchingUnfurlData:Un,experimentFeMessageForwardingM2GroupOn:en}),"data-qa":oe.a.GO,autoClogProps:Tn},nn)}h(pe,"ShareDialogShareButton");var fe=e("7t7g"),Ee=e("/xaE"),ye=e("4HBd"),Te=e("rBAR"),Oe=e("hEEl"),Ce=e("CmyG"),ce=e("xwCZ"),he=e("OL4R"),Me=e("i6Or");const Ae={CanvasSharingToExternalWorkspaceBlocked:"canvas_sharing_to_external_workspace_blocked",CanvasSharingFromExternalWorkspaceBlocked:"canvas_sharing_from_external_workspace_blocked",ExternalWorkspaceCanvasSharingBlocked:Me.a.ExternalWorkspaceCanvasSharingBlocked},xe=Object(he.a)(Ae);var Re=e("C3vN"),Ge=e("+tZp"),ze=e("Atq3");const Ie=new u.b("share-dialog"),Ne=h(Dt=>{let{error:jt,externalWorkspaceName:$t,experimentExternalWorkspaceCanvasSharingGroupOn:Tn}=Dt;if(!Tn)return"";const dn=jt;switch(dn){case Ae.CanvasSharingFromExternalWorkspaceBlocked:return Ie.rt("This canvas can\u2019t be shared outside <b>{externalWorkspaceName}</b>.",{externalWorkspaceName:$t});case Ae.CanvasSharingToExternalWorkspaceBlocked:return Ie.rt("This canvas can\u2019t be shared with <b>{externalWorkspaceName}</b>.",{externalWorkspaceName:$t});case Ae.ExternalWorkspaceCanvasSharingBlocked:return"";default:Object(ze.a)(dn)}},"getCopyForExternalWorkspaceCanvasSharingError");var Ke=e("G0eX"),Ve=e("ZKjC"),$e=e("G4qV"),tt=e("6X65");const qe=Object(Ve.b)((Dt,jt)=>{let{destination:$t,selectedChannel:Tn}=jt;var dn,Un;if(!Object(j.e)(Dt)||!$t)return!1;const Bn=!!(!($t==null||(dn=$t.memberIds)===null||dn===void 0)&&dn.length);return Tn&&($t==null||(Un=$t.channelIds)===null||Un===void 0?void 0:Un.length)&&!Bn&&Object(S.a)(Dt,Tn)});qe.meta={name:"createSelector",key:"createSelectorgetIsExternalWorkspaceChannelDestination",description:(Dt,jt)=>{let{destination:$t,selectedChannel:Tn}=jt;var dn,Un;if(!Object(j.e)(Dt)||!$t)return!1;const Bn=!!(!($t==null||(dn=$t.memberIds)===null||dn===void 0)&&dn.length);return Tn&&($t==null||(Un=$t.channelIds)===null||Un===void 0?void 0:Un.length)&&!Bn&&Object(S.a)(Dt,Tn)}};const ut=Object($e.a)([(Dt,jt)=>{let{destination:$t,selectedChannel:Tn}=jt;if(!Object(j.e)(Dt))return;const dn=qe(Dt,{destination:$t,selectedChannel:Tn})&&Object(T.Eb)(Dt,Tn);return Object(L.s)(Dt,dn||"")},(Dt,jt)=>{let{file:$t}=jt;if(!Object(j.e)(Dt)||!Object(tt.a)(Dt,{file:$t}))return;const Tn=Object(F.db)($t),dn=Tn==null?void 0:Tn[0];return Object(L.s)(Dt,dn||"")}],(Dt,jt)=>{const $t=jt||Dt;return $t?Object(Ke.h)($t):void 0});var rt=e("Ep1z"),yt=e("OaiI"),Mt=e("My6o"),st=e("yUsG"),Vt=e("jWAO"),Wt=e("pu3F"),Xt=e("i5Ig");const Ut=new u.b("share-dialog"),Nt=h(Dt=>{let{recordId:jt,file:$t,toLowerCase:Tn,experimentListsTranslationsGroupOn:dn}=Dt;return Tn?jt?dn?Ut.t("record"):"record":Object(F.o)($t)&&!jt?dn?Ut.t("list"):"list":dn?Ut.t("canvas"):"canvas":jt?dn?Ut.t("Record"):"Record":Object(F.o)($t)&&!jt?dn?Ut.t("List"):"List":"Canvas"},"getFileType"),Ft=h(Dt=>{let{message:jt,level:$t,className:Tn,dataQA:dn,elementName:Un,uiComponentVariant:Bn,eventId:Kt}=Dt;return l.a.createElement(f.a,{eventId:Kt??m.EventId.QUIP_SHARE,elementName:Un,elementType:m.ElementType.ALERT,clogImpression:!0,uiComponentVariant:Bn},l.a.createElement(Vt.d,{level:$t,type:"inline",className:Tn,"data-qa":dn},jt))},"AlertWithAutoClog");Ft.displayName="AlertWithAutoClog";const _n=h(()=>l.a.createElement(Vt.d,{icon:"cloud-offline",level:"info","data-qa":y.a.OFFLINE_ALERT},Ut.rt("<strong>No connection.</strong> You'll be able to share the canvas as soon as you're back online.",{fallbackHash:"e2b183d10e7ab26cc2bfd67de8993c73bc9ce729"})),"OfflineAlert");_n.displayName="OfflineAlert";const cn=h(Dt=>{let{file:jt,slackConnectCanvasSharingBlocked:$t,slackConnectFileSharingBlocked:Tn,fileOwner:dn,fileOwnerName:Un,isExternallyOwnedCanvas:Bn,recordId:Kt,isExternallyOwnedList:Kn,slackConnectListSharingBlocked:aa,experimentListsTranslationsGroupOn:ln}=Dt;var en;let xt;const sn="warning";let nn="";if($t?(xt=Ut.t("Canvas sharing has been disabled in conversations using Slack Connect."),nn="share_dialog_sc_canvas_sharing_blocked"):aa?(xt=ln?Ut.t("List sharing has been disabled in conversations using Slack Connect."):"List sharing has been disabled in conversations using Slack Connect.",nn="share_dialog_sc_list_sharing_blocked"):Tn?(xt=Ut.rt("File sharing has been disabled in conversations using Slack Connect. Thus, you are unable to share this {file} since it contains a file.",{fallbackHash:"567f1d01baeffe2ed5b72cd3d64cd2d6978af1c5",fallbackHashNs:"share-dialog",file:Nt({file:jt,recordId:Kt,toLowerCase:!0,experimentListsTranslationsGroupOn:ln})}),nn="share_dialog_sc_canvas_sharing_with_files_blocked"):!Object(Re.jb)(dn)&&!(!((en=Object(F.H)(jt))===null||en===void 0)&&en.botId)&&Object(rt.a)(jt)&&(xt=Ut.rt("This {file} was sent to you privately. You may want to check with <strong>{fileOwnerName}</strong> before sharing it.",{fileOwnerName:Un,fallbackHash:"cae979fa6a323e6633e50d9af1c3132d6d2dc646",file:Nt({file:jt,recordId:Kt,toLowerCase:!0,experimentListsTranslationsGroupOn:ln})}),nn="share_dialog_canvas_sharing_private",Object(F.o)(jt)&&(xt=ln?Ut.rt("This list was sent to you privately. You may want to check with <strong>{fileOwnerName}</strong> before sharing it.",{fileOwnerName:Un}):`This list was sent to you privately. You may want to check with ${l.a.createElement("strong",null,Un)} before sharing it.`,nn="share_dialog_list_sharing_private")),!xt)return null;let Ln,Pn,yn=Bn?m.UiComponentVariant.EXTERNAL_QUIP:void 0;return Object(F.o)(jt)&&(Ln=m.EventId.SLACK_LISTS,Pn=y.a.LIST_ALERT,yn=Kn?m.UiComponentVariant.EXTERNAL_LIST:void 0),l.a.createElement(Ft,{eventId:Ln,message:xt,level:sn,className:"p-share_dialog__alert",dataQA:Pn??y.a.CANVAS_ALERT,elementName:nn,uiComponentVariant:yn})},"CanvasAlert");cn.displayName="CanvasAlert";const Rn=h(Dt=>{let{file:jt,experimentListsTranslationsGroupOn:$t}=Dt;return Object(F.e)(jt)&&Object(F.mb)(jt)?l.a.createElement(Ft,{message:Ut.rt("This {file} has been shared widely, so not all the people or channels who have access can be shown.",{fallbackHash:"f83ea307ad3e4f38567855f398c5ff39832294b6",fallbackHashNs:"share-dialog",file:Nt({file:jt,toLowerCase:!0,experimentListsTranslationsGroupOn:$t})}),level:"default",className:"p-share_dialog__alert",dataQA:y.a.SHARED_WIDELY_ALERT,elementName:"share_dialog_canvas_has_more_shares"}):null},"CanvasSharedWidelyAlert");Rn.displayName="CanvasSharedWidelyAlert";const Vn=h(Dt=>{let{externalWorkspaceName:jt,destinationError:$t,slackConnectCanvasSharingBlocked:Tn,team:dn,totalNumberDestinationMembers:Un,destinationMemberIds:Bn,deactivatedMemberIds:Kt,postingToChannelDisallowed:Kn,canShareCanvasToAppDm:aa,atChannelWarningKeyword:ln,channelMemberCount:en,disallowedKeywordInMsgText:xt,selectedChannelIsGeneral:sn,selectedChannelName:nn,willJoinChannel:Ln}=Dt;if($t&&$t===Wt.S.INVALID_USER_COMBINATION)return l.a.createElement(Ft,{message:Ut.t("All external people must already be in at least one channel together to share this file."),level:"error",className:"p-composer_page__destination_alert",dataQA:y.a.NOT_IN_ONE_CHANNEL_ALERT,elementName:"share_dialog_canvas_external_people_not_in_one_channel"});if(jt&&$t&&xe[$t]){const Zt=Ne({error:$t,externalWorkspaceName:jt,experimentExternalWorkspaceCanvasSharingGroupOn:!0});return l.a.createElement(Ft,{message:Zt,level:"error",className:"p-composer_page__destination_alert",dataQA:$t,elementName:`share_dialog_canvas_${$t}`})}const yn=Object(Mt.a)({atChannelWarningKeyword:ln,channelMemberCount:en,disallowedKeywordInMsgText:xt,isMessageShare:!1,selectedChannelIsGeneral:sn,selectedChannelName:nn,willJoinChannel:Ln});return l.a.createElement(l.a.Fragment,null,yn&&l.a.createElement(Ft,{message:yn,level:"warning",className:"p-composer_page__destination_alert",dataQA:y.a.CANVAS_SHARE_ALERT,elementName:"share_dialog_canvas_share_alert"}),l.a.createElement(st.a,{useMultiSelect:!0,slackConnectFileSharingBlocked:!1,isHostedFile:!1,isHostedMessageFile:!1,destinationMemberIds:Bn||Xt.a,deactivatedMemberIds:Kt||Xt.a,canShareToAppDm:aa,postingToChannelDisallowed:Kn,slackConnectCanvasSharingBlocked:Tn,destinationError:$t,isFreePlanTeam:Object(Ke.H)(dn),totalNumberDestinationMembers:Un}))},"ChannelPickerAlert");Vn.displayName="ChannelPickerAlert";var ea=l.a.memo(h(function(jt){let{file:$t,isShowingShareLocations:Tn,destinationError:dn,slackConnectCanvasSharingBlocked:Un,slackConnectFileSharingBlocked:Bn,slackConnectListSharingBlocked:Kt,totalNumberDestinationMembers:Kn,destinationMemberIds:aa,deactivatedMemberIds:ln,postingToChannelDisallowed:en,destination:xt,canPostInSelectedChannel:sn,isSelectedChannelAppDm:nn,atChannelWarningKeyword:Ln,channelMemberCount:Pn,disallowedKeywordInMsgText:yn,selectedChannel:Zt,selectedChannelIsGeneral:qn,selectedChannelName:ta,willJoinChannel:la,recordId:Yn}=jt;const Jt=Object(r.c)(It=>ut(It,{file:$t,destination:xt,selectedChannel:Zt})),Qn=Object(s.useCallback)(()=>Object(Se.b)({destination:xt,canPostInSelectedChannel:sn,isSelectedChannelAppDm:nn}),[xt,sn,nn]),Zn=Object(r.c)(yt.isListsTranslationsEnabled),Hn=!Object(r.c)(D.d),Sa=Object(r.b)(It=>Object(ce.g)(It,$t&&$t.user)),Ca=Object(r.c)(It=>Object(Ge.a)(It,Sa)),La=Object(r.c)(It=>Object(le.a)(It,{file:$t})),Gt=Object(r.c)(It=>Object(Q.a)(It,{file:$t})),Ct=Object(r.c)(L.g);return l.a.createElement(l.a.Fragment,null,Hn&&l.a.createElement(_n,null),!Hn&&l.a.createElement(cn,{file:$t,recordId:Yn,isExternallyOwnedCanvas:La,slackConnectCanvasSharingBlocked:Un,slackConnectFileSharingBlocked:Bn,fileOwner:Sa,fileOwnerName:Ca,isExternallyOwnedList:Gt,slackConnectListSharingBlocked:Kt,experimentListsTranslationsGroupOn:Zn}),Tn&&l.a.createElement(Rn,{file:$t,experimentListsTranslationsGroupOn:Zn}),l.a.createElement(Vn,{externalWorkspaceName:Jt,destinationError:dn,slackConnectCanvasSharingBlocked:Un,team:Ct,totalNumberDestinationMembers:Kn,destinationMemberIds:aa,deactivatedMemberIds:ln,postingToChannelDisallowed:en,canShareCanvasToAppDm:Qn,atChannelWarningKeyword:Ln,channelMemberCount:Pn,disallowedKeywordInMsgText:yn,selectedChannelIsGeneral:qn,selectedChannelName:ta,willJoinChannel:la}))},"CanvasShareDialogAlerts")),Lt=e("y4hh"),vn=e("afXM"),Wn=e("Ec0U"),Nn=e("MXGC"),ia=e("sw7J"),Ea=e("oLdd");const bn=new u.b("share-dialog");function Xn(Dt){let{file:jt,onContinue:$t,onCancel:Tn}=Dt;const dn=Object(r.c)(yt.isListsTranslationsEnabled),Un=Object(r.c)(te.i),Bn=Object(r.c)(yn=>Object(le.a)(yn,{file:jt})),Kt=Object(r.c)(yn=>Object(Q.a)(yn,{file:jt})),Kn=Object(r.b)(yn=>Object(ce.g)(yn,jt&&jt.user)),aa=Object(r.c)(yn=>Object(L.s)(yn,(Kn==null?void 0:Kn.team_id)||"")),ln=Object(Ke.h)(aa);let en,xt,sn,nn,Ln,Pn;return Bn?(en=bn.t("Some people won\u2019t be able to view this canvas"),xt=bn.rt("<strong>{fileOwnerTeamName}</strong> owns this canvas so only people from that organization can grant others access.",{fileOwnerTeamName:ln}),sn=y.b.AWAY_CANVAS_SPEEDBUMP,nn="external_canvas"):(en=bn.t("Is it OK to send this?"),xt=bn.rt("Sharing canvases with external organizations has been turned off by your admins. If you share this canvas in this channel, only people from {teamName} will be able to view it.",{teamName:l.a.createElement(P.a,{id:Un})}),sn=y.b.SC_CANVAS_SHARING_BLOCKED_SPEEDBUMP,nn="sc_canvas_sharing_disabled"),Object(F.o)(jt)&&(Ln=m.EventId.SLACK_LISTS,Pn=m.UiComponentName.LIST_SHARE_DIALOG_SPEEDBUMP,Kt?(en=dn?bn.t("Some people won\u2019t be able to view this list"):"Some people won\u2019t be able to view this list",xt=dn?bn.rt("<strong>{fileOwnerTeamName}</strong> owns this list so only people from that organization can grant others access.",{fileOwnerTeamName:ln}):`${l.a.createElement("strong",null,ln)} owns this list so only people from that organization can grant others access.`,sn=y.b.AWAY_LIST_SPEEDBUMP,nn="external_list"):(en=bn.t("Is it OK to send this?"),xt=dn?bn.rt("Sharing lists with external organizations has been turned off by your admins. If you share this list in this channel, only people from {teamName} will be able to view it.",{teamName:l.a.createElement(P.a,{id:Un})}):`Sharing lists with external organizations has been turned off by your admins. If you share this list in this channel, only people from ${l.a.createElement(P.a,{id:Un})} will be able to view it.`,sn=y.b.SC_LIST_SHARING_BLOCKED_SPEEDBUMP,nn="sc_list_sharing_disabled")),l.a.createElement(f.a,{eventId:Ln??m.EventId.QUIP_SHARE,uiComponentName:Pn??m.UiComponentName.QUIP_SHARE_DIALOG_SPEEDBUMP,uiComponentVariant:nn,clogImpression:!0},l.a.createElement(g.k,{className:"p-canvas_access_speedbump",heading:en,description:l.a.createElement("div",{className:"margin_bottom_150 margin_top_50"},xt),onContinue:$t,continueButtonLabel:bn.t("Send Anyway"),continueButtonType:"primary",onCancel:Tn,cancelButtonLabel:bn.t("Cancel"),"data-qa":sn,autoClogProps:Te.k}))}h(Xn,"CanvasSlackConnectSharingSpeedBump");var vt=e("yzO5"),Je=e("F8ux"),et=e("AzV5"),mt=e("Uddq"),Pt=e("taW2");const Tt=h(Dt=>{let{teamId:jt,recordId:$t,file:Tn,blocks:dn}=Dt;const Un=Object(Pt.a)(Tn,jt??"",$t),Bn={type:"rich_text_section",elements:[{type:"link",url:Un??""}]};if(dn){var Kt;const Kn=dn[0];return Kn==null||(Kt=Kn.elements)===null||Kt===void 0||Kt.push(Bn),dn}return[{type:"rich_text",elements:[Bn]}]},"createRecordShareMessage");var Qt=e("TwEf");const dt=new u.b("share-dialog"),zt=Object(z.c)("Share a canvas",function(){var Dt=Object(n.coroutine)(function*(jt,$t,Tn){let{fileId:dn,grant:Un,selectedChannelId:Bn,messageInputRef:Kt,propMsgOps:Kn,recordId:aa}=Tn;const ln=$t(),en=Object(A.e)(ln,dn),xt=Object(F.o)(en),sn=Object(te.i)(ln),nn=Object(yt.isListsTranslationsEnabled)(ln),Ln=Kt.current&&Kt.current.getTextContents?Kt.current.getTextContents():Kn;try{const Pn=yield jt(Object(mt.a)({channelOrMemberId:Bn})),{channelId:yn}=Pn;if(!yn)return Y.a.reject(new Error("Invalid channelId"));let Zt=jt(Object(et.a)({msgOps:Ln,channelId:yn}));xt&&aa&&(Zt=Tt({teamId:sn,file:en,recordId:aa,blocks:Zt}));const qn={channelId:yn,blocks:Zt,msgText:"",fileIds:[dn],reason:"share_dialog_permission_share_to_user",permissions:[{grant:Un,file_id:dn}],fromShareModal:!0};let ta;if(aa&&xt?ta=yield jt(Object(Qt.a)({message:{channel:yn,blocks:Zt}})):ta=yield jt(Object(Je.a)(qn)),ta){dn&&yn&&jt(Object(ae.m)({fileId:dn,channelId:yn}));let la=dt.t("You shared this canvas");return xt&&!aa?la=dt.t("You shared this list"):xt&&aa?la=nn?dt.t("You shared this record"):"You shared this record":Object(F.yb)(en,ln)&&(la=dt.t("You shared this template")),jt(Object($.a)({element:l.a.createElement(vn.a,{message:la})})),Y.a.resolve()}}catch(Pn){return(Pn==null?void 0:Pn.name)==="message_limit_exceeded"&&jt(Object(vt.a)()),Y.a.reject(Pn)}});return function(jt,$t,Tn){return Dt.apply(this,arguments)}}());zt.meta={name:"createThunk",key:"createThunkshareCanvas",description:"Share a canvas"};var At=e("aCzs"),Qe=e("8POn"),nt=e("AutL"),_t=e("qY4A"),Et=e("gVOt"),kt=e("E97Y"),jn=e("jGyd"),pn=e("kN6v");function An(Dt){const jt=Object(jn.a)(Dt);return Object(pn.a)(jt==null?void 0:jt.hasFileUnfurls)}h(An,"useQuipDocHasFileUnfurls");var lt=e("rZ8V"),Dn=e("oBV+"),fn=e("T/b3");const kn=new u.b("share-dialog");var wn;(function(Dt){Dt.CANVAS_CHANGE_ACCESS_SPEEDBUMP="CanvasChangeAccessSpeedBump",Dt.CANVAS_CHANGE_ACCESS_CLOSE_MODAL_SPEEDBUMP="CanvasChangeAccessCloseModalSpeedBump",Dt.CANVAS_REVOKE_ACCESS_SPEEDBUMP="CanvasRevokeAccessSpeedBump",Dt.CANVAS_SLACK_CONNECT_SHARING_SPEEDBUMP="CanvasSlackConnectSharingSpeedBump",Dt.CLOSE_DIALOG_SPEEDBUMP="CloseDialogSpeedBump"})(wn||(wn={}));var fa;(function(Dt){Dt.LIST_SLACK_CONNECT_SHARING_SPEEDBUMP="ListSlackConnectSharingSpeedBump"})(fa||(fa={}));function In(Dt){const jt=Object(o.useDispatch)(),$t=Object(r.c)(j.e),Tn=Object(r.c)(Xe=>Object(H.d)(Xe,"canvas_collection_prototype")==="on"&&Object(lt.n)(Xe)),dn=Object(r.c)(Xe=>Object(H.d)(Xe,"canvas_user_created_templates",!1)==="on"),Un=Object(r.c)(Xe=>Object(H.d)(Xe,"canvas_templates_admin")==="on"),Bn=Object(r.c)(te.i),Kt=dn&&Dt.viewContext===Dn.a,{canPostInSelectedChannel:Kn,disallowedKeywordInMsgText:aa,slackConnectCanvasSharingBlocked:ln,deactivatedMemberIds:en,nonMemberChannel:xt,selectedChannel:sn,atChannelWarningKeyword:nn,channelMemberCount:Ln,selectedChannelIsGeneral:Pn,selectedChannelName:yn,willJoinChannel:Zt,channelType:qn,slackConnectListSharingBlocked:ta}=Object(r.d)(Xe=>Object(fe.b)(Xe,Dt)),la=Object(r.c)(Xe=>Object(T.Y)(Xe,sn)),Yn=Object(r.b)(Xe=>Object(A.e)(Xe,Dt.fileId)),Jt=Object(r.c)(Xe=>Object(F.yb)(Yn,Xe)),Qn=Object(r.c)(Xe=>Object(F.xb)(Yn,Xe)),Zn=Object(F.o)(Yn),Hn=Zn?je.b.LIST:je.b.CANVAS,Sa=Object(r.c)(Xe=>Object(ge.a)(Xe,Yn)),Ca=!Qn&&!Kn,La=Object(r.c)(Xe=>Object(se.u)(Xe,"a11y_animations")),Gt=An(Dt.fileId),Ct=!Object(r.c)(D.d),It=Object(r.c)(Xe=>Object(le.a)(Xe,{file:Yn})),on=Object(r.c)(Xe=>Object(Q.a)(Xe,{file:Yn})),Sn=Object(r.c)(Xe=>Object(nt.b)(Xe,Dt.fileId));var He;const re=Object(r.c)(Xe=>!!Object(ie.a)(Xe,(He=Dt.selectedChannelId)!==null&&He!==void 0?He:"")),ue=Jt||!Object(F.Yb)(Yn)?Z.a.Read:Z.a.Write,[ve,De]=Object(s.useState)(Object(c.a)(Yn,ue)),[We,we]=Object(s.useState)({}),[Be,ke]=Object(s.useState)(void 0),[Le,Ze]=Object(s.useState)(void 0),[ot,bt]=Object(s.useState)(!1),[ht,Bt]=Object(s.useState)(void 0),[Yt,Cn]=Object(s.useState)(!1),[an,Mn]=Object(s.useState)(),[rn,xn]=Object(s.useState)(Kt),[gt,Rt]=Object(s.useState)([]),[mn,ca]=Object(s.useState)(!1),[da,_a]=Object(s.useState)([]),[zn,na]=Object(s.useState)(!1),[ga,ma]=Object(s.useState)(void 0),[Oa,ka]=Object(s.useState)({}),[Ua,Va]=Object(s.useState)(!1),qa=Object(s.useRef)(null),{setDestinationError:ja,destinationError:xa,totalNumberDestinationMembers:Wa,overMsgLengthLimit:es,submitting:Pa,setSubmitting:ss,shouldShowCloseDialogSpeedBump:Ma,channelPickerInputRef:os,messageInputRef:za,onShareChannelChange:Ka,onShareChannelChangeError:Za,onChangeTotalDestinationMembers:ds,onTextChange:ts}=Object(Pe.a)({shareType:Hn,wrapperMsgOps:Dt.msgOps,setWrapperSelectedChannel:Dt.setSelectedChannel,setWrapperMsgOps:Dt.setMsgOps}),us=Object(s.useCallback)(()=>{Kt&&jt(Object($.a)({element:l.a.createElement(vn.a,{message:kn.t("You created a template.",{fallbackHashNs:"slack-docs",fallbackHash:"fc5f66fa3dc14324776872c29cfea4231efc3628"})})}))},[jt,Kt]),is=h(()=>{ma(void 0)},"resetSpeedBumpState"),Ya=Object(s.useCallback)(function(){let Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;us(),jt(Object(V.a)({closeAll:Xe}))},[jt,us]),fs=Object(s.useCallback)(Xe=>{let{access:ct,entityId:qt,currentAccess:tn}=Xe,On;if(ct==="revoke"||ct===tn){const{[qt]:Ht,...hn}=We;On=hn}else On={...We,[qt]:ct};we(On),dn&&rn&&xn(!1)},[dn,We,rn]),gs=Object(s.useCallback)(Xe=>{let{orgSharingSetting:ct}=Xe;ke(ct),dn&&rn&&xn(!1)},[dn,rn]),vs=Object(s.useCallback)((Xe,ct)=>{Un&&(Ze(Xe),Xe===!1&&ct&&ke(X.a.None),rn&&xn(!1))},[Un,rn]),Qa=Object(s.useCallback)(()=>{ma(void 0),Bt(void 0)},[]),hs=h(()=>{ma(void 0),ka({})},"resetCanvasRevokeAccessSpeedbumpState"),rs=h(Xe=>{setTimeout(()=>{var ct;(ct=qa.current)===null||ct===void 0||ct.selectTab(Xe)},0)},"switchShareDialogLocationsTab"),ms=Object(s.useCallback)(()=>Object(a.a)(We)?!1:Object(d.a)(Object.keys(We)[0]),[We]);let ns=kn.t("Canvas access updated");Zn?ns=kn.t("List access updated"):Jt&&(ns=kn.t("Template access updated"));const ps=Object(s.useCallback)(Object(n.coroutine)(function*(){bt(!0);const Xe=!!Le,ct=Le===!1,qt=!!Be;let tn=!1,On=!!Be&&!Xe&&(!ct||tn);if(Le!==void 0)try{if(yield jt(Xe?w({fileId:Yn.id}):de({fileId:Yn.id})),Ze(void 0),Xe&&qt&&ke(void 0),na(!1),tn=!0,ht&&rs(ht),!Kt&&(Xe||!qt)){let Ht;Xe?Ht=Un?kn.rt("Template added to <b>Created by {teamName}</b>",{teamName:l.a.createElement(P.a,{id:Bn})}):"":Ht=Un?kn.rt("Template removed from <b>Created by {teamName}</b>",{teamName:l.a.createElement(P.a,{id:Bn})}):"",jt(Object($.a)({element:l.a.createElement(vn.a,{message:Ht})}))}On=!!Be&&!Xe&&(!ct||tn)}catch{na(!0)}finally{bt(On),Qa(),Cn(!1)}Be&&!Xe&&(!ct||tn)&&jt(Object(X.b)({fileId:Yn.id,orgSharingSetting:Be})).then(()=>{if(ke(void 0),ca(!1),ht&&rs(ht),!Kt){let Ht=ns;ct&&(Ht=Un?kn.rt("Template removed from <b>Created by {teamName}</b> and access updated",{teamName:l.a.createElement(P.a,{id:Bn})}):""),jt(Object($.a)({element:l.a.createElement(vn.a,{message:Ht})}))}}).catch(()=>{we({}),ca(!0)}).finally(()=>{bt(!1),Qa(),Cn(!1)}),Object(a.a)(We)||jt(Object(G.a)({fileId:Yn.id,modifiedPermissions:We})).then(Ht=>{const hn=ms()?Ht.failedChannelIds:Ht.failedUserIds,Fn=hn.reduce(($n,Jn)=>Jn in We?Object.assign($n,{[Jn]:We[Jn]}):$n,{});we(Fn),Rt([...hn]),ht&&rs(ht),Object.keys(Fn).length<Object.keys(We).length&&(Kt||jt(Object($.a)({element:l.a.createElement(vn.a,{message:ns})})))}).catch(()=>{const Ht=Object.keys(We);Rt([...Ht])}).finally(()=>{bt(!1),Qa(),Cn(!1)})}),[Be,We,Le,jt,Yn.id,ht,Kt,ns,Qa,ms,Un,Bn]),Ja=Object(s.useCallback)(()=>Un&&Jt&&(Sa&&Le===void 0||!Sa&&Le===!0),[Un,Jt,Le,Sa]),Cs=Object(s.useCallback)(()=>{Ma()&&Kn?ma(wn.CLOSE_DIALOG_SPEEDBUMP):Object(At.b)({modifiedPermissions:We,modifiedOrgSharingSetting:Be,modifiedOrgTemplateSetting:Le,isOrgWideTemplate:Ja()})?ma(wn.CANVAS_CHANGE_ACCESS_CLOSE_MODAL_SPEEDBUMP):Ya()},[Ma,Kn,We,Be,Le,Ja,Ya]),at=Object(s.useCallback)(Xe=>Object(At.b)({modifiedPermissions:We,modifiedOrgSharingSetting:Be,modifiedOrgTemplateSetting:Le,isOrgWideTemplate:Ja()})?(ma(wn.CANVAS_CHANGE_ACCESS_SPEEDBUMP),Bt(Xe),!0):!1,[We,Be,Le,Ja]),Ye=Object(s.useCallback)(()=>{Object(At.b)({modifiedPermissions:We,modifiedOrgSharingSetting:Be,modifiedOrgTemplateSetting:Le,isOrgWideTemplate:Ja()})&&!Yt&&(ma(wn.CANVAS_CHANGE_ACCESS_SPEEDBUMP),Cn(!0))},[We,Be,Le,Ja,Yt]);Object(s.useEffect)(()=>{const{entityId:Xe,unknownPrivateChannelCount:ct}=Oa;(Xe||ct)&&ma(wn.CANVAS_REVOKE_ACCESS_SPEEDBUMP)},[Oa]),Object(s.useEffect)(()=>{p.d.stop({label:p.a.CanvasShareDialogLoad})},[]),Object(s.useEffect)(()=>{Dt.fileId&&Dt.selectedChannelId&&re?jt(Object(ye.a)({reason:"canShare",fileId:Dt.fileId,channelId:Dt.selectedChannelId})).then(Xe=>{Va(!!(re&&(Gt||!Xe.can_share)))}):Va(!1)},[jt,Dt.fileId,Dt.selectedChannelId,Gt,re]);const it=h(()=>{Dt.selectedChannelId&&(ss(!0),jt(zt({fileId:Dt.fileId,grant:ve.value,selectedChannelId:Dt.selectedChannelId,messageInputRef:za,propMsgOps:Dt.msgOps,recordId:Dt.recordId})).then(()=>{var Xe;if(Ya(!0),Tn&&Sn&&sn&&qn===kt.b.im){const qt=Object(Et.a)(sn);qt&&jt(Object(_t.a)({fileId:Dt.fileId,userId:qt}))}(Xe=Dt.onCloseCallback)===null||Xe===void 0||Xe.call(Dt)}).catch(Xe=>{Ya(),xe[Xe.name]&&ja(Xe.name)}).finally(()=>ss(!1)))},"onShare");if(!Yn)return null;const ft=h(function(){let{includeExternalMembersSpeedBump:Xe=!0,includeSlackConnectSharingSpeedBump:ct=!0,includeExternalWorkspaceSharingSpeedBump:qt=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object(Se.d)({disallowedKeywordInMsgText:aa,canPostInSelectedChannel:Kn,isOffline:Ct,overMsgLengthLimit:es,submitting:Pa,destinationError:xa})?!1:qt&&$t&&jt(W({fileIds:[Yn.id],entityId:sn.id||"",onContinue:()=>{ft({includeExternalWorkspaceSharingSpeedBump:!1,includeSlackConnectSharingSpeedBump:!1,includeExternalMembersSpeedBump:!1})}})).didOpen?!0:(ln||It)&&ct?(ma(wn.CANVAS_SLACK_CONNECT_SHARING_SPEEDBUMP),!1):(ta||on)&&ct?(ma(fa.LIST_SLACK_CONNECT_SHARING_SPEEDBUMP),!1):((!ln||!ta)&&Xe&&jt(Object(O.a)({fileIds:[Yn.id],entityId:sn.id||"",onSend:()=>{ft({includeExternalMembersSpeedBump:!1})}})).didOpen||it(),!0)},"onGo"),Ot=h(()=>{ft({includeSlackConnectSharingSpeedBump:!1})},"onGoFromSlackConnectSharingSpeedbump"),pt=h(()=>{ft()&&Ya()},"onEnter"),St=h(()=>{const Xe=l.a.createElement(Oe.a,{file:Yn,stopAnimations:!La});let ct=kn.t("Share this canvas");return Zn&&!Dt.recordId?ct=kn.t("Share this list"):Zn&&Dt.recordId?ct=kn.t("Share this record"):dn&&Kt?ct=kn.t("Review permissions for this template"):Jt&&(ct=kn.t("Share template")),l.a.createElement(g.i,{"data-qa":oe.b.MODAL_HEADER},l.a.createElement(g.l,{id:"share-dialog-title",className:"padding_right_175 padding_bottom_50",title:ct,subtitle:Xe,"data-qa":oe.b.MODAL_HEADER_TITLE}),l.a.createElement(Ee.a,{fileId:Dt.fileId}))},"renderHeader");St.displayName="renderHeader";const wt=h(()=>{var Xe;return l.a.createElement(g.e,{"data-qa":oe.b.MODAL_ALERT_SECTION},l.a.createElement(ea,{file:Yn,recordId:Dt.recordId,destinationError:xa,isShowingShareLocations:!Kn,slackConnectCanvasSharingBlocked:ln,slackConnectFileSharingBlocked:Ua,totalNumberDestinationMembers:Wa,destinationMemberIds:(Xe=Dt.destination)===null||Xe===void 0?void 0:Xe.memberIds,deactivatedMemberIds:en,postingToChannelDisallowed:Object(Se.f)({destination:Dt.destination,nonMemberChannel:xt,canPostInSelectedChannel:Kn}),destination:Dt.destination,canPostInSelectedChannel:Kn,isSelectedChannelAppDm:la,atChannelWarningKeyword:nn,channelMemberCount:Ln,disallowedKeywordInMsgText:aa,selectedChannel:sn,selectedChannelIsGeneral:Pn,selectedChannelName:yn,willJoinChannel:Zt,slackConnectListSharingBlocked:ta}))},"renderAlerts");wt.displayName="renderAlerts";const En=h(()=>Kt?l.a.createElement(g.e,null,l.a.createElement("div",{"data-qa":y.b.CANVAS_TEMPLATE_CONVERSION_LABEL,className:"p-share_dialog__desc"},dn?kn.t("By default, the template has the same permissions as your canvas."):"")):null,"renderDescription");En.displayName="renderDescription";const Gn=h(()=>{var Xe,ct;if(Kt)return null;const qt=(Xe=Dt.destination)===null||Xe===void 0?void 0:Xe.memberIds,tn=(ct=Dt.destination)===null||ct===void 0?void 0:ct.channelIds,{shouldSearchForChannels:On,shouldSearchForMembers:Ht}=Object(Se.c)({memberIds:qt,channelIds:tn,useMultiSelect:!0}),hn=l.a.createElement(me.a,{onChange:Ka,onChangeTotalDestinationMembers:ds,onChangeError:Za,focusOnMount:!0,expandOnFocus:!1,dialogType:"share_dialog",shouldSearchForChannels:On,shouldSearchForMembers:Ht,destination:Dt.destination,isPrivateMessageSharing:!1,shouldForceCreateDmDuringMultiSelect:!0,useMultiSelect:!0,initialChannelId:Dt.selectedChannelId,shouldShowFilePermissionsPrototype:!0,shouldAllowShareExternal:!0,inputRef:os,onInputFocused:Ye});return l.a.createElement(g.e,{"data-qa":oe.b.MODAL_HEADER_SECTION},l.a.createElement("div",{className:"display_flex margin_bottom_75 margin_top_50"},hn,(!Ht||!On||Dt.selectedChannelId)&&l.a.createElement(Ce.a,{file:Yn,selectedOption:ve,setSelectedOption:De})))},"renderChannelPicker");Gn.displayName="renderChannelPicker";const gn=h(()=>{if(Ca)return null;const Xe=kn.t("Add a message, if you\u2019d like.");return l.a.createElement(g.e,{className:"p-share_dialog__section"},l.a.createElement(Ue.a,{channelId:Dt.selectedChannelId,onTextChange:ts,placeholder:Xe,ariaLabel:Xe,onEnter:pt,ref:za,focusOnMount:!1,"data-qa":y.b.SHARE_DIALOG_MESSAGE_INPUT}))},"renderInput");gn.displayName="renderInput";const un=h(()=>Ca?l.a.createElement(g.e,{"data-qa":y.b.ORG_SHARING_MESSAGE_SECTION},l.a.createElement(Lt.a,{currentTab:an,file:Yn,switchTabs:rs})):null,"renderSharedOrgMessage");un.displayName="renderSharedOrgMessage";const va=h(()=>{const Xe=Object(Te.h)({permissionsGrantLevel:ve.value,viewContext:Dt.viewContext});let ct=Yn==null?void 0:Yn.permalink;Dt.recordId&&Bn&&(ct=Object(Pt.a)(Yn,Bn,Dt.recordId));const qt=l.a.createElement(be.a,{isStoryShare:!1,messageLinkCanBeCopied:!1,value:ct,buttonAutoClogProps:Te.f,shareType:Hn}),tn=l.a.createElement(pe,{onClick:ft,shareType:Hn,buttonAutoClogProps:Xe,isStoryShare:!1,isFetchingUnfurlData:!1,canPostInSelectedChannel:Kn&&!Ua,disallowedKeywordInMsgText:aa,overMsgLengthLimit:es,submitting:Pa,destinationError:xa});let On;const Ht=!Object(At.b)({modifiedPermissions:We,modifiedOrgSharingSetting:Be,modifiedOrgTemplateSetting:Le,isOrgWideTemplate:Ja()});let hn=kn.t("Save");if(Kt){hn=kn.t("Save Changes");let $n=kn.t("Close");rn&&($n=kn.t("Skip for Now")),On=l.a.createElement(v.a,{type:"outline",onClick:Cs,autoClogProps:rn?Te.j:Te.e,"data-qa":y.b.SKIP_FOR_NOW},$n)}let Fn;return Un&&Le!==void 0&&(Fn=Le===!0?Te.a:Te.b),l.a.createElement(g.h,null,l.a.createElement("div",{className:"p-share_dialog__left_actions"},qt),l.a.createElement("div",{className:"p-share_dialog__right_actions"},dn&&Kt&&On,!rn&&Kn&&tn,!rn&&!Kn&&l.a.createElement(v.c,{onClick:ps,disabled:Ht,"data-qa":y.b.SAVE_CHANGES,loading:ot,autoClogProps:Object(Te.d)(Fn,Dt.fileId)},hn)))},"renderFooter");va.displayName="renderFooter";const ua=h(Xe=>{let{entityId:ct}=Xe;_a([...da,ct])},"onRevokeAccessError"),ya=h(()=>{switch(ga){case wn.CANVAS_CHANGE_ACCESS_SPEEDBUMP:return l.a.createElement(Nn.a,{modifiedPermissions:We,modifiedOrgSharingSetting:Be,modifiedOrgTemplateSetting:Le,isOrgWideTemplate:Ja(),continueButtonIsLoading:ot,onContinue:ps,onCancel:Qa,fileId:Dt.fileId});case wn.CANVAS_CHANGE_ACCESS_CLOSE_MODAL_SPEEDBUMP:return l.a.createElement(Nn.a,{modifiedPermissions:We,modifiedOrgSharingSetting:Be,modifiedOrgTemplateSetting:Le,isOrgWideTemplate:Ja(),shouldShowCloseDialogSpeedbump:!0,onContinue:Ya,onCancel:is,fileId:Dt.fileId});case wn.CANVAS_REVOKE_ACCESS_SPEEDBUMP:{const{entityId:Xe,unknownPrivateChannelCount:ct}=Oa;return l.a.createElement(ia.a,{fileId:Yn.id,entityId:Xe,unknownPrivateChannelCount:ct,closeSpeedBump:hs,onRevokeAccessError:ua,isSlackList:Zn,isTemplate:Jt})}case fa.LIST_SLACK_CONNECT_SHARING_SPEEDBUMP:case wn.CANVAS_SLACK_CONNECT_SHARING_SPEEDBUMP:return l.a.createElement(Xn,{file:Yn,onContinue:Ot,onCancel:is});case wn.CLOSE_DIALOG_SPEEDBUMP:return l.a.createElement(Qe.a,{onContinue:Ya,onCancel:is,description:l.a.createElement("strong",null,kn.rt("Discard this message?")),"data-qa":oe.c.CLOSE_DIALOG});default:return null}},"renderSpeedBump");return ya.displayName="renderSpeedBump",l.a.createElement(f.a,{eventId:Zn?m.EventId.SLACK_LISTS:m.EventId.QUIP_SHARE,elementType:m.ElementType.MODAL},l.a.createElement(g.a,{closeModal:Cs,onAfterOpen:Dt.onOpenCallback,onClose:Dt.onCloseCallback,className:Object(t.default)("p-share_dialog__modal p-share_dialog__modal--doc"),overlayClassName:Object(t.default)("p-share_dialog__modal_overlay"),showCloseButton:!0,centered:!0,labelledby:"share-dialog-title","data-qa":y.b.MODAL},St(),l.a.createElement(g.d,null,un(),wt(),En(),Gn(),gn(),Ca&&l.a.createElement(Wn.b,{file:Yn,isSlackDoc:!0,isSlackList:Zn,initialTab:an||Dt.initialShareDialogLocationsTab,onPermissionChange:fs,modifiedPermissions:We,onOrgSharingChange:gs,modifiedOrgSharingSetting:Be,onOrgTemplateSettingChange:vs,handleOnSelectRevoke:ka,onSwitchTabsWithChanges:at,tabsRef:qa,onTabChange:Mn,permissionsFailedEntityIds:gt,hasOrgSharingSettingError:mn,revokeFailedEntityIds:da,hasOrgTemplateSettingError:zn})),l.a.createElement(g.g,null,ya(),va())))}h(In,"CanvasShareDialog"),In.displayName="CanvasShareDialog";var ha=i.default=Object(fe.a)(l.a.memo(In))},Gnyr:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("SQ0V"),l=e("3l96"),o=e("+kJ4"),f=e("fujP"),r=e("zxER"),m=e("YUBf"),c=e("3V+Q"),u=e("Ws5+"),d=e("nNoG"),p=e("Trx9"),v=e("ktUG"),g=e("9oWK"),b=h(()=>t.a.createElement("svg",{width:284,height:197,viewBox:"0 0 284 197",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("rect",{x:101.965,y:109.1,width:60.8382,height:6.57885,rx:3.28943,fill:"#1D1C1D",fillOpacity:.5}),t.a.createElement("rect",{opacity:.5,x:101.965,y:123.09,width:136.305,height:6.57885,rx:3.28943,fill:"#1D1C1D",fillOpacity:.3}),t.a.createElement("rect",{opacity:.5,x:101.965,y:137.078,width:117.443,height:6.57885,rx:3.28943,fill:"#1D1C1D",fillOpacity:.3}),t.a.createElement("rect",{x:38.9258,y:109.471,width:45.9025,height:45.9147,rx:4.86848,fill:"#36C5F0"}),t.a.createElement("rect",{x:38.9258,y:109.471,width:45.9025,height:45.9147,rx:4.78827,fill:"#E01E5A"}),t.a.createElement("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:39,y:92,width:46,height:64},t.a.createElement("path",{d:"M39.027 97.386a4.788 4.788 0 014.789-4.788h36.326a4.788 4.788 0 014.788 4.788v53.212a4.788 4.788 0 01-4.788 4.788H43.816a4.788 4.788 0 01-4.789-4.788V97.386z",fill:"#36C5F0"})),t.a.createElement("g",{mask:"url(#a)"},t.a.createElement("path",{d:"M78.444 134.127s-4.928-.181-5.123 5.629c-.435 12.416 2.516 31.435 2.915 36.47.438 4.745 10.195 5.136 11.365.711 1.457-5.469 1.742-24.497-.521-32.246-2.263-7.749-6.057-10.086-8.636-10.564z",fill:"#FA7598"}),t.a.createElement("path",{opacity:.2,d:"M76.171 155.459l-1 17.934c4.688-9.182 5.994-18.838 5.262-21.681-1.494-5.797-3.306-.714-4.262 3.747z",fill:"#000"}),t.a.createElement("path",{d:"M35.122 137.722c5.23-4.058 16.157-8.78 17.586-8.984h13.575l13.184 5.687c3.034 9.555 1.086 17.706-.905 21.936-.621 3.524-1.545 13.485-1.545 13.485a24.814 24.814 0 00-.173 7.525c.23 1.661 3.64 20.523 2.137 21.765l-35.504 1.156c0-12.081-1.93-32.689-3.982-47.166 0-6.605-7.933-12.107-4.373-15.404z",fill:"#FA7598"}),t.a.createElement("path",{d:"M66.12 134.961l2.618-11.079c2.032-8.282-10.58-15.225-12.789-6.445-.717 5.148-1.791 8.955-3.835 12.599 7.208 5.708 10.021 7.684 14.007 4.925z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M45.139 118.185c1.16 2.421 3 4.451 5.295 5.843 1.44 1.077 4.97 5.23 6.249 4.608l1.329-1.141 12.257-4.336-.272-11.508-1.192-3.934c-2.622-6.205-8.59-10.928-16.959-6.964-9.072 4.307-9.706 10.351-6.707 17.432z",fill:"#000"}),t.a.createElement("path",{d:"M60.642 137.725h2.275c3.055 0 4.186-3.409 2.517-7.612H52.148c1.616 4.203 5.384 7.612 8.494 7.612z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M58.207 129.375c-.445 1.948-4.132-.036-4.52-2.077 2.105-.872.786-1.915.503-2.386-.032-.054 2.026-.301 2.322-.39.625.816 1.59 3.886 1.695 4.853z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M56.735 120.021l-.996 4.857c1.103 3.388 8.925 8.828 11.39 6.069.366-1.289.433-3.047 3.913-5.661l-14.307-5.265z",fill:"#9B7659"}),t.a.createElement("path",{d:"M54.05 122.491l1.105 2.392c.846 1.626 3.876 2.087 3.876 2.087l7.31 1.531a7.433 7.433 0 002.916-.454c1.497-.657 3.768-1.021 3.949-3.035a63.229 63.229 0 00-.513-9.162 30.48 30.48 0 00-1.938-3.823 25.258 25.258 0 01-1.115-2.666 25.496 25.496 0 00-1.485-2.296l-1.51-1.668a1.24 1.24 0 00-1.415-.314l-12.08 5.011a1.136 1.136 0 00-.639 1.414l.996 2.882a1.604 1.604 0 01-.127 1.298l-.783 1.361 2.016 5.337-.563.105z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M48.213 121.085a2.555 2.555 0 014.399-1.262l3.4 4.506a5.131 5.131 0 01-3.796.979c-1.815-.256-4.398-2.086-4.003-4.223z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M50.075 122.063c-.734-2.27 1.533-1.459 1.533-1.459l-1.202 1.149a3.278 3.278 0 002.418 2.313c-1.947.488-2.749-2.003-2.749-2.003z",fill:"#9B7659"}),t.a.createElement("path",{d:"M57.443 114.594l.203-.422a2.37 2.37 0 011.039-1.083c1.794-1.145 2.75-1.605 4.35-2.147a.32.32 0 01.416.148.319.319 0 01.033.158l-.031.572a1.21 1.21 0 01-.659.958c-1.78.704-2.805 1.15-4.853 2.377a.406.406 0 01-.538-.328.402.402 0 01.04-.233zM65.508 122.77s1.483.748 3.135.416c1.653-.332 1.864-.901 2.09-1.374.227-.474-.097-1.468-.086-1.33a37.859 37.859 0 00-5.139 2.288z",fill:"#000"}),t.a.createElement("path",{d:"M65.507 122.769s1.713 1.454 3.575 1.09c1.86-.364 2.159-1.402 2.106-1.894a11.91 11.91 0 00-.384-1.548l-.192.299a1.5 1.5 0 01-.062 1.11 1.741 1.741 0 01-.828.829c-1.34.724-3.582-.147-4.215.114z",fill:"#9B7659"}),t.a.createElement("path",{d:"M65.98 122.573c.561.141 1.632-.014 2.367-.219 1.632-.482 1.623-.604 1.862-.864.043-.238.117-.879.117-.879s-3.72 1.296-4.346 1.962z",fill:"#fff"}),t.a.createElement("path",{d:"M65.406 122.813s1.29-1.301 2.779-1.742c1.49-.441 1.954-.856 2.24-.948.258-.052.448.03.637.16-.408.512-.8.756-1.422 1.041-.948.391-3.04.911-4.234 1.489z",fill:"#9B7659"}),t.a.createElement("path",{d:"M69.922 109.464l-.455-.364a.45.45 0 00-.194-.097.411.411 0 00-.209.007c-1.495.287-2.131.497-3.1.91-.141.007-.179.316-.08.496l.263.419c.067.142.17.255.293.324.124.069.261.09.394.06.81-.394 1.317-.609 2.96-.888a.376.376 0 00.204-.131.503.503 0 00.105-.246.564.564 0 00-.028-.277.473.473 0 00-.153-.213zM68.372 111.688c.69-.245 1.312.117 1.791.552a.316.316 0 01.028.433.315.315 0 01-.433.028c-.787-.672-1.763-.461-2.282.707a.396.396 0 01-.394.212.306.306 0 01-.17-.4c.177-.721.652-1.244 1.46-1.532zM61.296 114.54c.747-.29 1.613.041 1.95.64a.291.291 0 01-.032.33c-.123.093-.327.11-.448.009-.951-.841-2.225-.088-2.642.942a.316.316 0 01-.396.175.315.315 0 01-.176-.396c.242-.627.8-1.335 1.744-1.7z",fill:"#000"}),t.a.createElement("path",{d:"M65.902 119.776s-.408.308-.659.094c-.25-.214.567-1.032.903-1.452a1.775 1.775 0 011.58-.598c.73.049.897-.693 1.371-.826.475-.133.765.838.429 1.135-.336.296-.17.45-.673.671-1 .275-1.984.601-2.95.976z",fill:"#9B7659"}),t.a.createElement("path",{d:"M66.039 119.49s.27-.92.993-1.008c1.086-.148.468.502-.993 1.008zM68.763 118.355s.069-.675.401-.816c.333-.141.445.481-.401.816z",fill:"#3E2F24"}),t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M62.26 116.045c.041-.237-.037-.523-.232-.762-.307-.377-.787-.493-1.072-.261-.285.233-.267.726.04 1.103.105.129.23.227.36.291a5.066 5.066 0 01.903-.371zM69.422 113.285c.042-.221-.015-.49-.175-.73-.27-.403-.73-.569-1.029-.369-.298.199-.32.688-.05 1.092.098.148.223.264.356.342a4.774 4.774 0 01.897-.335z",fill:"#000"})),t.a.createElement("mask",{id:"b",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:30,y:83,width:172,height:95},t.a.createElement("path",{d:"M30.41 88.775a4.788 4.788 0 014.788-4.789h161.849a4.788 4.788 0 014.788 4.789v83.608a4.788 4.788 0 01-4.788 4.788H35.198a4.788 4.788 0 01-4.788-4.788V88.775z",fill:"#36C5F0"})),t.a.createElement("g",{mask:"url(#b)"},t.a.createElement("path",{opacity:.2,d:"M56.412 162.374l6.064-2.911c2.274-4.494-4.752-13.41-9.3-14.65-7.33-.422.543 13.649 3.236 17.561z",fill:"#000"}),t.a.createElement("path",{d:"M90.362 138.39l.806-3.093c.176-.693.481-1.346.9-1.926l3.678-5.162a.633.633 0 01.489-.287.634.634 0 01.524.217 2.905 2.905 0 01-.075 2.9 5.99 5.99 0 00-.94 4.284c.185 5.447-.734 6.347-.734 6.347s-4.158-2.021-4.648-3.28z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M96.297 131.554c-.158 1.045-.872 2.365-.873 3.422-.235 1.705-.005 2.872-.704 4.444l-1.77-3.575 3.347-4.291z",fill:"#9B7659"}),t.a.createElement("rect",{width:72.6889,height:30.2557,rx:4.32202,transform:"matrix(.93955 .34206 -.34198 .93983 95.785 102.674)",fill:"#E01E5A"}),t.a.createElement("path",{d:"M123.321 131.099c.08.029.139.086.179.17l.348.834a3.355 3.355 0 01-1.509.479c-.54.041-1.136-.057-1.788-.294-.583-.213-1.071-.503-1.466-.873a3.69 3.69 0 01-.887-1.264c-.2-.475-.3-.991-.298-1.548a5.124 5.124 0 01.327-1.709c.214-.59.505-1.096.871-1.516a3.986 3.986 0 011.256-.983c.473-.23.982-.356 1.528-.379a4.291 4.291 0 011.684.275c.572.208 1.045.487 1.418.836.377.35.666.735.866 1.152l-.736.501a.435.435 0 01-.155.073.322.322 0 01-.203-.018.401.401 0 01-.152-.105 5.43 5.43 0 01-.149-.183 5.033 5.033 0 00-.183-.24 1.957 1.957 0 00-.262-.261 2.335 2.335 0 00-.377-.266 2.804 2.804 0 00-.525-.247 2.564 2.564 0 00-1.036-.162 2.19 2.19 0 00-.948.271 2.635 2.635 0 00-.805.691c-.24.298-.439.667-.599 1.105a3.703 3.703 0 00-.244 1.246c.001.39.066.742.194 1.055.128.314.314.586.558.819.244.228.533.403.867.525.199.072.382.126.549.163.171.037.332.057.483.059.155.003.305-.01.451-.039a2.72 2.72 0 00.465-.145.466.466 0 01.142-.034.271.271 0 01.136.012zm4.713 1.119a7.43 7.43 0 00-1.015-.252 2.672 2.672 0 00-.703-.047.883.883 0 00-.439.142.61.61 0 00-.224.293c-.086.236-.078.429.023.581.104.153.268.27.493.352.275.1.53.137.765.112.239-.027.492-.108.758-.241l.342-.94zm-2.195-3.537c.855-.353 1.733-.366 2.635-.038.325.119.597.279.815.482.219.198.382.426.489.683.109.253.161.528.155.825a2.73 2.73 0 01-.175.921l-1.281 3.521-.608-.222a.687.687 0 01-.274-.161c-.054-.065-.08-.162-.078-.293l.027-.445a5.732 5.732 0 01-.535.186 2.708 2.708 0 01-.506.087 2.697 2.697 0 01-1.083-.167 2.3 2.3 0 01-.618-.33 1.553 1.553 0 01-.412-.475 1.373 1.373 0 01-.164-.596 1.786 1.786 0 01.119-.701 1.379 1.379 0 01.598-.711c.154-.088.337-.156.548-.207.211-.05.455-.072.732-.066.28.008.594.046.942.116.349.065.738.17 1.166.313l.118-.326c.136-.373.156-.677.062-.913-.094-.239-.291-.413-.591-.522a1.752 1.752 0 00-.571-.122 2.28 2.28 0 00-.438.037l-.36.06a.603.603 0 01-.321-.031.427.427 0 01-.214-.157.709.709 0 01-.094-.232l-.083-.516zm6.936 2.42a3.9 3.9 0 01.466-.181 2.338 2.338 0 011.536.037c.305.111.555.261.752.452.199.187.342.403.429.648.092.243.13.509.115.799-.01.288-.072.587-.185.899l-1.291 3.548-1.342-.489 1.291-3.548c.124-.34.142-.631.053-.873-.087-.245-.29-.425-.609-.541a1.48 1.48 0 00-.709-.08 2.457 2.457 0 00-.732.22l-1.467 4.031-1.341-.488 2.028-5.575.82.299c.174.063.259.186.254.369l-.068.473zm10.023 2.874l-4.239 4.77-1.217-.443-.182-6.379 1.108.403a.44.44 0 01.224.162.345.345 0 01.071.228l-.008 3.37a8.44 8.44 0 01-.102 1.107c.097-.153.198-.305.302-.456.104-.151.218-.302.343-.454l2.181-2.578a.399.399 0 01.46-.115l1.059.385zm2.359 4.477a7.395 7.395 0 00-1.015-.252 2.672 2.672 0 00-.703-.047.883.883 0 00-.439.142.616.616 0 00-.224.293c-.086.236-.078.429.023.581.104.153.268.27.493.352.275.1.53.137.765.112.24-.028.492-.108.758-.241l.342-.94zm-2.195-3.537c.855-.353 1.733-.366 2.635-.038.326.119.597.279.815.482a1.919 1.919 0 01.644 1.508 2.73 2.73 0 01-.175.921l-1.281 3.521-.608-.222a.687.687 0 01-.274-.161c-.054-.065-.08-.162-.078-.293l.027-.445a5.732 5.732 0 01-.535.186 2.708 2.708 0 01-.506.087 2.697 2.697 0 01-1.083-.167 2.33 2.33 0 01-.618-.33 1.536 1.536 0 01-.411-.475 1.36 1.36 0 01-.165-.596 1.805 1.805 0 01.119-.701 1.379 1.379 0 01.598-.711c.155-.088.337-.156.549-.207a2.91 2.91 0 01.731-.066c.28.008.594.046.942.116.349.065.738.17 1.166.313l.118-.326c.136-.373.157-.677.062-.913-.094-.239-.291-.413-.591-.523a1.774 1.774 0 00-.571-.121 2.28 2.28 0 00-.438.037l-.36.06a.603.603 0 01-.321-.031.432.432 0 01-.214-.157.709.709 0 01-.094-.232l-.083-.516zm8.935 3.604a.42.42 0 01-.159.083.331.331 0 01-.164-.023.503.503 0 01-.192-.131 6.96 6.96 0 00-.212-.213 2.344 2.344 0 00-.291-.247 1.685 1.685 0 00-.421-.215c-.264-.096-.493-.116-.686-.059a.563.563 0 00-.383.359.465.465 0 00.004.346c.051.109.128.217.232.325.108.109.235.218.379.328.146.107.292.219.437.338.149.12.291.247.427.383.136.132.247.279.331.441.09.159.144.333.162.52.021.188-.009.395-.09.619a1.99 1.99 0 01-.418.691 1.699 1.699 0 01-.637.433 2.216 2.216 0 01-.841.131 3.268 3.268 0 01-1.006-.213 3.1 3.1 0 01-.545-.26 3.313 3.313 0 01-.863-.72 2.485 2.485 0 01-.276-.408l.495-.398a.47.47 0 01.193-.09.421.421 0 01.224.026c.083.03.153.082.208.156.059.074.127.157.205.247.078.09.174.182.287.276.117.096.277.181.48.255.159.058.301.089.427.094a.938.938 0 00.338-.049.57.57 0 00.24-.153.693.693 0 00.147-.235.48.48 0 00-.003-.365 1.047 1.047 0 00-.231-.33 2.918 2.918 0 00-.38-.323c-.145-.11-.293-.225-.446-.347a5.773 5.773 0 01-.432-.385 1.969 1.969 0 01-.331-.459 1.48 1.48 0 01-.15-.553 1.672 1.672 0 01.115-.671 1.72 1.72 0 01.374-.603c.165-.173.363-.305.592-.393a2.07 2.07 0 01.791-.131c.299.002.62.066.964.191.384.14.711.331.98.572.269.242.47.504.605.787l-.48.373z",fill:"#fff"}),t.a.createElement("g",{clipPath:"url(#clip0_1413_185537)"},t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.134 112.881a3.374 3.374 0 00-4.326 2.017l-2.924 8.034a3.375 3.375 0 002.017 4.326l4.851 1.766a2.478 2.478 0 001.892-.083l5.496-2.563a2.476 2.476 0 001.28-1.397l1.765-4.85a3.374 3.374 0 00-2.017-4.326l-8.034-2.924zm3.073 9.977a1.35 1.35 0 00-1.73.807l-1.001 2.749a.675.675 0 001.269.461l.872-2.396a.375.375 0 01.481-.224l2.396.872a.674.674 0 10.462-1.269l-2.749-1zm-4.239-6.116a.563.563 0 01.721-.336l6.555 2.386a.563.563 0 01-.385 1.057l-6.555-2.386a.563.563 0 01-.336-.721zm-.203 2.201a.562.562 0 10-.385 1.057l1.903.693a.562.562 0 10.385-1.057l-1.903-.693z",fill:"#fff"})),t.a.createElement("path",{d:"M77.27 147.074l11.593-6.836 5.567 4.577c-4.479 1.176-12.867 8.652-14.279 9.393 0 0-1.706-5.022-2.88-7.134z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M86.927 141.221l4.706 6.516-27.304 21.198a7.923 7.923 0 01-3.85 1.621 6.422 6.422 0 01-6.453-2.773 5.761 5.761 0 01-.34-6.535 7.835 7.835 0 013.041-2.956l30.2-17.071z",fill:"#FA7598"}),t.a.createElement("path",{d:"M86.95 141.221L59.707 156.56c-3.798 2.106-2.378 1.426-1.242 1.909L87.07 141.4l-.122-.179z",fill:"#FB91B9"}),t.a.createElement("path",{d:"M98.62 132.523s4.344-3.772 5.562-5.23c.65-.776 2.375-3.078 3.755-2.089 1.379.99-7.919 9.94-7.919 9.94l-1.399-2.621z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M89.118 140.763l3.06 4.888 8.769-2.426a4.828 4.828 0 002.201-1.236l1.844-1.782-5.258-8.455-8.792 4.442-1.824 4.569z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M100.725 133.501s4.817-2.581 6.343-3.746c.797-.619 2.971-2.772 4.116-1.525 1.145 1.247-9.793 8.084-9.793 8.084l-.666-2.813z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M101.188 135.407l6.672-3.779s2.642-2.739 3.775-1.471c.545.586-1.775 2.654-4.267 4.677-2.492 2.024-5.34 3.909-5.34 3.909l-.84-3.336z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M101.522 138.911s4.675-3.326 5.999-4.58c.738-.71 2.32-2.477 3.634-1.399 1.314 1.078-8.568 9.363-8.568 9.363l-1.065-3.384z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M38.71 151.809c7.605 10.4 14.545 15.338 16.675 17.697 3 3.323 11.15-.517 9.86-5.734-.885-1.214-1.264-4.375-2.464-6.926-2.958-4.358-6.474-8.423-15.045-19.7-8.71-6.998-16.56 2.997-9.026 14.663z",fill:"#FA7598"}),t.a.createElement("path",{d:"M54.337 146.857c2.91-3.103.205-12.465-5.644-13.802-2.42-1.084-7.47 1.026-9.926 2.774-2.004 5.376 5.198 14.148 15.57 11.028z",fill:"#FA7598"}),t.a.createElement("path",{d:"M91.26 147.284l.378.556-27.78 21.551c-2.507 1.706-5.514 1.803-8.22.206 4.806 1.092 8.254-1.756 35.622-22.313z",fill:"#C85E7A"})),t.a.createElement("rect",{x:95.4727,y:67.9316,width:39.118,height:21.1952,rx:10.5976,fill:"#36C5F0"}),t.a.createElement("path",{d:"M110.238 75.915c.323-.426.53-.87.664-1.217.231-.596-.025-1.205-.487-1.533-.609-.433-1.522-.317-1.838.243-.438.779-.943 1.388-1.759 2.13-.316.274-.493.493-.59.681h-1.759a.79.79 0 00-.791.798v4.667a1.53 1.53 0 001.528 1.534h1.028a.79.79 0 00.791-.797v-.22c.14.068.292.116.45.135l2.21.273c1.089.134 2.336-.535 2.549-1.612l.664-3.335c.188-.962-.298-1.759-1.278-1.753l-1.382.006zm1.126 4.808c-.128.639-.913 1.065-1.558.986l-2.215-.274c-.304-.037-.566-.34-.566-.651v-3.579c0-.438.11-.687.463-.998.773-.736 1.284-1.363 1.746-2.178.152-.262.493-.225.645-.122.183.122.225.316.171.45-.213.524-.493 1.01-.974 1.631-.323.371-.207.84.256.84l2.288-.006c.359 0 .487.207.414.56l-.67 3.34zm-6.158 1.582a.614.614 0 01-.615-.62v-4.553h1.521v5.173h-.906zM122.456 79.459v-2.735c0-.258.017-.544.052-.856l-2.596 3.59h2.544zm2.295 0v.826a.3.3 0 01-.075.203c-.05.054-.121.08-.214.08h-.763v2.041h-1.243v-2.04h-3.526a.398.398 0 01-.394-.313l-.15-.722 3.96-5.29h1.353v5.215h1.052z",fill:"#fff"}),t.a.createElement("rect",{x:95.4727,y:40.2617,width:56.1826,height:6.79311,rx:3.39655,fill:"#1D1C1D",fillOpacity:.5}),t.a.createElement("rect",{opacity:.5,x:95.4727,y:54.4648,width:138.296,height:6.7931,rx:3.39655,fill:"#1D1C1D",fillOpacity:.3}),t.a.createElement("rect",{x:38.9258,y:39.4727,width:45.9025,height:45.9147,rx:4.86848,fill:"#36C5F0"}),t.a.createElement("rect",{x:38.9258,y:39.4727,width:45.9025,height:45.9147,rx:4.78827,fill:"#36C5F0"}),t.a.createElement("mask",{id:"c",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:29,y:1,width:189,height:92},t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84.83 6.273a4.788 4.788 0 014.787-4.789h123.214a4.788 4.788 0 014.788 4.789V87.83a4.788 4.788 0 01-4.788 4.788H89.617a4.788 4.788 0 01-4.788-4.788V6.273zm-8.513 33.2v-4.748a4.788 4.788 0 00-4.788-4.788H34.6a4.788 4.788 0 00-4.788 4.788V68.15a4.788 4.788 0 004.788 4.788h4.325V80.6a4.788 4.788 0 004.788 4.788h36.327a4.788 4.788 0 004.788-4.788V44.262a4.788 4.788 0 00-4.788-4.788h-3.724z",fill:"#36C5F0"})),t.a.createElement("g",{mask:"url(#c)"},t.a.createElement("path",{d:"M69.188 72.576s-4.156.35-3.838 5.26c.318 4.91 9.112 27.892 12.31 30.289a5.11 5.11 0 007.043-.269 5.109 5.109 0 001.268-2.232c1.415-3.625-3.295-20.609-6.816-26.454-3.52-5.846-7.727-6.765-9.967-6.594z",fill:"#99EEFA"}),t.a.createElement("path",{d:"M74.904 99.943c-.328-.085.424-15.468 1.284-21.725 2.98 8.717 4.295 13.733 5.563 23.064-2.145-.411-6.518-1.255-6.847-1.34z",fill:"#46C9E7",fillOpacity:.5}),t.a.createElement("path",{d:"M78.9 58.365c-.163.567.36 1.363.032 1.914-.328.55-1.072.842-1.317 1.37-.142 2.356.327 1.477-1.536 2.875-.494 2.3.15 1.503-1.958 2.584-.376.398-.293 1.282-.718 1.636-.424.354-1.269.14-1.667.456-.398.315-.696 1.72-1.668 1.47-.424.245-1.09.053-1.58.157-.265.3-.569.564-.903.784-.513 1.142-1.659.428-2.498.57-.554.162-.931.99-1.487 1.106-.555.117-1.25-.453-1.823-.388-.571.066-1.092.806-1.666.825-.573.019-1.139-.682-1.728-.714-.59-.032-1.228.583-1.797.48-.57-.103-.97-.895-1.524-1.054-2.398.168-1.515.515-3.146-1.23-2.4-.356-1.593.2-2.826-1.861-2.284-.813-1.512-.083-2.385-2.378-2.087-1.232-1.418-.41-1.93-2.785-.287-.497-1.168-.69-1.418-1.208-.25-.517.18-1.315-.015-1.863-.196-.547-1.334-.968-1.22-1.734-.511-.516.154-1.384.007-1.995-.146-.61-.901-.92-1.003-1.472-.102-.552.575-1.14.49-1.702-.083-.561-.693-1.106-.64-1.72.055-.615.796-1 .89-1.54.095-.542-.478-1.214-.337-1.757.141-.543.918-.841 1.12-1.382.202-.54-.377-1.353-.04-1.885.176-.61 1.069-.829 1.313-1.357.245-.529-.132-1.298.129-1.776.26-.477 1.142-.607 1.458-1.115.315-.508.058-1.32.395-1.744.338-.425 1.232-.382 1.603-.766.372-.384.365-1.262.747-1.628.382-.366 1.208-.143 1.654-.413.447-.27.608-1.361 1.36-1.467.446-.639 1.466-.13 2.075-.43.608-.3.756-1.133 1.28-1.35.523-.218 1.313.24 1.866.077 1.958-1.462.934-1.266 3.285-.741 2.184-1.075 1.134-1.055 3.377-.1 2.322-.651 1.354-.808 3.339.564 2.38-.158 1.51-.501 3.142 1.244.51.255 1.366-.05 1.841.27.476.322.54 1.216.99 1.577.448.36 1.33.23 1.748.643.419.412.287 1.296.654 1.725.368.428 1.272.49 1.6.953.326.463.044 1.333.33 1.831.566.7 1.405.881 1.446 2.122-.02.401.025.803.133 1.19.169.48.752.801 1.053 1.195.634.782.072 1.557.235 2.219 1.32 1.917 1.16.98.372 3.18.886 2.252.885 1.192-.316 3.226.431 2.444.673 1.5-.817 3.312z",fill:"#000"}),t.a.createElement("path",{d:"M54.837 48.666a9.876 9.876 0 006.746 12.223c2.504.71 5.181.471 7.52-.671a8.144 8.144 0 004.743-6.065c.176-1.057.263-2.126.262-3.196a8.354 8.354 0 00-3.027-7.126 11.684 11.684 0 00-3.972-1.884 9.87 9.87 0 00-12.272 6.719z",fill:"#1376A2"}),t.a.createElement("path",{d:"M54.943 50.479a9.105 9.105 0 00-.313 2.413 9.845 9.845 0 007.397 9.278 7.478 7.478 0 007.058-1.895 15.142 15.142 0 004.445-7.104c.213-.713.382-1.44.504-2.174a8.354 8.354 0 00-3.027-7.125c-1.158-.583-2.391-1.001-3.665-1.242-6.012-.983-10.673.959-12.4 7.849z",fill:"#99EEFA"}),t.a.createElement("path",{d:"M59.497 74.048v.265a5.679 5.679 0 005.695-5.682V53.52a5.697 5.697 0 00-5.695-5.697v.266a5.459 5.459 0 00-5.68 5.43v15.113a5.462 5.462 0 005.68 5.417z",fill:"#884934"}),t.a.createElement("path",{d:"M32.794 84.496c-.219 3.099 2.434 5.76 5.533 5.549 0 0 .84 18.317.485 20.619a4.576 4.576 0 001.387 4.56h33.404a6.416 6.416 0 002.006-5.268 34.436 34.436 0 01-.28-4.797c0-3.925-.281-9.312 1.519-12.84 1.565-3.066.637-16.362-2.714-18.55-3.04-1.978-9.03-6.302-9.03-6.302H53.302l-15.64 6.877c-2.847 1.107-4.985 5.768-4.867 10.152z",fill:"#99EEFA"}),t.a.createElement("path",{d:"M64.398 78.49s2.213-6.937.737-11.217H53.332c1.475 4.31 8.351 11.217 11.066 11.217z",fill:"#884934"}),t.a.createElement("path",{d:"M56.922 54.807l-1.033 7.819c2.33 8.645 7.628 8.908 9.744 8.507.024-4.39-.515-6.584-1.045-10.706l-7.666-5.62z",fill:"#663727"}),t.a.createElement("path",{d:"M55.421 51.693c-2.208 7.335.807 14.61 8.983 16.77a3.953 3.953 0 004.083-1.217c1.966-2.504 4.56-5.427 4.619-8.666a28.171 28.171 0 011.026-4.036l.045-.156c.078-.269.046-.585.075-.9.17-2.823-.387-5.364-2.05-6.735a7.79 7.79 0 00-3.614-1.735c-6.353-1.772-12.242 2.78-13.167 6.675z",fill:"#884934"}),t.a.createElement("path",{d:"M63.023 60.912c2.418.885 3.48 1.296 5.506 1.67a2.857 2.857 0 00-.975 1.624 5.096 5.096 0 01-2.73-.696c-.83-.485-1.299-1.714-1.8-2.598z",fill:"#000"}),t.a.createElement("path",{d:"M66.185 63.532c-.166.575-.81.595-1.607.3-.606-.586-1.25-1.398-1.135-1.685.116-.289.542-.14 1.34.154.797.295 1.518.943 1.402 1.231z",fill:"#DE4E2B"}),t.a.createElement("path",{d:"M66.185 63.532c-.166.575-.81.595-1.607.3-.606-.586-1.25-1.398-1.135-1.685.116-.289.542-.14 1.34.154.797.295 1.518.943 1.402 1.231z",fill:"#000",fillOpacity:.4}),t.a.createElement("path",{d:"M67.457 63.187c.09-.119.184-.37.233-.537l-3.627-1.297c-.043.149-.122.489-.053.545 1.526 1.046 2.846 1.605 3.447 1.29z",fill:"#fff"}),t.a.createElement("path",{d:"M68.33 62.793c.114 1.404-1.135 2.283-2.49 1.892-1.464-.423-2.84-2.402-2.813-3.753.664 1.082 2.443 3.275 4.297 3.103l.846-1.37.16.128z",fill:"#663727"}),t.a.createElement("path",{d:"M68.858 62.499a.311.311 0 00.016-.189.379.379 0 00-.096-.178.486.486 0 00-.401-.145 3.084 3.084 0 01-1.802-.358c-.634-.312-1.118-.521-3.555-.73 1.396 1.052 3.643 2.295 5.34 2.006.122-.065.23-.149.318-.248a.944.944 0 00.18-.158z",fill:"#663727"}),t.a.createElement("path",{d:"M50.566 52.242l.005.247-.07.241a4.96 4.96 0 001.437 3.487c.162.161.333.313.513.455.679.521 1.48.859 2.328.98l.68.042.038-5.458a2.48 2.48 0 00-4.935.02l.004-.014z",fill:"#884934"}),t.a.createElement("path",{d:"M52.174 52.461c.751-2.18 2.035-.242 2.035-.242l-1.593.2a3.174 3.174 0 00.6 3.246c-1.86-.798-1.042-3.204-1.042-3.204z",fill:"#663727"}),t.a.createElement("path",{d:"M49.008 57.608a3.292 3.292 0 003.548 4.855 3.29 3.29 0 002.374-4.407 3.29 3.29 0 00-1.143-1.48.399.399 0 00-.195.518 2.745 2.745 0 11-1.086-.539l.077.044-.395-.585a3.305 3.305 0 00-3.18 1.594z",fill:"#FAA11B"}),t.a.createElement("path",{d:"M66.003 60.047s-.42.017-.342-.253c.078-.27 1.053-.402 1.51-.5a.973.973 0 011.15.33c.258.383.91-.013 1.205.134.295.147-.36.925-.718.945-.359.019-.416.217-.803.121-.964-.278-.844-.535-2.002-.777z",fill:"#663727"}),t.a.createElement("path",{d:"M66.259 59.952s.84-.464 1.202-.175c.55.435-.22.55-1.202.175zM68.255 60.542s.562-.406.803-.336-.184.53-.803.336zM62.723 52.758l.446.62c.622-.267 1.573-.287 2.213-.133.671.183 1.077.451 1.512 1.018.198.212-.112.56-.344.327-.515-.522-.64-.705-1.354-.894-.713-.188-1.417-.188-2.12.191a.218.218 0 01-.288-.06l-.551-.779c-.054-.107-.026-.282.073-.35.121-.085.328-.09.413.06zM74.024 56.138l-.674.285c-.326-.552-.774-1.014-1.342-1.223-.608-.2-1.322-.245-1.959 0-.264.073-.217.528.085.455.672-.165 1.128-.197 1.77.021.642.218.915.534 1.241 1.221.042.1.153.145.252.102l.838-.362c.1-.061.173-.222.135-.332-.047-.134-.2-.248-.346-.167zM61.538 51.738a3.835 3.835 0 012.325-.16l3.63 1.019a.473.473 0 00.594-.313.618.618 0 00-.473-.763l-3.23-.92s-2.063-.509-2.846 1.137zM70.84 52.952a.47.47 0 00.274.613l3.484 1.443.08.04.071-.146c.124-.252.15-.569.234-.873l-.133-.065-3.106-1.273a.633.633 0 00-.903.261z",fill:"#000"}),t.a.createElement("path",{d:"M31.982 85.412a5.194 5.194 0 005.532 5.55s1.653 17.399 1.299 19.701a4.576 4.576 0 001.387 4.561h33.403a6.425 6.425 0 002.007-5.269 34.422 34.422 0 01-.28-4.796s-7.613-8.014-16.909-7.91c-9.295.103-16.347-12.029-16.347-12.029a11.904 11.904 0 00-10.092.192z",fill:"#46C9E7",fillOpacity:.5}),t.a.createElement("path",{d:"M40.819 73.68s4.16.28 3.924 5.194c-.236 4.914-8.646 28.041-11.803 30.49a5.097 5.097 0 01-4.833 1.145 5.114 5.114 0 01-3.518-3.506c-1.476-3.601 2.95-20.661 6.374-26.565 3.423-5.903 7.613-6.892 9.855-6.759z",fill:"#99EEFA"}),t.a.createElement("ellipse",{cx:.779543,cy:.886682,rx:.779543,ry:.886682,transform:"rotate(22.031 -103.835 192.229) skewX(.011)",fill:"#000"}),t.a.createElement("ellipse",{cx:.726522,cy:.826373,rx:.726522,ry:.826373,transform:"rotate(22.03 -106.011 210.773) skewX(.01)",fill:"#000"})),t.a.createElement("mask",{id:"d",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:62,y:81,width:8,height:5},t.a.createElement("path",{fill:"#C4C4C4",d:"M62.332 81.2715H69.43536V85.38779000000001H62.332z"})),t.a.createElement("g",{mask:"url(#d)"},t.a.createElement("path",{d:"M65.872 88.534c-.842-1.441-1.38-3.044-1.87-4.618.296-1.008 1.742-.795 2.555-.122.926.91.802 1.206 1.6 2.229 0 0 .59 3.15-2.285 2.51z",fill:"#884934"})),t.a.createElement("path",{d:"M68.89 83.18c4.034.138 10.376 2.189 10.65 2.208H68.348c.07-.322.308-1.644.542-2.208z",fill:"#884934"}),t.a.createElement("path",{d:"M77.27 83.914a12.108 12.108 0 002.204 2.835c.78.439 1.195-.271 1.019-1.065a23.072 23.072 0 00-.986-2.682s-1.812-1.281-2.237.912z",fill:"#884934"}),t.a.createElement("path",{d:"M74.25 83.806a15.203 15.203 0 002.787 3.56c.984.574 1.512-.317 1.297-1.318a31.264 31.264 0 00-1.228-3.386s-2.331-1.614-2.857 1.144z",fill:"#884934"}),t.a.createElement("path",{d:"M71.3 83.62c.814 1.51 1.62 2.977 2.773 4.115 1.06.642 1.638-.386 1.43-1.508a35.96 35.96 0 00-1.339-3.839s-2.243-1.916-2.864 1.231z",fill:"#884934"}),t.a.createElement("path",{d:"M68.877 83.183a18.031 18.031 0 002.048 4.373c.871.876 1.606.102 1.606-.962-.093-1.3-.261-2.59-.502-3.86 0 0-1.985-2.215-3.152.45z",fill:"#884934"}),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0_1413_185537"},t.a.createElement("path",{fill:"#fff",transform:"rotate(20 -261.839 338.994)",d:"M0 0H18V18H0z"})))),"SCCanvasImageLight"),C=h(()=>t.a.createElement("svg",{width:284,height:197,viewBox:"0 0 284 197",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("rect",{x:101.965,y:109.1,width:60.8382,height:6.57885,rx:3.28943,fill:"#D1D2D3",fillOpacity:.5}),t.a.createElement("rect",{opacity:.5,x:101.965,y:123.09,width:136.305,height:6.57885,rx:3.28943,fill:"#D1D2D3",fillOpacity:.3}),t.a.createElement("rect",{opacity:.5,x:101.965,y:137.078,width:117.443,height:6.57885,rx:3.28943,fill:"#D1D2D3",fillOpacity:.3}),t.a.createElement("rect",{x:38.9258,y:109.471,width:45.9025,height:45.9147,rx:4.86848,fill:"#36C5F0"}),t.a.createElement("rect",{x:38.9258,y:109.471,width:45.9025,height:45.9147,rx:4.78827,fill:"#E01E5A"}),t.a.createElement("mask",{id:"a",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:39,y:92,width:46,height:64},t.a.createElement("path",{d:"M39.027 97.386a4.788 4.788 0 014.789-4.788h36.326a4.788 4.788 0 014.788 4.788v53.212a4.788 4.788 0 01-4.788 4.788H43.816a4.788 4.788 0 01-4.789-4.788V97.386z",fill:"#36C5F0"})),t.a.createElement("g",{mask:"url(#a)"},t.a.createElement("path",{d:"M78.444 134.127s-4.928-.181-5.123 5.629c-.435 12.416 2.516 31.435 2.915 36.47.438 4.745 10.195 5.136 11.365.711 1.457-5.469 1.742-24.497-.521-32.246-2.263-7.749-6.057-10.086-8.636-10.564z",fill:"#FA7598"}),t.a.createElement("path",{opacity:.2,d:"M76.171 155.459l-1 17.934c4.688-9.182 5.994-18.838 5.262-21.681-1.494-5.797-3.306-.714-4.262 3.747z",fill:"#000"}),t.a.createElement("path",{d:"M35.122 137.722c5.23-4.058 16.157-8.78 17.586-8.984h13.575l13.184 5.687c3.034 9.555 1.086 17.706-.905 21.936-.621 3.524-1.545 13.485-1.545 13.485a24.814 24.814 0 00-.173 7.525c.23 1.661 3.64 20.523 2.137 21.765l-35.504 1.156c0-12.081-1.93-32.689-3.982-47.166 0-6.605-7.933-12.107-4.373-15.404z",fill:"#FA7598"}),t.a.createElement("path",{d:"M66.12 134.961l2.618-11.079c2.032-8.282-10.58-15.225-12.789-6.445-.717 5.148-1.791 8.955-3.835 12.599 7.208 5.708 10.021 7.684 14.007 4.925z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M45.139 118.185c1.16 2.421 3 4.451 5.295 5.843 1.44 1.077 4.97 5.23 6.249 4.608l1.329-1.141 12.257-4.336-.272-11.508-1.192-3.934c-2.622-6.205-8.59-10.928-16.959-6.964-9.072 4.307-9.706 10.351-6.707 17.432z",fill:"#000"}),t.a.createElement("path",{d:"M60.642 137.725h2.275c3.055 0 4.186-3.409 2.517-7.612H52.148c1.616 4.203 5.384 7.612 8.494 7.612z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M58.207 129.375c-.445 1.948-4.132-.036-4.52-2.077 2.105-.872.786-1.915.503-2.386-.032-.054 2.026-.301 2.322-.39.625.816 1.59 3.886 1.695 4.853z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M56.735 120.021l-.996 4.857c1.103 3.388 8.925 8.828 11.39 6.069.366-1.289.433-3.047 3.913-5.661l-14.307-5.265z",fill:"#9B7659"}),t.a.createElement("path",{d:"M54.05 122.491l1.105 2.392c.846 1.626 3.876 2.087 3.876 2.087l7.31 1.531a7.433 7.433 0 002.916-.454c1.497-.657 3.768-1.021 3.949-3.035a63.229 63.229 0 00-.513-9.162 30.48 30.48 0 00-1.938-3.823 25.258 25.258 0 01-1.115-2.666 25.496 25.496 0 00-1.485-2.296l-1.51-1.668a1.24 1.24 0 00-1.415-.314l-12.08 5.011a1.136 1.136 0 00-.639 1.414l.996 2.882a1.604 1.604 0 01-.127 1.298l-.783 1.361 2.016 5.337-.563.105z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M48.213 121.085a2.555 2.555 0 014.399-1.262l3.4 4.506a5.131 5.131 0 01-3.796.979c-1.815-.256-4.398-2.086-4.003-4.223z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M50.075 122.063c-.734-2.27 1.533-1.459 1.533-1.459l-1.202 1.149a3.278 3.278 0 002.418 2.313c-1.947.488-2.749-2.003-2.749-2.003z",fill:"#9B7659"}),t.a.createElement("path",{d:"M57.443 114.594l.203-.422a2.37 2.37 0 011.039-1.083c1.794-1.145 2.75-1.605 4.35-2.147a.32.32 0 01.416.148.319.319 0 01.033.158l-.031.572a1.21 1.21 0 01-.659.958c-1.78.704-2.805 1.15-4.853 2.377a.406.406 0 01-.538-.328.402.402 0 01.04-.233zM65.508 122.77s1.483.748 3.135.416c1.653-.332 1.864-.901 2.09-1.374.227-.474-.097-1.468-.086-1.33a37.859 37.859 0 00-5.139 2.288z",fill:"#000"}),t.a.createElement("path",{d:"M65.507 122.769s1.713 1.454 3.575 1.09c1.86-.364 2.159-1.402 2.106-1.894a11.91 11.91 0 00-.384-1.548l-.192.299a1.5 1.5 0 01-.062 1.11 1.741 1.741 0 01-.828.829c-1.34.724-3.582-.147-4.215.114z",fill:"#9B7659"}),t.a.createElement("path",{d:"M65.98 122.573c.561.141 1.632-.014 2.367-.219 1.632-.482 1.623-.604 1.862-.864.043-.238.117-.879.117-.879s-3.72 1.296-4.346 1.962z",fill:"#fff"}),t.a.createElement("path",{d:"M65.406 122.813s1.29-1.301 2.779-1.742c1.49-.441 1.954-.856 2.24-.948.258-.052.448.03.637.16-.408.512-.8.756-1.422 1.041-.948.391-3.04.911-4.234 1.489z",fill:"#9B7659"}),t.a.createElement("path",{d:"M69.922 109.464l-.455-.364a.45.45 0 00-.194-.097.411.411 0 00-.209.007c-1.495.287-2.131.497-3.1.91-.141.007-.179.316-.08.496l.263.419c.067.142.17.255.293.324.124.069.261.09.394.06.81-.394 1.317-.609 2.96-.888a.376.376 0 00.204-.131.503.503 0 00.105-.246.564.564 0 00-.028-.277.473.473 0 00-.153-.213zM68.372 111.688c.69-.245 1.312.117 1.791.552a.316.316 0 01.028.433.315.315 0 01-.433.028c-.787-.672-1.763-.461-2.282.707a.396.396 0 01-.394.212.306.306 0 01-.17-.4c.177-.721.652-1.244 1.46-1.532zM61.296 114.54c.747-.29 1.613.041 1.95.64a.291.291 0 01-.032.33c-.123.093-.327.11-.448.009-.951-.841-2.225-.088-2.642.942a.316.316 0 01-.396.175.315.315 0 01-.176-.396c.242-.627.8-1.335 1.744-1.7z",fill:"#000"}),t.a.createElement("path",{d:"M65.902 119.776s-.408.308-.659.094c-.25-.214.567-1.032.903-1.452a1.775 1.775 0 011.58-.598c.73.049.897-.693 1.371-.826.475-.133.765.838.429 1.135-.336.296-.17.45-.673.671-1 .275-1.984.601-2.95.976z",fill:"#9B7659"}),t.a.createElement("path",{d:"M66.039 119.49s.27-.92.993-1.008c1.086-.148.468.502-.993 1.008zM68.763 118.355s.069-.675.401-.816c.333-.141.445.481-.401.816z",fill:"#3E2F24"}),t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M62.26 116.045c.041-.237-.037-.523-.232-.762-.307-.377-.787-.493-1.072-.261-.285.233-.267.726.04 1.103.105.129.23.227.36.291a5.066 5.066 0 01.903-.371zM69.422 113.285c.042-.221-.015-.49-.175-.73-.27-.403-.73-.569-1.029-.369-.298.199-.32.688-.05 1.092.098.148.223.264.356.342a4.774 4.774 0 01.897-.335z",fill:"#000"})),t.a.createElement("mask",{id:"b",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:30,y:83,width:172,height:95},t.a.createElement("path",{d:"M30.41 88.775a4.788 4.788 0 014.788-4.789h161.849a4.788 4.788 0 014.788 4.789v83.608a4.788 4.788 0 01-4.788 4.788H35.198a4.788 4.788 0 01-4.788-4.788V88.775z",fill:"#36C5F0"})),t.a.createElement("g",{mask:"url(#b)"},t.a.createElement("path",{opacity:.2,d:"M56.412 162.374l6.064-2.911c2.274-4.494-4.752-13.41-9.3-14.65-7.33-.422.543 13.649 3.236 17.561z",fill:"#000"}),t.a.createElement("path",{d:"M90.362 138.39l.806-3.093c.176-.693.481-1.346.9-1.926l3.678-5.162a.633.633 0 01.489-.287.634.634 0 01.524.217 2.905 2.905 0 01-.075 2.9 5.99 5.99 0 00-.94 4.284c.185 5.447-.734 6.347-.734 6.347s-4.158-2.021-4.648-3.28z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M96.297 131.554c-.158 1.045-.872 2.365-.873 3.422-.235 1.705-.005 2.872-.704 4.444l-1.77-3.575 3.347-4.291z",fill:"#9B7659"}),t.a.createElement("rect",{width:72.6889,height:30.2557,rx:4.32202,transform:"matrix(.93955 .34206 -.34198 .93983 95.785 102.674)",fill:"#E01E5A"}),t.a.createElement("path",{d:"M123.321 131.099c.08.029.139.086.179.17l.348.834a3.355 3.355 0 01-1.509.479c-.54.041-1.136-.057-1.788-.294-.583-.213-1.071-.503-1.466-.873a3.69 3.69 0 01-.887-1.264c-.2-.475-.3-.991-.298-1.548a5.124 5.124 0 01.327-1.709c.214-.59.505-1.096.871-1.516a3.986 3.986 0 011.256-.983c.473-.23.982-.356 1.528-.379a4.291 4.291 0 011.684.275c.572.208 1.045.487 1.418.836.377.35.666.735.866 1.152l-.736.501a.435.435 0 01-.155.073.322.322 0 01-.203-.018.401.401 0 01-.152-.105 5.43 5.43 0 01-.149-.183 5.033 5.033 0 00-.183-.24 1.957 1.957 0 00-.262-.261 2.335 2.335 0 00-.377-.266 2.804 2.804 0 00-.525-.247 2.564 2.564 0 00-1.036-.162 2.19 2.19 0 00-.948.271 2.635 2.635 0 00-.805.691c-.24.298-.439.667-.599 1.105a3.703 3.703 0 00-.244 1.246c.001.39.066.742.194 1.055.128.314.314.586.558.819.244.228.533.403.867.525.199.072.382.126.549.163.171.037.332.057.483.059.155.003.305-.01.451-.039a2.72 2.72 0 00.465-.145.466.466 0 01.142-.034.271.271 0 01.136.012zm4.713 1.119a7.43 7.43 0 00-1.015-.252 2.672 2.672 0 00-.703-.047.883.883 0 00-.439.142.61.61 0 00-.224.293c-.086.236-.078.429.023.581.104.153.268.27.493.352.275.1.53.137.765.112.239-.027.492-.108.758-.241l.342-.94zm-2.195-3.537c.855-.353 1.733-.366 2.635-.038.325.119.597.279.815.482.219.198.382.426.489.683.109.253.161.528.155.825a2.73 2.73 0 01-.175.921l-1.281 3.521-.608-.222a.687.687 0 01-.274-.161c-.054-.065-.08-.162-.078-.293l.027-.445a5.732 5.732 0 01-.535.186 2.708 2.708 0 01-.506.087 2.697 2.697 0 01-1.083-.167 2.3 2.3 0 01-.618-.33 1.553 1.553 0 01-.412-.475 1.373 1.373 0 01-.164-.596 1.786 1.786 0 01.119-.701 1.379 1.379 0 01.598-.711c.154-.088.337-.156.548-.207.211-.05.455-.072.732-.066.28.008.594.046.942.116.349.065.738.17 1.166.313l.118-.326c.136-.373.156-.677.062-.913-.094-.239-.291-.413-.591-.522a1.752 1.752 0 00-.571-.122 2.28 2.28 0 00-.438.037l-.36.06a.603.603 0 01-.321-.031.427.427 0 01-.214-.157.709.709 0 01-.094-.232l-.083-.516zm6.936 2.42a3.9 3.9 0 01.466-.181 2.338 2.338 0 011.536.037c.305.111.555.261.752.452.199.187.342.403.429.648.092.243.13.509.115.799-.01.288-.072.587-.185.899l-1.291 3.548-1.342-.489 1.291-3.548c.124-.34.142-.631.053-.873-.087-.245-.29-.425-.609-.541a1.48 1.48 0 00-.709-.08 2.457 2.457 0 00-.732.22l-1.467 4.031-1.341-.488 2.028-5.575.82.299c.174.063.259.186.254.369l-.068.473zm10.023 2.874l-4.239 4.77-1.217-.443-.182-6.379 1.108.403a.44.44 0 01.224.162.345.345 0 01.071.228l-.008 3.37a8.44 8.44 0 01-.102 1.107c.097-.153.198-.305.302-.456.104-.151.218-.302.343-.454l2.181-2.578a.399.399 0 01.46-.115l1.059.385zm2.359 4.477a7.395 7.395 0 00-1.015-.252 2.672 2.672 0 00-.703-.047.883.883 0 00-.439.142.616.616 0 00-.224.293c-.086.236-.078.429.023.581.104.153.268.27.493.352.275.1.53.137.765.112.24-.028.492-.108.758-.241l.342-.94zm-2.195-3.537c.855-.353 1.733-.366 2.635-.038.326.119.597.279.815.482a1.919 1.919 0 01.644 1.508 2.73 2.73 0 01-.175.921l-1.281 3.521-.608-.222a.687.687 0 01-.274-.161c-.054-.065-.08-.162-.078-.293l.027-.445a5.732 5.732 0 01-.535.186 2.708 2.708 0 01-.506.087 2.697 2.697 0 01-1.083-.167 2.33 2.33 0 01-.618-.33 1.536 1.536 0 01-.411-.475 1.36 1.36 0 01-.165-.596 1.805 1.805 0 01.119-.701 1.379 1.379 0 01.598-.711c.155-.088.337-.156.549-.207a2.91 2.91 0 01.731-.066c.28.008.594.046.942.116.349.065.738.17 1.166.313l.118-.326c.136-.373.157-.677.062-.913-.094-.239-.291-.413-.591-.523a1.774 1.774 0 00-.571-.121 2.28 2.28 0 00-.438.037l-.36.06a.603.603 0 01-.321-.031.432.432 0 01-.214-.157.709.709 0 01-.094-.232l-.083-.516zm8.935 3.604a.42.42 0 01-.159.083.331.331 0 01-.164-.023.503.503 0 01-.192-.131 6.96 6.96 0 00-.212-.213 2.344 2.344 0 00-.291-.247 1.685 1.685 0 00-.421-.215c-.264-.096-.493-.116-.686-.059a.563.563 0 00-.383.359.465.465 0 00.004.346c.051.109.128.217.232.325.108.109.235.218.379.328.146.107.292.219.437.338.149.12.291.247.427.383.136.132.247.279.331.441.09.159.144.333.162.52.021.188-.009.395-.09.619a1.99 1.99 0 01-.418.691 1.699 1.699 0 01-.637.433 2.216 2.216 0 01-.841.131 3.268 3.268 0 01-1.006-.213 3.1 3.1 0 01-.545-.26 3.313 3.313 0 01-.863-.72 2.485 2.485 0 01-.276-.408l.495-.398a.47.47 0 01.193-.09.421.421 0 01.224.026c.083.03.153.082.208.156.059.074.127.157.205.247.078.09.174.182.287.276.117.096.277.181.48.255.159.058.301.089.427.094a.938.938 0 00.338-.049.57.57 0 00.24-.153.693.693 0 00.147-.235.48.48 0 00-.003-.365 1.047 1.047 0 00-.231-.33 2.918 2.918 0 00-.38-.323c-.145-.11-.293-.225-.446-.347a5.773 5.773 0 01-.432-.385 1.969 1.969 0 01-.331-.459 1.48 1.48 0 01-.15-.553 1.672 1.672 0 01.115-.671 1.72 1.72 0 01.374-.603c.165-.173.363-.305.592-.393a2.07 2.07 0 01.791-.131c.299.002.62.066.964.191.384.14.711.331.98.572.269.242.47.504.605.787l-.48.373z",fill:"#fff"}),t.a.createElement("g",{clipPath:"url(#clip0_1413_185995)"},t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.13 112.881a3.374 3.374 0 00-4.326 2.017l-2.924 8.034a3.375 3.375 0 002.017 4.326l4.851 1.766a2.478 2.478 0 001.892-.083l5.496-2.563a2.476 2.476 0 001.28-1.397l1.765-4.85a3.374 3.374 0 00-2.017-4.326l-8.034-2.924zm3.072 9.977a1.35 1.35 0 00-1.731.807l-1 2.749a.675.675 0 101.269.461l.872-2.396a.374.374 0 01.48-.224l2.397.872a.675.675 0 10.461-1.269l-2.748-1zm-4.238-6.116a.563.563 0 01.721-.336l6.555 2.386a.562.562 0 11-.385 1.057l-6.554-2.386a.563.563 0 01-.337-.721zm-.202 2.201a.563.563 0 00-.384 1.057l1.903.693a.563.563 0 00.384-1.057l-1.903-.693z",fill:"#fff"})),t.a.createElement("path",{d:"M77.27 147.074l11.593-6.836 5.567 4.577c-4.479 1.176-12.867 8.652-14.279 9.393 0 0-1.706-5.022-2.88-7.134z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M86.927 141.221l4.706 6.516-27.304 21.198a7.923 7.923 0 01-3.85 1.621 6.422 6.422 0 01-6.453-2.773 5.761 5.761 0 01-.34-6.535 7.835 7.835 0 013.041-2.956l30.2-17.071z",fill:"#FA7598"}),t.a.createElement("path",{d:"M86.95 141.221L59.707 156.56c-3.798 2.106-2.378 1.426-1.242 1.909L87.07 141.4l-.122-.179z",fill:"#FB91B9"}),t.a.createElement("path",{d:"M98.62 132.523s4.344-3.772 5.562-5.23c.65-.776 2.375-3.078 3.755-2.089 1.379.99-7.919 9.94-7.919 9.94l-1.399-2.621z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M89.118 140.763l3.06 4.888 8.769-2.426a4.828 4.828 0 002.201-1.236l1.844-1.782-5.258-8.455-8.792 4.442-1.824 4.569z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M100.725 133.501s4.817-2.581 6.343-3.746c.797-.619 2.971-2.772 4.116-1.525 1.145 1.247-9.793 8.084-9.793 8.084l-.666-2.813z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M101.188 135.407l6.672-3.779s2.642-2.739 3.775-1.471c.545.586-1.775 2.654-4.267 4.677-2.492 2.024-5.34 3.909-5.34 3.909l-.84-3.336z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M101.522 138.911s4.675-3.326 5.999-4.58c.738-.71 2.32-2.477 3.634-1.399 1.314 1.078-8.568 9.363-8.568 9.363l-1.065-3.384z",fill:"#CE9D77"}),t.a.createElement("path",{d:"M38.71 151.809c7.605 10.4 14.545 15.338 16.675 17.697 3 3.323 11.15-.517 9.86-5.734-.885-1.214-1.264-4.375-2.464-6.926-2.958-4.358-6.474-8.423-15.045-19.7-8.71-6.998-16.56 2.997-9.026 14.663z",fill:"#FA7598"}),t.a.createElement("path",{d:"M54.337 146.857c2.91-3.103.205-12.465-5.644-13.802-2.42-1.084-7.47 1.026-9.926 2.774-2.004 5.376 5.198 14.148 15.57 11.028z",fill:"#FA7598"}),t.a.createElement("path",{d:"M91.26 147.284l.378.556-27.78 21.551c-2.507 1.706-5.514 1.803-8.22.206 4.806 1.092 8.254-1.756 35.622-22.313z",fill:"#C85E7A"})),t.a.createElement("rect",{x:95.4727,y:67.9316,width:39.118,height:21.1952,rx:10.5976,fill:"#36C5F0"}),t.a.createElement("path",{d:"M110.238 75.915c.323-.426.53-.87.664-1.217.231-.596-.025-1.205-.487-1.533-.609-.433-1.522-.317-1.838.243-.438.779-.943 1.388-1.759 2.13-.316.274-.493.493-.59.681h-1.759a.79.79 0 00-.791.798v4.667a1.53 1.53 0 001.528 1.534h1.028a.79.79 0 00.791-.797v-.22c.14.068.292.116.45.135l2.21.273c1.089.134 2.336-.535 2.549-1.612l.664-3.335c.188-.962-.298-1.759-1.278-1.753l-1.382.006zm1.126 4.808c-.128.639-.913 1.065-1.558.986l-2.215-.274c-.304-.037-.566-.34-.566-.651v-3.579c0-.438.11-.687.463-.998.773-.736 1.284-1.363 1.746-2.178.152-.262.493-.225.645-.122.183.122.225.316.171.45-.213.524-.493 1.01-.974 1.631-.323.371-.207.84.256.84l2.288-.006c.359 0 .487.207.414.56l-.67 3.34zm-6.158 1.582a.614.614 0 01-.615-.62v-4.553h1.521v5.173h-.906zM122.456 79.459v-2.735c0-.258.017-.544.052-.856l-2.596 3.59h2.544zm2.295 0v.826a.3.3 0 01-.075.203c-.05.054-.121.08-.214.08h-.763v2.041h-1.243v-2.04h-3.526a.398.398 0 01-.394-.313l-.15-.722 3.96-5.29h1.353v5.215h1.052z",fill:"#fff"}),t.a.createElement("rect",{x:95,y:40,width:56.1826,height:6.79311,rx:3.39655,fill:"#D1D2D3",fillOpacity:.5}),t.a.createElement("rect",{opacity:.5,x:95.4727,y:54.4648,width:138.296,height:6.7931,rx:3.39655,fill:"#D1D2D3",fillOpacity:.3}),t.a.createElement("rect",{x:38.9258,y:39.4727,width:45.9025,height:45.9147,rx:4.86848,fill:"#36C5F0"}),t.a.createElement("rect",{x:38.9258,y:39.4727,width:45.9025,height:45.9147,rx:4.78827,fill:"#36C5F0"}),t.a.createElement("mask",{id:"c",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:29,y:1,width:189,height:92},t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84.83 6.273a4.788 4.788 0 014.787-4.789h123.214a4.788 4.788 0 014.788 4.789V87.83a4.788 4.788 0 01-4.788 4.788H89.617a4.788 4.788 0 01-4.788-4.788V6.273zm-8.513 33.2v-4.748a4.788 4.788 0 00-4.788-4.788H34.6a4.788 4.788 0 00-4.788 4.788V68.15a4.788 4.788 0 004.788 4.788h4.325V80.6a4.788 4.788 0 004.788 4.788h36.327a4.788 4.788 0 004.788-4.788V44.262a4.788 4.788 0 00-4.788-4.788h-3.724z",fill:"#36C5F0"})),t.a.createElement("g",{mask:"url(#c)"},t.a.createElement("path",{d:"M69.188 72.576s-4.156.35-3.838 5.26c.318 4.91 9.112 27.892 12.31 30.289a5.11 5.11 0 007.043-.269 5.109 5.109 0 001.268-2.232c1.415-3.625-3.295-20.609-6.816-26.454-3.52-5.846-7.727-6.765-9.967-6.594z",fill:"#99EEFA"}),t.a.createElement("path",{d:"M74.904 99.943c-.328-.085.424-15.468 1.284-21.725 2.98 8.717 4.295 13.733 5.563 23.064-2.145-.411-6.518-1.255-6.847-1.34z",fill:"#46C9E7",fillOpacity:.5}),t.a.createElement("path",{d:"M78.9 58.365c-.163.567.36 1.363.032 1.914-.328.55-1.072.842-1.317 1.37-.142 2.356.327 1.477-1.536 2.875-.494 2.3.15 1.503-1.958 2.584-.376.398-.293 1.282-.718 1.636-.424.354-1.269.14-1.667.456-.398.315-.696 1.72-1.668 1.47-.424.245-1.09.053-1.58.157-.265.3-.569.564-.903.784-.513 1.142-1.659.428-2.498.57-.554.162-.931.99-1.487 1.106-.555.117-1.25-.453-1.823-.388-.571.066-1.092.806-1.666.825-.573.019-1.139-.682-1.728-.714-.59-.032-1.228.583-1.797.48-.57-.103-.97-.895-1.524-1.054-2.398.168-1.515.515-3.146-1.23-2.4-.356-1.593.2-2.826-1.861-2.284-.813-1.512-.083-2.385-2.378-2.087-1.232-1.418-.41-1.93-2.785-.287-.497-1.168-.69-1.418-1.208-.25-.517.18-1.315-.015-1.863-.196-.547-1.334-.968-1.22-1.734-.511-.516.154-1.384.007-1.995-.146-.61-.901-.92-1.003-1.472-.102-.552.575-1.14.49-1.702-.083-.561-.693-1.106-.64-1.72.055-.615.796-1 .89-1.54.095-.542-.478-1.214-.337-1.757.141-.543.918-.841 1.12-1.382.202-.54-.377-1.353-.04-1.885.176-.61 1.069-.829 1.313-1.357.245-.529-.132-1.298.129-1.776.26-.477 1.142-.607 1.458-1.115.315-.508.058-1.32.395-1.744.338-.425 1.232-.382 1.603-.766.372-.384.365-1.262.747-1.628.382-.366 1.208-.143 1.654-.413.447-.27.608-1.361 1.36-1.467.446-.639 1.466-.13 2.075-.43.608-.3.756-1.133 1.28-1.35.523-.218 1.313.24 1.866.077 1.958-1.462.934-1.266 3.285-.741 2.184-1.075 1.134-1.055 3.377-.1 2.322-.651 1.354-.808 3.339.564 2.38-.158 1.51-.501 3.142 1.244.51.255 1.366-.05 1.841.27.476.322.54 1.216.99 1.577.448.36 1.33.23 1.748.643.419.412.287 1.296.654 1.725.368.428 1.272.49 1.6.953.326.463.044 1.333.33 1.831.566.7 1.405.881 1.446 2.122-.02.401.025.803.133 1.19.169.48.752.801 1.053 1.195.634.782.072 1.557.235 2.219 1.32 1.917 1.16.98.372 3.18.886 2.252.885 1.192-.316 3.226.431 2.444.673 1.5-.817 3.312z",fill:"#000"}),t.a.createElement("path",{d:"M54.837 48.666a9.876 9.876 0 006.746 12.223c2.504.71 5.181.471 7.52-.671a8.144 8.144 0 004.743-6.065c.176-1.057.263-2.126.262-3.196a8.354 8.354 0 00-3.027-7.126 11.684 11.684 0 00-3.972-1.884 9.87 9.87 0 00-12.272 6.719z",fill:"#1376A2"}),t.a.createElement("path",{d:"M54.943 50.479a9.105 9.105 0 00-.313 2.413 9.845 9.845 0 007.397 9.278 7.478 7.478 0 007.058-1.895 15.142 15.142 0 004.445-7.104c.213-.713.382-1.44.504-2.174a8.354 8.354 0 00-3.027-7.125c-1.158-.583-2.391-1.001-3.665-1.242-6.012-.983-10.673.959-12.4 7.849z",fill:"#99EEFA"}),t.a.createElement("path",{d:"M59.497 74.048v.265a5.679 5.679 0 005.695-5.682V53.52a5.697 5.697 0 00-5.695-5.697v.266a5.459 5.459 0 00-5.68 5.43v15.113a5.462 5.462 0 005.68 5.417z",fill:"#884934"}),t.a.createElement("path",{d:"M32.794 84.496c-.219 3.099 2.434 5.76 5.533 5.549 0 0 .84 18.317.485 20.619a4.576 4.576 0 001.387 4.56h33.404a6.416 6.416 0 002.006-5.268 34.436 34.436 0 01-.28-4.797c0-3.925-.281-9.312 1.519-12.84 1.565-3.066.637-16.362-2.714-18.55-3.04-1.978-9.03-6.302-9.03-6.302H53.302l-15.64 6.877c-2.847 1.107-4.985 5.768-4.867 10.152z",fill:"#99EEFA"}),t.a.createElement("path",{d:"M64.398 78.49s2.213-6.937.737-11.217H53.332c1.475 4.31 8.351 11.217 11.066 11.217z",fill:"#884934"}),t.a.createElement("path",{d:"M56.922 54.807l-1.033 7.819c2.33 8.645 7.628 8.908 9.744 8.507.024-4.39-.515-6.584-1.045-10.706l-7.666-5.62z",fill:"#663727"}),t.a.createElement("path",{d:"M55.421 51.693c-2.208 7.335.807 14.61 8.983 16.77a3.953 3.953 0 004.083-1.217c1.966-2.504 4.56-5.427 4.619-8.666a28.171 28.171 0 011.026-4.036l.045-.156c.078-.269.046-.585.075-.9.17-2.823-.387-5.364-2.05-6.735a7.79 7.79 0 00-3.614-1.735c-6.353-1.772-12.242 2.78-13.167 6.675z",fill:"#884934"}),t.a.createElement("path",{d:"M63.023 60.912c2.418.885 3.48 1.296 5.506 1.67a2.857 2.857 0 00-.975 1.624 5.096 5.096 0 01-2.73-.696c-.83-.485-1.299-1.714-1.8-2.598z",fill:"#000"}),t.a.createElement("path",{d:"M66.185 63.532c-.166.575-.81.595-1.607.3-.606-.586-1.25-1.398-1.135-1.685.116-.289.542-.14 1.34.154.797.295 1.518.943 1.402 1.231z",fill:"#DE4E2B"}),t.a.createElement("path",{d:"M66.185 63.532c-.166.575-.81.595-1.607.3-.606-.586-1.25-1.398-1.135-1.685.116-.289.542-.14 1.34.154.797.295 1.518.943 1.402 1.231z",fill:"#000",fillOpacity:.4}),t.a.createElement("path",{d:"M67.457 63.187c.09-.119.184-.37.233-.537l-3.627-1.297c-.043.149-.122.489-.053.545 1.526 1.046 2.846 1.605 3.447 1.29z",fill:"#fff"}),t.a.createElement("path",{d:"M68.33 62.793c.114 1.404-1.135 2.283-2.49 1.892-1.464-.423-2.84-2.402-2.813-3.753.664 1.082 2.443 3.275 4.297 3.103l.846-1.37.16.128z",fill:"#663727"}),t.a.createElement("path",{d:"M68.858 62.499a.311.311 0 00.016-.189.379.379 0 00-.096-.178.486.486 0 00-.401-.145 3.084 3.084 0 01-1.802-.358c-.634-.312-1.118-.521-3.555-.73 1.396 1.052 3.643 2.295 5.34 2.006.122-.065.23-.149.318-.248a.944.944 0 00.18-.158z",fill:"#663727"}),t.a.createElement("path",{d:"M50.566 52.242l.005.247-.07.241a4.96 4.96 0 001.437 3.487c.162.161.333.313.513.455.679.521 1.48.859 2.328.98l.68.042.038-5.458a2.48 2.48 0 00-4.935.02l.004-.014z",fill:"#884934"}),t.a.createElement("path",{d:"M52.174 52.461c.751-2.18 2.035-.242 2.035-.242l-1.593.2a3.174 3.174 0 00.6 3.246c-1.86-.798-1.042-3.204-1.042-3.204z",fill:"#663727"}),t.a.createElement("path",{d:"M49.008 57.608a3.292 3.292 0 003.548 4.855 3.29 3.29 0 002.374-4.407 3.29 3.29 0 00-1.143-1.48.399.399 0 00-.195.518 2.745 2.745 0 11-1.086-.539l.077.044-.395-.585a3.305 3.305 0 00-3.18 1.594z",fill:"#FAA11B"}),t.a.createElement("path",{d:"M66.003 60.047s-.42.017-.342-.253c.078-.27 1.053-.402 1.51-.5a.973.973 0 011.15.33c.258.383.91-.013 1.205.134.295.147-.36.925-.718.945-.359.019-.416.217-.803.121-.964-.278-.844-.535-2.002-.777z",fill:"#663727"}),t.a.createElement("path",{d:"M66.259 59.952s.84-.464 1.202-.175c.55.435-.22.55-1.202.175zM68.255 60.542s.562-.406.803-.336-.184.53-.803.336zM62.723 52.758l.446.62c.622-.267 1.573-.287 2.213-.133.671.183 1.077.451 1.512 1.018.198.212-.112.56-.344.327-.515-.522-.64-.705-1.354-.894-.713-.188-1.417-.188-2.12.191a.218.218 0 01-.288-.06l-.551-.779c-.054-.107-.026-.282.073-.35.121-.085.328-.09.413.06zM74.024 56.138l-.674.285c-.326-.552-.774-1.014-1.342-1.223-.608-.2-1.322-.245-1.959 0-.264.073-.217.528.085.455.672-.165 1.128-.197 1.77.021.642.218.915.534 1.241 1.221.042.1.153.145.252.102l.838-.362c.1-.061.173-.222.135-.332-.047-.134-.2-.248-.346-.167zM61.538 51.738a3.835 3.835 0 012.325-.16l3.63 1.019a.473.473 0 00.594-.313.618.618 0 00-.473-.763l-3.23-.92s-2.063-.509-2.846 1.137zM70.84 52.952a.47.47 0 00.274.613l3.484 1.443.08.04.071-.146c.124-.252.15-.569.234-.873l-.133-.065-3.106-1.273a.633.633 0 00-.903.261z",fill:"#000"}),t.a.createElement("path",{d:"M31.982 85.412a5.194 5.194 0 005.532 5.55s1.653 17.399 1.299 19.701a4.576 4.576 0 001.387 4.561h33.403a6.425 6.425 0 002.007-5.269 34.422 34.422 0 01-.28-4.796s-7.613-8.014-16.909-7.91c-9.295.103-16.347-12.029-16.347-12.029a11.904 11.904 0 00-10.092.192z",fill:"#46C9E7",fillOpacity:.5}),t.a.createElement("path",{d:"M40.819 73.68s4.16.28 3.924 5.194c-.236 4.914-8.646 28.041-11.803 30.49a5.097 5.097 0 01-4.833 1.145 5.114 5.114 0 01-3.518-3.506c-1.476-3.601 2.95-20.661 6.374-26.565 3.423-5.903 7.613-6.892 9.855-6.759z",fill:"#99EEFA"}),t.a.createElement("ellipse",{cx:.779543,cy:.886682,rx:.779543,ry:.886682,transform:"rotate(22.031 -103.835 192.229) skewX(.011)",fill:"#000"}),t.a.createElement("ellipse",{cx:.726522,cy:.826373,rx:.726522,ry:.826373,transform:"rotate(22.03 -106.011 210.773) skewX(.01)",fill:"#000"})),t.a.createElement("mask",{id:"d",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:62,y:81,width:8,height:5},t.a.createElement("path",{fill:"#C4C4C4",d:"M62.332 81.2715H69.43536V85.38779000000001H62.332z"})),t.a.createElement("g",{mask:"url(#d)"},t.a.createElement("path",{d:"M65.872 88.534c-.842-1.441-1.38-3.044-1.87-4.618.296-1.008 1.742-.795 2.555-.122.926.91.802 1.206 1.6 2.229 0 0 .59 3.15-2.285 2.51z",fill:"#884934"})),t.a.createElement("path",{d:"M68.89 83.18c4.034.138 10.376 2.189 10.65 2.208H68.348c.07-.322.308-1.644.542-2.208z",fill:"#884934"}),t.a.createElement("path",{d:"M77.27 83.914a12.108 12.108 0 002.204 2.835c.78.439 1.195-.271 1.019-1.065a23.072 23.072 0 00-.986-2.682s-1.812-1.281-2.237.912z",fill:"#884934"}),t.a.createElement("path",{d:"M74.25 83.806a15.203 15.203 0 002.787 3.56c.984.574 1.512-.317 1.297-1.318a31.264 31.264 0 00-1.228-3.386s-2.331-1.614-2.857 1.144z",fill:"#884934"}),t.a.createElement("path",{d:"M71.3 83.62c.814 1.51 1.62 2.977 2.773 4.115 1.06.642 1.638-.386 1.43-1.508a35.96 35.96 0 00-1.339-3.839s-2.243-1.916-2.864 1.231z",fill:"#884934"}),t.a.createElement("path",{d:"M68.877 83.183a18.031 18.031 0 002.048 4.373c.871.876 1.606.102 1.606-.962-.093-1.3-.261-2.59-.502-3.86 0 0-1.985-2.215-3.152.45z",fill:"#884934"}),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0_1413_185995"},t.a.createElement("path",{fill:"#fff",transform:"rotate(20 -261.839 338.994)",d:"M0 0H18V18H0z"})))),"SCCanvasImageDark");const _=h(le=>{let{theme:Q}=le;return t.a.createElement(m.i,{className:"justify_content_center inline_flex sk_pale_yellow_bg"},Q==="light"?t.a.createElement(b,null):t.a.createElement(C,null))},"MessagePaneModalSCCanvasImage");_.displayName="MessagePaneModalSCCanvasImage";var j=_,E=e("OaiI"),M=e("1TxD");const T=new d.b("drafts"),P={elementName:"hide_modal_pref",elementType:v.ElementType.CHECKBOX,onChange:{enableClogAction:!0,setElementValueOnAction:!0}},B={elementName:"send_later",elementType:v.ElementType.BUTTON,action:v.UiAction.CLOSE,onClick:{enableClogAction:!0}},R={elementName:"edit_message",elementType:v.ElementType.BUTTON,action:v.UiAction.EDIT,onClick:{enableClogAction:!0}},U={COMBO:"COMBO",FILES:"FILES",CANVAS:"CANVAS",LISTS:"LISTS",NO_SPEEDBUMP:"NO_SPEEDBUMP"},K={[U.COMBO]:v.UiComponentVariant.COMBO_SPEEDBUMP,[U.FILES]:v.UiComponentVariant.FILES_SPEEDBUMP,[U.CANVAS]:v.UiComponentVariant.CANVAS_SPEEDBUMP,[U.LISTS]:v.UiComponentVariant.LISTS_SPEEDBUMP,[U.NO_SPEEDBUMP]:void 0},V=h((le,Q,ie)=>Q?v.UiComponentVariant.FIRST_TIME_EXTERNAL_CANVAS:ie?v.UiComponentVariant.FIRST_TIME_EXTERNAL_LIST:K[le],"getVariantMapping");function z(le){let{filesCount:Q,connectedTeamsCount:ie,connectedTeamNames:oe,channelName:me="",onClose:be,onSend:Se,onSendLater:Pe,onPrefChange:Ue,hideModalPref:Fe=!1,isScheduledSend:je=!1,isFromScheduledPage:_e=!1,isFromDraftsPageAndExternallySharedChannel:pe=!1,isImOrMpim:fe=!1,theme:Ee="light",modalVariant:ye,canvasFiles:Te=[],otherFiles:Oe=[],isFirstTimeCanvas:Ce,isFirstTimeList:ce}=le;const[he,Me]=Object(n.useState)(!1),Ae=Object(r.c)(E.isListsTranslationsEnabled),xe="showExternalMembersSpeedBumpPref",[Re,Ge]=Object(n.useState)(Fe),ze=ye===U.CANVAS||Ce,Ie=ye===U.LISTS||ce,Ne=ye===U.COMBO,Ke=Te.length,Ve=Oe.length,$e=V(ye,Ce,ce),tt=Object(n.useCallback)(()=>{Me(!0),be(),Se()},[be,Se]),qe=Object(n.useCallback)(()=>{Me(!0),be(),Pe()},[be,Pe]);if(Object(f.a)(oe))return null;let ut=T.t("Is it OK to send this?"),rt=T.rt("You\u2019re about to share {filesCount, plural, =1 {a file} other {files}} with external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,filesCount:Q,fallbackHash:"97e02ddab51b299a0a147620c194f5d7267c2169"});ze&&(rt=T.rt("You\u2019re about to share {filesCount, plural, =1 {a canvas} other {canvases}} with external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,filesCount:Q,fallbackHash:"703dbbb89f99ed1eb8156a012d0da296873b5c6b"})),Ie&&(rt=Ae?T.rt("You\u2019re about to share {filesCount, plural, =1 {a list} other {lists}} with external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,filesCount:Q}):t.a.createElement("div",null,`You\u2019re about to share ${Q===1?"a list":"lists"} with external people.`)),Ne&&(rt=T.rt("You\u2019re about to share {otherFileCount, plural, =1 {a file} other {# files}} and {canvasCount, plural, =1 {a canvas} other {# canvases}} with external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,canvasCount:Ke,otherFileCount:Ve,fallbackHash:"d087f2e833816e53e5636da4b148c55764dae423"}));let yt=T.t("Edit Message"),Mt=T.t("Send"),st;je?(rt=T.rt("You\u2019ll be sharing {filesCount, plural, =1 {a file} other {files}} with external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,filesCount:Q,fallbackHash:"abdbf74508e6977a33cd0cc96a775c9c66e6d268"}),ze&&(rt=T.rt("You\u2019ll be sharing {filesCount, plural, =1 {a canvas} other {canvases}} with external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,filesCount:Q,fallbackHash:"0be340d79bbc91df1111ef612f31c77e8173658a"})),Ne&&(rt=T.rt("You\u2019ll be sharing {otherFileCount, plural, =1 {a file} other {# files}} and {canvasCount, plural, =1 {a canvas} other {# canvases}} with external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,canvasCount:Ke,otherFileCount:Ve,fallbackHash:"da7980a65cc0f4e3a41c03e55714024486ba9459"})),Mt=T.t("Schedule Message")):_e?(ut=T.t("Send this now?"),fe?(rt=T.rt("You\u2019ve scheduled this for later. Note: the conversation you\u2019re sending {filesCount, plural, =1 {a file} other {files}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:me,connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,filesCount:Q,fallbackHash:"20ed236095ebefafd8f94c5b5da268a82c908dc4"}),ze&&(rt=T.rt("You\u2019ve scheduled this for later. Note: the conversation you\u2019re sending {filesCount, plural, =1 {a canvas} other {canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:me,connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,filesCount:Q,fallbackHash:"f584182af71f4a9265f5338c195425ca783eda4c"})),Ne&&(rt=T.rt("You\u2019ve scheduled this for later. Note: the conversation you\u2019re sending {otherFileCount, plural, =1 {a file} other {# files}} and {canvasCount, plural, =1 {a canvas} other {# canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:me,connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,canvasCount:Ke,otherFileCount:Ve,fallbackHash:"206fb0f3a60f6c10f29e017a4ee063c419c0b79e"}))):(rt=T.rt("You\u2019ve scheduled this for later. Note: the channel you\u2019re sending {filesCount, plural, =1 {a file} other {files}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:me,connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,filesCount:Q,fallbackHash:"476d2b7b80662737a656ef60165f00823410331c"}),ze&&(rt=T.rt("You\u2019ve scheduled this for later. Note: the channel you\u2019re sending {filesCount, plural, =1 {a canvas} other {canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:me,connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,filesCount:Q,fallbackHash:"9e49360244d5a4b730f229fb29c77ea1ce353059"})),Ne&&(rt=T.rt("You\u2019ve scheduled this for later. Note: the channel you\u2019re sending {otherFileCount, plural, =1 {a file} other {# files}} and {canvasCount, plural, =1 {a canvas} other {# canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:me,connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,canvasCount:Ke,otherFileCount:Ve,fallbackHash:"1895956e3857e36bf080dd78b01697b42d7df4c4"}))),Mt=T.t("Send now"),yt=T.t("Cancel"),st=T.t("Send later")):pe&&(fe?(rt=T.rt("The conversation you\u2019re sending {filesCount, plural, =1 {a file} other {files}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:me,connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,filesCount:Q,fallbackHash:"e67ce099cff39f35b6d87d89f61f8888c808b2ba"}),ze&&(rt=T.rt("The conversation you\u2019re sending {filesCount, plural, =1 {a canvas} other {canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:me,connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,filesCount:Q,fallbackHash:"de38caa44fb2466a6b3c34c2b3b7421d113ae97f"})),Ne&&(rt=T.rt("The conversation you\u2019re sending {otherFileCount, plural, =1 {a file} other {# files}} and {canvasCount, plural, =1 {a canvas} other {# canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:me,connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,canvasCount:Ke,otherFileCount:Ve,fallbackHash:"4d4332e24e52e452aab682c4f5bf866cb1c46c62"}))):(rt=T.rt("The channel you\u2019re sending {filesCount, plural, =1 {a file} other {files}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:me,connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,filesCount:Q,fallbackHash:"a886ce428ad36c01ef4d4a5201281f81c1e19d35"}),ze&&(rt=T.rt("The channel you\u2019re sending {filesCount, plural, =1 {a canvas} other {canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:me,connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,filesCount:Q,fallbackHash:"134a88bf5e34934cfccec81dd0360e2075e4b58f"})),Ne&&(rt=T.rt("The channel you\u2019re sending {otherFileCount, plural, =1 {a file} other {# files}} and {canvasCount, plural, =1 {a canvas} other {# canvases}} to ({channelName}) includes external people from {remainingTeamsCount, plural, =0 {<b>{connectedTeam1}</b>} =1 {<b>{connectedTeam1}</b> and <b>{connectedTeam2}</b>} other {<b>{connectedTeam1}</b> and # other organizations}}.",{channelName:me,connectedTeam1:oe[0],connectedTeam2:oe[1],remainingTeamsCount:ie-1,canvasCount:Ke,otherFileCount:Ve,fallbackHash:"91dbd89fafc13e04f4de84a602ffea8337a46a1c"}))));let Vt;return Ce&&(Vt=T.rt("Make sure there\u2019s no sensitive information before sharing. Anyone who has access to {canvasCount, plural, =1 {this canvas} other {these canvases}} can view all its history, including comments.",{canvasCount:Te.length})),ce&&(Vt=Ae?T.t("Make sure there\u2019s no sensitive information before sharing. Anyone who has access to this list can view all its history, including comments."):"Make sure there\u2019s no sensitive information before sharing. Anyone who has access to this list can view all its history, including comments."),t.a.createElement(p.a,{eventId:v.EventId.EXTERNAL_MEMBERS_SPEED_BUMP,uiComponentName:v.UiComponentName.EXTERNAL_MEMBERS_SPEED_BUMP,clogImpression:!0,uiComponentVariant:$e},t.a.createElement(m.a,{closeModal:be,overlayClassName:"p-message_pane_input_external_members_speed_bump"},ze||Ne?t.a.createElement(j,{theme:Ee}):t.a.createElement(g.a,{theme:Ee}),t.a.createElement(m.d,null,t.a.createElement(m.e,null,t.a.createElement(m.l,{className:"p-message_pane_input_external_members_speed_bump__modal_title_bar",title:ut}),t.a.createElement("p",null,rt),t.a.createElement("p",{className:"margin_top_50"},Vt))),t.a.createElement(m.g,null,t.a.createElement(m.h,{className:"p-message_pane_input_external_members_speed_bump__footer"},!_e&&!Ce&&!Ne&&t.a.createElement(c.b,{text:T.t("Don\u2019t ask me this again"),type:"inline",cursor:"pointer",className:"p-message_pane_input_external_members_speed_bump__pref"},t.a.createElement(u.a,{id:xe,name:xe,checked:Re,disabled:he,onChange:()=>{Ue(!Re),Ge(!Re)},autoClogProps:P})),_e&&t.a.createElement("div",{className:"p-message_pane_input_external_members_speed_bump__send_later--container"},t.a.createElement(m.c,{type:"outline",onClick:qe,loading:he,className:"p-message_pane_input_external_members_speed_bump__send_later",autoClogProps:B},st)),t.a.createElement("div",{className:"p-message_pane_input_external_members_speed_bump__edit_send--container"},t.a.createElement(m.c,{type:"outline",onClick:be,disabled:he,className:"p-message_pane_input_external_members_speed_bump__edit_message",autoClogProps:R},yt),t.a.createElement(m.c,{onClick:tt,loading:he,autoFocus:!0,className:"p-message_pane_input_external_members_speed_bump__send",autoClogProps:{elementName:je?"schedule_message":"send",elementType:v.ElementType.BUTTON,action:v.UiAction.SEND,onClick:{enableClogAction:!0}}},Mt))))))}h(z,"MessagePaneInputExternalMembersSpeedBump"),z.displayName="MessagePaneInputExternalMembersSpeedBump";var N=z,A=e("y/Pn"),x=e("E3dU"),k=e("G0eX"),F=e("T1zM"),L=e("JoR1"),S=e("F0cE"),I=e("3yS5"),W=e("E97Y"),D=e("beVI"),H=e("3WT/"),Z=e("4AlF"),G=e("zm5I"),te=e("dmdh"),se=e("x6tY"),$=e("o2tK"),X=e("ZTSm"),q=e("hRxb"),Y=e("Os2i"),ee=e("FXMY"),w=e("VJ2K"),ne=e("XNO5");const ae=h(le=>{let{state:Q,fileIdsFromAttachments:ie,fileIdsFromDelta:oe,hideModalFilePref:me,hideModalCanvasPref:be,hideModalListsPref:Se,entityId:Pe}=le,Ue=ie.map(he=>Object(te.e)(Q,he)).filter(he=>he&&!Object(se.u)(he)),Fe=[...ie,...oe].map(he=>Object(te.e)(Q,he)).filter(he=>he&&Object(se.u)(he)),je=[...ie,...oe].map(he=>Object(te.e)(Q,he)).filter(he=>he&&Object(se.o)(he));const _e=Fe.some(he=>Object(ee.a)(Q,{file:he})||Object(se.tb)(he)),pe=Object(Y.a)(Q,Pe);Fe.length>0&&(_e||pe)&&(Ue=[],Fe=[]);const fe=je.some(he=>Object(w.a)(Q,{file:he})||Object(se.tb)(he)),Ee=Object(ne.a)(Q,Pe);je.length>0&&(fe||Ee)&&(Ue=[],je=[]);const ye={canvasFiles:Fe,otherFiles:Ue,isFirstTimeCanvas:!1,isFirstTimeList:!1},Te=Fe.some(he=>!Object(se.vb)(he));ye.isFirstTimeCanvas=Te,ye.isFirstTimeList=je.some(he=>!Object(se.vb)(he));const Oe=Fe.length,Ce=je.length,ce=Ue.length;return Oe&&ce&&(Te||!me||!be)?{...ye,modalVariant:U.COMBO}:Oe&&!ce&&(Te||!be)?{...ye,modalVariant:U.CANVAS}:ce&&!Oe&&!me?{...ye,modalVariant:U.FILES}:Ce&&(ye.isFirstTimeList||!Se)?{...ye,modalVariant:U.LISTS}:{...ye,modalVariant:U.NO_SPEEDBUMP}},"getModalVariant"),de=Object(s.c)("Display warning when sending more than text to external members",(le,Q,ie)=>{let{entityId:oe,onSend:me,onClose:be=a.a,isScheduledSend:Se=!1,isFromScheduledPage:Pe=!1,isFromDraftsPageAndExternallySharedChannel:Ue=!1,onSendLater:Fe=a.a,fileIds:je=[],delta:_e}=ie;const pe=Q(),Ee=(_e?Object($.a)(_e):[]).map(ut=>Object(q.a)(pe,ut)).filter(X.a),Te=[...Ee,...je].length;if(!Te)return{didOpen:!1};const Oe=Object(L.u)(pe,"hide_external_members_sharing_speed_bump"),Ce=Object(L.u)(pe,"hide_external_members_canvas_sharing_speed_bump"),ce=Object(L.u)(pe,"hide_external_members_list_sharing_speed_bump"),{modalVariant:he,canvasFiles:Me,otherFiles:Ae,isFirstTimeCanvas:xe,isFirstTimeList:Re}=ae({state:pe,fileIdsFromAttachments:je,fileIdsFromDelta:Ee,hideModalFilePref:Oe,hideModalCanvasPref:Ce,hideModalListsPref:ce,entityId:oe}),Ge=he===U.CANVAS,ze=he===U.LISTS;let Ie=Oe;if(Ge&&(Ie=Ce),ze&&(Ie=ce),Oe||he===U.NO_SPEEDBUMP)return{didOpen:!1};if(Ge&&!xe&&Ce||!xe&&he===U.COMBO&&Ce&&Oe)return{didOpen:!1};if(ze&&!Re&&Ce)return{didOpen:!1};let Ne=!1;const Ke=Object(x.d)(pe,oe);if(Ke?Ne=Object(A.a)(Ke):Ne=Object(I.a)(pe,oe),!Ne)return{didOpen:!1};const Ve=h(ut=>{let rt="hide_external_members_sharing_speed_bump";return Ge&&(rt="hide_external_members_canvas_sharing_speed_bump"),ze&&(rt="hide_external_members_list_sharing_speed_bump"),le(Object(F.f)({pref:rt,value:ut}))},"onPrefChange");let $e=[],tt=[];if(Ke){const{modelObIds:ut}=Object(H.b)(pe,{id:oe});$e=Object(Z.a)(pe,ut),tt=$e.map(rt=>Object(k.h)(Object(D.s)(pe,rt)))}const qe=t.a.createElement(N,{filesCount:Te,connectedTeamsCount:$e.length,connectedTeamNames:tt,channelName:le(Object(S.a)({channel:Ke})),onClose:()=>{be(),le(Object(o.a)())},onSend:me,onSendLater:Fe,onPrefChange:Ve,hideModalPref:Ie,isScheduledSend:Se,isFromScheduledPage:Pe,isFromDraftsPageAndExternallySharedChannel:Ue,isImOrMpim:Object(W.h)(Ke),theme:Object(G.a)(pe),modalVariant:he,canvasFiles:Me,otherFiles:Ae,isFirstTimeCanvas:xe,isFirstTimeList:Re});return le(Object(l.a)({element:qe,isStackable:!0})),{didOpen:!0}});de.meta={name:"createThunk",key:"createThunkmaybeOpenExternalMembersSpeedBump",description:"Display warning when sending more than text to external members"};var ge=i.a=de},Grbt:function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n={showStrangerProfile:!1,hideRestriction:!0,maybeShowPresenceIndicator:!1,maybeShowTitle:!1,maybeShowVerifiedFooter:!0,maybeShowEmailField:{showLabel:!1,showValue:!0},showFullProfileLink:!1,showOrganizationField:{showLabel:!0,showValue:!0},showProfilePicture:!0,showMemberProfileFields:!1,showMemberProfileButtons:!1}},H2PH:function(J,i,e){"use strict";e.d(i,"a",function(){return Ee}),e.d(i,"b",function(){return ye}),e.d(i,"c",function(){return Te});var n=e("Lgge"),t=e("lCmp"),a=e("S1sa"),s=e("ifKl"),l=e("OZf9"),o=e("Olm7"),f=e("CpTu"),r=e("fujP"),m=e("c8Bs"),c=e("IzLi"),u=e("gSGL"),d=e("UXvI"),p=e("QXUO"),v=e("q/xz"),g=e("lhZz"),O=e("Afhz"),b=e("Ve6K"),y=e("2pz5"),C=e("SQ0V");const _=Object(C.c)("Mark all uploads completed after a delay",Ce=>{Ce(Object(y.e)()),setTimeout(()=>{Ce(Object(y.g)())},O.f)});_.meta={name:"createThunk",key:"createThunkuploadQueueEmptiedWithDelay",description:"Mark all uploads completed after a delay"};var j=e("7XZu"),E=e("Shth"),M=e("Mqk2"),T=e("F8ux"),P=e("WCk1"),B=e("n3tL"),R=e("u3oV"),U=e("zmn3"),K=e("2XU3"),V=e("G5NC"),z=e("Cbpi"),N=e("9Gfp"),A=e("U3eH");const x=Object(C.c)("Dispatches degraded mode rtm events and requests offline history for relevant channels/threads",function(Ce,ce){let{fileIds:he,channelId:Me,threadTs:Ae,broadcast:xe}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Re=ce(),Ge=Object(N.a)(Re);he.forEach(Ie=>{Ce(Object(A.b)({type:"file_created",file:{id:Ie},file_id:Ie,user_id:Ge}))}),setTimeout(()=>{(!Ae||xe)&&Ce(Object(z.a)({channelId:Me})),Ae&&Ce(Object(z.a)({channelId:Me,threadTs:Ae}))},5e3)});x.meta={name:"createThunk",key:"createThunkdispatchDegradedModeEventsForFileUpload",description:"Dispatches degraded mode rtm events and requests offline history for relevant channels/threads"},x.propTypes={fileIds:B.default.arrayOf(B.default.string).isRequired,channelId:B.default.string.isRequired,threadTs:B.default.string,broadcast:B.default.bool};const k=Object(P.a)("Gets an edge upload URL",function(Ce,ce){let{fileName:he,fileSize:Me,snippetType:Ae,subtype:xe,reason:Re,altText:Ge,clientContextTeamId:ze}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ce(Object(K.apiCall)({method:"files.getUploadURL",args:{filename:he,length:Me,snippet_type:Ae,subtype:xe,alt_txt:Ge,client_context_team_id:ze},reason:Re}))});k.meta={name:"createFetcher",key:"createFetchergetUploadURL",description:"Gets an edge upload URL"},k.propTypes={fileName:B.default.string.isRequired,fileSize:B.default.number.isRequired,snippetType:B.default.string,reason:B.default.string,altText:B.default.string};const F=Object(P.a)("Finalizes an upload start with files.getUploadURL",(Ce,ce,he)=>{let{fileId:Me,files:Ae,channelId:xe,introMessage:Re,blocks:Ge,title:ze,broadcast:Ie,threadTs:Ne,clientMsgId:Ke,storyTopic:Ve,reason:$e}=he;return Ce(Object(K.apiCall)({method:"files.completeUpload",args:Object(R.a)({file:Me,files:JSON.stringify(Ae),channel:xe,intro:Re,blocks:JSON.stringify(Ge),title:ze,broadcast:Ie,thread_ts:Ne,story_topic:Ve&&JSON.stringify(Object(R.a)(Ve)),client_msg_id:Ke}),reason:$e})).tap(()=>{if(!Object(V.a)()||!xe)return;const tt=Me?[Me]:Object(U.a)(Ae,"id");Ce(x({fileIds:tt,channelId:xe,threadTs:Ne,broadcast:Ie}))})});F.meta={name:"createFetcher",key:"createFetchercompleteUpload",description:"Finalizes an upload start with files.getUploadURL"},F.propTypes={fileId:B.default.string,files:B.default.arrayOf(B.default.shape({id:B.default.string.isRequired,title:B.default.string.isRequired})),channelId:B.default.string,introMessage:B.default.string,blocks:B.default.array,title:B.default.string,broadcast:B.default.bool,threadTs:B.default.string,clientMsgId:B.default.string,storyTopic:B.default.shape({emoji:B.default.string,label:B.default.string}),reason:B.default.string};var L=e("ku/f"),S=e("x6tY"),I=e("Rc7c"),W=e("QoUg"),D=e("Yauy"),H=e("E3dU"),Z=e("s4P+"),G=e("ixfQ"),te=e("ktUG"),se=e("5IZy"),$=e("1Np4"),X=e("WQtW"),q=e("Z7Ay"),Y=e("RVJP"),ee=e("Yp7W"),w=e("fHj2"),ne=e("n0Pp");const ae=7500,de=3e4;function ge(Ce){let{dispatch:ce,fileId:he}=Ce;return new n.a((Me,Ae)=>{ce(Object(M.j)({files:he,reason:"upload-queue-poll-for-file-processing"})).then(xe=>{let{files:Re}=xe;const Ge=Object(f.a)(Re,{id:he});Me(!!Ge)}).catch(xe=>{Ae(xe)})})}h(ge,"checkForFile");const le=Object(C.c)("Poll files.list until it returns a specific file",(Ce,ce,he)=>{let{fileId:Me,timeout:Ae=10*60*1e3}=he;const xe=Object(Z.a)({getState:ce,label:"UPLOAD-QUEUE"});xe.info(`Start polling for ${Me}`);const Re=Date.now();let Ge=null,ze=!1;return{promise:new n.a((Ne,Ke)=>{const Ve=h($e=>{Ge=setTimeout(()=>{ge({dispatch:Ce,fileId:Me}).then(tt=>{tt?(xe.info(`Polling received ${Me}, resolving`),ze||(ze=!0,Ne(!0))):Math.floor(Date.now())>Re+Ae?(xe.info(`Polling giving up on ${Me}`),ze||(ze=!0,Ne(!1))):(xe.info(`Polling did not receive ${Me}, will wait and try again`),Ve(Math.min($e*2,de)))}).catch(tt=>{ze||(ze=!0,Ke(tt))})},$e)},"checkWithBackoff");Ve(ae)}),cancel:()=>{ze||xe.info(`Cancelled polling for ${Me}`),clearTimeout(Ge),ze=!0}}});le.meta={name:"createThunk",key:"createThunkpollForFileProcessing",description:"Poll files.list until it returns a specific file"};var Q=le,ie=e("ajVY"),oe=e("qiCS");let me={};const{HTTP_200_OK:be,CLIENT_TIMEOUT:Se,CLIENT_ABORTED:Pe,CLIENT_UNKNOWN:Ue}=G.a,Fe="UPLOAD-QUEUE",je="upload-queue",_e="File upload failed!",pe=6e4;let fe=h(class{uploadFiles(){let{files:ce,shareData:he={},traceTags:Me={},samplingOptions:Ae,hideBanner:xe,originWindowId:Re}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var Ge,ze;if(!ce||!ce.length)return n.a.reject(new Error("no files passed to uploadFiles"));if(Object(t.a)(ce,qe=>!this._doesPendingFileExist(qe))){this._displayFileNotFoundError({msgText:he.introMessage,blocks:he.blocks});const qe=new Error(`[${Fe}]: file not found in uploadFiles`);return this._log(qe,{level:"error"}),n.a.reject(qe)}let Ne,Ke=this._uploadFilesFetcher;const Ve=this._store.getState&&this._store.getState();if(he.isBox||he.isDropbox&&!Object(ie.d)(Ve,"dropbox_legacy_picker"))Ke=this._uploadExternalFileFetcher;else if(Object(Y.d)(this._store.getState(),"box_cfs")==="on"){const[qe,ut]=Object(a.a)(ce,rt=>Object(W.a)(Ve,rt));if(qe.length){if(ut.length)return n.a.reject(new Error("Mixed custom and non-custom file store files not supported at this time"));Ke=this._uploadCustomFileFetcher,Ne=Object(I.a)(Ve)}}const tt=Object($.a)({state:Ve}).createTrace({traceName:"file_upload_attempt",tags:{media_threads_enabled:!0,bytes_uncompressed:(Ge=ce[0])===null||Ge===void 0?void 0:Ge.size,type:(ze=ce[0])===null||ze===void 0?void 0:ze.type,...Me},samplingOptions:Ae});return new n.a((qe,ut)=>{const rt={files:ce,filestore:Ne,shareData:he,cancelable:!(he.isBox||he.isDropbox),numRetries:0,fetcher:Ke,resolve:qe,reject:ut,processingTimeout:null,hideBanner:xe,originWindowId:Re,pollingPromise:null,cancelPolling:s.a,trace:tt,spans:{upload:tt.startSpan("file_upload_attempt:upload"),queue:tt.startSpan("file_upload_attempt:queue")}};this._queue.push(rt),this._go()})}cancelCurrentUpload(){if(!this._activeJob)return;const{uploads:ce}=this._activeJob;if(!ce)return;if(Object(b.b)(this._store.getState())===O.d){const Me=this._getUploadFileIds();Object(l.a)(Me,Ae=>{this._store.dispatch(Object(M.b)({fileId:Ae,reason:"upload-queue-cancel"}))})}this._cancelActiveXhrRequests(),this._log("Upload was cancelled by the user"),this._store.dispatch(Object(y.d)()),this._uploadOver()}cancelEagerUpload(){let{pendingFileId:ce}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!ce)return;const he=this._getPendingFileId();ce===he?(this._log("Cancelling an eager upload that is the current upload"),this.cancelCurrentUpload()):(this._log("Cancelling an eager upload by removing an unprocessed job from the queue"),Object(o.a)(this._queue,Me=>this._getPendingFileId(Me)===ce))}maybeResolveCurrentUpload(ce){if(!ce||!this._activeJob||!this._activeJob.shareData||ce!==this._activeJob.shareData.clientMsgId)return;this._activeJob.hasCurrentUploadResolved=!0;const he=this._store&&this._store.getState();if(Object(b.b)(he)!==O.d){this._logger.warn(`${Fe}: attempting to resolve upload before completeUpload resolved ${this._activeJob.shareData.clientMsgId}`);return}this._log(`Resolving upload for client_msg_id: ${ce}`),this._resolveCurrentUpload()}resolveCurrentUpload(ce){var he;if(!this._activeJob)return;((he=this._activeJob.uploads[0])===null||he===void 0?void 0:he.fileId)===ce&&this._store.dispatch(Object(M.d)({fileId:ce,reason:"upload-queue:resolveCurrentUpload"})).finally(()=>{this._resolveCurrentUpload()})}onDisconnect(){const ce=this._store.getState(),he=Object(b.b)(ce);he===O.e&&this._activeJob&&(this._activeJob.disconnectedDuringUpload=!0),he===O.d&&this._startPollingForProcessing()}onChannelLeave(){if(!this._store||!this._activeJob||!this._activeJob.shareData||this._isEagerUpload()||this._isMemberOfChannelBeingUploadedTo())return;const ce=this._store.getState();if(Object(b.b)(ce)===O.d){const Me=this._activeJob.shareData.channelId;this._forceResolveCurrentUpload(`user left channel being uploaded to: ${Me}`)}}_uploadExternalFileFetcher(){const{resolve:ce}=this._activeJob||{},{channelId:he,link:Me,title:Ae,broadcast:xe,threadTs:Re,metadata:Ge,blocks:ze}=this._activeJob.shareData;return this._store.dispatch(Object(y.f)()),this._store.dispatch(Object(M.r)({title:Ae,link:Me,broadcast:xe,threadTs:Re,channels:he||"",blocks:ze,reason:je})).then(()=>{this._clogUploadComplete(te.EventId.FILE_COMPLETE_UPLOAD_SUCCESS,{file_upload_action:Ge&&Ge.fileUploadAction,file_upload_src:Ge&&Ge.fileUploadSrc}),this._store.dispatch(Object(y.e)()),this._uploadOver(),ce&&ce()})}_uploadCustomFileFetcher(){const{filestore:ce,files:he,trace:Me,spans:Ae}=this._activeJob;return ce!=="box"?n.a.reject(new Error(`Filestore ${ce} not implemented`)):(this._activeJob.uploads=[],this._log(`Preparing to upload ${he.length} file(s) to Box`),Ae.transfer=Me.startSpan(`${ce}_file_upload_attempt:transfer`),this._store.dispatch(Object(p.b)({filestore:ce,files:he.map(xe=>({filename:Object(S.L)(xe),length:xe.size}))})).then(xe=>n.a.map(xe.files,(Re,Ge)=>{let{file_id:ze,filename:Ie,upload_header:Ne,upload_url:Ke}=Re;return new n.a(Ve=>{const $e=he[Ge],tt=new FormData;try{var qe,ut;tt.append("attributes",JSON.stringify({name:Ie,parent:{id:(qe=xe.additional_info)===null||qe===void 0||(ut=qe.box)===null||ut===void 0?void 0:ut.folder_id}}))}catch(Mt){this._log("Unable to serialize attributes JSON",{level:"error"}),this._log(Mt,{level:"error"})}tt.append("file",$e);const rt=new XMLHttpRequest;if(rt.addEventListener("timeout",this._onTimeout.bind(this)),rt.addEventListener("abort",this._onAbort.bind(this)),rt.addEventListener("error",this._onXhrError.bind(this)),rt.addEventListener("load",()=>{this._log(`Completed POSTing ${ze} to upload URL`);try{this._customFileResponse=JSON.parse(rt.response)}catch(Mt){this._log(`Unable to parse box response ${Mt}`)}Ve()}),rt.upload&&rt.upload.addEventListener("progress",Mt=>this._onMultiFileUploadProgress(Mt,ze)),this._activeJob.uploads[Ge]={xhr:rt,fileId:ze,title:Ie,size:$e.size,loaded:0,...$e.subtype&&{subtype:$e.subtype}},this._activeJob.cfs_workspace_id=xe.workspace_id,rt.open("POST",Ke),Ne){const[Mt,st]=Ne.split(":");var yt;rt.setRequestHeader(Mt,(yt=st==null?void 0:st.trim())!==null&&yt!==void 0?yt:"")}rt.send(tt)})})).then(this._onLoad))}_uploadFilesFetcher(){const{files:ce,trace:he,spans:Me,shareData:Ae}=this._activeJob;this._activeJob.uploads=[],this._log(`Preparing to upload ${ce.length} file(s)`),Me.transfer=he.startSpan("file_upload_attempt:transfer");const xe=ce.map((Re,Ge)=>this._store.dispatch(k({fileName:Object(S.L)(Re),...Object(S.d)(Re)&&{altText:Object(S.E)(Re)},fileSize:Re.size,snippetType:Re.snippetType,subtype:Re.subtype,reason:je,clientContextTeamId:Ae.clientContextTeamId})).then(ze=>{let{file:Ie,upload_url:Ne}=ze;return this._log(`Got upload URL and ID ${Ie}`),he.addTags({file_id:Ie}),new n.a(Ke=>{const Ve=new FormData;Ve.append("file",Re);const $e=new XMLHttpRequest;$e.addEventListener("timeout",this._onTimeout.bind(this)),$e.addEventListener("abort",this._onAbort.bind(this)),$e.addEventListener("error",this._onXhrError.bind(this)),$e.addEventListener("load",()=>{this._log(`Completed POSTing ${Ie} to upload URL`),Ke()}),$e.upload&&$e.upload.addEventListener("progress",qe=>this._onMultiFileUploadProgress(qe,Ie)),this._activeJob.uploads[Ge]={xhr:$e,fileId:Ie,title:Object(S.G)(Re),size:Re.size,loaded:0,...Re.subtype&&{subtype:Re.subtype}};const tt=Ae!=null&&Ae.clientContextTeamId?Object(oe.d)(Ne,"client_context_team_id",Ae.clientContextTeamId):Ne;$e.open("POST",tt),$e.send(Ve)})}));return n.a.all(xe).then(()=>{this._onLoad()})}_go(){if(this._activeJob){this._log("Job in progress, queuing");return}if(!this._queue.length){this._log("Upload queue empty"),this._store.dispatch(_());return}this._log("Starting an upload"),this._activeJob=this._queue.shift(),this._actuallyUpload(this._activeJob)}_resolveCurrentUpload(){var ce;const{uploads:he,resolve:Me,processingTimeout:Ae,cancelPolling:xe,trace:Re,spans:Ge}=this._activeJob||{};if(he&&(this._log(`Successfuly resolved file uploads for: ${this._getUploadFileIds()}`),Me&&Me({fileIds:this._getUploadFileIds(),pendingFileId:this._getPendingFileId()})),clearTimeout(Ae),xe==null||xe(),Ge==null||(ce=Ge.processing)===null||ce===void 0||ce.close(),Re==null||Re.addTags({success:!0}),this._isEagerUpload()){const ze=this._getPendingFileId(),Ie=this._getPersistedFileId();this._log(`Marking upload as complete. Pending File Id: ${ze} Persisted File Id: ${Ie}`),this._store.dispatch(Object(j.h)({pendingFileId:ze,status:E.a.COMPLETE})),this._store.dispatch(Object(j.a)({pendingFileId:ze,persistedFileId:Ie}))}else this._store.dispatch(Object(y.e)());this._uploadOver()}_actuallyUpload(){let{files:ce,fetcher:he,hideBanner:Me,spans:Ae,originWindowId:xe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var Re;Ae==null||(Re=Ae.queue)===null||Re===void 0||Re.close();let Ge;ce&&ce.length===1&&(Ge=Object(S.G)(ce[0]));const ze=this._getPendingFileId();this._log(`Starting eager upload for ${ze}`),this._store.dispatch(Object(j.b)({pendingFileId:ze,teamId:this._teamId})),this._store.dispatch(Object(j.h)({pendingFileId:ze,status:E.a.UPLOADING})),this._store.dispatch(Object(y.h)({fileName:Ge,fileCount:ce&&ce.length,isRetry:!!this._activeJob.numRetries,cancelable:this._isEagerUpload()?!1:this._activeJob.cancelable,hideBanner:Me,originWindowId:xe})),this._activeJob.startTime=Date.now(),he().catch(Ie=>{this._onError(Ie)})}_onUploadProgress(ce){let he="";if(ce.lengthComputable){const Me=Math.floor(100*ce.loaded/ce.total,10);he=`Uploading ${this._activeJob.fileId} - ${Me}% complete`,this._activeJob.totalProgress=ce.loaded}else he=`Uploading ${this._activeJob.fileId} - Upload percentage not computable`;this._throttledLog(he)}_onMultiFileUploadProgress(ce,he){if(!ce.lengthComputable){this._throttledLog(`Uploading ${this._getUploadFileIds()} - Upload percentage not computable`);return}const{uploads:Me}=this._activeJob,Ae=Object(f.a)(Me,{fileId:he});if(!Ae){this._throttledLog(`Could not find upload progress data for ${he} in _activeJob.uploads`,{level:"warn"});return}Ae.loaded=ce.loaded,this._updateMultiFileUploadProgress()}_updateMultiFileUploadProgress(){const{uploads:ce}=this._activeJob,he=ce.reduce(function(ze){let{loaded:Ie,size:Ne}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ze.totalLoaded+=Ie,ze.totalSize+=Ne,ze},{totalLoaded:0,totalSize:0}),{totalLoaded:Me,totalSize:Ae}=he,xe=Math.floor(100*Me/Ae,10),Re=this._getPendingFileId();this._store.dispatch(Object(j.g)({pendingFileId:Re,percentComplete:xe})),this._store.dispatch(Object(y.a)({percentComplete:xe}));const Ge=`Uploading ${this._getUploadFileIds()} - ${xe}% complete`;this._throttledLog(Ge),this._activeJob.totalProgress=Me}_log(ce){let{level:he="info"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._logger[he](Fe,ce)}_uploadOver(){var ce;if(!((ce=this._activeJob)===null||ce===void 0)&&ce.trace){var he,Me;(he=this._activeJob.spans)===null||he===void 0||(Me=he.upload)===null||Me===void 0||Me.close(),Object($.a)({state:this._store.getState()}).reportTrace(this._activeJob.trace)}this._activeJob=null,this._go()}_isEagerUpload(){const{shareData:ce={}}=this._activeJob||{};return!!ce.isEagerUpload}_getPendingFileId(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._activeJob;const{files:he}=ce||{};return Object(r.a)(he)?null:he[0].id}_getPersistedFileId(){const{uploads:ce}=this._activeJob||{};return Object(r.a)(ce)?null:ce[0].fileId}_getMultiFileUploadDataForApi(){const{uploads:ce}=this._activeJob;return ce?ce.map(he=>({id:he.fileId,title:he.title,...he.subtype&&{subtype:he.subtype}})):null}_getUploadFileIds(){const{uploads:ce}=this._activeJob||{};return ce?ce.map(he=>he.fileId):null}_getUploadSize(){const{uploads:ce}=this._activeJob||{};return ce?ce.reduce((he,Me)=>he+Me.size,0):0}_getUploadFileCount(){const{files:ce}=this._activeJob||{};return ce?ce&&ce.length:0}_cancelActiveXhrRequests(){const{uploads:ce}=this._activeJob||{};Object(r.a)(ce)||ce.forEach(he=>{he.xhr&&he.xhr.abort()})}_clogUploadComplete(ce,he){const{shareData:Me={},numRetries:Ae,retryReason:xe,startTime:Re,disconnectedDuringUpload:Ge}=this._activeJob||{},Ie=Me.isBox||Me.isDropbox?te.FileUploadType.EXTERNAL:te.FileUploadType.EDGE,Ne=Date.now()-Re,Ke=!!Me.introMessage||!!Me.blocks,Ve=this._getUploadFileCount();Object(se.a)({state:this._store.getState()}).track(ce,{type:Ie,duration:Ne,has_upload_message:Ke,file_count:Ve,retry_count:Ae,upload_size:this._getUploadSize(),retry_reason:xe,did_disconnect_during_upload:Ge,...he})}_ensureRequestLoadedSuccessfully(ce,he){return ce?ce.status!==be&&!(he==="box"&&ce.status>=200&&ce.status<300)?(this._onError(`Error with loaded request; status code: ${ce.status}; status text: ${ce.statusText}`,{status:ce.status,response:ce.responseText}),!1):!0:!1}_ensureAllRequestsLoadedSuccessfully(){const{filestore:ce,uploads:he}=this._activeJob;return Object(m.a)(he,Me=>this._ensureRequestLoadedSuccessfully(Me.xhr,ce))}_forceResolveCurrentUpload(ce){this._activeJob&&(this._log(`[${Fe}]: force resolving current upload because: ${ce}`,{level:"error"}),this._resolveCurrentUpload())}_setProcessingTimeout(){this._activeJob&&(this._activeJob.processingTimeout=setTimeout(()=>{const ce=this._store.getState();Object(b.b)(ce)===O.d&&this._startPollingForProcessing()},pe))}_startPollingForProcessing(){var ce;clearTimeout(this._activeJob.processingTimeout);const he=(ce=this._activeJob.uploads[0])===null||ce===void 0?void 0:ce.fileId;if(!he){this._onError("missing file ID");return}const{promise:Me,cancel:Ae}=this._store.dispatch(Q({fileId:he,timeout:10*60*1e3}));this._activeJob.pollingPromise=Me,this._activeJob.cancelPolling=Ae,Me.then(xe=>{if(xe)this._resolveCurrentUpload(he);else{const Re=new Error("polling for processing timed out");Re.name=ee.a.ProcessingTimeout,this._onError(Re)}}).catch(xe=>{this._logger.error(`${Fe}: error during polling`),this._onError(xe)})}_retryUpload(ce){this._activeJob.numRetries+=1,this._activeJob.retryReason=ce,["fileId","xhrOpenTime","uploads","startTime","totalProgress","processingTimeout","hasCurrentUploadResolved"].forEach(Me=>{delete this._activeJob[Me]}),this._actuallyUpload(this._activeJob)}_constructCustomFilesStoreUrl(ce,he){return{box:`https://account.box.com/file/${ce}?cfs=true`}[he]}_onCustomFilesLoad(){const{shareData:ce,fileId:he,filestore:Me}=this._activeJob,Ae=this._customFileResponse;if(!Ae||!Ae.entries)return n.a.reject(new Error("Not custom files"));const xe=Ae.entries.map((Ge,ze)=>({file_id:he||this._activeJob.uploads[ze].fileId,filename:Ge.name,title:Ge.name,external_id:Ge.id,external_url:this._constructCustomFilesStoreUrl(Ge.id,Me)})),Re={files:xe,filestore:Me};return this._activeJob.cfs_workspace_id&&(Re.workspace_id=this._activeJob.cfs_workspace_id),this._store.dispatch(Object(w.a)({...Re,reason:je})).then(()=>{if(ce.channelId){const Ge={fileIds:xe.map(ze=>ze.file_id),...ce};return this._store.dispatch(Object(T.a)(Ge))}return n.a.resolve()}).catch(this._onError.bind(this))}_onLoad(){var ce;const{filestore:he,shareData:Me,fileId:Ae,uploads:xe,trace:Re,spans:Ge}=this._activeJob;if(Object(Y.d)(this._store.getState(),"box_cfs")==="on"&&he==="box"){this._onCustomFilesLoad();return}if(Ge==null||(ce=Ge.transfer)===null||ce===void 0||ce.close(),!this._ensureAllRequestsLoadedSuccessfully())return;let Ie;Ae?(Ie={fileId:Ae},this._log(`${Ae} Finished POST-ing data`)):(Ie={files:this._getMultiFileUploadDataForApi()},this._log(`Finished POST-ing data for ${xe.length} file(s)`));const Ne=this._getPendingFileId();this._store.dispatch(Object(j.g)({pendingFileId:Ne,percentComplete:100})),this._store.dispatch(Object(y.a)({percentComplete:100})),this._throttledLog.flush(),(Object(Y.d)(this._store.getState(),"box_cfs")==="on"&&he==="box"?this._onCustomFilesLoad():this._store.dispatch(F({...Ie,...Me,reason:je}))).then(()=>{this._activeJob||this._logger.error(`${Fe}: active job object missing after completeUpload resolves`),Ge.processing=Re.startSpan("file_upload_attempt:processing"),this._store.dispatch(Object(j.h)({pendingFileId:Ne,status:E.a.PROCESSING})),this._store.dispatch(Object(y.f)()),this._setProcessingTimeout();const Ke=Me&&Me.metadata;this._clogUploadComplete(te.EventId.FILE_COMPLETE_UPLOAD_SUCCESS,{file_upload_action:Ke&&Ke.fileUploadAction,file_upload_src:Ke&&Ke.fileUploadSrc});const{shouldImmediatelyResolve:Ve,reason:$e}=this._shouldImmediatelyResolveUpload()||{};Ve?(this._log(`immediately resolving upload beacause: ${$e}`),this._resolveCurrentUpload()):Object(V.a)()&&!Object(ne.h)(this._store.getState())&&this._startPollingForProcessing()}).catch(this._onError.bind(this))}_onTimeout(){this._onError("File upload timed out!",{status:Se})}_onAbort(){this._onError("File upload aborted!",{status:Pe})}_onXhrError(ce){const{xhrOpenTime:he}=this&&this._activeJob||{};let Me;if(he&&(Me=Date.now()-he),Object(c.a)(ce)){const Ae=ce.currentTarget;let xe={};Object(c.a)(Ae)&&(xe={status:Ae.status,statusText:Ae.statusText,timeout:Ae.timeout,response:Ae.response,responseText:Ae.responseText,responseType:Ae.responseType,responseUrl:Ae.responseUrl,responseXML:Ae.responseXML,readyState:Ae.readyState});const Re={loaded:ce.loaded,total:ce.total,lengthComputable:ce.lengthComputable,type:ce.type,message:ce.message,description:ce.description,timeStamp:ce.timeStamp,isTrusted:ce.isTrusted,...xe,duration:Me,stack:Object(X.a)()};this._logger.error(Fe,ce,`on XHR error ${JSON.stringify(Re)}`)}this._onError(ce)}_onError(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_e,{status:he=Ue,response:Me=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._activeJob){this._log("error handling called without an active job");return}const{filestore:Ae,numRetries:xe,reject:Re,shareData:Ge,totalProgress:ze,trace:Ie}=this._activeJob||{},Ne=Object(u.a)(ce)?new Error(ce):ce,Ke=`(status: ${he}; response: ${Me})`,Ve=h(()=>{Re&&Re(Ne);const tt=Ge&&Ge.metadata;this._clogUploadComplete(te.EventId.FILE_COMPLETE_UPLOAD_FAILURE,{file_upload_error_message:Ne.toString(),file_upload_action:tt&&tt.fileUploadAction,file_upload_src:tt&&tt.fileUploadSrc,file_upload_progress:ze}),this._logger.error(Ne,`[${Fe}]: error uploading file ${Ke}`),Ie==null||Ie.addTags({success:!1}),this._uploadOver()},"endUpload"),$e=Ne==null?void 0:Ne.name;if($e&&!Object(ee.b)($e)){this._cancelActiveXhrRequests(),this._store.dispatch(Object(y.d)()),Ve(),this._throttledLog.cancel(),this._store.dispatch(Object(L.a)({error:$e,filestore:Ae}));return}if(he===Pe)this._log(Ne.toString(),{level:"warn"});else if(this._log(Ne.toString(),{level:"error"}),this._cancelActiveXhrRequests(),xe===0)this._log("First attempt to upload failed, automatically retrying"),this._retryUpload(Ne.toString());else if(this._isEagerUpload()){const tt=this._getPendingFileId(),qe=this._getPersistedFileId()||"none";this._log(`Eager upload failed. pendingFileId: ${tt}, persistedFileId: ${qe}`,{level:"error"}),Ve()}else this._store.dispatch(Object(L.a)({error:Ne==null?void 0:Ne.name,allowTryAgain:!0,onGo:()=>{this._log(`${xe}nd attempt to upload failed, user requested to retry`),this._retryUpload(Ne.toString())},onClose:()=>{this._log("User canceled upload after error"),this._store.dispatch(Object(y.d)()),Ve()},msgText:Ge&&Ge.introMessage,blocks:Ge&&Ge.blocks}));this._throttledLog.cancel()}_doesPendingFileExist(ce){return ce?Object(S.Jb)(ce)?ce.size&&ce.size>0:!0:!1}_displayFileNotFoundError(ce){let{msgText:he,blocks:Me}=ce;this._store.dispatch(Object(L.a)({error:ee.a.FileNotFoundOnDevice,msgText:he,blocks:Me}))}_shouldImmediatelyResolveUpload(){const{shareData:ce,hasCurrentUploadResolved:he}=this._activeJob||{};return!this._activeJob||!ce?{shouldImmediatelyResolve:!0,reason:"missing activeJob or shareData"}:ce.channelId&&!this._isMemberOfChannelBeingUploadedTo()?{shouldImmediatelyResolve:!0,reason:"not member of channel being uploaded to"}:he?{shouldImmediatelyResolve:!0,reason:"message already received by client (race condition)"}:{shouldImmediatelyResolve:!1}}_isMemberOfChannelBeingUploadedTo(){if(!this._store||!this._activeJob||!this._activeJob.shareData)return!1;const{channelId:ce}=this._activeJob.shareData;if(!ce)return!1;const he=this._store.getState&&this._store.getState(),Me=Object(H.d)(he,ce);return Object(D.db)(Me)}constructor(ce){if(!ce)throw new Error("UploadQueue requires a teamId");this._teamId=ce,this._store=Object(g.getStoreInstanceByTeamId)(ce),this._queue=[],this._activeJob=null,this._customFileResponse=null,this._logger=Object(Z.a)({teamId:ce}),this._log=this._log.bind(this),this._throttledLog=Object(d.a)(this._log,5e3,{leading:!1}),this._uploadCustomFileFetcher=this._uploadCustomFileFetcher.bind(this),this._uploadExternalFileFetcher=this._uploadExternalFileFetcher.bind(this),this._uploadFilesFetcher=this._uploadFilesFetcher.bind(this),this._onMultiFileUploadProgress=this._onMultiFileUploadProgress.bind(this),this._onCustomFilesLoad=this._onCustomFilesLoad.bind(this),this._onLoad=this._onLoad.bind(this),Object(v.a)(this)}},"UploadQueue");function Ee(Ce){return me[Ce]||(me[Ce]=new fe(Ce),Object(q.c)(Ce,"uploadQueue",me[Ce])),me[Ce]}h(Ee,"getInstance");function ye(Ce,ce){Ee(Ce).maybeResolveCurrentUpload(ce)}h(ye,"maybeResolveUploadInQueue");function Te(Ce,ce){Ee(Ce).resolveCurrentUpload(ce)}h(Te,"maybeResolveUploadInQueueWithFileId");const Oe={PROCESSING_TIMEOUT_DURATION:pe,API_REASON:je,resetUploadQueues:()=>{me={}}}},H2ap:function(J,i,e){"use strict";e.d(i,"a",function(){return m});var n=e("9oTK"),t=e("SQ0V"),a=e("q6Tz"),s=e("uVZW"),l=e("7+Lm"),o=e("v5z3");const f=Object(t.c)("Register organic use of progressive disclosure tip with Megaphone",function(){var c=Object(n.coroutine)(function*(u,d,p){var v,g;const O={[o.f.AddTeammates]:s.e.PD_FIRST_USER_INVITED,[o.f.FirstMessage]:s.e.PD_FIRST_MESSAGE_SENT,[o.f.Reacji]:s.e.PD_REACJI_ICON_CLICKED,[o.f.AtMention]:s.e.PD_MENTION_ICON_CLICKED,[o.f.Threads]:s.e.REPLY_IN_THREAD_CLICKED,[o.f.AddChannels]:s.e.ADD_CHANNELS_CLICKED,[o.f.Status]:s.e.PROFILE_PICTURE_CLICKED,[o.f.CompletedAll]:s.e.HELP_HOME_OPENED,[o.f.Huddles]:s.e.HUDDLE_MINI_PLAYER_OPEN};if(Object(l.c)(d(),s.g.PROGRESSIVE_DISCLOSURE)&&o.w.includes(p)&&(!((v=Object(l.b)(d(),s.g.PROGRESSIVE_DISCLOSURE))===null||v===void 0||(g=v.eligibleTips)===null||g===void 0)&&g.includes(o.h[p]))){const b=O[p];b&&u(Object(a.b)({event:{type:b,current_notification:Object(l.c)(d(),s.g.PROGRESSIVE_DISCLOSURE)}}))}});return function(u,d,p){return c.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkmaybeRegisterProgressiveDisclosureTipOrganicUseWithMegaphone",description:"Register organic use of progressive disclosure tip with Megaphone"};var r=e("IaLB");const m=Object(t.c)("handle progressive disclosure organic use",function(){var c=Object(n.coroutine)(function*(u,d,p){let{tip:v}=p;const g=d();Object(r.Y)(g)&&u(f(v))});return function(u,d,p){return c.apply(this,arguments)}}());m.meta={name:"createThunk",key:"createThunkhandleProgressiveDisclosureOrganicUse",description:"handle progressive disclosure organic use"}},"HAG/":function(J,i,e){"use strict"},HD5C:function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a});var n=e("DwFS");const t=Object(n.a)("Connects a client built thumbnail image to a file");t.meta={name:"createAction",key:"createActionconnectImageThumbnailToFile",description:"Connects a client built thumbnail image to a file"};const a=Object(n.a)("Removes image thumbnails connected to files");a.meta={name:"createAction",key:"createActionremoveImageThumbnails",description:"Removes image thumbnails connected to files"}},HFEL:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ZobM"),s=e("nNoG");const l=new s.b("members");function o(){return t.a.createElement("span",{className:"c-hidden_user_icon_and_name "},t.a.createElement(a.a,{name:"user-hide",inline:!0}),"\xA0",l.t("Name hidden"))}h(o,"HiddenUserIconAndName"),o.displayName="HiddenUserIconAndName";var f=i.a=t.a.memo(o)},HJ1R:function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("q1tI"),t=e.n(n),a=e("ifKl");const s={isVisible:!1,heading:null,message:null,cancelButtonLabel:null,continueButtonLabel:null,continueButtonType:void 0,continueButtonIsLoading:void 0,continueButtonIsDisabled:!1,onCancel:a.a,onContinue:a.a},l=h(()=>{const[o,f]=Object(n.useState)({...s}),r=Object(n.useCallback)(()=>{f({...s})},[]),m=Object(n.useCallback)(function(){let{heading:u=null,message:d=null,cancelButtonLabel:p=null,continueButtonLabel:v=null,continueButtonType:g=void 0,continueButtonIsLoading:O=void 0,onCancel:b=a.a,onContinue:y=a.a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{onCancel:a.a,onContinue:a.a};f({className:"flex",isVisible:!0,heading:u,message:d,cancelButtonLabel:p,continueButtonLabel:v,continueButtonType:g,continueButtonIsLoading:O,onCancel:b,onContinue:y})},[]);return Object(n.useMemo)(()=>({speedBumpState:o,closeSpeedBump:r,openSpeedBump:m}),[r,m,o])},"useSpeedBump")},HOFW:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("E3dU"),t=e("y/Pn"),a=e("3yS5");function s(l,o){const f=Object(n.d)(l,o.channelId);if(Object(t.a)(f))return!0;const r=o.memberIds||[];return!!(!f&&r.length&&r.some(c=>Object(a.a)(l,c)))}h(s,"shouldDisplaySharedBanner")},HOkk:function(J,i,e){"use strict";var n=e("Lgge"),t=e("n3tL"),a=e("q1tI"),s=e.n(a),l=e("C3Bw"),o=e("BHdc"),f=e("ifKl"),r=e("gSGL"),m=e("WIr4"),c=e("FWtP"),u=e("Cfcg"),d=e("WSQ4"),p=e("azFB"),v=e("oWe6"),g=e("+kJ4"),O=e("DCrr"),b=e("qDEp"),y=e("oEDn"),C=e("ZobM"),_=e("pmw5"),j=e("s4P+"),E=e("nNoG"),M=e("4t6+"),T=e("Tevt"),P=e("RMmo"),B=e("orxu"),R=e("HKlo"),U=e("zrD9"),K=e("nWdO"),V=e("4MOp"),z=e("FRd1"),N=e("ktUG"),A=e("VymY");function x(le){const Q=le.tagName;if(["BUTTON","INPUT","SELECT","TEXTAREA"].includes(Q))return!0;const ie=le.getAttribute("role");return!!(ie&&["button","checkbox","radio","radiogroup","textbox"].includes(ie))}h(x,"focusOnFormFilter");var k=e("5IZy"),F=e("AwEi"),L=e("rcBr");const S=new E.b("generic_dialog"),I={titleText:t.default.oneOfType([t.default.string,t.default.array]),bodyText:t.default.string,cancelButtonText:t.default.string,continueButtonText:t.default.string,continueButtonType:t.default.string,onCancel:t.default.func,onContinue:t.default.func},W={titleText:void 0,bodyText:void 0,cancelButtonText:void 0,continueButtonText:void 0,continueButtonType:"danger",onCancel:f.a,onContinue:f.a};let D=h(class extends s.a.PureComponent{componentDidMount(){requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.setState(()=>({isHidden:!1}))})})}onCancel(){this.setState(()=>({isHidden:!0}),()=>{Object(L.a)(this.speedBump,"transform").then(this.props.onCancel)})}render(){const Q=S.t("Your work won\u2019t be saved \u2014 are you sure you want to close?",{fallbackHash:"2dba6fefb79a00616e98aaeb349d6e2404795259"}),ie=S.t("Keep Editing"),oe=S.t("Close"),{titleText:me=Q,cancelButtonText:be=ie,continueButtonText:Se=oe,bodyText:Pe,continueButtonType:Ue,onContinue:Fe}=this.props,{isHidden:je}=this.state,_e=Object(o.default)("c-dialog_speed_bump_overlay",{"c-dialog_speed_bump_overlay--hidden":je}),pe=Object(o.default)("c-dialog_speed_bump",{"c-dialog_speed_bump--hidden":je});return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:_e}),s.a.createElement("div",{className:"c-dialog_speed_bump_wrapper"},s.a.createElement("div",{className:pe,ref:fe=>{this.speedBump=fe}},s.a.createElement("h3",{className:"c-dialog_speed_bump__body_text"},me),Pe&&s.a.createElement(F.a,{text:Pe}),s.a.createElement("div",{className:"c-dialog_speed_bump__button_row"},s.a.createElement(b.f,{autoFocus:!0,className:"c-dialog_speed_bump__button",onClick:this.onCancel,"data-qa":"dialog_speed_bump_cancel",type:"outline"},be),s.a.createElement(b.f,{className:"c-dialog_speed_bump__button",onClick:Fe,"data-qa":"dialog_speed_bump_continue",type:Ue},Se)))))}constructor(Q){super(Q),this.onCancel=this.onCancel.bind(this),this.state={isHidden:!0},this.speedBump=null}},"DialogSpeedBump");D.displayName="DialogSpeedBump",D.propTypes=I,D.defaultProps=W;var H=Object(v.a)(D);function Z(){return Z=Object.assign||function(le){for(var Q=1;Q<arguments.length;Q++){var ie=arguments[Q];for(var oe in ie)Object.prototype.hasOwnProperty.call(ie,oe)&&(le[oe]=ie[oe])}return le},Z.apply(this,arguments)}h(Z,"_extends");const G=new E.b("generic_dialog"),te={onRequestClose:{action:N.UiAction.CLOSE}},se={ariaContent:t.default.object,children:t.default.any.isRequired,cancelButtonType:t.default.string,cancelText:t.default.string,className:t.default.string,overlayClassName:t.default.string,bodyClassName:t.default.string,modalBodyOpenClassName:t.default.string,contentHeight:t.default.number,contentLabel:t.default.string,"data-qa":t.default.string,footerIcon:t.default.string,footerLink:t.default.string,footerText:t.default.node,focusOnPrimaryButton:t.default.bool,onFooterLinkClick:t.default.func,goButtonType:t.default.string,goButtonText:t.default.string,goButtonTooltip:t.default.node,goButtonIsDisabled:t.default.bool,goButtonIsPending:t.default.bool,goOnEnterPressed:t.default.bool,onCancel:t.default.func,onClose:t.default.func,onGo:t.default.func,onPopOut:t.default.func,onScroll:t.default.func,role:t.default.string,showCancelButton:t.default.bool,showCloseButton:t.default.bool,showPopoutButton:t.default.bool,showGoButton:t.default.bool,showHeader:t.default.bool,showFooter:t.default.bool,showTooltipOnCloseButton:t.default.bool,title:t.default.node,titleAria:t.default.string,useSlackScrollbar:t.default.bool,useSlackScrollbarWithPadding:t.default.bool,titleImage:t.default.string,truncateTitle:t.default.bool,closeModal:t.default.func,appPopoutsEnabled:t.default.bool,shouldCloseOnOverlayClick:t.default.bool,shouldCloseOnGo:t.default.bool,shouldCloseOnCancel:t.default.bool,getShouldShowSpeedBump:t.default.func,speedBumpBodyText:t.default.oneOfType([t.default.string,t.default.array]),speedBumpTitleText:t.default.oneOfType([t.default.string,t.default.array]),speedBumpCancelButtonText:t.default.string,speedBumpContinueButtonText:t.default.string,speedBumpContinueButtonType:t.default.string,isSpeedBumpEnabled:t.default.bool,reverseButtons:t.default.bool,customFooterContent:t.default.oneOfType([t.default.node,t.default.func]),invertCloseButton:t.default.bool,onRequestClose:t.default.func,onEscape:t.default.func,autoClogProps:t.default.object,window:t.default.object,clogger:t.default.object},$={ariaContent:void 0,cancelButtonType:"outline",cancelText:void 0,overlayClassName:void 0,bodyClassName:void 0,modalBodyOpenClassName:void 0,className:void 0,contentHeight:void 0,contentLabel:void 0,"data-qa":"dialog",footerIcon:void 0,footerLink:void 0,footerText:void 0,focusOnPrimaryButton:void 0,onFooterLinkClick:void 0,goButtonType:"primary",goButtonText:void 0,goButtonTooltip:void 0,goButtonIsDisabled:!1,goButtonIsPending:!1,goOnEnterPressed:!0,onCancel:f.a,onClose:f.a,onGo:f.a,onPopOut:f.a,onScroll:f.a,role:"dialog",showCancelButton:!0,showCloseButton:!0,showPopoutButton:!1,showGoButton:!0,showHeader:!0,showFooter:!0,showTooltipOnCloseButton:!1,title:void 0,titleAria:null,useSlackScrollbar:!0,useSlackScrollbarWithPadding:!1,titleImage:void 0,truncateTitle:!0,closeModal:f.a,appPopoutsEnabled:!1,shouldCloseOnOverlayClick:!0,shouldCloseOnGo:!0,shouldCloseOnCancel:!0,getShouldShowSpeedBump:f.a,speedBumpBodyText:void 0,speedBumpTitleText:void 0,speedBumpCancelButtonText:void 0,speedBumpContinueButtonType:"danger",speedBumpContinueButtonText:void 0,isSpeedBumpEnabled:!0,reverseButtons:!1,customFooterContent:void 0,invertCloseButton:!1,onRequestClose:f.a,onEscape:f.a,autoClogProps:void 0,window:p.a,clogger:void 0};let X=0;function q(){return X>0}h(q,"isDialogVisible");let Y=h(class extends a.PureComponent{static getDerivedStateFromProps(Q){const{isSpeedBumpEnabled:ie}=Q;return ie?null:{isShowingSpeedBump:!1,speedBumpButton:""}}componentDidMount(){const{goOnEnterPressed:Q}=this.props;this.props.window.addEventListener("scroll",this.onScroll);let ie;this.modal&&this.modal.node&&(ie=this.modal.node),this.keyCommands=new P.a(ie);const oe=[];Q&&oe.push({keys:["enter"],handler:this.onEnter}),oe.push({keys:["escape"],handler:this.onEscape}),this.keyCommands.bindAll(oe),(this.props.appPopoutsEnabled||Object(V.a)())&&this.props.window.addEventListener("beforeunload",this.onBeforeUnload),Object(V.a)()&&this.updateTitle(),X+=1}componentDidUpdate(){requestAnimationFrame(this.updateScrollState),Object(V.a)()&&this.updateTitle()}componentWillUnmount(){this.props.window.removeEventListener("scroll",this.onScroll),this.keyCommands&&this.keyCommands.reset(),(this.props.appPopoutsEnabled||Object(V.a)())&&this.props.window.removeEventListener("beforeunload",this.onBeforeUnload),X-=1}onBeforeUnload(Q){const{getShouldShowSpeedBump:ie,isSpeedBumpEnabled:oe,appPopoutsEnabled:me}=this.props;if(!ie||!oe||!me&&!Object(V.a)())return null;if(ie("close")){Q.preventDefault();const be=G.t("Your work won\u2019t be saved \u2014 are you sure you want to close?",{fallbackHash:"2dba6fefb79a00616e98aaeb349d6e2404795259"});return Q.returnValue=be,be}return null}onCancel(){const{onClose:Q,onCancel:ie,shouldCloseOnCancel:oe}=this.props;ie()!==!1&&oe&&(Q(),this.props.closeModal())}onEnter(Q){var ie;const oe=Q&&Q.target&&Q.target.tagName,me=!!(!(Q==null||(ie=Q.target)===null||ie===void 0)&&ie.contentEditable);oe==="BUTTON"||oe==="A"||oe==="INPUT"||oe==="TEXTAREA"||me||this.onRequestGo(Q)}onEscape(Q){Q.defaultPrevented||(Q.stopPropagation(),this.onRequestClose(),this.props.onEscape())}onFocusedElementRemoved(){var Q;(Q=this.modalContent)===null||Q===void 0||Q.focus()}onGo(Q){const{onGo:ie,onClose:oe,shouldCloseOnGo:me}=this.props;Q.defaultPrevented||n.a.resolve(ie(Q)).then(be=>{be!==!1&&me&&(oe(),this.props.closeModal())})}onPopOut(){var Q,ie,oe;const{role:me}=this.props,be=((oe=(Q=this.modal)===null||Q===void 0||(ie=Q.node)===null||ie===void 0?void 0:ie.querySelector(`[role="${me}"]`))===null||oe===void 0?void 0:oe.getBoundingClientRect())||{},{height:Se,width:Pe}=be;this.props.onPopOut({height:Se,width:Pe})}onRequestCancel(){const{getShouldShowSpeedBump:Q,isSpeedBumpEnabled:ie}=this.props;if(Q("cancel")&&ie){this.setState(()=>({isShowingSpeedBump:!0,speedBumpButton:"cancel"}));return}this.onCancel()}onRequestClose(Q){const{getShouldShowSpeedBump:ie,isSpeedBumpEnabled:oe,onClose:me}=this.props;if(ie("close")&&oe){this.setState(()=>({isShowingSpeedBump:!0,speedBumpButton:"close"}));return}me(Q)!==!1&&(this.props.closeModal(),this.props.onRequestClose())}onRequestGo(Q){const{getShouldShowSpeedBump:ie,isSpeedBumpEnabled:oe}=this.props;if(ie("go")&&oe){this.setState(()=>({isShowingSpeedBump:!0,speedBumpButton:"go"}));return}this.onGo(Q)}onScroll(Q){this.scroller&&(requestAnimationFrame(this.updateScrollState),this.props.onScroll({scrollTop:this.scroller.scrollTop},Q))}onFocusTransition(){const{clogger:Q,autoClogProps:ie}=this.props;if(this.focusOnFormElements(),!Q||!ie||!ie.context)return;const{eventId:oe,appId:me,type:be,viewId:Se}=ie.context;Q.track(oe,{contexts:{platform:{app_id:me},block_kit:{view_id:Se,type:be,app_id:me}}})}getFocusTransitionListeners(Q,ie,oe){return{[R.c.MODAL_ACTIVE_FORM]:()=>{if(!Q||ie==null||oe==null)return!1;const me=this.props.window.document.elementFromPoint(ie+10,oe+10);return Q.contains(me)?(this.onFocusTransition(),!0):!1}}}getScrollHeight(){const{contentHeight:Q}=this.props;return Q!==$.contentHeight?Q:this.scroller.scrollHeight}getTitleAria(){const{contentLabel:Q,title:ie,titleAria:oe}=this.props;let me="";return Q?me=Q:Object(r.a)(ie)?me=ie:oe?me=oe:Object(j.b)().warn('You should pass the "titleAria" prop when passing a non-string "title" prop if there is no "contentLabel".'),me}setBodyRef(Q){this.scroller=Q}setModalRef(Q){this.modal=Q}setModalContentRef(Q){this.modalContent=Q}focusOnFormElements(){var Q;const ie=Object(A.d)(this.scroller,x);if(ie!=null&&ie.focus){ie.focus();return}if(this.goButtonRef.current){this.goButtonRef.current.focus();return}if(this.cancelButtonRef.current){this.cancelButtonRef.current.focus();return}(Q=this.modalContent)===null||Q===void 0||Q.focus()}updateScrollState(){if(!this.scroller)return;const Q=this.scroller.scrollTop,ie=this.getScrollHeight(),oe=this.scroller.offsetHeight,me=Q===ie-oe,be=Q===0,Se=ie>oe;this.setState(()=>({hasOverflow:Se,scrolledToBottom:me,scrolledToTop:be}))}updateTitle(){const Q=G.t("Slack",{fallbackHash:"430b38bf6daa7f9164b164b2ffd540b5a3afe2fd",fallbackHashNs:"view"}),ie=this.getTitleAria();ie&&(this.props.window.document.title=`${Q} | ${ie}`)}renderCancelButton(){const{cancelText:Q,cancelButtonType:ie,autoClogProps:oe,"data-qa":me}=this.props,be=Q||G.t("Cancel"),Se=oe!=null&&oe.cancelButton?{onClick:{enableClogAction:!0},...oe.cancelButton}:void 0;return s.a.createElement(b.f,{ref:this.cancelButtonRef,type:ie,className:"c-dialog__cancel",onClick:this.onRequestCancel,"data-qa":`${me}_cancel`,autoClogProps:Se},be)}renderCloseButton(){const{showTooltipOnCloseButton:Q,invertCloseButton:ie,autoClogProps:oe,"data-qa":me}=this.props,be=G.t("Close"),Se=oe!=null&&oe.closeButton?{onClick:{enableClogAction:!0},...oe.closeButton}:void 0,Pe=s.a.createElement(_.a,{backgroundStyle:ie?"dark":void 0,"aria-label":be,className:"c-dialog__close",onClick:this.onRequestClose,"data-qa":`${me}_close`,autoClogProps:Se},s.a.createElement(C.a,{name:"close",size:"20"}));return Q?s.a.createElement(K.c,{tip:be,zIndex:"above_fs"},Pe):Pe}renderCustomFooterMaybe(){const{customFooterContent:Q}=this.props;return typeof Q=="function"?Q({goButtonRef:this.goButtonRef,cancelButtonRef:this.cancelButtonRef}):Q||null}renderFooterTextMaybe(){const{footerIcon:Q,footerLink:ie,footerText:oe,"data-qa":me}=this.props;return oe?ie?s.a.createElement("div",{className:"c-dialog__footer_text"},s.a.createElement(T.a,{href:ie,className:"c-dialog__footer_link",onClick:this.props.onFooterLinkClick,"data-qa":`${me}_footer_link`},Q&&s.a.createElement(y.a,{legacy:!0,inherit:!0,type:Q,align:"baseline",className:"c-dialog__footer_icon"}),oe)):s.a.createElement("div",{className:"c-dialog__footer_text"},Q&&s.a.createElement(y.a,{legacy:!0,inherit:!0,type:Q,align:"baseline",className:"c-dialog__footer_icon"}),oe):null}renderGoButton(){const{"data-qa":Q,goButtonIsDisabled:ie,goButtonIsPending:oe,goButtonText:me,goButtonType:be,goButtonTooltip:Se,focusOnPrimaryButton:Pe,autoClogProps:Ue}=this.props,Fe=me||G.t("Confirm"),je=Ue!=null&&Ue.goButton?{onClick:{enableClogAction:!0},...Ue.goButton}:void 0,_e=s.a.createElement(b.c,{ref:this.goButtonRef,type:be,className:"c-dialog__go",onClick:this.onRequestGo,loading:oe,disabled:ie,"data-qa":`${Q}_go`,autoFocus:Pe,autoClogProps:je},Fe);return Se?s.a.createElement(K.c,{tip:Se,zIndex:"above_fs"},ie?s.a.createElement("div",null,_e):_e):_e}renderOverflowPaddingMaybe(){const{showFooter:Q}=this.props,{hasOverflow:ie,scrolledToBottom:oe}=this.state;if(!Q&&ie){const me=Object(o.default)("c-dialog__overflow_padding",{"c-dialog__overflow_padding--scroll_border":ie&&!oe});return s.a.createElement("div",{className:me})}return null}renderPopoutButton(){const{appPopoutsEnabled:Q,"data-qa":ie,autoClogProps:oe}=this.props;if(!Q)return null;const me=G.t("Open in new window"),be=oe!=null&&oe.popOutButton?{onClick:{enableClogAction:!0},...oe.popOutButton}:void 0;return s.a.createElement(K.c,{tip:me,zIndex:"above_fs"},s.a.createElement(_.a,{"aria-label":me,className:"c-dialog__popout",onClick:this.onPopOut,"data-qa":`${ie}_popout`,icon:"new-window",autoClogProps:be}))}renderSpeedBumpMaybe(){if(!this.state.isShowingSpeedBump)return null;const{speedBumpTitleText:Q,speedBumpCancelButtonText:ie,speedBumpContinueButtonText:oe,speedBumpContinueButtonType:me,speedBumpBodyText:be}=this.props;return s.a.createElement(H,{titleText:Q,bodyText:be,cancelButtonText:ie,continueButtonText:oe,continueButtonType:me,onCancel:()=>{this.setState(()=>({isShowingSpeedBump:!1}))},onContinue:this.state.speedBumpButton==="go"?this.onGo:this.onCancel})}renderTitle(){const{title:Q,titleImage:ie,truncateTitle:oe}=this.props;let me;return ie?me=s.a.createElement("div",{className:"display_flex"},s.a.createElement("img",{className:"c-dialog__title_image",src:ie,alt:Q}),s.a.createElement("div",{className:Object(o.default)({overflow_ellipsis:oe})},Q)):me=Q,s.a.createElement("h1",{className:Object(o.default)("c-dialog__title",{overflow_ellipsis:oe&&!ie})},me)}render(){const{ariaContent:Q,children:ie,className:oe,overlayClassName:me,bodyClassName:be,footerText:Se,showCancelButton:Pe,showCloseButton:Ue,showPopoutButton:Fe,showGoButton:je,role:_e,showHeader:pe,showFooter:fe,useSlackScrollbar:Ee,useSlackScrollbarWithPadding:ye,"data-qa":Te,shouldCloseOnOverlayClick:Oe,reverseButtons:Ce,modalBodyOpenClassName:ce,autoClogProps:he}=this.props,Me=Object(o.default)("c-dialog",me,{"c-dialog--custom-titlebar":Object(M.b)()}),Ae=Object(o.default)("c-dialog__content",oe,{"c-dialog__content--custom-titlebar":Object(M.b)(),"c-dialog__content--frameless":Object(M.c)()}),xe=Object(o.default)("c-dialog__header",{"c-dialog__header--overflow":this.state.hasOverflow&&!this.state.scrolledToTop}),Re=Object(o.default)("c-dialog__body",be,{"c-dialog__body--slack_scrollbar":Ee&&!ye,"c-dialog__body--slack_scrollbar_with_padding":Ee&&ye}),Ge=Object(o.default)("c-dialog__footer",{"c-dialog__footer--overflow":this.state.hasOverflow&&!this.state.scrolledToBottom,"c-dialog__footer--has_text":Se&&!(Pe||je),"c-dialog__footer--has_buttons":!Se&&(Pe||je),"c-dialog__footer--has_both":Se&&(Pe||je)}),ze=this.getTitleAria(),Ie={...Q,label:pe&&ze};let Ne,Ke;return this.modalContent&&({left:Ne,top:Ke}=this.modalContent.getBoundingClientRect()),s.a.createElement(z.a,{elementType:N.ElementType.MODAL,actionProps:te,autoClogProps:he},s.a.createElement(l.a,{className:Ae,bodyOpenClassName:ce,contentLabel:ze,isOpen:!0,onRequestClose:this.onRequestClose,overlayClassName:Me,role:_e,aria:Ie,shouldCloseOnOverlayClick:Oe,shouldCloseOnEsc:!1,ref:this.setModalRef,contentRef:this.setModalContentRef,data:{qa:Te},shouldReturnFocusAfterClose:!1},s.a.createElement(B.a,{listeners:this.getFocusTransitionListeners(this.modalContent,Ne,Ke)},pe&&s.a.createElement("div",{className:xe,"data-qa":`${Te}_header`},this.renderTitle(),Fe&&!Object(V.a)()&&this.renderPopoutButton(),Ue&&!Object(V.a)()&&this.renderCloseButton()),s.a.createElement(U.a,{onFocusedElementRemoved:this.onFocusedElementRemoved},s.a.createElement("div",{className:Re,onScroll:this.onScroll,ref:this.setBodyRef,"data-qa":`${Te}_body`},ie)),fe&&s.a.createElement("div",{className:Ge,"data-qa":`${Te}_footer`},this.renderCustomFooterMaybe(),this.renderFooterTextMaybe(),s.a.createElement("div",{className:"c-dialog__footer_buttons"},Ce&&je&&this.renderGoButton(),Pe&&this.renderCancelButton(),!Ce&&je&&this.renderGoButton())),this.renderSpeedBumpMaybe(),this.renderOverflowPaddingMaybe())))}constructor(Q){super(Q),Object(m.a)(this,["onScroll","setBodyRef","updateScrollState","onBeforeUnload","onRequestGo","onGo","onEnter","onFocusedElementRemoved","onPopOut","onRequestClose","onRequestCancel","onCancel","onEscape","setModalRef","setModalContentRef","onFocusTransition","getFocusTransitionListeners"]),this.keyCommands=null,this.scroller=null,this.cancelButtonRef=s.a.createRef(),this.goButtonRef=s.a.createRef(),this.getFocusTransitionListeners=Object(c.a)(this.getFocusTransitionListeners),this.state={hasOverflow:null,scrolledToBottom:null,scrolledToTop:null}}},"DeprecatedBaseDialog");Y.displayName="DeprecatedBaseDialog",Y.propTypes=se,Y.defaultProps=$;const ee=h(le=>({appPopoutsEnabled:Object(O.d)(le),clogger:Object(k.a)({state:le})}),"mapStateToProps"),w=h(le=>({closeModal:Q=>le(Object(g.a)(Q))}),"mapDispatchToProps"),ne=h((le,Q,ie)=>({...ie,...Q,...le}),"mergeProps"),ae=Object(u.a)(ee,w,ne,{forwardRef:!0})(Object(v.a)(Y));var de=s.a.forwardRef((le,Q)=>s.a.createElement(d.a.Consumer,null,ie=>{let{window:oe}=ie;return s.a.createElement(ae,Z({ref:Q},le,{window:oe}))})),ge=i.a=de},HSXp:function(J,i,e){"use strict";var n={};e.r(n),e.d(n,"getInsertData",function(){return _t}),e.d(n,"getMatch",function(){return Et}),e.d(n,"recordSelection",function(){return kt});var t={};e.r(t),e.d(t,"getInsertData",function(){return Dn}),e.d(t,"getMatch",function(){return fn}),e.d(t,"recordSelection",function(){return kn});var a={};e.r(a),e.d(a,"COMMAND_RX",function(){return dn}),e.d(a,"getInsertData",function(){return Un}),e.d(a,"getMatch",function(){return Kt}),e.d(a,"getResultFrecencyId",function(){return Kn});var s={};e.r(s),e.d(s,"QUIP_COMMAND_RX",function(){return ln}),e.d(s,"getInsertData",function(){return en}),e.d(s,"getMatch",function(){return xt}),e.d(s,"getResultFrecencyId",function(){return sn}),e.d(s,"recordSelection",function(){return nn}),e.d(s,"recordImpressionOnOpen",function(){return Ln});var l=e("Fsnq"),o=e("yIs4"),f=e("3Hq1"),r=e("Muja"),m=e("fujP"),c=e("F294"),u=e("ifKl"),d=e("WIr4"),p=e("q1tI"),v=e.n(p),g=e("Cfcg"),O=e("/uJc"),b=e("vVwU"),y=e("SQ0V"),C=e("pu3F"),_=e("coh6"),j=e("GS6c"),E=e("O86Y"),M=e("wWBL");const T=Object(y.c)("Find links that match a search query",function(at,Ye){let{query:it="",limit:ft=C.c,searchViewContext:Ot}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const pt={entities:{files:{runaway:!0},links:!0},allowEmptyQuery:!0,sort:{source:"texty-autocomplete"},limit:ft,tiered:!0,returnMetadata:!0,searchViewContext:Ot},St=["+","\uFF0B"].includes(it[0])?it.slice(1):it;return Object(M.c)(Ye())?Object(j.a)({teamId:Object(E.g)(Ye()),key:"texty-autocomplete"}).search({query:St,options:pt}):at(Object(_.F)({query:St,options:pt}))});T.meta={name:"createThunk",key:"createThunkautocompleteLinks",description:"Find links that match a search query"};var P=T,B=e("n3tL");const R=Object(y.c)("Find lists that match a search query",(at,Ye,it)=>{let{query:ft,limit:Ot=C.c,searchViewContext:pt}=it;const St={entities:{lists:{runaway:!1}},allowEmptyQuery:!0,sort:{source:"texty-autocomplete"},limit:Ot,tiered:!0,returnMetadata:!0,searchViewContext:pt},wt=["+","\uFF0B"].includes(ft[0])?ft.slice(1):ft,En=Ye();return Object(M.c)(En)?Object(j.a)({teamId:Object(E.g)(En),key:"texty-autocomplete"}).search({query:wt,options:St}):at(Object(_.F)({query:wt,options:St}))});R.meta={name:"createThunk",key:"createThunkautocompleteLists",description:"Find lists that match a search query"},R.propTypes={query:B.default.string,limit:B.default.number};var U=R,K=e("hrWC"),V=e("NV6F"),z=e("jlKB"),N=e("JnIm"),A=e("JoR1"),x=e("T1zM"),k=e("nNoG"),F=e("QYtq"),L=e("Tmt4"),S=e("gTpg"),I=e("5IZy"),W=e("9mnW"),D=e("4CqU"),H=e("Pw4T"),Z=e("E3dU"),G=e("E97Y");class te{shouldUpdate(Ye){const it=this.data[Ye];return!it||Date.now()-it>this.timeoutMs}recordUpdate(Ye){this.data[Ye]=Date.now()}clear(){this.data={}}constructor(){this.timeoutMs=1e3*60*60*12,this.data={}}}h(te,"ChannelsWithMembershipCache");const se=new te;function $(at){return se.shouldUpdate(at)}h($,"shouldUpdateChannelMembership");function X(at){return se.recordUpdate(at)}h(X,"recordChannelMembershipUpdate");function q(){return se}h(q,"getChannelsWithMembershipCache");const Y=30,ee=Object(y.c)("Fetch and cache channel membership for first members of channel",function(at,Ye){let{channelId:it}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const ft=Ye(),Ot=Object(H.d)({state:ft});if(Ot.mark("membership-update-mark"),$(it)){const pt=Object(Z.d)(ft,it);pt&&!Object(G.g)(pt)&&!Object(G.i)(pt)&&(Object(W.b)(at,Ye,it,Y).then(St=>{const wt=St.map(En=>En.id);at(Object(D.a)({channelId:it,userIds:wt})),Ot.measureAndClear("membership-update-mark","membership-update")}),X(it))}});ee.meta={name:"createThunk",key:"createThunkensureChannelMembershipKnownForFirstNMembers",description:"Fetch and cache channel membership for first members of channel"},ee.propTypes={channelId:B.default.string};var w=ee,ne=e("jvEW"),ae=e("OaiI"),de=e("9Gfp"),ge=e("s4P+"),le=e("khnw"),Q=e("Ir4d"),ie=e("i5Ig"),oe=e("FWtP"),me=e("BHdc"),be=e("I27i"),Se=e("3l96"),Pe=e("/MKj"),Ue=e("+kJ4"),Fe=e("zb/F"),je=e("5MVR"),_e=e("ManY"),pe=e("7EGn");function fe(at){let{children:Ye=null,enabled:it=[],disabled:ft=[]}=at;const Ot=Object(pe.a)(Pe,"ReactReduxContext");return v.a.createElement(Ot.Consumer,null,pt=>{let{store:St}=pt;const wt=St&&St.getState&&St.getState();if(!wt)throw new Error("Feature component is being used without being provided a redux instance. A Feature component must have a Provider ancestor");const{featureFlags:En}=Ee(wt,{children:Ye,enabled:it,disabled:ft});return it.length&&it.some(un=>!En[un])||ft.some(un=>En[un])?null:Ye})}h(fe,"Feature"),fe.displayName="Feature";function Ee(at,Ye){const{enabled:it=[],disabled:ft=[]}=Ye,Ot={};return it.concat(ft).forEach(pt=>{Ot[pt]=!!Object(de.i)(at,pt)}),{featureFlags:Ot}}h(Ee,"mapStateToProps");var ye=fe,Te=e("YUBf"),Oe=e("qDEp"),Ce=e("Tevt");const ce=new k.b("search"),he=["feature_tinyspeck"];function Me(at){let{data:Ye}=at;const it=Object(Pe.useDispatch)(),[ft,Ot]=Object(_e.a)(!1,2e3),pt=ft?ce.t("Copied!",{ns:"member_profile"}):ce.t("Copy",{ns:"member_profile"}),St=Object(je.c)(Ye),wt=Object(p.useCallback)(()=>{it(Object(Ue.a)())},[it]),En=Object(p.useCallback)(()=>{Object(Fe.e)(St),Ot(!0)},[St,Ot]);return v.a.createElement(ye,{enabled:he},v.a.createElement(Te.a,{closeModal:wt,className:"c-search_debug_modal"},v.a.createElement(Te.i,null,v.a.createElement(Te.l,{title:"Search Debug Results"})),v.a.createElement(Te.d,null,v.a.createElement(Te.e,null,v.a.createElement("p",null,ce.rt("Share the output below with a friendly neighborhood Search Friend in {feedbackChannel}",{feedbackChannel:v.a.createElement(Ce.a,{onClick:wt,href:"https://slack-pde.slack.com/archives/CJJFK649F"},"#feedback-autocomplete")})),v.a.createElement("pre",{className:"c-search_debug_modal__output"},v.a.createElement("code",null,St)))),v.a.createElement(Te.g,null,v.a.createElement(Te.h,null,Object(Fe.a)()&&v.a.createElement(Oe.f,{type:"outline",onClick:En},pt),v.a.createElement(Te.c,{type:"primary"},ce.t("Done",{ns:"workflow_builder"}))))))}h(Me,"SearchDebugModal"),Me.displayName="SearchDebugModal";var Ae=Me;const xe=Object(y.c)("Open search debug modal",function(at,Ye){let{data:it}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};at(Object(Se.a)({element:v.a.createElement(Ae,{data:it}),name:"search-debug-modal"}))});xe.meta={name:"createThunk",key:"createThunkopenSearchDebugModal",description:"Open search debug modal"},xe.propTypes={data:B.default.any.isRequired};var Re=xe,Ge=e("oo6C"),ze=e("blur");const Ie=Object(y.c)("Opens an slash commands autocomplete feedback dialog",(at,Ye,it)=>{let{query:ft,suggestionsFromComponent:Ot}=it;const pt=Ye(),St=Object(ge.a)({state:pt});if(!Ot){St.warn("No results found for slash command feedback dialog");return}const wt={search_session_id:at(Object(Ge.a)()),query:ft,suggestions:Object(ze.a)(pt,Ot)};return at(Object(ze.n)({type:"slash command menu",payload:wt}))});Ie.meta={name:"createThunk",key:"createThunkopenSlashCommandsFeedbackDialog",description:"Opens an slash commands autocomplete feedback dialog"};var Ne=Ie,Ke=e("GYiN"),Ve=e("oEDn"),$e=e("kyoJ"),tt=e("RVJP");const qe=new k.b("tabcomplete"),ut=h(at=>{let{children:Ye,heading:it,showOfflineHelp:ft,showKeyboardHelp:Ot,showSearchHelp:pt,showCommandsSearchHelp:St,showCanvasHelp:wt,results:En,dispatch:Gn,type:gn,className:un,matchText:va,experimentCanvasAutocompleteNotInCanvasGroupOn:ua}=at;const ya=Object(p.useRef)();Object(Ke.a)("mousedown",tn=>{var On;!(ya==null||(On=ya.current)===null||On===void 0)&&On.contains(tn.target)&&(tn.preventDefault(),tn.stopPropagation())},ya==null?void 0:ya.current);const Xe=Object(me.default)("c-texty_autocomplete",un,{[`c-texty_autocomplete--${gn}`]:!!gn}),ct=Object(p.useCallback)(()=>Gn(Ne({query:va||"",suggestionsFromComponent:En})),[Gn,va,En]);let qt;return ft?qt=v.a.createElement("span",{className:"c-texty_autocomplete__help_item"},qe.rt("{iconOffline} <strong>No connection.</strong>\xA0Some results may not be available.",{iconOffline:v.a.createElement(Ve.a,{type:"cloud-offline",size:"inherit"}),fallbackHash:"bc414f3b178430ffd4899706d540e173d82edf83"})):Ot?qt=v.a.createElement(v.a.Fragment,null,v.a.createElement("span",{className:"c-texty_autocomplete__help_item c-texty_autocomplete__help_item--narrow"},qe.rt("{arrowUp} {arrowDown} to navigate",{arrowDown:v.a.createElement(Ve.a,{type:"arrow-down-medium",inline:!0}),arrowUp:v.a.createElement(Ve.a,{type:"arrow-up-medium",inline:!0})})),v.a.createElement("span",{className:"c-texty_autocomplete__help_item"},qe.rt("{symbol} to select",{symbol:v.a.createElement(Ve.a,{type:"enter",size:"inherit",inline:!0})})),v.a.createElement("span",{className:"c-texty_autocomplete__help_item"},qe.rt("<strong>esc</strong> to dismiss"))):pt?qt=v.a.createElement("span",{className:"c-texty_autocomplete__help_item"},`${qe.t("Something off?",{ns:"search"})} `,v.a.createElement(Ce.a,{onClick:()=>Gn(Re({data:En}))},qe.t("Give feedback",{ns:"search"}))):St?qt=v.a.createElement("span",{className:"c-texty_autocomplete__help_item","data-qa":"slash_command_autocomplete_menu_help"},`${qe.t("Something off?",{ns:"search"})} `,v.a.createElement(Ce.a,{onClick:ct},qe.t("Give feedback",{ns:"search"}))):ua&&wt&&(qt=v.a.createElement("span",{className:"c-texty_autocomplete__help_item"},`${qe.t("Only members of the canvas will be notified",{ns:"search"})} `)),v.a.createElement("div",{ref:ya,className:Xe},it,v.a.createElement("div",{className:"c-texty_autocomplete__body"},v.a.createElement("ul",{className:"c-texty_autocomplete__results",id:$e.a,role:"listbox","aria-label":qe.t("Search suggestions")},Ye)),qt&&v.a.createElement("div",{className:"c-texty_autocomplete__help"},qt))},"TextyAutocompleteMenu");ut.displayName="TextyAutocompleteMenu";const rt=h((at,Ye)=>{let{type:it}=Ye;return{showKeyboardHelp:!!Object(A.u)(at,"show_autocomplete_help")&&it!=="terms",showOfflineHelp:!Object(be.d)(at),showSearchHelp:!!Object(de.i)(at,"feature_tinyspeck")&&it!=="commands"&&it!=="terms"&&it!=="shortcuts",showCommandsSearchHelp:!!Object(de.i)(at,"feature_tinyspeck")&&it==="commands",experimentCanvasAutocompleteNotInCanvasGroupOn:Object(tt.d)(at,"canvas_autocomplete_not_in_canvas")==="on"}},"texty_autocomplete_menu_mapStateToProps");var yt=Object(g.a)(rt)(ut);let Mt=h(class extends p.PureComponent{componentDidMount(){var Ye;!((Ye=this.props)===null||Ye===void 0)&&Ye.onMount&&this.props.onMount()}componentDidUpdate(){var Ye;const{isSelected:it}=this.props;it&&this.resultRef.current&&this.resultRef.current.scrollIntoView({block:"nearest"}),!((Ye=this.props)===null||Ye===void 0)&&Ye.onUpdate&&this.props.onUpdate()}handleClick(){const{index:Ye,onSelect:it}=this.props;it&&it(Ye)}handleMouseDown(Ye){Ye.preventDefault()}handleMouseMove(){const{index:Ye,isSelected:it,onSelectedIndexChange:ft,result:Ot}=this.props;it||ft&&ft(Ye,Ot)}render(){const{children:Ye,index:it,isSelected:ft,result:Ot,size:pt,isDisabled:St}=this.props,wt=Object(me.default)("tab_complete_ui_item","c-texty_autocomplete__result",`c-texty_autocomplete__result--${pt}`,{"c-texty_autocomplete__result--selected":ft,"c-texty_autocomplete__result--broadcasted":Ot.is_broadcast_keyword,"c-texty_autocomplete__result--disabled":St});return v.a.createElement("li",{role:"option","aria-selected":ft,className:wt,"data-qa":"tab_complete_ui_item",id:Object($e.b)(it),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,ref:this.resultRef,tabIndex:-1},Ye)}constructor(Ye){super(Ye),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleClick=this.handleClick.bind(this),this.resultRef=Object(p.createRef)()}},"TextyAutocompleteResult");Mt.displayName="TextyAutocompleteResult",Mt.defaultProps={size:"small"};var st=Mt,Vt=e("PIYn"),Wt=e("nM8Q"),Xt=e("Trx9"),Ut=e("ktUG"),Nt=e("mQiU");const Ft=h(at=>{let{results:Ye=ie.a,selectedIndex:it=0,onSelectedIndexChange:ft,onSelect:Ot,matchText:pt}=at;const{isChildWindow:St}=Object(p.useContext)(Nt.a),wt=Ye.map((Gn,gn)=>{let{item:un}=Gn;if(!un)return null;let va=un;un.type==="shortcut"&&(va=Object(Wt.a)(un));const ua=`${va.id}-${va.appId}`;return v.a.createElement(st,{key:ua,index:gn,isSelected:gn===it,onSelectedIndexChange:ft,onSelect:Ot,result:un},v.a.createElement(Vt.a,{className:"p-slash_commands_autocomplete_menu__item",command:va,isActive:gn===it}))}),En=Object(me.default)("p-slash_commands_autocomplete_menu",{"p-slash_commands_autocomplete_menu__child_window":St});return v.a.createElement(Xt.a,{eventId:Ut.EventId.SLASH_COMMANDS_AUTOCOMPLETE,uiComponentName:Ut.UiComponentName.SLASH_COMMANDS_AUTOCOMPLETE_MENU,clogImpression:!0},v.a.createElement(yt,{type:"commands",className:En,matchText:pt,results:Ye},wt))},"SlashCommandsAutocompleteMenu");Ft.displayName="SlashCommandsAutocompleteMenu";var _n=v.a.memo(Ft),cn=e("n3y5"),Rn=e("ZobM");const Vn=h(at=>{let{icon:Ye}=at;return Ye?v.a.createElement(Rn.a,{name:Ye,size:"20"}):v.a.createElement(cn.a,{ariaHidden:!0,image:"/img/slack_logo_mark.svg",size:20})},"QuipShortcutsAutocompleteMenuEntityIcon");Vn.displayName="QuipShortcutsAutocompleteMenuEntityIcon";var ea=Vn;const Lt=new k.b("slash-commands");function vn(at){let{command:Ye,isActive:it,className:ft}=at;const{icon:Ot}=Ye,pt=Ye.name,St=Object(p.useMemo)(()=>Object(me.default)("p-quip_shortcuts_autocomplete_menu_entity__container",ft,{"p-quip_shortcuts_autocomplete_menu_entity__container--selected":it}),[ft,it]),wt=Object(p.useMemo)(()=>{var Gn;return!((Gn=Ye.desc)===null||Gn===void 0)&&Gn.length?Ye.desc:""},[Ye]),En=Object(p.useMemo)(()=>`${pt} ${Lt.t("Command")}, ${wt}`,[pt,wt]);return v.a.createElement("div",{className:St},v.a.createElement("div",{className:"p-quip_shortcuts_autocomplete_menu_entity__icon"},v.a.createElement(ea,{icon:Ot})),v.a.createElement("div",{"aria-label":En,className:"p-quip_shortcuts_autocomplete_menu_entity__name"},pt))}h(vn,"QuipShortcutsAutocompleteMenuEntity"),vn.displayName="QuipShortcutsAutocompleteMenuEntity";var Wn=vn,Nn=e("ErGN");const ia=h(at=>{let{results:Ye=ie.a,selectedIndex:it,onSelect:ft,onSelectedIndexChange:Ot,className:pt}=at;const St=Object(p.useCallback)((gn,un)=>gn.map((va,ua)=>{let{item:ya}=va;if(!ya)return null;const Xe=`${ya.id}-${ya.name}`;return v.a.createElement(st,{key:Xe,index:ua+un,isSelected:ua+un===it,onSelectedIndexChange:Ot,onSelect:ft,result:ya},v.a.createElement(Wn,{command:ya,isActive:ua+un===it}))}),[ft,Ot,it]),wt=Object(p.useMemo)(()=>({[Nn.a.OBJECT]:Ye.filter(gn=>gn.item.category===Nn.a.OBJECT),[Nn.a.LAYOUT]:Ye.filter(gn=>gn.item.category===Nn.a.LAYOUT),[Nn.a.FORMATTING]:Ye.filter(gn=>gn.item.category===Nn.a.FORMATTING)}),[Ye]),En=Object(p.useMemo)(()=>{const gn=[];let un=0;const va=Object(Nn.b)(),ua=h((ya,Xe)=>{if(ya.length>0){gn.length>0&&gn.push(v.a.createElement("div",{key:`${Xe}-divider`,className:"p-quip_shortcuts_autocomplete_menu_category__divider"})),gn.push(v.a.createElement("div",{key:`${Xe}-label`,className:"p-quip_shortcuts_autocomplete_menu_category__label","aria-label":va[Xe]},va[Xe]));const ct=St(ya,un);un+=ct.length,gn.push(...ct)}},"addResultsToReturnResults");return ua.displayName="addResultsToReturnResults",ua(wt[Nn.a.OBJECT],Nn.a.OBJECT),ua(wt[Nn.a.LAYOUT],Nn.a.LAYOUT),ua(wt[Nn.a.FORMATTING],Nn.a.FORMATTING),gn},[wt,St]),Gn=Object(me.default)("p-quip_shortcuts_autocomplete_menu",pt);return v.a.createElement(yt,{type:"shortcuts",className:Gn,results:Ye},En)},"QuipShortcutsAutocompleteMenu");ia.displayName="QuipShortcutsAutocompleteMenu";var Ea=ia,bn=e("7P6I");const Xn=h(at=>{let{results:Ye=ie.a,selectedIndex:it,onSelect:ft,onSelectedIndexChange:Ot,className:pt}=at;const St=Object(p.useCallback)((gn,un)=>gn.map((va,ua)=>{let{item:ya}=va;if(!ya)return null;const Xe=`${ya.id}-${ya.name}`;return v.a.createElement(st,{key:Xe,index:ua+un,isSelected:ua+un===it,onSelectedIndexChange:Ot,onSelect:ft,result:ya},v.a.createElement(Wn,{command:ya,isActive:ua+un===it}))}),[ft,Ot,it]),wt=Object(p.useMemo)(()=>({[bn.a.BASICS]:Ye.filter(gn=>gn.item.category===bn.a.BASICS),[bn.a.MEDIA]:Ye.filter(gn=>gn.item.category===bn.a.MEDIA),[bn.a.SLACK]:Ye.filter(gn=>gn.item.category===bn.a.SLACK),[bn.a.LAYOUT]:Ye.filter(gn=>gn.item.category===bn.a.LAYOUT)}),[Ye]),En=Object(p.useMemo)(()=>{const gn=[];let un=0;const va=Object(bn.b)(!0),ua=h((ya,Xe)=>{if(ya.length>0){gn.length>0&&gn.push(v.a.createElement("div",{key:`${Xe}-divider`,className:"p-quip_shortcuts_autocomplete_menu_category__divider"})),gn.push(v.a.createElement("div",{key:`${Xe}-label`,className:"p-quip_shortcuts_autocomplete_menu_category__label","aria-label":va[Xe]},va[Xe]));const ct=St(ya,un);un+=ct.length,gn.push(...ct)}},"addResultsToReturnResults");return ua.displayName="addResultsToReturnResults",ua(wt[bn.a.BASICS],bn.a.BASICS),ua(wt[bn.a.MEDIA],bn.a.MEDIA),ua(wt[bn.a.SLACK],bn.a.SLACK),ua(wt[bn.a.LAYOUT],bn.a.LAYOUT),gn},[wt,St]),Gn=Object(me.default)("p-quip_shortcuts_autocomplete_menu",pt);return v.a.createElement(yt,{type:"shortcuts",className:Gn,results:Ye},En)},"QuipShortcutsAutocompleteMenuV2");Xn.displayName="QuipShortcutsAutocompleteMenuV2";var vt=Xn,Je=e("k7bp"),et=e("haNl"),mt=e("RB1+"),Pt=e("szr9"),Tt=e("d+k3"),Qt=e("6dQg"),dt=e("P1FA"),zt=e("x6tY"),At=e("wsJ+"),Qe=e("I8Au");const nt=/(^|\n|.)?((?:\+|\uFF0B)(?![0-9\s:])[^\n+\uFF0B]*)$/i,_t=h(function(at){let{teamId:Ye,usePlainTextMode:it}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!at||!at.item)return null;Object(I.a)().track(Ut.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"link"}}});const{item:ft}=at;let Ot,pt;return Object(Qt.a)(ft.id||"")?(Ot=Object(zt.F)(ft,Ye||""),pt=Object(zt.G)(ft)):(Ot=Object(ne.f)(ft),pt=Object(ne.e)(ft)),pt=(pt||"").replace(Object(At.a)(),"").replace(/\s+/g," ").trim(),pt=pt||Ot,it?{text:`+${Ot}`}:{text:`+${pt}`,format:{link:Ot}}},"getInsertData"),Et=h(at=>{const Ye=Object(dt.a)(at).match(nt)||[],[,it,ft]=Ye;if(!ft||Ye.index===0&&!it&&ft.length===1||Object(Qe.a)(it))return null;const Ot=Ye.index+Object(l.a)(it),pt=at.slice(Ot),St=4;return pt.split(" ").length-1>St?null:{match:pt,index:Ot}},"getMatch"),kt=h(at=>{let{clogger:Ye,query:it,result:ft,results:Ot,teamId:pt,useSearcherSessions:St}=at;const wt={query:it,results:Ot,selectedItemId:ft.item.id,source:"texty-autocomplete"};St?Object(j.a)({teamId:pt,key:"texty-autocomplete"}).clogSearcherAccept({clogger:Ye,data:wt}):Object(_.c)({clogger:Ye,data:wt})},"recordSelection");var jn=e("lhZz"),pn=e("beVI"),An=e("hwwf");const lt=/(^|\n|.)?((?:\+|\uFF0B)(?![0-9\s:])[^\n+\uFF0B]*)$/i,Dn=h(function(at){let{teamId:Ye,usePlainTextMode:it}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!at||!at.item)return null;Object(I.a)().track(Ut.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"list"}}});let ft,Ot;if(Object(An.v)(at.item.id)){const pt=at.item;ft=`${pt.listTitle} > ${pt.name}`;const St=Object(jn.getStateByTeamId)(Ye);Ot=`${Object(pn.s)(St,Ye).url}lists/${Ye}/${pt.listId}?record_id=${pt.id}`}else{const pt=at.item;ft=pt.title;const St=Object(jn.getStateByTeamId)(Ye);Ot=`${Object(pn.s)(St,Ye).url}lists/${Ye}/${pt.id}`}return ft=(ft||"").replace(Object(At.a)(),"").replace(/\s+/g," ").trim(),ft=ft||Ot,it?{text:`+${Ot}`}:{text:`+${ft}`,format:{link:Ot,overrideLink:!0}}},"list_completer_getInsertData"),fn=h(at=>{const Ye=Object(dt.a)(at).match(lt)||[],[,it,ft]=Ye;if(!ft||Object(Qe.a)(it))return null;const Ot=Ye.index+Object(l.a)(it),pt=at.slice(Ot),St=8;return pt.split(" ").length-1>St?null:{match:pt,index:Ot}},"list_completer_getMatch"),kn=h(at=>{let{clogger:Ye,query:it,result:ft,results:Ot,teamId:pt,useSearcherSessions:St}=at;const wt={query:it,results:Ot,selectedItemId:ft.item.id,source:"texty-autocomplete"};St?Object(j.a)({teamId:pt,key:"texty-autocomplete"}).clogSearcherAccept({clogger:Ye,data:wt}):Object(_.c)({clogger:Ye,data:wt})},"list_completer_recordSelection");var wn=e("4V1c"),fa=e("mM05"),In=e.n(fa),ha=e("KPXh"),Dt=e("Yu+/"),jt=e("Awek"),$t=e("tfz1"),Tn=e("IOc2");const dn=/^([/／][^~`!@#\uFF03$%^&*()+=[\]{}\\|;:'",.<>/?\n]*)$/i,Un=h(at=>{var Ye,it,ft,Ot;if(!at||!at.item)return null;Object(I.a)().track("PFP_ACTION",{contexts:{growth:{action:"autocomplete_select",trigger:"slash_command"}}});const{item:pt}=at;return["/","\uFF0F"].indexOf(((it=(Ye=pt.id)===null||Ye===void 0?void 0:Ye.trim())===null||it===void 0?void 0:it[0])||"")===-1&&["/","\uFF0F"].indexOf(((Ot=(ft=pt.name)===null||ft===void 0?void 0:ft.trim())===null||Ot===void 0?void 0:Ot[0])||"")===-1?{contents:[]}:{text:Object(ha.g)(pt)}},"command_completer_getInsertData"),Bn=h(at=>{var Ye,it,ft,Ot;return!!(Object($t.a)(at)||Object(jt.a)(at)||Object(Dt.a)(at)||Object(Tn.a)(at)||!(at==null||(Ye=at.attributes)===null||Ye===void 0)&&Ye.strike||!(at==null||(it=at.attributes)===null||it===void 0)&&it.bold||!(at==null||(ft=at.attributes)===null||ft===void 0)&&ft.italic||!(at==null||(Ot=at.attributes)===null||Ot===void 0)&&Ot.link)},"hasFormatsOrStyleAttr"),Kt=h(function(at){let{startIndex:Ye,formatOp:it,inputProxy:ft}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{startIndex:0,formatOp:{},inputProxy:{}};if(Ye!==0||!dn.test(at))return null;const pt=new In.a(ft==null?void 0:ft.getContents().contents),St=pt==null?void 0:pt.ops;return!Object(m.a)(St)&&St.some(En=>Bn(En))||Bn(it)?null:(at.length===1&&Object(I.a)().track("PFP_ACTION",{contexts:{growth:{action:"autocomplete_start",trigger:"slash_command"}}}),{match:at,index:0})},"command_completer_getMatch"),Kn=h(at=>{var Ye;const it=at&&((Ye=at.item)===null||Ye===void 0?void 0:Ye.id);if(!(it!=null&&it.startsWith("/"))&&!(it!=null&&it.startsWith("Ft")))return it},"getResultFrecencyId");var aa=e("tcou");const ln=/(^|\n|.)?((?:\/|\uFF0F)([^\n/\uFF0F]*))$/i,en=h(at=>at!=null&&at.item?(Object(I.a)().track(Ut.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"quip_slash_command"}}}),{id:at.item.id,isCanvasShortcut:!0}):null,"quip_shortcut_completer_getInsertData"),xt=h(at=>{const Ye=at.match(ln)||[],[,it,ft]=Ye;if(!ft||Object(Qe.a)(it))return null;const Ot=Object(aa.a)(at);if(Ot&&Ot.length===1&&Ot[0].text===at)return null;const pt=(Ye.index||0)+Object(l.a)(it);return{match:at.slice(pt),index:pt}},"quip_shortcut_completer_getMatch"),sn=h(at=>at&&at.item.id,"quip_shortcut_completer_getResultFrecencyId"),nn=h(at=>{let{clogger:Ye,query:it,result:ft,results:Ot,teamId:pt,useSearcherSessions:St}=at;const wt={query:it,results:Ot,selectedItemId:ft.item.id,source:"texty-autocomplete"};St?Object(j.a)({teamId:pt,key:"texty-autocomplete"}).clogSearcherAccept({clogger:Ye,data:wt}):Object(_.c)({clogger:Ye,data:wt})},"quip_shortcut_completer_recordSelection"),Ln=h(at=>{at.track(Ut.EventId.QUIP_DOC_EMBED_EVENT,{contexts:{family:"CANVAS",ui_context:{action:Ut.UiAction.OPEN,ui_component:Ut.UiComponentName.CANVAS_SHORTCUT_AUTOCOMPLETE_MENU}}})},"recordImpressionOnOpen");var Pn=e("zmn3"),yn=e("sGXp"),Zt=e("G4FP"),qn=e("wyn0");const ta=h(at=>{let{results:Ye,selectedIndex:it,onSelect:ft,onSelectedIndexChange:Ot,onFirstResultMount:pt,onFirstResultUpdate:St,className:wt}=at;const En=Ye==null?void 0:Ye.map(gn=>gn.item.name),Gn=En?new qn.a(En):void 0;return v.a.createElement(yt,{type:"channels",className:wt,results:Ye},Object(Pn.a)(Ye,(gn,un)=>{const va=gn.item,ua=un===it,ya=gn.bestPreviousNameMatch,Xe=un===0,ct=!!(Gn!=null&&Gn.hasDuplicates(va.name));return v.a.createElement(st,{key:va.id,index:un,isSelected:ua,onSelectedIndexChange:Ot,onSelect:ft,onMount:Xe?pt:void 0,onUpdate:Xe?St:void 0,result:va},v.a.createElement(Zt.a,{channelId:va.id,displayFormerNames:ya?yn.e.bestOnly:yn.e.false,isActive:ua,bestFormerName:ya,showTeamForLocalChannel:ct}))}))},"TextyAutocompleteChannels");ta.displayName="TextyAutocompleteChannels";var la=ta,Yn=e("OZf9"),Jt=e("BXkk"),Qn=e("/qcS");const Zn=h(at=>{let{text:Ye,indexes:it,renderHighlight:ft}=at;if(Object(m.a)(Ye))return null;const Ot=Ye.split("");return Object(Yn.a)(it,pt=>{const St=ft(Ot[pt]);Ot[pt]=v.a.cloneElement(St,{key:`index-${pt}`})}),Ot},"highlightIndexes"),Hn=h(at=>{let{onSelect:Ye=u.a,onSelectedIndexChange:it=u.a,onFirstResultMount:ft=u.a,onFirstResultUpdate:Ot=u.a,results:pt,selectedIndex:St=0,userSkinTone:wt="",className:En}=at;return v.a.createElement(yt,{type:"emoji",className:En,results:pt},Object(Pn.a)(pt,(Gn,gn)=>{const un=gn===St,va=gn===0,ua=Zn({text:Gn.emojiBestNameMatch||"",indexes:Gn.emojiMatchIndices,renderHighlight:Xe=>v.a.createElement("span",{className:"c-texty_autocomplete__result_highlight"},Xe)}),ya=Object(Jt.a)(Gn,wt);return v.a.createElement(st,{key:Gn.item.name,index:gn,isSelected:un,onSelectedIndexChange:it,onSelect:Ye,onMount:va?ft:void 0,onUpdate:va?Ot:void 0,result:Gn},v.a.createElement(Qn.b,{className:"c-texty_autocomplete__result_emoji",text:ya||void 0,forceDisplay:!0}),v.a.createElement("span",{className:"c-texty_autocomplete__result_name overflow_ellipsis"},":",ua,":"))}))},"TextyAutocompleteEmoji"),Sa=h(at=>({userSkinTone:Object(A.u)(at,"preferred_skin_tone")||""}),"texty_autocomplete_emoji_mapStateToProps");var Ca=Object(g.a)(Sa)(Hn),La=e("9FRF"),Gt=e("4HNC"),Ct=e("ykb+");function It(){return It=Object.assign||function(at){for(var Ye=1;Ye<arguments.length;Ye++){var it=arguments[Ye];for(var ft in it)Object.prototype.hasOwnProperty.call(it,ft)&&(at[ft]=it[ft])}return at},It.apply(this,arguments)}h(It,"_extends");function on(at){return h(class extends p.PureComponent{componentDidMount(){(Object(Ct.b)()||Object(Ct.d)())&&Object(ge.b)().warn(`\u{1F6A8}\u26A0\uFE0F\u{1F6A8} WIP WARNING \u{1F6A8}\u26A0\uFE0F\u{1F6A8}
"${at.displayName}" is a work in progress and should not be used in production!`)}render(){return v.a.createElement(at,It({},this.props))}},"WIPWarningWrapper")}h(on,"withWIPWarning");var Sn=e("zxER"),He=e("CD4m"),re=e("AwEi"),ue=e("QLhP"),ve=e("ny0b"),De=e("DR7d"),we=h((at,Ye,it)=>{if(Ye.icons){const St=Object(De.a)(Ye.icons,[72,48,32]);return Ye.icons[`image_${St}`]}const ft=Ye.botId&&Object(ue.b)(at,Ye.botId);if(ft){var Ot,pt;return(pt=Object(ve.a)({size:it,memberId:Ye.botUserId,isBot:!0,botImages:ft==null?void 0:ft.icons,emoji:ft==null||(Ot=ft.icons)===null||Ot===void 0?void 0:Ot.emoji}))===null||pt===void 0?void 0:pt.imageUrl}return null},"getLinkIcon");const Be={className:B.default.string,link:B.default.object,isDisabled:B.default.bool,invert:B.default.bool},ke={className:void 0,link:void 0,invert:!1,isDisabled:!1};function Le(at){let{className:Ye,link:it,invert:ft,isDisabled:Ot}=at;const pt=Object(Sn.c)(un=>we(un,it,yn.a.medium)),St=Object(p.useCallback)(un=>{let{className:va}=un;return pt?v.a.createElement(cn.a,{classes:Object(me.default)(va,"c-link_entity__img_icon"),"data-qa":"link-avatar",image:pt,size:yn.a.medium,ariaHidden:!0}):v.a.createElement("div",{className:Object(me.default)(va,"c-link_entity__medium_fallback_icon")},v.a.createElement(Rn.a,{name:"globe"}))},[pt]);if(!it)return null;const wt=Object(ne.f)(it),En=Object(ne.c)(it),Gn=Object(ne.j)(it);let gn=Ot?yn.d.dim:null;return ft&&(gn=yn.d.highlightDark),v.a.createElement("div",null,v.a.createElement(He.d,{"data-qa":"link-entity",avatar:St,className:Ye,size:"medium",style:gn,text:v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"c-link_entity__title","data-qa":"link_title"},Gn?v.a.createElement(re.a,{text:En,tsfMode:"NOMRKDWN",noJumbomoji:!0,noLinking:!0,customLineEnding:v.a.createElement("span",null)}):En),v.a.createElement("div",{className:"c-link_entity__url","data-qa":"link_url"},wt)),isDisabled:Ot}))}h(Le,"MediumLinkEntity"),Le.displayName="MediumLinkEntity",Le.defaultProps=ke,Le.propTypes=Be;var Ze=on(Le);const ot={className:B.default.string,link:B.default.object.isRequired,isActive:B.default.bool,isDisabled:B.default.bool,secondaryContent:B.default.node,"data-qa":B.default.string},bt={className:void 0,isActive:!1,isDisabled:!1,secondaryContent:void 0,"data-qa":void 0};function ht(at){let{className:Ye,link:it,isActive:ft,isDisabled:Ot,secondaryContent:pt,"data-qa":St}=at,wt;return ft?Ot?wt=yn.d.highlightDim:wt=yn.d.highlightDark:Ot&&(wt=yn.d.dim),v.a.createElement(Gt.a,{className:Ye,style:wt,primaryContent:v.a.createElement(Ze,{link:it,isDisabled:Ot,invert:wt===yn.d.highlightDark}),secondaryContent:pt,"data-qa":St})}h(ht,"MediumLinkListEntity"),ht.displayName="MediumLinkListEntity",ht.propTypes=ot,ht.defaultProps=bt;var Bt=on(ht),Cn=h(at=>{let{results:Ye,selectedIndex:it,onSelect:ft,onSelectedIndexChange:Ot,className:pt}=at;return v.a.createElement(yt,{type:"links",className:pt,results:Ye},Object(Pn.a)(Ye,(St,wt)=>{const En=St.item,Gn=wt===it;return v.a.createElement(st,{key:En.id,index:wt,isSelected:Gn,onSelectedIndexChange:Ot,onSelect:ft,result:En,size:"medium"},Object(Qt.a)(En.id||"")?v.a.createElement(La.a,{id:En.id||"",file:En,isActive:Gn,detailType:"owner"}):v.a.createElement(Bt,{link:En,isActive:Gn}))}))},"TextyAutocompleteLinks");const an=h(at=>{let{results:Ye,selectedIndex:it,onSelect:ft,onSelectedIndexChange:Ot,className:pt}=at;const St=Object(p.useCallback)(wt=>v.a.createElement("span",{className:"c-base_entity__avatar"},v.a.createElement(Ve.a,{type:wt})),[]);return v.a.createElement(yt,{type:"list",className:pt,results:Ye},Ye==null?void 0:Ye.map((wt,En)=>{let Gn,gn,un;Object(An.v)(wt.item.id)?(un=wt.item,Gn=un.name,gn="chevron-right"):(un=wt.item,Gn=un.title,gn="bullet-list");const va=En===it;let ua;return va&&(ua=yn.d.highlightDark),v.a.createElement(st,{key:un.id,index:En,isSelected:va,onSelectedIndexChange:Ot,onSelect:ft,result:un,size:"small"},v.a.createElement(Gt.a,{style:ua,primaryContent:v.a.createElement(He.d,{avatar:()=>St(gn),size:"medium",text:v.a.createElement(He.c,null,v.a.createElement("strong",null,Gn))})}))}))},"TextyAutocompleteLists");an.displayName="TextyAutocompleteLists";var Mn=an,rn=e("y6S6"),xn=e("hjzp"),gt=e("rdha"),Rt=e("sz8i"),mn=e("ifSi");const ca=Object(gt.c)((at,Ye)=>{let{fileId:it,memberIds:ft}=Ye;if(!it||Object(m.a)(ft))return;const Ot=Object(mn.b)(at,it);let pt;if(!(Ot&&(pt=Object(Z.f)(at,it),!pt)))return ft.reduce((St,wt)=>{if(wt!==void 0){let En=!1;if(Ot&&pt){const Gn=Object(rn.c)(at,pt,wt||"");Gn.isKnown&&Gn.isMember&&(En=!0)}else En=Object(Rt.a)(at,{fileId:it,userId:wt});St[wt]=En}return St},{})});var da=e("pZC0"),_a=e("oNuo"),zn=e("aBhT");function na(){return na=Object.assign||function(at){for(var Ye=1;Ye<arguments.length;Ye++){var it=arguments[Ye];for(var ft in it)Object.prototype.hasOwnProperty.call(it,ft)&&(at[ft]=it[ft])}return at},na.apply(this,arguments)}h(na,"small_broadcast_entity_extends");function ga(at){let{className:Ye,"data-qa":it,"data-sk":ft="small_broadcast_entity",id:Ot,isDeactivated:pt=!1,name:St,description:wt,avatar:En}=at;const Gn=Object(p.useCallback)(va=>v.a.createElement(Ve.a,na({},va,{type:En||"broadcast",size:"inherit"})),[En]),gn=Object(_a.a)(Ot);if(!gn)return null;const un=pt?yn.d.dim:void 0;return v.a.createElement(He.d,{avatar:Gn,className:Ye,size:"small",style:un,"data-id":Ot,"data-qa":it,"data-sk":ft,text:v.a.createElement(zn.a,{lines:1},v.a.createElement("span",{className:"c-broadcast_entity__label"},"@",St||gn.name),wt||gn.description)})}h(ga,"SmallBroadcastEntity"),ga.displayName="SmallBroadcastEntity";var ma=ga;function Oa(at,Ye,it){if(at)return Ye||it?yn.d.highlightDim:yn.d.highlightDark;if(Ye||it)return yn.d.dim}h(Oa,"getBaseStyle");function ka(at){let{className:Ye,"data-qa":it,id:ft,isActive:Ot=!1,isDeactivated:pt=!1,isDisabled:St=!1,secondaryContent:wt,name:En,description:Gn,avatar:gn}=at;return v.a.createElement(Gt.a,{className:Ye,primaryContent:v.a.createElement(ma,{"data-id":ft,"data-qa":it,"data-sk":"small_broadcast_list_entity",id:ft,isDeactivated:pt,name:En,description:Gn,avatar:gn}),secondaryContent:wt,size:"small",style:Oa(Ot,St,pt)})}h(ka,"SmallBroadcastListEntity"),ka.displayName="SmallBroadcastListEntity";var Ua=ka,Va=e("Ueyg"),qa=e("ZIxB"),ja=e("TVHa"),xa=e("v5z3"),Wa=e("IaLB"),es=e("wf34"),Pa=e("H2ap"),ss=e("ZXTy"),Ma=e("WY9I"),os=e("h6Kc"),za=e("ZTSm");const Ka=new k.b("tabcomplete"),Za=new k.b("team"),ds=h(at=>{let{result:Ye,channelMembershipByMemberId:it,isCanvasOrCanvasComment:ft,canvasMembershipByMemberId:Ot,experimentCanvasAutocompleteNotInCanvasGroupOn:pt}=at,St=null;return Ye.is_profile_only_user?St=v.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Za.t("Not on Slack",{fallbackHash:"43ff3112b0305aafb75b533ed3f9cf9be235ff4a"})):Ye.id&&!ft&&it&&it[Ye.id]===!1?St=v.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Ka.t("Not in channel",{fallbackHashNs:"inline_member",fallbackHash:"50432998e71b6ac96852fa9a7a5a789e646818a0"})):pt&&Ye.id&&ft&&Ot&&Ot[Ye.id]===!1&&(St=v.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Ka.t("Not in canvas",{fallbackHashNs:"inline_member",fallbackHash:"50432998e71b6ac96852fa9a7a5a789e646818a0"}))),St},"ChannelContextLabel");ds.displayName="ChannelContextLabel";const ts=h(at=>{let{channelMembershipByMemberId:Ye,results:it,selectedIndex:ft,onSelect:Ot,onFirstResultMount:pt,onFirstResultUpdate:St,onSelectedIndexChange:wt,className:En,threadTs:Gn,featureDisableBKInThread:gn,showProgressiveDisclosureAtMentionExplainer:un,isProgressiveDisclosureEnabled:va,handleProgressiveDisclosureOrganicUse:ua,experimentFilesInAtMenuGroupTreatment:ya,broadcastKeywordsEnabled:Xe,getChannelPref:ct,channelId:qt,logger:tn,isCanvas:On,isCanvasOrCanvasComment:Ht,canvasMembershipByMemberId:hn,experimentCanvasAutocompleteNotInCanvasGroupOn:Fn}=at;const $n=Object(Pe.useDispatch)();return Object(p.useEffect)(()=>($n(Object(os.a)({buttonType:Ma.a.MENTION,expanded:!0})),()=>$n(Object(os.a)({buttonType:Ma.a.MENTION,expanded:!1}))),[$n]),Object(p.useEffect)(()=>{va&&ua({tip:xa.f.AtMention})},[va,ua]),Object(p.useEffect)(()=>{qt&&ct({channelId:qt,prefName:"enable_at_channel",reason:"texty-autocomplete-members"}).catch(Jn=>{tn==null||tn.error("Failed to get channel pref: enable_at_channel",Jn)})},[ct,qt,tn]),v.a.createElement(yt,{type:"members",className:En,results:it,showCanvasHelp:Ht,heading:un?v.a.createElement(es.a,{tip:xa.f.AtMention}):null},Object(Pn.a)(it,(Jn,sa)=>{const oa=sa===ft,pa=sa===0,Ta=Jn.item;let $a=!1,Na;const ls=(Ta==null?void 0:Ta.id)==="BKassistant:einstein"&&!!Gn;if(Ta.is_broadcast_keyword){let Ha;!ls&&gn&&Gn&&(Ha=v.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Ka.t("Disabled in threads")),$a=!0),Xe||(Ha=v.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Ka.t("Disabled in this channel")),$a=!0),On&&(Ha=v.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Ka.t("Disabled in a canvas")),$a=!0),Na=v.a.createElement(Ua,{id:Ta.id||"",isActive:oa,isDisabled:$a,secondaryContent:Ha,name:Ta.name,description:Ta.description,avatar:ls?"sparkles":void 0})}else if(Ta.is_usergroup){let Ha;On&&(Ha=v.a.createElement("span",{className:"c-texty_autocomplete__result_context"},Ka.t("Disabled in a canvas")),$a=!0),Na=v.a.createElement(Va.a,{id:Ta.id,isActive:oa,isDisabled:$a,secondaryContent:Ha})}else if(ya&&Object(Qt.a)(Ta.id||""))Na=v.a.createElement(ja.a,{id:Ta.id||"",file:Ta,isActive:oa,detailType:"owner"});else{const Ha=v.a.createElement(ds,{result:Ta,channelMembershipByMemberId:Ye,isCanvasOrCanvasComment:!!Ht,canvasMembershipByMemberId:hn,experimentCanvasAutocompleteNotInCanvasGroupOn:Fn});Na=v.a.createElement(qa.a,{id:Ta.id,isActive:oa,secondaryContent:Ha,showTooltip:!1})}return v.a.createElement(st,{key:Ta.id,index:sa,isSelected:oa,onSelectedIndexChange:wt,onSelect:Ot,onMount:pa?pt:void 0,onUpdate:pa?St:void 0,result:Ta,isDisabled:$a},Na)}))},"TextyAutocompleteMembers");ts.displayName="TextyAutocompleteMembers";const us=h(at=>at&&at.filter(Ye=>Ye&&Ye.item&&!Ye.item.is_broadcast_keyword&&!Ye.item.is_usergroup).map(Ye=>Ye.item.id).filter(za.a),"getMemberIdsFromResults"),is=(()=>{const at=Object(oe.a)(Ye=>Ye,2);return(Ye,it,ft)=>{if(Object(m.a)(ft))return;const Ot=Object(Z.d)(Ye,it);if(Object(G.g)(Ot))return;const pt=ft.reduce((St,wt)=>{const En=Object(rn.c)(Ye,it,wt||"");return En.isKnown&&(St[wt]=En.isMember),St},{});return at(pt)}})(),Ya=h((at,Ye)=>{let{channelId:it,fileId:ft,results:Ot}=Ye;const pt=us(Ot),St=is(at,it,pt),wt=Object(tt.d)(at,"canvas_autocomplete_not_in_canvas")==="on";let En=!1,Gn;if(wt){const un=!!it&&!!Object(da.c)(at,it);En=!!ft||un,Gn=ca(at,{fileId:un?Object(xn.b)(it):ft,memberIds:pt})}const gn=Object(de.i)(at,"feature_disable_bk_in_thread");return{channelMembershipByMemberId:St,featureDisableBKInThread:gn,experimentFilesInAtMenuGroupTreatment:Object(ne.h)(at),showProgressiveDisclosureAtMentionExplainer:Object(Wa.rb)(at,{tip:xa.f.AtMention}),isProgressiveDisclosureEnabled:Object(Wa.Y)(at),broadcastKeywordsEnabled:Object(S.a)(at,it),channelId:it,isCanvasOrCanvasComment:En,logger:Object(ge.a)({state:at}),canvasMembershipByMemberId:Gn,experimentCanvasAutocompleteNotInCanvasGroupOn:wt}},"texty_autocomplete_members_mapStateToProps"),fs=h(at=>({handleProgressiveDisclosureOrganicUse:Ye=>at(Object(Pa.a)(Ye)),getChannelPref:Ye=>at(Object(ss.a)(Ye))}),"mapDispatchToProps");var gs=Object(g.a)(Ya,fs)(ts);const vs=Object(y.c)("Find quip shortcut commands that match a search query",function(at,Ye){let{query:it,useSearcherSessions:ft=!0,searcherKey:Ot="texty-autocomplete"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const pt=Ye(),St={entities:{shortcuts:{quipShortcutCommands:!0,isOpenedWithSlash:!0}},sort:{bypassSorting:!0},tiered:!0,fuzzyLimit:3,allowEmptyQuery:!0,returnMetadata:!0};return ft&&Object(M.c)(pt)?Object(j.a)({teamId:Object(E.g)(pt),key:Ot}).search({query:it,options:St}):at(Object(_.F)({query:it,options:St}))});vs.meta={name:"createThunk",key:"createThunkautocompleteQuipShortcuts",description:"Find quip shortcut commands that match a search query"};const Qa="TABCOMPLETE",hs={position:"fixed"},rs={top:0,right:0,bottom:0,left:0,height:0,width:0},ms={isOpen:!1,selectedIndex:0,results:void 0,matchIndex:0,matchText:void 0,menuPosition:void 0,searchInFlight:null,matchOptions:void 0,closedWithSelection:!1};let ns=h(class extends p.PureComponent{componentDidMount(){window.addEventListener("resize",this.tabCompleteHideMenu),this.props.completeOnMembers&&this.props.ensureChannelMembershipKnownForFirstNMembers({channelId:this.props.channelId}),this.props.autocompleteConfig&&(this.props.autocompleteConfig.current=this.autocompleteConfig)}UNSAFE_componentWillReceiveProps(Ye){const{completeOnMembers:it,completeOnChannels:ft,completeOnEmoji:Ot,completeOnLinks:pt,completeOnLists:St,completeOnCommands:wt,linkPickerEnabled:En,listsEnabled:Gn,listsTextyAutocompleteEnabled:gn,disallowedResults:un,teamId:va}=this.props;(Ye.completeOnMembers!==it||Ye.completeOnChannels!==ft||Ye.completeOnEmoji!==Ot||Ye.completeOnLinks!==pt||Ye.completeOnLists!==St||Ye.completeOnCommands!==wt||Ye.linkPickerEnabled!==En||Ye.listsEnabled!==Gn||Ye.disallowedResults!==un||Ye.listsTextyAutocompleteEnabled!==gn||Ye.teamId!==va)&&(this.completers=this.getCompleters(Ye))}componentDidUpdate(Ye){this.props.completeOnMembers&&this.props.channelId!==Ye.channelId&&this.props.ensureChannelMembershipKnownForFirstNMembers({channelId:this.props.channelId})}componentWillUnmount(){this.completers=[],window.removeEventListener("resize",this.tabCompleteHideMenu)}onClose(){const{teamId:Ye,useSearcherSessions:it,completeOnCommands:ft}=this.props,{matchText:Ot,closedWithSelection:pt}=this.state;this.setState(()=>({isOpen:!1,menuPosition:void 0,selectedIndex:void 0,closedWithSelection:!1})),this.props.onClose&&this.props.onClose(),it&&Object(j.a)({teamId:Ye,key:"texty-autocomplete"}).endSession(),!pt&&ft&&(Ot==="/"||Ot==="\uFF0F")&&this.clearTextyInput()}onOpen(){(!this.state.isOpen||this.state.closedWithSelection)&&this.completer.recordImpressionOnOpen&&this.completer.recordImpressionOnOpen(this.props.clogger),this.setState(()=>({isOpen:!0,closedWithSelection:!1})),this.props.onOpen&&this.props.onOpen()}onArrowKey(Ye){const{isOpen:it,selectedIndex:ft,results:Ot}=this.state,pt=Object(l.a)(Ot),St=pt-1;if(this.setState(()=>({searchInFlight:null})),!it||!pt||![le.r,le.c].includes(Ye))return;let wt;return Ye===le.c&&(wt=(ft||0)>=St?0:(ft||0)+1),Ye===le.r&&(wt=(ft||0)<=0?St:(ft||0)-1),this.setState(()=>({selectedIndex:wt}),this.tabCompleteAriaExpand),!Object(o.a)(wt)}onSelectedIndexChange(Ye){const{logger:it}=this.props;if(!Object(o.a)(Ye)){it.warn(Qa,`invalid index "${Ye}"`);return}this.state.isOpen&&Ye!==this.state.selectedIndex&&(this.setState(()=>({selectedIndex:Ye}),this.tabCompleteAriaExpand),it.info(Qa,`set new index to ${Ye}`))}onSelect(Ye){this.setState(()=>({selectedIndex:Ye,closedWithSelection:!0}),this.tabCompletePerformSelection)}getCompleters(){let Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;const it=[];return Ye.completeOnChannels&&it.push({...Pt,completerEntity:"channel",menu:la,search:Ye.autocompleteChannels}),Ye.completeOnEmoji&&it.push({...Tt,completerEntity:"emoji",menu:Ca,search:Ye.autocompleteEmoji}),Ye.completeOnLists&&Ye.listsEnabled&&Ye.listsTextyAutocompleteEnabled&&it.push({...t,menu:Mn,search:Ye.autocompleteLists}),Ye.completeOnLinks&&Ye.linkPickerEnabled&&it.push({...n,menu:Cn,search:Ye.autocompleteLinks}),Ye.completeOnCommands&&it.push({...a,menu:_n,search:Ye.autocompleteCommandsSearcherFlat,onSelection:Ye.executeCommandAutocompleteItem}),Ye.isCanvas&&Ye.experimentCanvasShortcutCommandGroupOn&&it.push({...s,completerEntity:"quip-shortcut",menu:Ye.experimentCanvasShortcutCommandsReorderGroupOn?vt:Ea,search:Ye.autocompleteQuipShortcuts}),Ye.completeOnMembers&&it.push({...wn,completerEntity:"member",menu:gs,search:Ye.autocompleteMembers}),it}getMatch(Ye,it,ft,Ot){const{teamId:pt,locale:St,viewContext:wt}=this.props,En=Object(mt.a)({viewContext:wt,channelId:this.props.channelId,threadTs:this.props.threadTs});for(let Gn=0;Gn<this.completers.length;Gn++){const gn=this.completers[Gn],un=gn.getMatch(Ye,{isUserSolicited:it,locale:St,startIndex:ft,formatOp:Ot,experimentSlashCommands20StableGroupOn:!0,inputProxy:En});if(un)return un!=null&&un.match&&Object(et.b)(un==null?void 0:un.match,(gn==null?void 0:gn.completerEntity)||"unknown",pt||""),this.completer===gn?(this.setState(()=>({matchIndex:ft+un.index,matchText:un.match,matchOptions:un.options})),this.forceUpdate()):(this.completer=gn,this.setState(()=>({...ms,matchIndex:ft+un.index,matchText:un.match,matchOptions:un.options}))),un}return null}clearTextyInput(){const{viewContext:Ye}=this.props,it=Object(mt.a)({viewContext:Ye,channelId:this.props.channelId,threadTs:this.props.threadTs});it&&it.clear()}getAutocompleteConfig(){const{forceChannelTaggingDisabled:Ye,experimentFilesInAtMenuGroupTreatment:it}=this.props;return{getMatch:this.getMatch,search:this.search,onSelect:this.handleSelect,getInsertDataFromActiveResult:()=>{const ft=this.state.results&&!Object(f.a)(this.state.selectedIndex)?this.state.results[this.state.selectedIndex]:void 0,Ot=(ft==null?void 0:ft.id)==="BKassistant:einstein"&&!!this.props.threadTs;return this.completer.getInsertData(ft,{shouldRenderBroadcastsAsText:!Ot&&(this.props.featureDisableBKInThread&&!!this.props.threadTs||!this.props.broadcastKeywordsEnabled),shouldRenderEmojiAsText:this.props.isEmojiDisplayedAsText,highlightWords:this.props.highlightWords,userSkinTone:this.props.userSkinTone,locale:this.props.locale,usePlainTextMode:this.props.usePlainTextMode,useChannelTagging:!Ye,teamId:this.props.teamId,experimentFilesInAtMenuGroupTreatment:it})},shouldDisplayResults:ft=>{var Ot,pt;return!(this.state.results&&this.state.results.length===1&&ft||this.props.completeOnCommands&&(!((Ot=this.state.matchText)===null||Ot===void 0)&&Ot.includes(" "))&&(!((pt=this.state.results)===null||pt===void 0)&&pt.some(St=>{var wt;return St.isExactMatch&&(St==null||(wt=St.item)===null||wt===void 0?void 0:wt.isSlashCommand)})))},isOpen:()=>this.state.isOpen,getMatchText:()=>this.state.matchText,getMatchIndex:()=>this.state.matchIndex,getMatchResults:()=>this.state.results,setSearchInFlight:ft=>{this.setState(()=>({searchInFlight:ft}))},getSearchInFlight:()=>this.state.searchInFlight,getSelectedIndex:()=>this.state.selectedIndex,clearMatchState:()=>{this.setState(()=>({matchText:void 0,matchIndex:void 0,results:void 0}))},onResultsReceived:ft=>{this.setState(()=>({results:ft}))},shouldCompleteOnTab:()=>this.props.shouldCompleteOnTab,onRequestOpen:this.onOpen,onRequestClose:this.onClose,onArrowKey:this.onArrowKey,positionMenu:this.positionMenu,onInit:ft=>{let{hideMenu:Ot,ariaExpand:pt,performSelection:St}=ft;this.tabCompleteHideMenu=Ot,this.tabCompleteAriaExpand=pt,this.tabCompletePerformSelection=St}}}handleSelect(){let{fromKeyboard:Ye=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{setUserHasSeenHelp:it,showAutocompleteHelpPref:ft,clogger:Ot,teamId:pt,useSearcherSessions:St,viewContext:wt,windowId:En,channelId:Gn,threadTs:gn}=this.props,{results:un,matchText:va,selectedIndex:ua}=this.state,ya=un&&!Object(f.a)(ua)?un[ua]:void 0;if(this.completer.getResultFrecencyId){const qt=this.completer.getResultFrecencyId(ya);qt&&this.props.recordFrecencyEvent({id:qt,text:va})}if(Ye&&ft&&it(),ya){var Xe,ct;(Xe=this.completer)===null||Xe===void 0||(ct=Xe.onSelection)===null||ct===void 0||ct.call(Xe,{activeResult:ya,channelId:Gn,threadTs:gn,viewContext:wt,windowId:En,selectedIndex:ua})}this.completer.recordSelection&&this.completer.recordSelection({query:va,result:ya,results:un,clogger:Ot,teamId:pt,useSearcherSessions:St})}positionMenu(Ye){let it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{top:0,right:0,bottom:0,left:0,height:0,width:0};const{menuPosition:ft}=this.state;if(this.completer.anchorToContainer===!0){if(Object(r.a)(it,ft))return;this.setState(()=>({menuPosition:it}));return}Object(m.a)(Ye)||Object(r.a)(Ye,ft)||this.setState(()=>({menuPosition:Ye}))}processResults(Ye,it,ft){const{logger:Ot,clogger:pt,disallowedResults:St}=this.props,{matchOptions:wt}=this.state;if(Ye!==this.state.searchInFlight){Object(et.a)(Ye),Ot.info(Qa,`ignoring stale search for ${Ye.length} char query`);return}Object(m.a)(it)&&Object(et.a)(Ye);let En;St?En=it.filter(Gn=>!Gn.id||!St.has(Gn.id)):En=it,wt!=null&&wt.minScore&&(En=En.filter(Gn=>(Gn==null?void 0:Gn.modelScore)>=wt.minScore)),this.setState(()=>({results:En})),this.completer.recordImpression&&this.completer.recordImpression({clogger:pt,query:Ye,results:En}),ft(En,Ye)}search(Ye,it){const{channelId:ft,threadTs:Ot,includeAllBroadcastKeywords:pt,featureDisableBKInThread:St,logger:wt,isCanvas:En}=this.props,{matchOptions:Gn}=this.state;this.setState(()=>({selectedIndex:0})),this.completer.search({query:Ye,channelId:ft,isThread:!!Ot,enableBroadcastKeywords:St||!Ot,includeAllBroadcastKeywords:pt,enableFiles:!En,enableUserGroups:!En,...Gn}).then(gn=>{wt.info(Qa,`end search with ${Ye.length} char query`),Object(m.a)(gn)&&Object(et.a)(Ye),this.processResults(Ye,gn,it),gn&&gn.promise&&gn.promise.then(un=>{this.processResults(Ye,un,it)}).catch(this.tabCompleteHideMenu)}).catch(this.tabCompleteHideMenu)}renderMenu(){var Ye;const{channelId:it,className:ft,threadTs:Ot,isCanvas:pt,fileId:St}=this.props,{selectedIndex:wt,matchText:En,results:Gn}=this.state;if(!this.completer)return null;let gn;return((Ye=Object(c.a)(Gn))===null||Ye===void 0?void 0:Ye.query)===Object(Q.a)(En||"")&&(gn=this.getMaybeStopAutocompleteMatchRenderTrace(En)),v.a.createElement(this.completer.menu,{channelId:it,threadTs:Ot,selectedIndex:wt,results:Gn,onSelectedIndexChange:this.onSelectedIndexChange,onSelect:this.onSelect,onFirstResultMount:gn,onFirstResultUpdate:gn,className:ft,isCanvas:pt,matchText:En,fileId:St})}render(){var Ye,it;const{renderInput:ft,position:Ot,fixedPosition:pt,stickyPosition:St,zIndex:wt,shouldCloseOnOverlayMouseDown:En}=this.props,{isOpen:Gn,menuPosition:gn}=this.state,un=((Ye=this)===null||Ye===void 0||(it=Ye.completer)===null||it===void 0?void 0:it.anchorToContainer)===!0?0:-17,va=Ot==="bottom"?7:-7;return v.a.createElement(v.a.Fragment,null,ft({autocompleteConfig:this.autocompleteConfig,isOpen:Gn}),v.a.createElement(F.a,{isOpen:Gn,position:Ot?`${Ot}-left`:"top-left",contentStyle:pt?hs:ie.b,targetBounds:gn||rs,offsetX:un,offsetY:va,allowanceX:20,zIndex:wt||"menu",shouldObserveResize:!1,shouldFocusAfterRender:!1,shouldFade:!1,ariaHideApp:!1,tryOppositePosition:!0,stickyPosition:St,shouldCloseOnOverlayMouseDown:!!En,shouldPropagateOnClose:!!En,onClose:En?this.onClose:u.a},this.renderMenu()||v.a.createElement("div",null)))}constructor(Ye){super(Ye),Object(d.a)(this,["getMatch","handleSelect","onClose","onOpen","onArrowKey","onSelectedIndexChange","onSelect","positionMenu","search","processResults"]),this.autocompleteConfig=this.getAutocompleteConfig(),this.completers=this.getCompleters(Ye),this.completer=null,this.tabCompleteHideMenu=u.a,this.tabCompleteAriaExpand=u.a,this.tabCompletePerformSelection=u.a,this.state=ms,this.getMaybeStopAutocompleteMatchRenderTrace=Object(oe.a)(it=>()=>Object(et.f)(it))}},"TextyAutocomplete");ns.displayName="TextyAutocomplete";const ps=h((at,Ye)=>{let{forcePlainTextModeDisabled:it,channelId:ft}=Ye;return{highlightWords:Object(N.a)(at),isEmojiDisplayedAsText:Object(z.a)(at),locale:Object(k.m)(),userSkinTone:Object(A.u)(at,"preferred_skin_tone"),showAutocompleteHelpPref:!!Object(A.u)(at,"show_autocomplete_help"),clogger:Object(I.a)({state:at}),usePlainTextMode:it?!1:!!Object(A.u)(at,"plain_text_mode"),linkPickerEnabled:Object(ne.i)(at),listsEnabled:Object(ae.isListsEnabled)(at),listsTextyAutocompleteEnabled:Object(ae.isListsTextyAutocompleteEnabled)(at),experimentCanvasShortcutCommandGroupOn:Object(tt.d)(at,"canvas_shortcut_command")==="on",experimentCanvasShortcutCommandsReorderGroupOn:Object(tt.d)(at,"canvas_shortcut_commands_reorder")==="on",teamId:Object(E.h)(at),featureDisableBKInThread:Object(de.i)(at,"feature_disable_bk_in_thread"),experimentFilesInAtMenuGroupTreatment:Object(ne.h)(at),logger:Object(ge.a)({state:at}),useSearcherSessions:Object(M.c)(at),broadcastKeywordsEnabled:ft?Object(S.a)(at,ft):!1}},"texty_autocomplete_mapStateToProps"),Ja=h((at,Ye)=>{let{searchViewContext:it}=Ye;const ft=it&&`texty-autocomplete:${it}`;return{autocompleteChannels:Ot=>{let{...pt}=Ot;return at(Object(O.a)({searchViewContext:ft,...pt}))},autocompleteEmoji:Ot=>{let{...pt}=Ot;return at(Object(b.a)({searchViewContext:ft,...pt}))},autocompleteLinks:Ot=>{let{...pt}=Ot;return at(P({searchViewContext:ft,...pt}))},autocompleteLists:Ot=>{let{...pt}=Ot;return at(U({searchViewContext:ft,...pt}))},autocompleteMembers:Ot=>{let{...pt}=Ot;return at(Object(K.a)({searchViewContext:ft,...pt}))},autocompleteCommandsSearcherFlat:Ot=>{let{...pt}=Ot;return at(Object(V.a)({searchViewContext:ft,...pt}))},autocompleteQuipShortcuts:function(){for(var Ot=arguments.length,pt=new Array(Ot),St=0;St<Ot;St++)pt[St]=arguments[St];return at(vs(...pt))},recordFrecencyEvent:function(){for(var Ot=arguments.length,pt=new Array(Ot),St=0;St<Ot;St++)pt[St]=arguments[St];return at(Object(L.a)(...pt))},ensureChannelMembershipKnownForFirstNMembers:function(){for(var Ot=arguments.length,pt=new Array(Ot),St=0;St<Ot;St++)pt[St]=arguments[St];return at(w(...pt))},setUserHasSeenHelp:()=>at(Object(x.f)({pref:"show_autocomplete_help",value:0})),workflowsTriggersTrip:function(){for(var Ot=arguments.length,pt=new Array(Ot),St=0;St<Ot;St++)pt[St]=arguments[St];return at(Object(Je.a)(...pt))},executeCommandAutocompleteItem:Ot=>{let{...pt}=Ot;return at(Object(V.d)({...pt}))}}},"texty_autocomplete_mapDispatchToProps");var Cs=i.a=Object(g.a)(ps,Ja)(ns)},HU1W:function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),s=e("31jn"),l=e("R/i+");const o=Object(a.c)("Creates a placement widget based on location information",function(){var f=Object(n.coroutine)(function*(r,m,c){let{widgetId:u,location:d,locationMetadata:p}=c;const v=yield r(Object(s.a)({widgetId:u,location:d,locationMetadata:p,reason:"create-placement-widget-thunk"}));return r(Object(l.d)({widgetPlacement:v.widget_placement})),v.widget_placement.id});return function(r,m,c){return f.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkcreateWidgetPlacement",description:"Creates a placement widget based on location information"}},HW3N:function(J,i,e){"use strict";e.d(i,"a",function(){return p});var n=e("0VPD"),t=e("F294"),a=e("lhZz"),s=e("Yauy"),l=e("e55/"),o=e("E97Y"),f=e("vfQU"),r=e("G5NC"),m=e("t4eE"),c=e("i5Ig"),u=e("7xYR");function d(){if(Object(r.a)()){const v=Object(a.getStateForClientStore)(),g=Object(u.getAllWorkspaces)(v),O=Object(u.getBootedWorkspaces)(v);return Object(n.a)(g,O)}return Object(f.eb)()?Object(f.wb)():c.a}h(d,"getOrderedTeamIds");function p(v){let{state:g,channel:O,currentTeamId:b,preferredTeamId:y}=v;if(!O||Object(o.j)(O)||!g)return null;if(!Object(s.X)(O))return b;if(!Object(r.a)()&&!Object(f.eb)())return null;const C=Object(l.a)(g,O);if(!C||!C.length)return null;const _=d();if(!_||!_.length||Object(r.a)()&&!Object(m.b)())return null;if(y&&C.includes(y)&&_.includes(y))return y;var j;return(j=Object(t.a)(Object(n.a)(_,C)))!==null&&j!==void 0?j:null}h(p,"findDesktopTeamIdForChannel")},HkGY:function(J,i,e){"use strict";e.d(i,"a",function(){return r});var n=e("q1tI"),t=e.n(n),a=e("QygJ"),s=e("68qM"),l=e("zrD9"),o=e("yIs4");function f(){return f=Object.assign||function(y){for(var C=1;C<arguments.length;C++){var _=arguments[C];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(y[j]=_[j])}return y},f.apply(this,arguments)}h(f,"_extends");var r;(function(y){y.Horizonatal="horizontal",y.Vertical="vertical"})(r||(r={}));const m=["ArrowLeft","ArrowRight"],c=m.concat(["ArrowUp","ArrowDown"]),u=["ArrowRight"],d=u.concat(["ArrowDown"]),p=c.concat(m),v=["Home","End"].concat(p),g=["button:not([disabled])","a",'input[type="button"]:not([disabled])','input[type="submit"]:not([disabled])','input[type="reset"]:not([disabled])','input[type="color"]:not([disabled])','input[type="radio"]:not([disabled])','input[type="checkbox"]:not([disabled])',"select:not([disabled])",'[role="button"]:not([disabled])','[role="checkbox"]:not([disabled])','[role="link"]:not([disabled])','[role="listbox"]:not([disabled])','[role="radio"]:not([disabled])'].join(),O='[role=toolbar] [aria-hidden="true"] *',b=Object(n.forwardRef)((y,C)=>{let{children:_,orientation:j=r.Horizonatal,"aria-label":E,activeItemIndex:M,nodeRef:T,...P}=y;const B=Object(n.useRef)(null),R=T||B,[U,K]=Object(n.useState)(M??0),V=Object(n.useCallback)(()=>{var S,I;return(I=Array.from(((S=R.current)===null||S===void 0?void 0:S.querySelectorAll(g))||[]))===null||I===void 0?void 0:I.filter(W=>W.offsetHeight).filter(W=>!W.matches(O))},[R]),z=Object(a.a)(V()[U]);Object(s.a)(()=>{const S=V();if(Object(o.a)(M)&&S[M]){K(M);return}const I=z?S.indexOf(z):-1;if(I===-1){K(0);return}I!==U&&K(I)},[_,M,V]);function N(){const S=V()[0];S==null||S.focus()}h(N,"onHome");function A(){const S=V(),I=S[S.length-1];I==null||I.focus()}h(A,"onEnd");function x(S){const{key:I,target:W}=S;if(!(j==="horizontal"?m:c).includes(I))return;const H=V(),Z=j==="horizontal"?u:d,G=W,te=H.indexOf(G),se=Z.includes(I)?te+1:te-1,$=H[se];$==null||$.focus()}h(x,"onArrowKey");function k(S){const{key:I,target:W,currentTarget:D,ctrlKey:H,shiftKey:Z,metaKey:G,altKey:te}=S;if(!(Z||G||H||te)&&D.contains(W)&&v.includes(I)){if(p.includes(I)){x(S);return}if(I==="Home"){N();return}A()}}h(k,"onKeyDown");function F(S){const{target:I,currentTarget:W}=S;if(!W.contains(I))return;const D=V(),H=D[U];H==null||H.setAttribute("tabindex","-1");const Z=I;Z.setAttribute("tabindex","0");const G=(D==null?void 0:D.indexOf(Z))||0;K(G)}h(F,"onFocus"),Object(n.useEffect)(()=>{V().forEach((S,I)=>{const W=I===U?"0":"-1";S.setAttribute("tabindex",W)})},[U,V,_]);const L=Object(n.useCallback)(()=>{const S=V()[U];S==null||S.focus()},[V,U]);return Object(n.useImperativeHandle)(C,()=>({focus:L,getButtons:V}),[L,V]),t.a.createElement(l.a,{onFocusedElementRemoved:L},t.a.createElement("div",f({ref:R,role:"toolbar","aria-orientation":j,"aria-label":E,onKeyDown:k,onFocus:F},P),_))});i.b=b},HmUJ:function(J,i,e){"use strict";var n=e("E3dU"),t=e("CpTu"),a=e("mjhc");function s(l,o){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{draftId:r,viewContext:m,inputHasFiles:c}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const u=Object(n.d)(l,o),d={draftId:r,channelId:o,memberIds:f,viewContext:m,inputHasFiles:c};if(!u&&!f.length)return null;const p=Object(t.a)(a.a,v=>v.displayRule(l,d));return p?p.type:null}h(s,"getContextBarTypeForChannel"),i.a=s},HotN:function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("SQ0V"),t=e("T1zM"),a=e("s4P+"),s=e("hq59"),l=e("+HIp"),o=e("ZgSn");const f=Object(n.c)("Set all or some identity links user prefs in single call",(r,m,c)=>{let{appId:u,completedTransfer:d,dateOptedOut:p,numSkipped:v,dateLastSkipped:g}=c;const O=Object(l.f)(m()),b=Object(l.e)(m(),u);let y="{}";const C={completedTransfer:d,dateOptedOut:p,numSkipped:v,dateLastSkipped:g};try{y=JSON.stringify({...O,[u]:{...b,...Object(s.b)(C)}})}catch(_){Object(a.a)({getState:m}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",_)}return r(Object(t.f)({pref:o.a,value:y}))});f.meta={name:"createThunk",key:"createThunksetIdentityTransferUserPrefs",description:"Set all or some identity links user prefs in single call"}},Hxmd:function(J,i,e){"use strict";e.d(i,"a",function(){return _});var n=e("9oTK"),t=e("fujP"),a=e("m8R6"),s=e("SQ0V"),l=e("s4P+"),o=e("Kn+X"),f=e("m5fH"),r=e("u5Oj"),m=e("gCYc"),c=e("rNqu"),u=e("Kk96"),d=e("OZf9"),p=e("Cnv9"),v=e("1PxT"),g=e("lKrR");const O=Object(s.c)("Sync contact unfurl state from server to redux",(j,E,M)=>{let{draft:T,attachments:P}=M;if(!T)return;const B=Object(o.e)(T)||"";if(!B)return;const R=E();if(!Object(p.b)(R))return;const U=Object(o.t)(T)||[],K=Object(v.b)(R,B)||[],V=[];P.forEach(z=>{var N,A;const x=(N=z.blocks)===null||N===void 0||(A=N[0])===null||A===void 0?void 0:A.contact_user_id;x&&V.push(x)}),Object(d.a)(U,z=>{const N=!Object(t.a)(K[z]),A=K[z],x=V.includes(z);if(!(x&&N&&A.status!==v.a.REMOVED)){if(x&&N&&A.status===v.a.REMOVED){j(Object(g.c)({draftId:B,contactUserId:z,status:v.a.COMPLETE}));return}x||j(Object(g.c)({draftId:B,contactUserId:z,status:v.a.REMOVED}))}})});O.meta={name:"createThunk",key:"createThunksyncDraftContactUnfurlState",description:"Sync contact unfurl state from server to redux"};var b=O,y=e("pJGC"),C=e("nwIl");const _=Object(s.c)("Reconcile a fetched draft with more recent updates with our local state",function(){var j=Object(n.coroutine)(function*(E,M){let{clientDraftId:T,fetchedDraft:P,forceReconciliation:B=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!T||Object(t.a)(P))return;const R=P,U=M(),K=Object(p.b)(U),V=Object(C.f)(U),{error:z,info:N}=Object(l.a)({getState:M,label:"DRAFTS"}),A=Object(m.k)(U,T);if(!A){z(`Reconciliation failed - no draft to update (${T})`);return}const x=parseFloat(Object(o.p)(R)),k=parseFloat(Object(o.p)(A));if(x<=k&&!B){N(`Reconciliation handled - server ts <= local model ts (${T})`);return}const F=parseFloat(Object(o.l)(A))/1e3;if(x<=F&&!B){N(`Reconciliation handled - server ts <= client ts (${T})`);return}let L=R;L=Object(a.a)(L,["unfurl"]),(K||V)&&(L=Object(a.a)(L,["attachments"])),L=Object(a.a)(L,["file_permissions"]);const S=yield E(Object(c.a)({clientDraftId:Object(o.z)(R)&&!Object(o.z)(A)?Object(o.f)(R):T,draft:L}));if(!S){z(`Reconciliation failed - cannot convert server draft (${T})`);return}N(`Reconciled updated draft - ${T}`);const I=Object(o.r)(R)||[];E(Object(r.a)({draft:S,unfurl:I}));const W=Object(o.c)(R)||[];K&&E(b({draft:S,attachments:W})),V&&E(Object(u.a)({draft:R,draftId:Object(o.e)(S)}));const D=Object(o.k)(R)||[];E(Object(y.a)({draft:S,filePermissions:D})),E(Object(f.h)(S))});return function(E,M){return j.apply(this,arguments)}}());_.meta={name:"createThunk",key:"createThunkreconcileUpdatedDraft",description:"Reconcile a fetched draft with more recent updates with our local state"}},HzpC:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("zxER"),l=e("x6tY"),o=e("ZobM"),f=e("E3dU"),r=e("E97Y"),m=e("RVJP"),c=e("zm5I");function u(p){let{file:v,hasNotification:g=!1,useIa4Icon:O=!1}=p;const b=Object(s.c)(P=>Object(m.d)(P,"spaceship_canvas_icon_changes")==="on"),y=v==null?void 0:v.linked_channel_id,C=Object(s.c)(P=>Object(f.d)(P,y)),_=Object(r.h)(C),j=Object(s.c)(c.a);if(!Object(l.g)(v))return null;let E;b&&Object(l.h)(v)&&_?E=t.a.createElement(o.a,{name:"direct-messages",variation:O?"filled":void 0,type:"quip",size:"20"}):b&&Object(l.h)(v)?E=t.a.createElement("div",{className:"p-quip_icon_container_channel_icon"},t.a.createElement(o.a,{name:"channel",variation:O?"filled":void 0,type:"quip",size:"20"})):E=t.a.createElement(o.a,{name:"canvas-content",variation:O?"filled":void 0,type:"quip",size:"20"});const M=Object(a.default)("p-quip_icon_container",{"p-quip_icon_container__ia4_icon":O}),T=Object(a.default)("p-quip_icon_notification_badge",{"p-quip_icon_notification_badge--dark_mode":j==="dark"});return t.a.createElement("div",null,t.a.createElement("div",{className:M},E),g?t.a.createElement("div",{className:T}):null)}h(u,"QuipIcon"),u.displayName="QuipIcon";var d=i.a=t.a.memo(u)},I6n1:function(J,i,e){"use strict";e.d(i,"d",function(){return n}),e.d(i,"i",function(){return t}),e.d(i,"j",function(){return a}),e.d(i,"g",function(){return s}),e.d(i,"h",function(){return l}),e.d(i,"f",function(){return o}),e.d(i,"e",function(){return f}),e.d(i,"b",function(){return r}),e.d(i,"a",function(){return m}),e.d(i,"c",function(){return u});const n="notifications",t="all_notifications_prefs",a="user_colors",s="frecency_jumper",l="ia_theme",o="frecency_ent_jumper",f="emoji_use",r="channel_sections",m="channel_canvas_layouts",c=["should_show_contextual_help_for_section_navigation"],u={should_show_contextual_help_for_section_navigation:!0}},I8Au:function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("TGBA"),t=e("pu3F");const a=["{","[","(","*","_","/",'"',"\u201C","'","\u2018","\u2019","<"],s=(()=>{const f=a.map(m=>`\\${m}`).join("|"),r=Object(n.a)(t.l).join("");return new RegExp(`^(\\s|${f}|[${r}])+`)})(),l=(()=>{const f=a.map(r=>`\\${r}`).join("|");return new RegExp(`^(\\s|${f})+`)})();function o(f){let{trimCJK:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{trimCJK:!0};return f?f.replace(r?s:l,""):""}h(o,"trimAllowedMatchPrefix")},IA19:function(J,i,e){"use strict";e.d(i,"c",function(){return t}),e.d(i,"a",function(){return a}),e.d(i,"d",function(){return s}),e.d(i,"b",function(){return l});var n=e("DwFS");const t=Object(n.a)("Expand an inline file preview");t.meta={name:"createAction",key:"createActionexpandFile",description:"Expand an inline file preview"};const a=Object(n.a)("Collapse an inline file preview");a.meta={name:"createAction",key:"createActioncollapseFile",description:"Collapse an inline file preview"};const s=Object(n.a)("Start loading a file to be expanded");s.meta={name:"createAction",key:"createActionstartExpanding",description:"Start loading a file to be expanded"};const l=Object(n.a)("Finished loading a file to be expanded");l.meta={name:"createAction",key:"createActiondoneExpanding",description:"Finished loading a file to be expanded"}},IJpL:function(J,i,e){"use strict";e.d(i,"c",function(){return O}),e.d(i,"b",function(){return b}),e.d(i,"a",function(){return y});var n=e("qAkX"),t=e("7EGn"),a=e("vEhQ"),s=e("s4P+"),l=e("M/q2"),o=e("vLZU"),f=e("j77i"),r=e("NLR5");const m="get-immediately-persisted-state",c=h(_=>Object(n.a)(_.split("::")),"getReducerKey"),u=h((_,j)=>{const E=j.replace(/\./g,`.${o.a}.`);return Object(t.a)(_,E)},"getReducerByKey");function d(){return Object.keys(sessionStorage)}h(d,"getsessionStorageKeys");function p(){return d().filter(_=>Object(o.w)({key:_}))}h(p,"getImmediatePersistKeysForClient");function v(_){let{teamId:j}=_;return d().filter(E=>Object(o.x)({key:E,teamId:j}))}h(v,"getImmediatePersistKeysForTeamId");const g=h(_=>{let{teamId:j,userId:E}=_;return d().filter(M=>Object(o.y)({teamId:j,userId:E,key:M}))},"getImmediatePersistKeysForUserId");function O(_){let{teamId:j,userId:E,reducerConfig:M,state:T={}}=_;if(!Object(l.a)("sessionStorage")||!j||!E)return T;const P=Object(s.a)({teamId:j}),B=g({teamId:j,userId:E}),R=Object(f.h)(j,"enterprise_id");return R&&B.push(...g({teamId:R,userId:E})),B.forEach(U=>{const K=c(U);K||P.error(`No reducer key found for local storage key: ${U}`);const V=u(M,K);let z;try{const x=sessionStorage.getItem(U);x||P.error(`No object found for local storage key: ${U}`),z=JSON.parse(x)}catch{z=V.initialState||{},Object(r.a)({successState:!1,spanName:m})}if(!Object(o.K)(V))return;const N=R&&Object(o.B)({reducer:V})?R:j,A=Object(o.o)(V);A&&(z=A(z,N)),Object(a.a)(T,K,z)}),Object(r.a)({successState:!0,spanName:m}),T}h(O,"getImmediatelyPersistedState");function b(_){let{teamId:j,userId:E}=_;const M=Object(s.a)({teamId:j,label:"LOCAL_STORAGE_CLEAR"}),T=Object(f.h)(j,"enterprise_id");M.info(`Purging all data in sessionStorage for user ${E}, teamId ${j} and enterpriseId ${T}...`),[j,T].forEach(P=>{P&&g({teamId:P,userId:E}).forEach(B=>sessionStorage.removeItem(B))}),M.info(`sessionStorage purging for user ${E}, teamId ${j} and enterpriseId ${T} is complete!`)}h(b,"clearImmediatelyPersistedStateForUserId");function y(_){if(!Array.isArray(_))throw new Error("teamIds in clearImmediatelyPersistedStateExceptForTeamIds must be an array");const j={},E=p(),M=_.reduce((P,B)=>{const R=v({teamId:B}),U=Object(f.h)(B,"enterprise_id");return U&&!j[U]&&(j[U]=!0,R.push(...v({teamId:U}))),P.concat(R)},[]);E.filter(P=>M.includes(P)===!1).forEach(P=>sessionStorage.removeItem(P))}h(y,"clearImmediatelyPersistedStateExceptForTeamIds");const C={getReducerKey:c,getReducerByKey:u,getsessionStorageKeys:void 0,getImmediatePersistKeysForClient:void 0,getImmediatePersistKeysForTeamId:void 0};Object.defineProperty(C,"getsessionStorageKeys",{get:()=>d,set:_=>{d=_}}),Object.defineProperty(C,"getImmediatePersistKeysForClient",{get:()=>p,set:_=>{p=_}}),Object.defineProperty(C,"getImmediatePersistKeysForTeamId",{get:()=>v,set:_=>{v=_}})},INTg:function(J,i,e){"use strict";var n=e("ifKl"),t=e("q1tI"),a=e.n(t),s=e("BHdc"),l=e("wd/R"),o=e.n(l),f=e("WIr4"),r=e("Cfcg"),m=e("6R8Z"),c=e("dA+b"),u=e("844o");let d=h(class extends t.Component{renderMonth(A){const{monthFormat:x}=this.props,k=A.format(x),F=this.props.renderMonth({value:k,format:x});return a.a.createElement("li",{key:k,className:"c-calendar_year__month"},F)}render(){const{year:A,yearFormat:x,className:k}=this.props,F=o()(A,x),L=F.clone().startOf("year"),S=F.clone().endOf("year"),I=L.clone(),W=[];for(;I.isBefore(S);)W.push(this.renderMonth(I.clone())),I.add(1,"month");const D=Object(s.default)("c-calendar_year",k);return a.a.createElement("div",{className:D},a.a.createElement("ul",{className:"c-calendar_year__list"},W))}constructor(A){super(A),this.renderMonth=this.renderMonth.bind(this)}},"Year");d.displayName="Year",d.defaultProps={yearFormat:"YYYY",renderMonth:N=>{let{value:A,format:x}=N;return o()(A,x).format("MMM")},monthFormat:"YYYY-MM"};var p=d,v=e("nNoG"),g=e("JoAr"),O=e("cYXZ"),b=e("gPPH"),y=e("s4P+"),C=e("7bEI"),_=e("ykb+");function j(){return j=Object.assign||function(N){for(var A=1;A<arguments.length;A++){var x=arguments[A];for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(N[k]=x[k])}return N},j.apply(this,arguments)}h(j,"_extends");const E=new v.b("date_picker"),M={padding:25,width:"100%",textAlign:"center"},T={year:"year",month:"month"},P={year:"YYYY",month:"YYYY-MM"},B=Object(y.b)();function R(N,A){return N&&A?o()(N,A):(N&&Object(_.b)()&&B.warn("View specified without format -- ignoring"),o()())}h(R,"maybeParseViewOrDate");let U=h(class extends t.PureComponent{componentDidMount(){this.maybeFocusOnActiveMonthOrDate()}componentDidUpdate(){this.maybeFocusOnActiveMonthOrDate()}getActiveDateFromMonth(A){var x;if(this.props.selectedDate){const F=o()(this.props.selectedDate,this.props.dateFormat);if(A.isSame(F,"month")&&!this.isDateDisabled(F))return F.format(this.props.dateFormat)}if(!((x=this.state)===null||x===void 0)&&x.activeDate){const F=o()(this.state.activeDate,this.props.dateFormat).month(A.month()).year(A.year());if(!this.isDateDisabled(F))return F.format(this.props.dateFormat)}const k=A.clone().startOf("month");for(;A.isSame(k,"month");){if(!this.isDateDisabled(k))return k.format(this.props.dateFormat);k.add(1,"day")}}getActiveMonthFromYear(A){if(this.state.selectedMonth){const k=o()(this.state.selectedMonth,P.month);if(A.isSame(k,"year")&&!this.isMonthDisabled(k))return k.format(P.month)}if(this.state.activeMonth){const k=o()(this.state.activeMonth,P.month).year(A.year());if(!this.isMonthDisabled(k))return k.format(P.month)}const x=A.clone().startOf("year");for(;A.isSame(x,"year");){if(!this.isMonthDisabled(x))return x.format(P.month);x.add(1,"month")}}setView(A,x,k){Object(_.b)()&&!x&&this.props.logger.warn("Missing view type");const F=this.state.viewType!==x,L=P[x],S=F&&k;S||(x===T.month?this.props.sendMessageToAnnouncerAPI({message:Object(g.a)(A,"{calendar_header}"),assertive:!0,uuid:Object(b.a)()}):x===T.year&&this.props.sendMessageToAnnouncerAPI({message:A.format(this.props.yearTitleFormat),assertive:!0,uuid:Object(b.a)()})),this.setState(I=>({ariaIntro:S,viewType:x,view:A.format(L),selectedMonth:x===T.month?A.format(P.month):I.selectedMonth,activeDate:x===T.month?this.getActiveDateFromMonth(A):I.activeDate,activeMonth:x===T.year?this.getActiveMonthFromYear(A):I.activeMonth,focusOnActiveMonthOrDate:S}))}canMoveBack(){return this.props.disableDatesBefore?o()(this.state.view,P[this.state.viewType]).startOf(this.state.viewType).isAfter(o()(this.props.disableDatesBefore,this.props.dateFormat)):!0}canMoveForward(){return this.props.disableDatesAfter?o()(this.state.view,P[this.state.viewType]).endOf(this.state.viewType).isBefore(o()(this.props.disableDatesAfter,this.props.dateFormat)):!0}handleDateClick(A){var x,k;const F=A.target.dataset.value;F&&this.isDateDisabled(o()(F,this.props.dateFormat))||(this.setState(()=>({activeDate:F})),(k=(x=this.props).onDateChange)===null||k===void 0||k.call(x,F))}handleKeyboardCommand(A){if(!this.props.kbNavActive)return;const{key:x}=A,{viewType:k}=this.state;if(A.stopPropagation(),A.preventDefault(),k===T.month){switch(x){case"ArrowUp":this.moveDateBy(-1,"week");break;case"ArrowDown":this.moveDateBy(1,"week");break;case"ArrowLeft":this.moveDateBy(-1,"day");break;case"ArrowRight":this.moveDateBy(1,"day");break;case"PageUp":this.moveDateBy(-1,"month");break;case"PageDown":this.moveDateBy(1,"month");break;default:break}return}if(k===T.year)switch(x){case"ArrowUp":this.moveSelectedMonthBy(-3);break;case"ArrowDown":this.moveSelectedMonthBy(3);break;case"ArrowLeft":this.moveSelectedMonthBy(-1);break;case"ArrowRight":this.moveSelectedMonthBy(1);break;case"PageUp":this.moveSelectedMonthBy(-12);break;case"PageDown":this.moveSelectedMonthBy(12);break;default:break}}handleMonthClick(A){const x=A.target.dataset.value,k=A.target.dataset.format,F=o()(x,k);this.setView(F,T.month,Object(C.a)(A))}handleViewDecrement(A){this.handleViewIncrement(A,-1)}handleViewIncrement(A){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const{view:k,viewType:F}=this.state,L=o()(k,P[F]).add(x,F);this.setView(L,F,Object(C.a)(A))}handleViewSwitch(A){const{selectedMonth:x,viewType:k}=this.state,F=k===T.month?T.year:T.month,L=o()(x,P.month);this.setView(L,F,Object(C.a)(A))}isDateActive(A){const x=o()(this.state.activeDate,this.props.dateFormat);return A.isSame(x)}isDateDisabled(A){let x=!1;if(this.props.isDateDisabled&&(x=this.props.isDateDisabled(A)),!x){var k;for(let F=0,L=(k=this.props.disabledDates)===null||k===void 0?void 0:k[F];F<this.props.disabledDates.length;F++)A.isSame(o()(L,this.props.dateFormat))&&(x=!0)}return!x&&this.props.disableDatesBefore&&(x=x||A.isBefore(o()(this.props.disableDatesBefore,this.props.dateFormat))),!x&&this.props.disableDatesAfter&&(x=x||A.isAfter(o()(this.props.disableDatesAfter,this.props.dateFormat))),x}isDateSelected(A){const x=o()(this.props.selectedDate,this.props.dateFormat);return A.isSame(x)}isMonthDisabled(A){let x=!1;return this.props.disableDatesBefore&&(x=A.clone().endOf("month").isBefore(o()(this.props.disableDatesBefore,this.props.dateFormat))),this.props.disableDatesAfter&&!x&&(x=A.clone().startOf("month").isAfter(o()(this.props.disableDatesAfter,this.props.dateFormat))),x}maybeFocusOnActiveMonthOrDate(){this.props.kbNavActive&&this.state.focusOnActiveMonthOrDate&&(this.activeDayElement.current?this.activeDayElement.current.focus():this.activeMonthElement.current&&this.activeMonthElement.current.focus())}moveDateBy(A,x){const{activeDate:k,activeMonth:F}=this.state;if(!k&&F){const S=o()(F,P.month),I=this.getActiveDateFromMonth(S);this.setState(()=>({activeDate:I,focusOnActiveMonthOrDate:!!I}));return}if(this.activeDayElement.current&&document.activeElement!==this.activeDayElement.current){this.state.focusOnActiveMonthOrDate?this.activeDayElement.current.focus():this.setState(()=>({focusOnActiveMonthOrDate:!0}));return}const L=o()(k,this.props.dateFormat);L.add(A,x),this.isDateDisabled(L)||this.setState(()=>({ariaIntro:!1,activeDate:L.format(this.props.dateFormat),view:L.format(P.month),focusOnActiveMonthOrDate:!0}))}moveSelectedMonthBy(A){const{activeMonth:x}=this.state;if(!x)return;if(this.activeMonthElement.current&&document.activeElement!==this.activeMonthElement.current){this.state.focusOnActiveMonthOrDate?this.activeMonthElement.current.focus():this.setState(()=>({focusOnActiveMonthOrDate:!0}));return}const k=o()(x,P.month);k.add(A,"month"),this.isMonthDisabled(k)||this.setState(()=>({ariaIntro:!1,activeMonth:k.format(P.month),view:k.format(P.year),focusOnActiveMonthOrDate:!0}))}renderDate(){let{value:A,dateFormat:x,sameMonth:k,isToday:F,monthStart:L,monthEnd:S,firstWeekStart:I,firstWeekEnd:W,lastWeekStart:D,lastWeekEnd:H}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Z=o()(A,x),G=this.isDateActive(Z),te=this.isDateDisabled(Z),se=this.isDateSelected(Z),$=Object(s.default)("c-date_picker_calendar__date","c-button-unstyled",{"c-date_picker_calendar__date--is_today":F,"c-date_picker_calendar__date--is_selected":se,"c-date_picker_calendar__date--is_active":G,"c-date_picker_calendar__date--disabled":te,"c-date_picker_calendar__date--month_start":L,"c-date_picker_calendar__date--month_end":S,"c-date_picker_calendar__date--first_week_start":I,"c-date_picker_calendar__date--first_week_end":W,"c-date_picker_calendar__date--last_week_start":D,"c-date_picker_calendar__date--last_week_end":H}),X=this.state.ariaIntro&&G?E.t("Date picker: {selectedDate} selected. Use arrow keys to change date.",{selectedDate:Z.format("LL")}):Z.format("D, MMMM YYYY, dddd");return k?a.a.createElement(m.a,{ref:G?this.activeDayElement:n.a,className:$,disabled:te,onClick:this.handleDateClick,"data-value":A,"data-format":x,tabIndex:G?0:-1,"aria-current":se?"date":!1,"aria-label":X,"data-qa":G&&"active_date","data-qa-date":A},Z.format("D")):null}renderMonthButton(){let{value:A,format:x,...k}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const F=o()(A,x),L=A===this.state.activeMonth,S=A===this.state.selectedMonth,I=Object(s.default)("c-button-unstyled","c-mini_calendar__month_button",`c-mini_calendar__month_${F.month()+1}`,{"c-mini_calendar__month_button--is_active":L,"c-mini_calendar__month_button--is_selected":S}),W=this.state.ariaIntro&&L?E.t("Month picker: {selectedMonth} selected. Use arrow keys to change month.",{selectedMonth:F.format("MMMM YYYY")}):F.format("MMMM YYYY");return a.a.createElement(m.a,j({style:M,tabIndex:L?0:-1,ref:L?this.activeMonthElement:n.a,className:I,disabled:this.isMonthDisabled(F),onClick:this.handleMonthClick,"aria-current":!!S,"aria-label":W,"data-value":A,"data-format":x,"data-qa":L&&"active_month","data-qa-month":A},k),F.format("MMM"))}renderMonthView(){const{view:A}=this.state,{dateFormat:x}=this.props,k=o()(A,x),F=Object(g.a)(k,"{calendar_header}"),L=E.t("Jump to another month");return a.a.createElement("div",{className:"c-mini_calendar__month_view"},a.a.createElement(c.a,{title:F,onTitleClick:this.handleViewSwitch,onLeftArrowClick:this.handleViewDecrement,onRightArrowClick:this.handleViewIncrement,titleLabel:L,leftArrowLabel:E.t("Previous month"),rightArrowLabel:E.t("Next month"),leftArrowIsDisabled:!this.canMoveBack(),rightArrowIsDisabled:!this.canMoveForward()}),a.a.createElement(u.a,{month:A,monthFormat:x,renderDate:this.renderDate}))}renderYearView(){const{view:A}=this.state,{dateFormat:x,yearTitleFormat:k}=this.props,L=o()(A,x).format(k),S=E.t("Back to date picker");return a.a.createElement("div",{className:"c-mini_calendar__year_view"},a.a.createElement(c.a,{title:L,onTitleClick:this.handleViewSwitch,onLeftArrowClick:this.handleViewDecrement,onRightArrowClick:this.handleViewIncrement,titleLabel:S,leftArrowLabel:E.t("Previous year"),rightArrowLabel:E.t("Next year"),leftArrowIsDisabled:!this.canMoveBack(),rightArrowIsDisabled:!this.canMoveForward()}),a.a.createElement(p,{year:A,yearFormat:x,renderMonth:this.renderMonthButton}))}render(){const{viewType:A}=this.state,x=Object(s.default)("c-date_picker_calendar",this.props.className);return a.a.createElement("div",{role:"none",className:x,"data-qa":"date_picker_calendar",onKeyDown:this.handleKeyboardCommand},a.a.createElement("div",{className:"c-mini_calendar"},A===T.year?this.renderYearView():this.renderMonthView()))}constructor(A){super(A);const{selectedDate:x,dateFormat:k,disableDatesBefore:F,disableDatesAfter:L,focusOnMount:S,initialViewType:I}=this.props;let W=R(x,k);const D=F&&o()(F,k);if(D&&W.isBefore(D))W=D;else{const Z=L&&o()(L,k);Z&&W.isAfter(Z)&&(W=Z)}const H=W.format(P.month);this.state={ariaIntro:!0,activeDate:this.isDateDisabled(W)?this.getActiveDateFromMonth(W):W.format(k),selectedMonth:H,activeMonth:H,viewType:T[I]||T.month,view:H,focusOnActiveMonthOrDate:S},Object(f.a)(this,["handleKeyboardCommand","handleDateClick","handleMonthClick","handleViewSwitch","handleViewIncrement","handleViewDecrement","renderDate","renderMonthButton","renderMonthView","renderYearView"]),this.activeDayElement=a.a.createRef(),this.activeMonthElement=a.a.createRef()}},"DatePickerCalendar");U.displayName="DatePickerCalendar",U.defaultProps={className:void 0,selectedDate:void 0,disabledDates:[],yearTitleFormat:"YYYY",dateFormat:"YYYY-MM-DD",onDateChange:n.a,kbNavActive:!0,focusOnMount:!0,isDateDisabled:()=>!1,disableDatesBefore:void 0,disableDatesAfter:void 0,sendMessageToAnnouncerAPI:n.a,initialViewType:"month"};const K=h(N=>({logger:Object(y.a)({state:N})}),"mapStateToProps"),V=Object(O.a)(U);var z=i.a=Object(r.a)(K)(V)},INuR:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("GzZI"),l=e("wd/R"),o=e.n(l);function f(){return f=Object.assign||function(m){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(m[d]=u[d])}return m},f.apply(this,arguments)}h(f,"_extends");let r=h(class extends n.PureComponent{renderSingleDayOfWeek(c){const u=o()().weekday(c);return t.a.createElement("th",{key:c,className:"c-calendar_month__day_of_week_heading","aria-label":u.format("dddd")},u.format(this.props.format))}render(){const{className:c,format:u,...d}=this.props,p=Object(a.default)("c-calendar_month__days_of_week",c);return t.a.createElement("tr",f({className:p},d),Object(s.a)(7,this.renderSingleDayOfWeek))}constructor(c){super(c),this.renderSingleDayOfWeek=this.renderSingleDayOfWeek.bind(this)}},"DaysOfWeek");r.displayName="DaysOfWeek",r.defaultProps={format:"dd"},i.a=r},IQp8:function(J,i,e){"use strict";e.d(i,"d",function(){return n}),e.d(i,"b",function(){return t}),e.d(i,"a",function(){return a}),e.d(i,"c",function(){return o});const n={Limited:"LIMITED",Extended:"EXTENDED"},t={NoOne:"NO_ONE",ChannelHostMembers:"CHANNEL_HOST_MEMBERS",AnyTeamInChannel:"ANY_TEAM_IN_CHANNEL",SelectTeamsInChannel:"SELECT_TEAMS_IN_CHANNEL"},a={Manual:"M",All:"A",NewChannels:"N"},s={Auto:"AUTO",AutoWhenAutoApproveOn:"AUTO_WHEN_AUTO_APPROVE_ON",Manual:"MANUAL"},l={Allow:"ALLOW",AllowWhenAutoApproveOn:"ALLOW_WHEN_AUTO_APPROVE_ON",Block:"BLOCK"},o={Default:"DEFAULT",High:"HIGH"}},IW9Y:function(J,i,e){"use strict";e.d(i,"b",function(){return r});var n=e("q1tI"),t=e.n(n),a=e("pbND"),s=e("KYPV"),l=e("OCkr");function o(){return o=Object.assign||function(m){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(m[d]=u[d])}return m},o.apply(this,arguments)}h(o,"_extends");function f(m,c){return u=>{const{name:d}=Object(n.useContext)(a.a),{validateOnBlur:p,...v}=u,g=Object(s.f)(),O=Object(n.useMemo)(()=>c({name:d,handleChange:g.handleChange,handleBlur:g.handleBlur,setFieldValue:g.setFieldValue,setFieldTouched:g.setFieldTouched,validateOnBlur:p,props:u}),[d,g.handleChange,g.handleBlur,g.setFieldValue,g.setFieldTouched,p,u]);return t.a.createElement(m,o({},v,O))}}h(f,"withFieldAdapter"),f.displayName="withFieldAdapter";function r(m,c){const u=f(m,c);return h(p=>t.a.createElement(l.a,o({component:u},p)),"FieldTextInput")}h(r,"withField"),r.displayName="withField",i.a=f},Ilel:function(J,i,e){"use strict";var n=e("n3tL"),t=e("Lgge"),a=e("SQ0V"),s=e("vfQU"),l=e("gn35"),o=e("GTwG"),f=e("opHY"),r=e("ZOzc"),m=e("MY1y"),c=e("yPgC"),u=e("Rzhv"),d=e("NR1w"),p=e("ouAP");const v=Object(a.c)("Download a file",(O,b,y)=>{let{file:C,forceDownload:_,action:j=p.a.Default,exportListsTemplate:E=!1}=y;const M=b();if(Object(r.a)(M,"block_file_download")&&!_)return O(Object(l.a)({reason:"FileActions_checkIP",fileId:C.external_id})).then(R=>{let{ip_allowed:U}=R;return U?O(v({file:C,forceDownload:!0,action:j})):(O(Object(d.c)(j)),!1)}).catch(()=>(O(Object(d.c)(j)),!1));const P=Object(m.a)(M,C,E);if(!P)return t.a.reject(new Error("No download URL"));if(Object(s.eb)())return O(Object(f.l)({fileId:C.id,downloadUrl:P,showFlexpane:!0})),t.a.resolve(!0);let B=!1;try{B=!window.open(P)}catch{B=!0}return B?(O(Object(u.a)(!0)),t.a.resolve(!1)):t.a.resolve(!0)});v.meta={name:"createThunk",key:"createThunkdownloadFile",description:"Download a file"},v.propTypes={file:c.a.File().isRequired,forceDownload:n.default.bool};const g=Object(a.c)("Attempt to download a file and clog outcome",(O,b,y)=>{let{file:C,clog:_=!0,action:j,exportListsTemplate:E=!1}=y;return O(v({file:C,action:j,exportListsTemplate:E})).then(M=>(_&&O(Object(o.b)({file:C,payload:{link_action:"file_ssb_download_link",subtype:"file_download",is_successful:M}})),M))});g.meta={name:"createThunk",key:"createThunkdownloadFileAndClog",description:"Attempt to download a file and clog outcome"},g.propTypes={file:c.a.File().isRequired,clog:n.default.bool},i.a=g},Iu7c:function(J,i,e){"use strict"},IuGH:function(J,i,e){"use strict";e.d(i,"a",function(){return U});var n=e("9oTK"),t=e.n(n),a=e("q1tI"),s=e.n(a),l=e("Lgge"),o=e("SQ0V"),f=e("qrSN"),r=e("nedc"),m=e("VThA"),c=e("I0j/"),u=e("37+L"),d=e("/Rv1"),p=e("9Gfp"),v=e("pmzr"),g=e("uoFi"),O=e("WXkz"),b=e("q6Tz"),y=e("uVZW"),C=e("3l96"),_=e("2VFn"),j=e("fGfo"),E=e("OaiI"),M=e("ktUG"),T=e("kBpe"),P=e("NV6F"),B=e("ljyh"),R=e("qMw6");const U=Object(o.c)("Open a list",function(){var K=Object(n.coroutine)(function*(V,z,N){let{listFileId:A,listViewId:x,focusRecordId:k,navigateInCurrentContext:F,navigateInPlace:L,shouldCloseFlexpane:S,viewContext:I}=N;const W=z(),D=Object(O.w)(W,A),H=Object(p.a)(W),Z=Object(j.p)(D);if(!Object(E.isListsEnabled)(W)){V(Object(C.a)({element:s.a.createElement(f.a,{isStackable:!0})}));return}V(Object(b.b)({event:{type:y.e.LISTS_LIST_OPENED}}));const G=yield V(Object(r.a)({listId:A,reason:"open-list"}));if(Object(E.isListsHighlightNewRecordEnabled)(W)&&V(Object(g.F)({listId:A,lastReadTimestamp:parseInt(G.last_read_timestamp,10)})),D&&Z){const se=Z.filter($=>$.type!==m.a.Record&&$.createdBy!==H&&$.dateCreated>parseInt(G.last_read_timestamp,10)).map($=>$.id);V(Object(g.z)({listId:D.id,newViewIds:se}))}if(V(Object(g.a)({listId:A})),I===R.a.HUDDLE_THREADS&&Object(E.isListsOpenInHuddleEnabled)()){V(Object(v.a)({fileId:A}));return}S&&(yield l.a.resolve(V(Object(d.a)())));let te=Object(u.L)({listId:A,listViewId:x,focusRecordId:k});if(L&&(te=Object(u.a)(te)),(Object(T.i)()||Object(B.a)())&&!F){const se={[_.i.Primary]:te};V(Object(P.w)({viewSet:se,clogParams:{eventId:M.EventId.SLACK_LISTS}}))}else V(Object(c.a)(te))});return function(V,z,N){return K.apply(this,arguments)}}());U.meta={name:"createThunk",key:"createThunkopenList",description:"Open a list"}},J4K5:function(J,i,e){"use strict"},JBzN:function(J,i,e){"use strict";e.d(i,"a",function(){return n}),e.d(i,"c",function(){return t}),e.d(i,"b",function(){return a});function n(s,l){let{x:o,y:f,width:r,height:m,radius:c,clip:u}=l;s.beginPath(),s.moveTo(o+c,f),s.lineTo(o+r-c,f),s.arcTo(o+r,f,o+r,f+c,c),s.lineTo(o+r,f+m-c),s.arcTo(o+r,f+m,o+r-c,f+m,c),s.lineTo(o+c,f+m),s.arcTo(o,f+m,o,f+m-c,c),s.lineTo(o,f+c),s.arcTo(o,f,o+c,f,c),u?s.clip():s.closePath()}h(n,"rrect");function t(s){let{sourceWidth:l,sourceHeight:o,targetWidth:f,targetHeight:r}=s;const m=Math.min(f,r/o*l),c=Math.min(r,f/l*o),u=(f-m)/2,d=(r-c)/2;return{x:u,y:d,width:m,height:c}}h(t,"scaleToFit");function a(s){let{sourceWidth:l,sourceHeight:o,targetWidth:f,targetHeight:r}=s;const m=Math.max(f,r/o*l),c=Math.max(r,f/l*o),u=(f-m)/2,d=(r-c)/2;return{x:u,y:d,width:m,height:c}}h(a,"scaleToFill")},"Ja/R":function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("vPIQ"),t=e("xcHN"),a=e("6Mvn"),s=e("6CnZ"),l=e("UIhb");function o(f,r,m){const c=Object(t.c)(r,m),u=Object(s.j)(f,c);if(!u||!u.timestamps)return null;const d=Object(n.a)(u.timestamps,p=>{const v=Object(l.b)(f,r,p);return v?Object(a.a)(f,v):!1});return d?Object(l.b)(f,r,d):null}h(o,"getLastMessageInThread")},JgQX:function(J,i,e){"use strict";e.d(i,"a",function(){return I});var n=e("mM05"),t=e.n(n),a=e("m5Yc"),s=e("Ar8P"),l=e("MvaT"),o=e("xwCZ"),f=e("52Wj"),r=e("2oNE"),m=e("/+/u"),c=e("pTwU"),u=e("JnIm"),d=e("GhjL"),p=e("DQNL"),v=e("E3dU"),g=e("Yauy"),O=e("jlKB"),b=e("dS/7"),y=e("oNuo"),C=e("6kKm");const{SECTION:_,LIST:j,PREFORMATTED:E,QUOTE:M,TEXT:T,USER:P,USERGROUP:B,CHANNEL:R,BROADCAST:U,EMOJI:K,LINK:V,DATE:z,COLOR:N,WORKFLOWTOKEN:A}=a.b,x={bold:"*",italic:"_",strike:"~",code:"`"},k="*",F="    ",L="> ";let S;function I(G,te){let se=new t.a;return Object(s.a)(te)&&(S=[],te[0].elements.forEach($=>{switch($.type){case _:{se=se.concat(D(G,$.elements,_));break}case M:{const X=($==null?void 0:$.border)>=1;se.insert("> "),X&&se.insert("> "),se=se.concat(D(G,$.elements,M)),se.insert(`
`);break}case E:{($==null?void 0:$.border)>=1&&se.insert("> "),se.insert("```"),se=se.concat(D(G,$.elements,E)),se.insert("```"),se.insert(`
`);break}case j:{se=se.concat(W(G,$.elements,$.style,$.indent,$.border,$.offset));break}default:break}}),Object(l.a)(se)||se.insert(`
`)),se}h(I,"convertBlocksToMrkdwnDelta");function W(G,te,se){let $=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,Y=new t.a;const ee=h(()=>{for(let ne=0;ne<X;ne++){Y.insert(L);for(let ae=0;ae<$;ae++)Y.insert(F)}},"borderAndIndentLoop"),w=h(()=>{for(let ne=0;ne<$;ne++)Y.insert(F)},"indentLoopOnly");return te.forEach((ne,ae)=>{if(X?ee():w(),se===a.a.BULLET)Y.insert(`${k} `);else if(se===a.a.ORDERED){const de=ae+1+q;Y.insert(`${de}. `)}Y=Y.concat(D(G,ne.elements,_)),Y.insert(`
`)}),Y}h(W,"convertSectionsInsideList");function D(G,te,se){let $=new t.a;const X=Object(u.a)(G),q=Object(O.a)(G);let Y,ee,w,ne,ae,de,ge,le,Q,ie;return te.forEach(oe=>{switch(oe.type){case T:ge=oe.text,se===M&&ge.includes(`
`)&&(ge=Z(ge)),le=[...ge];for(let be=0;be<le.length;be++){const Se=le[be],Pe=se===M&&(be!==0&&le[be]===">"&&le[be-1]===`
`||le[0]===">"&&!oe.style);if(S.length===0&&(Se===`
`||Pe||Se===" "))$.insert(Se),ge=ge.substring(1);else break}$=$.concat(H(oe,ge));break;case P:var me;Y=(me=Object(o.g)(G,oe.user_id))!==null&&me!==void 0?me:void 0,Q={slackmention:Object(m.a)(Y,X)},$=$.concat(H(oe,`@${Object(f.b)(Y)}`,Q));break;case B:ee=Object(d.d)(G,oe.usergroup_id),Q={slackmention:Object(c.a)(ee,X)},$=$.concat(H(oe,Object(p.g)(ee),Q));break;case R:w=Object(v.d)(G,oe.channel_id),ne=`#${Object(g.t)(G,w,{publicChannelIncludeHashSign:!1})}`,w!=null&&(Q={slackmention:Object(r.a)(w.id,ne)},$=$.concat(H(oe,ne,Q)));break;case U:ae=Object(y.a)(`BK${oe.range}`),Q={slackmention:Object(r.a)(`BK${oe.range}`,`@${Object(C.a)(ae)}`,X)},$=$.concat(H(oe,`@${Object(C.a)(ae)}`,Q));break;case K:q?$.insert(Object(b.a)(oe,{state:G,localize:!0})):(de=`:${oe.name}:`,oe.skin_tone&&(de+=`:skin-tone-${oe.skin_tone}:`),$.insert({slackemoji:{text:de}}));break;case N:$=$.concat(H(oe,oe.value));break;case z:oe.fallback&&($=$.concat(H(oe,oe.fallback)));break;case V:ie=oe.text?`[${oe.text}](${oe.url})`:oe.url,$=$.concat(H(oe,ie));break;case A:$=$.concat(H(oe,{workflowtoken:{id:oe.id,property:oe.property,type:oe.data_type,label:"",sourceLabel:"",propertyLabel:"",isAvailable:!1}}));break;default:break}}),[...S].reverse().forEach(oe=>{$.insert(x[oe]),S=S.filter(me=>me!==oe)}),$}h(D,"convertChunksFromTopLevelElements");function H(G,te){let se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const $=new t.a;if(!G.style&&S.length===0)return $.insert(te,{...se});const X=G.style?Object.keys(G.style):[];return[...S].reverse().forEach(q=>{(X.length===0||!X.includes(q))&&($.insert(x[q]),S=S.filter(Y=>Y!==q))}),X.forEach(q=>{x[q]&&!S.includes(q)&&($.insert(x[q]),S.push(q))}),$.insert(te,{...se}),$}h(H,"addStylingForChunks");function Z(G){return G.split(`
`).join(`
> `)}h(Z,"addQuoteCharactersWithNewline")},Jk7K:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("Fbvv");i.a=t.a.createContext({registerSection:a.a,unregisterSection:a.a,setActiveSection:a.a,getActiveSection:s.a,resetSectionNavigation:a.a})},JoEr:function(J,i,e){"use strict";e.d(i,"c",function(){return l}),e.d(i,"b",function(){return o}),e.d(i,"e",function(){return f}),e.d(i,"f",function(){return r}),e.d(i,"d",function(){return m}),e.d(i,"a",function(){return g}),e.d(i,"g",function(){return O});var n=e("Ycqg"),t=e("vIgB"),a=e("fe47");function s(b,y){const C=Object(a.b)(b);if(C){for(const _ of C.namedInputs)if(_.parameter===y)return _.value}}h(s,"extractNamedInput");function l(b){return s(b,"timezone")}h(l,"extractLocalizedTimezone");function o(b){return s(b,"locale")}h(o,"extractLocale");function f(b){return b?!!Object(a.b)(b):!1}h(f,"isIdWrappedWithMacro");function r(b){let{type:y,arrayItemType:C,id:_}=b;return y?!!m({type:y,arrayItemType:C,variableId:_}):!1}h(r,"isTypeMacroSupported");function m(b){let{type:y,callbackId:C,fromRichText:_,arrayItemType:j,variableId:E}=b;var M,T;if(!((M=n.h[y])===null||M===void 0)&&M.call(n.h)){const U=n.h[y]();return c({options:U,callbackId:C,fromRichText:_})}if(y===t.d.Array&&j){var P;const U=(P=n.a[j])===null||P===void 0?void 0:P.call(n.a);return c({options:U,callbackId:C,fromRichText:_})}if(y===t.d.String){var B,R;return(R=u(E))!==null&&R!==void 0?R:(B=n.h[y])===null||B===void 0?void 0:B.call(n.h)}return(T=n.h[y])===null||T===void 0?void 0:T.call(n.h)}h(m,"getMacroOptions");function c(b){let{options:y,callbackId:C,fromRichText:_}=b;if(!C)return y;const j=Object.entries(y??{}).filter(E=>{let[,M]=E;const{macroDetails:T,onlyRichTextAllowed:P,disallowedCallbackIds:B,allowedCallbackIds:R}=M;return!_&&(T==null?void 0:T.outputParameter.type)==="slack#/types/blocks"||P&&!_?!1:B?!B.includes(C):R?R.includes(C):!0});return Object.fromEntries(j)}h(c,"filterMacroOptions");function u(b){if(b!=null&&b.includes("__reaction"))return n.h[t.a.CustomTypeEmojiReaction]()}h(u,"getMacroOptionsFromId");function d(b){if(b!=null&&b.includes("__reaction"))return n.e[t.a.CustomTypeEmojiReaction]()}h(d,"getDefaultMacroFromId");function p(b){let{type:y,variableId:C}=b;var _,j;return(j=d(C))!==null&&j!==void 0?j:(_=n.e[y])===null||_===void 0?void 0:_.call(n.e)}h(p,"getDefaultMacro");function v(b,y,C,_){var j,E,M,T;if(b&&(!((j=n.d[b])===null||j===void 0||(E=j[C])===null||E===void 0)&&E.call(j,_)))return n.d[b][C](_);if(y&&(!((M=n.d[y])===null||M===void 0||(T=M[C])===null||T===void 0)&&T.call(M,_)))return n.d[y][C](_)}h(v,"getDefaultMacroForStepOrApp");function g(b,y){const{id:C,type:_,items:j}=b,E=O(C,_,j,y);return E?{...b,id:E}:b}h(g,"applyDefaultMacroForVariable");function O(b,y,C,_){const j=C&&C.type,M=y===t.d.Array&&j?j:y;var T;const P=(T=v(_==null?void 0:_.stepId,_==null?void 0:_.appId,y,{experimentWfbBackToBasicsMarchReleaseGroupOn:_==null?void 0:_.experimentWfbBackToBasicsMarchReleaseGroupOn}))!==null&&T!==void 0?T:p({type:M,variableId:b});if(P){var B;const R=(B=m({type:y,arrayItemType:j,callbackId:_==null?void 0:_.callbackId,variableId:b,fromRichText:_==null?void 0:_.fromRichText}))===null||B===void 0?void 0:B[P];if(R)return R.wrapWithMacro(b,_)}}h(O,"wrapIdWithDefaultMacro")},"K4/v":function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("mM05"),t=e.n(n),a=e("0qhH"),s=e("fR2/");function l(o,f){const r=[o||new t.a,f||new t.a];for(let m=0;m<r.length;m++){const c=r[m].ops[r[m].ops.length-1],u=Object(a.a)(c)&&(c==null?void 0:c.insert)||"";(!r[m].ops.length||!Object(a.a)(c)||Object(s.a)(c)||u.substr(-1)!==`
`)&&r[m].insert(`
`)}return r[0].diff(r[1]).length()===0}h(l,"areDeltasEqual")},K8V4:function(J,i,e){"use strict";var n=e("q1tI"),t=e("/MKj"),a=e("dkXW"),s=e("zxER"),l=e("RVJP"),o=e("yvAn"),f=e("WMzb"),r=e("s4P+"),m=e("1Np4"),c=e("4cU5");function u(){const I=Object(s.c)(H=>Object(m.a)({state:H})),W=Object(f.a)();return{onFrameTimingData:Object(n.useCallback)(H=>{const Z=H.detail.frameTimings,G=H.detail.effect,{sum:te,count:se,drops:$,draw:X}=Z,q=I.createMetricsTrace({samplingOptions:{sampleRate:.2,sampleType:c.g.SESSION},tags:{effect:G}});[{name:"story_record_video:average_fps",value:1e3/(te/se)},{name:"story_record_video:relative_drops",value:$/se},{name:"story_record_video:average_draw_time",value:X/se}].forEach(ee=>{q.store(ee),W.info("VIDEO-RECORDER",`frame timing data: ${ee.name} ${ee.value}`)}),I.reportTrace(q)},[I,W])}}h(u,"useFrameTimingData");var d=u,p=e("N4UQ"),v=e("9oTK"),g=e("Yk1L"),O=e("zmn3"),b=e("kBpe"),y=e("ektR"),C=e("xt0X");const _=2e3,j=1e4;function E(I){let{recording:W,recordingPaused:D,cameraOn:H,screenCaptureOn:Z,usingCustomBgOrBlur:G,mimeType:te}=I;const se=Object(s.c)(ae=>Object(m.a)({state:ae})),$=Object(f.a)(),X=Object(n.useRef)(),q=Object(n.useRef)(),Y=Object(n.useRef)([]),ee=Object(n.useRef)({}),w=Object(n.useRef)(),ne=Object(n.useCallback)(Object(v.coroutine)(function*(){if(w.current||(w.current=se.createMetricsTrace({samplingOptions:{sampleRate:.1,sampleType:c.b}})),!w.current.isSampled())return;const ae=yield T();if(!ae)return;Y.current.push(ae);const de=performance.now();if(!q.current||de-q.current>j){q.current=de;const ge=window.navigator.hardwareConcurrency,le={cpu:Object(g.a)(Object(O.a)(Y.current,"cpu")),cpuWithoutGpu:Object(g.a)(Object(O.a)(Y.current,"cpuWithoutGpu")),memory:{workingSetSize:Object(g.a)(Object(O.a)(Y.current,"memory.workingSetSize")),peakWorkingSetSize:Object(g.a)(Object(O.a)(Y.current,"memory.peakWorkingSetSize"))}};$.info("CLIPS-STATS",`cpuCount: ${ge} cpu: ${le.cpu} cpuWithoutGpu: ${le.cpuWithoutGpu} workingSetSize: ${le.memory.workingSetSize} peakWorkingSetSize: ${le.memory.peakWorkingSetSize}`);const Q=w.current;Q.store({name:"clips_recorder_app_metrics:cpu",value:le.cpu}),Q.store({name:"clips_recorder_app_metrics:cpuWithoutGpu",value:le.cpuWithoutGpu}),Q.store({name:"clips_recorder_app_metrics:cpu_adjusted",value:ge*le.cpu}),Q.store({name:"clips_recorder_app_metrics:cpuWithoutGpu_adjusted",value:ge*le.cpuWithoutGpu}),Q.store({name:"clips_recorder_app_metrics:workingSetSize",value:le.memory.workingSetSize}),Q.store({name:"clips_recorder_app_metrics:peakWorkingSetSize",value:le.memory.peakWorkingSetSize}),Q.addTags({...ee.current,cpuCount:ge}),se.reportTrace(Q),w.current=void 0,Y.current=[]}}),[$,se]);Object(n.useEffect)(()=>{if(Object(b.i)())return W&&!D&&(q.current=performance.now(),X.current=setInterval(ne,_)),()=>{Y.current=[],clearInterval(X.current)}},[W,ne,D]),Object(n.useEffect)(()=>{ee.current={cameraOn:H,screenCaptureOn:Z,mimeType:te,usingCustomBgOrBlur:G}},[H,te,Z,G])}h(E,"useAppMetricsReporter");var M=E;function T(){return P.apply(this,arguments)}h(T,"makeAppMetricsStats");function P(){return P=Object(v.coroutine)(function*(){var I;if(!Object(b.i)())return;const W=y.c.isAvailable()?(yield Object(y.c)()).processMetrics:yield Object(y.b)();if(!W)return;let D=null;const H=W.reduce((G,te)=>{var se,$,X;return te.type==="GPU"&&(D=te),{cpu:G.cpu+((te==null||(se=te.cpu)===null||se===void 0?void 0:se.percentCPUUsage)||0),memory:{workingSetSize:G.memory.workingSetSize+Object(C.b)((te==null||($=te.memory)===null||$===void 0?void 0:$.workingSetSize)||0),peakWorkingSetSize:G.memory.peakWorkingSetSize+Object(C.b)((te==null||(X=te.memory)===null||X===void 0?void 0:X.peakWorkingSetSize)||0)}}},{cpu:0,memory:{workingSetSize:0,peakWorkingSetSize:0}}),Z=!(D==null||(I=D.cpu)===null||I===void 0)&&I.percentCPUUsage?H.cpu-D.cpu.percentCPUUsage:H.cpu;return{...H,cpuWithoutGpu:Z}}),P.apply(this,arguments)}h(P,"_makeAppMetricsStats");function B(){const I=Object(s.c)(G=>Object(m.a)({state:G})),W=Object(n.useRef)(),D=Object(n.useRef)(),H=Object(n.useCallback)(()=>{W.current=I.createTrace({traceName:"clips_stop_video_recording",samplingOptions:{sampleRate:.1,sampleType:c.b}}),D.current=W.current.startSpan("clips_stop_video_recording:wait")},[I]),Z=Object(n.useCallback)(()=>{!W.current||!D.current||(D.current.close(),I.reportTrace(W.current))},[I]);return{startStopRecordingTrace:H,endStopRecordingTrace:Z}}h(B,"useStopRecordingTrace");var R=B,U=e("vZeV"),K=e("WSQ4");const V=1280,z=720,N=1920,A=1080,x="VIDEO-RECORDER";function k(I){let{saveRecording:W,initialCameraOn:D,initialMicrophoneOn:H}=I;var Z,G,te,se,$,X,q;const Y=Object(f.a)(),ee=Object(n.useRef)();ee.current=Y;const w=Object(s.c)(lt=>Object(l.d)(lt,"effect_renderer_worker")==="on"),ne=Object(s.c)(lt=>Object(l.d)(lt,"stream_renderer_worker")==="on"),ae=Object(t.useDispatch)(),{windowId:de}=Object(n.useContext)(K.a),ge=Object(n.useRef)(),[le,Q]=Object(n.useState)(!1),[ie,oe]=Object(n.useState)(),[me,be]=Object(n.useState)();Object(n.useEffect)(()=>{L(oe,be)},[]);const[Se,Pe]=Object(n.useState)(),Ue=Object(n.useRef)(D),Fe=Object(n.useRef)(H),{onFrameTimingData:je}=d(),[_e,pe]=Object(n.useState)(!1),[fe,Ee]=Object(n.useState)(!1),[ye,Te]=Object(n.useState)(!1),[Oe,Ce]=Object(n.useState)(!1),[ce,he]=Object(n.useState)(!1),[Me,Ae]=Object(n.useState)(!1),[xe,Re]=Object(n.useState)(!1),[Ge,ze]=Object(n.useState)(!1),[Ie,Ne]=Object(n.useState)((ie==null||(Z=ie.video)===null||Z===void 0?void 0:Z.effect)==="blur"),[Ke,Ve]=Object(n.useState)(!1),[$e,tt]=Object(n.useState)(),[qe,ut]=Object(n.useState)(!1),[rt,yt]=Object(n.useState)(),Mt=Object(n.useRef)({cameraOn:!1,microphoneOn:!1,didScreenShare:!1,blurEnabled:!1,bgImgEnabled:!1}),st=Object(p.a)({recording:_e,recordingPaused:Ge});M({recording:_e,recordingPaused:Ge,cameraOn:Oe,screenCaptureOn:Me,usingCustomBgOrBlur:Ie||Ke,mimeType:(G=ge.current)===null||G===void 0?void 0:G.mimeType});const{startStopRecordingTrace:Vt,endStopRecordingTrace:Wt}=R();Object(n.useEffect)(()=>{_e&&Me&&(Mt.current.didScreenShare=!0),Mt.current.cameraOn=Oe,Mt.current.microphoneOn=fe,Mt.current.blurEnabled=Ie,Mt.current.bgImgEnabled=Ke},[Oe,fe,_e,Me,Ie,Ke]);const Xt=Object(n.useCallback)(()=>{var lt;ze(!1),pe(!0),Re(!1),he(!1),Te(!1),(lt=ee.current)===null||lt===void 0||lt.info(x,"recording started")},[]),Ut=Object(n.useCallback)(lt=>{var Dn,fn;const kn=st();if(pe(!1),lt.data.size===0){var wn;(wn=ee.current)===null||wn===void 0||wn.error(x,"recording ended with empty blob");return}Wt(),W({blob:lt.data,duration:kn,canvasRecording:(Dn=ge.current)===null||Dn===void 0?void 0:Dn.useCanvasRecording,...Mt.current}),(fn=ee.current)===null||fn===void 0||fn.info(x,"recording ended")},[Wt,st,W]),Nt=Object(n.useCallback)(()=>{var lt;Ee(!0),(lt=ee.current)===null||lt===void 0||lt.info(x,"microphone started"),ae(Object(U.a)({isCurrentlyActive:!0,windowId:de}))},[ae,de]),Ft=Object(n.useCallback)(()=>{var lt;Ee(!1),(lt=ee.current)===null||lt===void 0||lt.info(x,"microphone ended"),ae(Object(U.a)({isCurrentlyActive:!1,windowId:de}))},[ae,de]),_n=Object(n.useCallback)(lt=>{var Dn;Te(!0),(Dn=ee.current)===null||Dn===void 0||Dn.error(x,"Microphone failed",lt==null?void 0:lt.error),ae(Object(U.a)({isCurrentlyActive:!1,windowId:de}))},[ae,de]),cn=Object(n.useCallback)(()=>{var lt;Ce(!0),(lt=ee.current)===null||lt===void 0||lt.info(x,"camera started")},[]),Rn=Object(n.useCallback)(()=>{var lt;Ce(!1),(lt=ee.current)===null||lt===void 0||lt.info(x,"camera ended")},[]),Vn=Object(n.useCallback)(lt=>{var Dn;Ce(!1),he(!0),(Dn=ee.current)===null||Dn===void 0||Dn.error(x,"Camera failed",lt==null?void 0:lt.error)},[]),ea=Object(n.useCallback)(()=>{var lt;Re(!1),Ae(!0),(lt=ee.current)===null||lt===void 0||lt.info(x,"screen started")},[]),Lt=Object(n.useCallback)(()=>{var lt;Ae(!1),(lt=ee.current)===null||lt===void 0||lt.info(x,"screen ended")},[]),vn=Object(n.useCallback)(lt=>{var Dn;Ae(!1),Re(!0),(Dn=ee.current)===null||Dn===void 0||Dn.error(x,"Screen capture start failed",lt==null?void 0:lt.error)},[]),Wn=Object(n.useCallback)(()=>{var lt;ze(!0),(lt=ee.current)===null||lt===void 0||lt.info(x,"paused")},[]),Nn=Object(n.useCallback)(()=>{var lt;ze(!1),(lt=ee.current)===null||lt===void 0||lt.info(x,"resumed")},[]),ia=Object(n.useCallback)(()=>{ut(!0)},[]),Ea=Object(n.useCallback)(()=>{ut(!1)},[]),bn=Object(n.useCallback)(()=>{var lt;yt((lt=ge.current)===null||lt===void 0?void 0:lt.rendererStream)},[]),Xn=!!me,vt=me==null||(te=me.microphone)===null||te===void 0?void 0:te[0],Je=me==null||(se=me.camera)===null||se===void 0?void 0:se[0],et=ie==null||($=ie.audio)===null||$===void 0?void 0:$.enableAGC;Object(n.useEffect)(()=>{if(!Se||!Xn)return;const lt=new o.a({width:V,height:z,screenWidth:N,screenHeight:A,canvas:Se,microphoneId:vt,cameraId:Je,noiseSuppression:!0,autoGainControl:et,shouldStartCamera:Ue.current,shouldStartScreenCapture:!1,shouldStartMicrophone:Fe.current,useEffectRendererWorker:w,useStreamRendererWorker:ne});return ge.current=lt,lt.addEventListener("microphonestart",Nt),lt.addEventListener("microphoneend",Ft),lt.addEventListener("microphoneerror",_n),lt.addEventListener("camerastart",cn),lt.addEventListener("cameraend",Rn),lt.addEventListener("cameraerror",Vn),lt.addEventListener("screenstart",ea),lt.addEventListener("screenend",Lt),lt.addEventListener("screenerror",vn),lt.addEventListener("recordingstart",Xt),lt.addEventListener("recordingend",Ut),lt.addEventListener("frametimingdata",je),lt.addEventListener("recordingpaused",Wn),lt.addEventListener("recordingresumed",Nn),lt.addEventListener("loadingstart",ia),lt.addEventListener("loadingend",Ea),lt.addEventListener("rendererstream",bn),Q(!0),()=>{lt.stop().then(()=>{lt.removeEventListener("frametimingdata",je)}),lt.removeEventListener("microphonestart",Nt),lt.removeEventListener("microphoneend",Ft),lt.removeEventListener("microphoneerror",_n),lt.removeEventListener("camerastart",cn),lt.removeEventListener("cameraend",Rn),lt.removeEventListener("cameraerror",Vn),lt.removeEventListener("screenstart",ea),lt.removeEventListener("screenend",Lt),lt.removeEventListener("screenerror",vn),lt.removeEventListener("recordingstart",Xt),lt.removeEventListener("recordingend",Ut),lt.removeEventListener("recordingpaused",Wn),lt.removeEventListener("recordingresumed",Nn),lt.removeEventListener("loadingstart",ia),lt.removeEventListener("loadingend",Ea),lt.removeEventListener("rendererStream",bn),ge.current===lt&&(ge.current=void 0)}},[Se,Xn,vt,Je,et,Nt,Ft,_n,Rn,cn,Vn,je,Ut,Xt,Lt,vn,ea,Wn,Nn,ia,Ea,bn,w,ne]);const mt=Object(n.useCallback)(lt=>{Pe(lt||void 0)},[]),Pt=Object(n.useCallback)(()=>{var lt;(lt=ge.current)===null||lt===void 0||lt.startRecording()},[]),Tt=Object(n.useCallback)(()=>{var lt;Vt(),(lt=ge.current)===null||lt===void 0||lt.stopRecording()},[Vt]),Qt=Object(n.useCallback)(lt=>{var Dn;return(Dn=ge.current)===null||Dn===void 0?void 0:Dn.startScreenCapture(lt)},[]),dt=Object(n.useCallback)(()=>{var lt;(lt=ge.current)===null||lt===void 0||lt.stopScreenCapture()},[]),zt=Object(n.useCallback)(()=>{var lt;(lt=ge.current)===null||lt===void 0||lt.startCamera(),Ue.current=!0},[]),At=Object(n.useCallback)(()=>{var lt;(lt=ge.current)===null||lt===void 0||lt.stopCamera(),Ue.current=!1},[]),Qe=Object(n.useCallback)(()=>{var lt;(lt=ge.current)===null||lt===void 0||lt.startMicrophone(),Fe.current=!0},[]),nt=Object(n.useCallback)(()=>{var lt;(lt=ge.current)===null||lt===void 0||lt.stopMicrophone(),Fe.current=!1},[]),_t=Object(n.useCallback)(()=>{L(oe,be)},[]),Et=Object(n.useCallback)(()=>{var lt;const Dn=!Ie;Dn&&Ve(!1),Ne(Dn),(lt=ee.current)===null||lt===void 0||lt.info(x,Dn?"blur enabled":"blur disabled")},[Ie]),kt=Object(n.useCallback)(lt=>{var Dn;Ne(!1),tt(lt),Ve(!0),(Dn=ee.current)===null||Dn===void 0||Dn.info(x,"background image set")},[]),jn=Object(n.useCallback)(()=>{var lt;Ve(!1),(lt=ee.current)===null||lt===void 0||lt.info(x,"background image cleared")},[]),pn=Object(n.useCallback)(()=>{var lt;(lt=ge.current)===null||lt===void 0||lt.pauseRecording()},[]),An=Object(n.useCallback)(()=>{var lt;(lt=ge.current)===null||lt===void 0||lt.resumeRecording()},[]);return Object(n.useEffect)(()=>{if(le&&ge.current&&(ge.current.bgBlur!==Ie&&ge.current.toggleBgBlur(),Ke&&$e?ge.current.setBgImage($e):!Ke&&ge.current.bgImg&&ge.current.clearBgImage()),ie){let lt;Ie?lt="blur":Ke&&(lt="bg"),Object(a.d)({...ie,video:{...ie.video,effect:lt}})}},[Ie,$e,Ke,ie,le]),{setCanvasRef:mt,recording:_e,startRecording:Pt,stopRecording:Tt,microphoneOn:fe,microphoneFailed:ye,startMicrophone:Qe,stopMicrophone:nt,screenCaptureOn:Me,startScreenCapture:Qt,stopScreenCapture:dt,screenCaptureFailed:xe,cameraOn:Oe,cameraFailed:ce,startCamera:zt,stopCamera:At,getCurrentDuration:st,devicePrefsChanged:_t,pauseRecording:pn,resumeRecording:An,recordingPaused:Ge,blurEnabled:Ie,toggleBgBlur:Et,bgImgEnabled:Ke,setBgImage:kt,clearBgImage:jn,microphoneStream:fe?(X=ge.current)===null||X===void 0?void 0:X.microphoneStream:void 0,loading:qe,rendererStream:rt,cameraStream:Oe?(q=ge.current)===null||q===void 0?void 0:q.cameraStream:void 0}}h(k,"useStreamManager");var F=i.a=k;function L(I,W){try{const D=Object(a.b)();I(D),navigator.mediaDevices.enumerateDevices().then(H=>{const Z=S(D,H);W(Z)})}catch(D){Object(r.b)().warn(x,D,"Could not load device preferences"),W({camera:[],microphone:[],output:[]})}}h(L,"safelyReadDevicePrefs");function S(I,W){const D=h(Z=>W.some(G=>G.deviceId===Z),"deviceExists");return{camera:I.deviceIdPriorities.camera.filter(D),microphone:I.deviceIdPriorities.microphone.filter(D),output:I.deviceIdPriorities.output.filter(D)}}h(S,"filterDeviceIdsNotPresent")},KHUB:function(J,i,e){"use strict";e.d(i,"a",function(){return E});var n=e("mM05"),t=e.n(n),a=e("gSGL"),s=e("pu3F"),l=e("ntGM"),o=e("Oy0v"),f=e("yrot"),r=e("0qhH"),m=e("TQ9f"),c=e("fR2/"),u=e("lhZz"),d=e("p7YC"),p=e("Z5O3"),v=e("pbCm"),g=e("0LZ2"),O=e("BH90"),b=e("v/ip");function y(T){if(!T)return 2;const P=T+1;return P>6?1:P}h(y,"increment");function C(T,P,B){let{emojiSupportsMultiSkinTones:R}=B;if(R&&P.length!==T.length-2){const U=T.substr(P.length+2).match(b.a);if(U){let K=parseInt(U[2],10)||1,V=parseInt(U[3],10)||K;return V===6?(K=y(K),V=y(V)):V&&(V=y(V)),K===1?"":K===V?`:skin-tone-${K}:`:`:skin-tone-${K}-${V===1?2:V}:`}}else if(P.length!==T.length-2){const U=T.substr(P.length+2).match(b.b);return U&&U[2]!=="6"?`:skin-tone-${parseInt(U[2],10)+1}:`:""}return":skin-tone-2:"}h(C,"generateNextSkinTone");const _=/\S/,j=/^\s*:\S*\n$/;function E(T){const P=Object(g.a)(T),B=P.import("core/module"),R=P.import("parchment");return h(class extends B{unload(){this.quill.root.removeEventListener("click",this.onEmojiClick),this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd)}listen(){this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0,format:{link:!1,code:!1,"code-block":!1}},this.onSpace),this.quill.root.addEventListener("click",this.onEmojiClick,!1),this.quill.root.addEventListener("compositionstart",this.onCompositionStart),this.quill.root.addEventListener("compositionend",this.onCompositionEnd)}onCompositionStart(){this.isInComposition=!0}onCompositionEnd(){this.isInComposition=!1}maybeConvertEmoticonFromKeyboardBinding(V,z,N){if(this.isInComposition||!this.options.convertEmoticonsIsEnabled())return!1;const A=z.prefix;if(!A)return!1;const x=Object(l.a)();if(!x)return!1;let k=-1,F="";A.replace(x,(S,I,W,D)=>{k=D+I.length,F=W});const L=V.index-A.length+k;if(!s.n[F]||this.options.useWysiwyg&&z.format&&(z.format.link||z.format.code||z.format["code-block"]))return!1;if(!this.options.useWysiwyg||this.options.usePlainTextMode){if(Object(d.a)(this.quill.getText(0,L)))return!1;const S=Object(p.a)(A);if(Object(v.a)(L,S))return!1}if(F==="8)"&&L>3&&this.quill.getText(L-1,1)===`
`){const S=this.quill.getText(0,L-1);if(S.substr(S.lastIndexOf(`
`)+1,2)==="7)")return!1}if(this.options.useWysiwyg&&L>0){const I=this.quill.getContents(L-1,1).ops[0];if(!(Object(r.a)(I)&&I.insert.match(/\s/)||Object(m.a)(I)))return!1}return this.quill.deleteText(L,F.length),this.quill.insertEmbed(L,"slackemoji",{text:`:${s.n[F]}:`}),N?(this.quill.insertText(L+1,N),this.quill.setSelection(L+2)):this.quill.setSelection(L+1),!0}onEnter(V,z){let{range:N,context:A}=z;return this.maybeConvertEmoticonFromKeyboardBinding(N,A),!1}onSpace(V,z){return!this.maybeConvertEmoticonFromKeyboardBinding(V,z," ")}onEmojiClick(V){const z=V.target;if(!(z!=null&&z.classList.contains("emoji")&&(z!=null&&z.hasAttribute("data-has-skin-tone"))))return!0;const A=R.find(V.target).offset(this.quill.scroll),x=this.quill.getContents(A,1);if(x.ops[0]&&Object(m.a)(x.ops[0])){const k=x.ops[0].insert.slackemoji.text,F=Object(o.a)(k)||{name:""},L=this.options.teamId&&Object(u.getStateByTeamId)(this.options.teamId),S=Object(f.o)(L,{text:F.name,teamId:this.options.teamId}),I=Object(f.p)(L,{text:F.name,teamId:this.options.teamId});if(!S&&!I)return!0;const W=C(k,F.name,{emojiSupportsMultiSkinTones:I}),D=new t.a;D.retain(A).delete(1).insert({slackemoji:{text:`:${F.name}:${W}`}}),this.quill.updateContents(D)}return!0}toggleJumbomoji(V){if(!this.options.isJumbomojiEnabled)return;if(!this.options.isJumbomojiEnabled()||V.length()<=1){this.updateJumbomojiClass(!1);return}let z=!0,N=0;const A=V.ops.length-1;V.forEach((x,k)=>{if(Object(m.a)(x)){N+=1;return}Object(c.a)(x)||!Object(r.a)(x)?z=!1:A===k&&z?z=!_.test(Object(a.a)(x.insert)?x.insert:"")||j.test(Object(a.a)(x.insert)?x.insert:""):_.test(Object(a.a)(x.insert)?x.insert:"")&&(z=!1)}),this.updateJumbomojiClass(z&&N>0&&N<=s.B)}buildTextChangeDelta(V,z){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{useWysiwyg:!1,usePlainTextMode:!1,formattingOnly:!1};return Object(O.a)(V,{useWysiwyg:N.useWysiwyg,usePlainTextMode:N.usePlainTextMode,inlineEmojiIsEnabled:this.options.inlineEmojiIsEnabled(),emojiNames:this.options.getEmojiNames?this.options.getEmojiNames():[],locale:this.options.getLocale?this.options.getLocale():void 0,replaceNativeEmoji:this.options.replaceNativeEmoji,teamId:this.options.teamId})}afterTextChangeQueue(V){this.toggleJumbomoji(V)}constructor(V,z){super(V,z),this.onSpace=this.onSpace.bind(this),this.onEnter=this.onEnter.bind(this),this.onCompositionStart=this.onCompositionStart.bind(this),this.onCompositionEnd=this.onCompositionEnd.bind(this),this.onEmojiClick=this.onEmojiClick.bind(this),this.toggleJumbomoji=this.toggleJumbomoji.bind(this),this.updateJumbomojiClass=z.updateJumbomojiClass,this.isInComposition=!1,this.options.inlineEmojiIsEnabled||(this.options.inlineEmojiIsEnabled=()=>!1),this.options.convertEmoticonsIsEnabled||(this.options.convertEmoticonsIsEnabled=()=>!1),this.listen()}},"SlackEmoji")}h(E,"getSlackEmojiModule");const M=E(window)},KTal:function(J,i,e){"use strict";e.d(i,"b",function(){return k}),e.d(i,"a",function(){return F});var n=e("fujP"),t=e("OtLZ"),a=e("NFsq"),s=e("Fsnq"),l=e("lCmp"),o=e("pu3F"),f=e("7/SY"),r=e("Icpd"),m=e("i3RS"),c=e("ISSR"),u=e("E97Y"),d=e("C3vN"),p=e("Awbm"),v=e("Kn+X"),g=e("BBdC"),O=e("UIhb"),b=e("EzPs"),y=e("0kyL"),C=e("B+Mk"),_=e("TZwK"),j=e("AyK6"),E=e("Shth");function M(L,S){if(Object(n.a)(L)||!S)return!1;const I=Object(_.c)(L,S);return Object(n.a)(I)?!1:I.some(W=>{const D=Object(j.b)(L,{pendingFileId:W});return Object(C.d)(D)===E.a.ERROR})}h(M,"hasPendingFilesWithErrors");var T=e("x3iO"),P=e("sp7N"),B=e("mzZe"),R=e("O2qk"),U=e("9Gfp"),K=e("E3dU"),V=e("xwCZ"),z=e("nwIl"),N=e("5jHt"),A=e("T1/z"),x=e("RVJP");function k(L,S){const I={};var W;const D=(W=Object(v.e)(S))!==null&&W!==void 0?W:"",H=Object(x.d)(L,"check_channel_connectivity_for_dms")==="on",Z=Object(z.f)(L),G=Object(b.a)(L,S),te=Object(z.a)(L,{draftId:D}),se=Object(A.b)(L,{draftId:D}),$=Object(r.a)(se),X=Object(m.a)(L);$&&(I.hasUnresolvedPendingDestinations=!0);let q=(!S||Object(n.a)(S))&&!G;if(Z&&(q=(!S||Object(n.a)(S))&&!G&&!te),q)I.missingDraft=!0;else{const Y=Object(v.d)(S),ee=Object(v.j)(S),w=Object(v.m)(S),ne=Object(A.c)(L,{draftId:D});if(!Object(n.a)(Y)&&!Object(n.a)(w)&&!Object(n.a)(ee))I.invalidDestinationCombination=!0;else if(Object(n.a)(Y))if(Object(n.a)(w))Object(n.a)(ne)?I.missingDestination=!0:Object(s.a)(ne)>X&&(I.invalidMemberCount=!0);else{const ae=Object(U.a)(L),de=Object(t.a)(w,ae);if(de.length>1){Object(a.a)(de,o.W)&&(I.invalidMemberSlackbot=!0);const Q=Object(V.g)(L,ae);Object(p.c)(Q)&&(I.ultraRestrictedUserMpdm=!0)}Object(s.a)(de)+Object(s.a)(ne)>X&&(I.invalidMemberCount=!0);const le=de.filter(Q=>{const ie=Object(V.g)(L,Q);return Object(d.V)(ie)});le.length&&le.length===w.length&&(le.length===1?I.deactivatedMember=!0:I.deactivatedMembers=!0),D&&Object(R.a)(L,{draftId:D})===o.S.NO_COMMON_EXTERNALY_SHARED_CHANNEL&&H&&(I.noCommonExternalySharedChannel=!0),D&&Object(R.a)(L,{draftId:D})===o.S.INVALID_USER_COMBINATION&&(I.invalidUserCombination=!0)}else{const ae=Object(K.d)(L,Y[0]);let de=null;ee!=null&&ee[0].thread_ts&&(de=Object(O.b)(L,Y[0],ee[0].thread_ts,!0)),(Object(u.r)(ae)||Object(c.a)(ae)||!Object(B.b)(L,Y[0])&&!Object(y.a)(L,{message:de,channel:ae}))&&(I.invalidChannel=!0)}if(S&&Object(v.x)(S)){const ae=Object(v.n)(S);Object(f.a)({contents:ae})||(I.invalidText=!0)}else(!Z&&!G||Z&&!G&&!te)&&(I.invalidText=!0);if(G&&S){Object(g.a)(S)&&Object(g.a)(S).length>o.z&&(I.tooManyFiles=!0);const ae=D&&Object(l.a)(Object(T.a)(L,{draft:S,draftId:D}),de=>de&&Object(P.a)(de.file));!ae&&D&&M(L,D)&&(I.filesHaveErrors=!0),ae&&(Object(l.a)(Y,le=>!Object(N.d)(L,le))&&(I.cannotPostVideoClip=!0),Object(l.a)(Y,le=>!Object(N.c)(L,le))&&(I.cannotPostAudioClip=!0))}}return{ok:Object(n.a)(I),reasons:I}}h(k,"isComposerDraftSendableWithReasons");function F(L,S){return k(L,S).ok}h(F,"isComposerDraftSendable")},KYpL:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("SQ0V"),t=e("T1zM"),a=e("JoR1");const s=Object(n.c)("User has seen the gif picker new badge; record for new badge decay",(l,o,f)=>{var r;const m=(r=Object(a.u)(o(),"seen_gif_new_badge"))!==null&&r!==void 0?r:0;l(Object(t.f)({pref:"seen_gif_new_badge",value:m+(f??1)}))});s.meta={name:"createThunk",key:"createThunkseenGifPickerNewBadge",description:"User has seen the gif picker new badge; record for new badge decay"}},KjUZ:function(J,i,e){"use strict";e.d(i,"c",function(){return t}),e.d(i,"b",function(){return a}),e.d(i,"a",function(){return s});var n=e("DwFS");const t=Object(n.a)("Upsert fetched workflow apps list for channel");t.meta={name:"createAction",key:"createActionupsertFetchedWorkflowAppsList",description:"Upsert fetched workflow apps list for channel"};const a=Object(n.a)("Upsert a workflow app for a channel");a.meta={name:"createAction",key:"createActionupsertFetchedWorkflowApp",description:"Upsert a workflow app for a channel"};const s=Object(n.a)("Remove workflow app from store on thunk success");s.meta={name:"createAction",key:"createActionremoveWorkflowAppFromChannelSuccess",description:"Remove workflow app from store on thunk success"}},Kk96:function(J,i,e){"use strict";e.d(i,"a",function(){return r});var n=e("SQ0V"),t=e("z4V0"),a=e("xwCZ"),s=e("C3vN"),l=e("KVhq"),o=e("PWRg"),f=e("nwIl");const r=Object(n.c)("Processes a drafts attachments and upserts to the gif unfurl store",(m,c,u)=>{let{draft:d,draftId:p}=u;const v=c();if(!Object(f.f)(v)||!d||!p||Object(s.T)(Object(a.g)(v,d.user_id)))return;m(Object(l.a)({draftIds:[p]}));const{attachments:O=[]}=d;for(const y of O){var b;for(const C of(b=y==null?void 0:y.blocks)!==null&&b!==void 0?b:[]){const{fallback:_,image_url:j,image_width:E,image_height:M,image_bytes:T}=C||{};if(!j&&!Object(o.a)(j))continue;const P={from_url:j,image_url:j,image_width:E,image_height:M,image_bytes:T,fallback:_,original_url:j,original_gif_url:j,type:t.a};m(Object(l.d)({draftId:p,url:j,data:P,status:t.b.DRAFT}))}}});r.meta={name:"createThunk",key:"createThunkprocessAndUpsertGifUnfurlAttachments",description:"Processes a drafts attachments and upserts to the gif unfurl store"}},L1zx:function(J,i,e){"use strict";var n=e("BeL+"),t=e("S1sa"),a=e("n3tL"),s=e("SQ0V"),l=e("Kmpi"),o=e("xwCZ"),f=e("CPJ1"),r=e("9Gfp"),m=e("eUIW"),c=e("n0Pp");const u=Object(s.c)('Ensures members with corresponding ids are "known"',function(d,p){let{memberIds:v,reason:g}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const O=p(),b=Object(o.b)(O),y=Object(n.a)(v).filter(M=>Object(m.a)(M)),[C,_]=Object(t.a)(y,M=>b[M]&&!Object(l.d)(b[M]));function j(){let{resolved:M}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return C.map(P=>b[P]).concat(M||[])}return h(j,"handleResponse"),Object(r.j)(O)&&!Object(c.i)(O)||!Object(r.p)(O)?d(Object(f.d)({ids:_,reason:g||"ensureMembersArePresent isEarlyCallsBoot"})).then(j):d(Object(f.c)({ids:_,reason:g||"ensureMembersArePresent"})).then(j)});u.meta={name:"createThunk",key:"createThunkensureMembersArePresent",description:'Ensures members with corresponding ids are "known"'},u.propTypes={memberIds:a.default.arrayOf(a.default.string),reason:a.default.string},i.a=u},LFHb:function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("j4mf"),t=e("U28S");const a=1e4,s=h(o=>o>=1e4?1e3:o>1e3?500:50,"getRoundDownBy"),l=h(o=>{if(o<=50)return String(o);const f=s(o),r=Math.floor(o/f)*f;return`${o>=a?Object(t.a)(r,{precision:4,decimal_places:4,lowercase:!0}):Object(n.a)(r)}+`},"formatMemberCount")},LQ2n:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("BHdc"),l=e("E3dU"),o=e("O86Y"),f=e("beVI"),r=e("9x2x"),m=e("Yauy"),c=e("pZC0"),u=e("gVOt"),d=e("E97Y"),p=e("HW3N"),v=e("C3vN"),g=e("LvvF"),O=e("G0eX"),b=e("oEDn"),y=e("NPtR"),C=e("qDEp"),_=e("1DMY"),j=e("nNoG");const E=new j.b("jumper");let M=h(class extends n.Component{renderChannelIcon(){const{channel:R,channelType:U,mpimMemberCount:K,inline:V,memberId:z,showPresence:N,inheritPresenceIconSize:A,showDraftIcon:x,hasDraft:k}=this.props;let F;return U==="im"?z&&N&&!V?t.a.createElement(y.a,{inheritIconSize:A,memberId:z}):null:(x&&k?F="pencil":U==="mpim"&&K?F=`multiparty-dm-${K}`:Object(c.a)(R)?F="create-post":U==="private"?F="lock":F="channel",t.a.createElement(b.a,{type:F,size:"inherit","data-qa-icon-type":U}))}renderChannelName(){const{isImChannelWithHiddenUser:R,inline:U,displayName:K}=this.props,V=R?E.t("Name hidden"):K;return t.a.createElement(t.a.Fragment,null,this.renderChannelIcon(),t.a.createElement("span",{className:Object(s.default)("p-deprecated_channel_name__text",{"p-deprecated_channel_name__text--inline":!U}),"data-qa":"deprecated_channel_name__text"},V,this.renderChannelNameSuffix()),this.renderTeamIcon())}renderChannelNameSuffix(){const{previousName:R,showSuffix:U}=this.props;if(!U||!R)return null;let K;return R&&(K=E.t("(formerly #{previous_name})",{previous_name:R,note:'Shown when a user is typing the old name of a channel, e.g. "(formerly #cats)"',fallbackHash:"b574996f0134b62e0fae6797e7d969b04de6b482"})),t.a.createElement("span",{className:"p-deprecated_channel_name__suffix"},K)}renderTeamIcon(){const{showTeamIcon:R,teamIdForChannel:U,teamName:K}=this.props;return!R||!U||!K?null:t.a.createElement("span",{className:"p-deprecated_channel_name__team_name p-deprecated_channel_name__team_name--xws"},"\xA0",t.a.createElement("span",{className:"p-deprecated_channel_name__team_name_child"},K))}renderButton(){const{autoClogProps:R,className:U,onClick:K}=this.props;return t.a.createElement(C.d,{className:Object(s.default)("p-deprecated_channel_name p-deprecated_channel_name--clickable",U),onClick:K,htmlType:"button",autoClogProps:R},this.renderChannelName())}render(){const{onClick:R,className:U,channel:K,channelId:V}=this.props,z=!!R;return z?t.a.createElement(_.a,{id:(K==null?void 0:K.id)||V||""},this.renderButton()):z?this.renderButton():t.a.createElement("span",{className:Object(s.default)("p-deprecated_channel_name",U),"data-qa":"channel_name_header"},this.renderChannelName())}},"DeprecatedChannelName");M.displayName="DeprecatedChannelName",M.displayName="DeprecatedChannelName",M.defaultProps={channelId:"",channelType:"channel",className:void 0,displayName:"",hasDraft:void 0,inheritPresenceIconSize:!1,inline:!1,isImChannelWithHiddenUser:!1,memberId:void 0,mpimMemberCount:void 0,onClick:void 0,previousName:void 0,showDraftIcon:!1,showPresence:!0,showSuffix:!0,showTeamIcon:!1,showTeamIconForLocalChannels:!1,showTeamIconForXwsChannels:!1,teamIdForChannel:"",teamName:""};const T=h((B,R)=>{const{channel:U,channelId:K,showTeamIconForXwsChannels:V=!1,showTeamIconForLocalChannels:z=!1}=R;let N=U||Object(l.d)(B,K);const A=Object(d.i)(N)?N&&Object(m.G)(N):null;U&&Object(v.db)(U)&&(N=Object(l.m)(B,U.id));const x=Object(d.g)(N)?Object(u.a)(N):null,k=!!x&&Object(g.b)(B,x),F=Object(d.d)(N),L=Object(o.h)(B),S=!!U&&(Object(m.X)(U)||Object(m.Ab)(B,U)),I=V&&(F==="channel"||F==="private")&&!Object(r.a)(N)&&(z||S);let W=I?N==null?void 0:N.team_id:void 0;I&&!W&&(S?W=Object(p.a)({state:B,channel:U,currentTeamId:L||""})||Object(m.Fb)(B,U):z&&(W=L));const D=W?Object(f.s)(B,W):void 0,H=W?Object(O.h)(D):void 0,Z=K?Object(m.v)(B,K):void 0;return{displayName:Object(m.t)(B,N,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}),channelType:F,mpimMemberCount:A,memberId:x,showTeamIcon:I,teamIdForChannel:W,teamName:H,hasDraft:Z,isImChannelWithHiddenUser:k}},"mapStateToProps");var P=i.a=Object(a.a)(T)(M)},LSTB:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("KYPV");function s(){return s=Object.assign||function(o){for(var f=1;f<arguments.length;f++){var r=arguments[f];for(var m in r)Object.prototype.hasOwnProperty.call(r,m)&&(o[m]=r[m])}return o},s.apply(this,arguments)}h(s,"_extends");function l(o){let{className:f=void 0,initialValues:r,initialErrors:m=void 0,validate:c=void 0,validationSchema:u=void 0,validateOnBlur:d=!0,validateOnChange:p=!0,validateOnMount:v=!1,onReset:g=void 0,onSubmit:O,children:b,...y}=o;const C=g?{onReset:g}:{};return t.a.createElement(a.c,s({initialValues:r,initialErrors:m,validate:c,validationSchema:u,validateOnBlur:d,validateOnChange:p,validateOnMount:v,onSubmit:O},C,y),_=>{let{handleSubmit:j,handleReset:E,...M}=_;return t.a.createElement("form",{className:f,onSubmit:j,onReset:E},b({...M}))})}h(l,"Form"),l.displayName="Form",i.a=l},LTWq:function(J,i,e){"use strict";e.d(i,"a",function(){return o}),e.d(i,"b",function(){return f}),e.d(i,"e",function(){return r}),e.d(i,"c",function(){return m}),e.d(i,"d",function(){return c});var n=e("HI9p"),t=e("3ftV"),a=e("khnw"),s=e("FAxm"),l=e("/2YZ");function o(u,d){let[p,v]=d;const g=u&&u[v]&&u[v].items?u[v].items:[];if(g&&g[p])return g[p]}h(o,"getCell");function f(u,d){if(u&&u[d])return u[d]}h(f,"getRow");function r(u){const d=f(u,2);return!!(d&&u.length>=3&&d&&d.items&&d.items.length>=1)}h(r,"rowsHaveAtLeastOneResult");function m(u,d){if(!u)return!1;const p=Object(n.a)(u,O=>{var b;return O.type==="group"&&((b=O.group)===null||b===void 0?void 0:b.name)==="Getting Work Done"}),v=Object(n.a)(u.slice(p+1),{type:s.a.GROUP})+p,g=v!==-1?v+p:1/0;return d>p&&d<g}h(m,"isCursorInsideProductivitySection");function c(u){let{screenRows:d,direction:p,currentCursor:v,pickerType:g,infiniteScroll:O=!1}=u;var b;const[y,C]=v;let _,j,E;switch(g){case l.g.GIF:j={type:s.a.GIF},_=(d==null?void 0:d.length)===1,E=[0,0];break;case l.g.EMOJI:default:j={type:s.a.EMOJI},_=(d==null?void 0:d.length)===3,E=[0,2]}if(!d||!p||C===-1)return E;let M=y,T=C;switch(p){case a.c:if(_)return c({screenRows:d,direction:a.o,currentCursor:[y,C],pickerType:g,infiniteScroll:O});T=C+1,T>=d.length&&(T=E[1]);break;case a.r:if(_)return c({screenRows:d,direction:a.k,currentCursor:[y,C],pickerType:g,infiniteScroll:O});T=C-1,T<0&&!O?T=d.length-1:T<0&&O&&(T=C);break;case a.k:if(M=y-1,M<0){var P,B,R;if(_){var U,K;M=((U=f(d,C))===null||U===void 0||(K=U.items)===null||K===void 0?void 0:K.length)||0;break}T=C-1,g===l.g.EMOJI&&((P=f(d,T))===null||P===void 0?void 0:P.type)!=="emoji"&&(T-=2),T<0&&(T=Object(t.a)(d,j)),M=(((B=f(d,T))===null||B===void 0||(R=B.items)===null||R===void 0?void 0:R.length)||0)-1}break;case a.o:var V,z;if(M=y+1,M>=(((V=f(d,C))===null||V===void 0||(z=V.items)===null||z===void 0?void 0:z.length)||0)){var N;if(_){M=0;break}T=C+1,T>Object(t.a)(d,j)&&(T=0),g===l.g.EMOJI&&((N=f(d,T))===null||N===void 0?void 0:N.type)!=="emoji"&&(T+=2),M=0}break;default:}if(g===l.g.EMOJI&&((b=f(d,T))===null||b===void 0?void 0:b.type)!=="emoji")return c({screenRows:d,direction:p,currentCursor:[M,T],pickerType:g,infiniteScroll:O});if(!o(d,[M,T])){var x,k;M=(((x=f(d,T))===null||x===void 0||(k=x.items)===null||k===void 0?void 0:k.length)||0)-1}return[M,T]}h(c,"moveCursor")},LWrH:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("n3tL"),l=e("vfQU"),o=e("lhZz"),f=e("4tnk"),r=e("x3CK"),m=e("JoR1"),c=e("s4P+");function u(){return u=Object.assign||function(O){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(O[C]=y[C])}return O},u.apply(this,arguments)}h(u,"_extends");const d={logger:s.default.object.isRequired,WrappedComponent:s.default.any.isRequired,keyboardPref:s.default.string,keyboardLayout:s.default.string,localizedFeatures:s.default.object},p={keyboardPref:void 0,keyboardLayout:void 0,localizedFeatures:{}};let v=h(class extends n.Component{componentWillUnmount(){this.desktopKeyboardLayoutDisposable&&(this.desktopKeyboardLayoutDisposable.dispose?this.desktopKeyboardLayoutDisposable.dispose():this.props.logger.warn("WITH-KB-LOCALE","Cannot unsubscribe from keyboard layout changes"))}render(){const{keyboardLayout:b,WrappedComponent:y,keyboardPref:C,logger:_,...j}=this.props;let M=(b!==void 0?b:this.state.legacyKeyboardLayout)||C;return M==="en-US"&&(M="us"),t.a.createElement(y,u({keyboardLocale:M},j))}constructor(b){if(super(b),b.keyboardLayout===void 0){const y=h(()=>{if(Object(l.ob)()){const C=Object(l.ub)().currentKeyboardLayout;return Object(r.d)(C,b.localizedFeatures)}return null},"getLegacyDesktopKeyboardLayout");this.state={legacyKeyboardLayout:y()},Object(l.ob)()&&(this.desktopKeyboardLayoutDisposable=Object(l.zb)(()=>this.setState(()=>({legacyKeyboardLayout:y()}))))}}},"WithKeyboardLocale");v.displayName="WithKeyboardLocale",v.propTypes=d,v.defaultProps=p;function g(O){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;function y(C){let _=C;if(b){const M=Object(o.getStoreInstanceByTeamId)(b(C));if(!M)return!1;_=M.getState()}const j=Object(f.b)(_,"keyboardLayout"),E={};return{logger:Object(c.a)({teamState:_}),keyboardPref:Object(m.u)(_,"keyboard"),WrappedComponent:O,keyboardLayout:j&&Object(r.d)(j,E)}}return h(y,"mapStateToProps"),Object(a.a)(y)(v)}h(g,"withKeyboardLocale"),i.a=g},LaOi:function(J,i,e){"use strict";var n=e("9oTK"),t=e("q1tI"),a=e.n(t),s=e("/MKj"),l=e("zxER"),o=e("BHdc"),f=e("Trx9"),r=e("2XU3"),m=e("WCk1"),c=e("417x"),u=e("lvG7");const d=Object(m.a)("Get SIWS interstital blocks",(Te,Oe,Ce)=>{let{appId:ce,url:he,channelId:Me}=Ce;return Te(Object(r.apiCall)({args:{app_id:ce,uri:he,channel_id:Me},method:"links.getInterstitialFields",reason:"siws-get-interstital-fields"})).then(Ae=>({...Object(c.a)(Ae,1)})).catch(Ae=>{var xe;throw((xe=Ae.data)===null||xe===void 0?void 0:xe.error)==="invalid_client_cache"&&Te(Object(u.a)()),Ae})});d.meta={name:"createFetcher",key:"createFetchergetInterstitialFields",description:"Get SIWS interstital blocks"};var p=d,v=e("yHsb"),g=e("WMzb"),O=e("59Ab"),b=e("+kJ4"),y=e("SQ0V"),C=e("T1zM"),_=e("s4P+"),j=e("+HIp"),E=e("ZgSn");const M=Object(y.c)("Set completed transfer pref of identity links prefs",(Te,Oe,Ce)=>{let{appId:ce,completedTransfer:he}=Ce;const Me=Object(j.f)(Oe());let Ae="{}";try{Ae=JSON.stringify({...Me,[ce]:{completed_transfer:he,date_completed_transfer:Number(Date.now())}})}catch(xe){Object(_.a)({getState:Oe}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",xe)}return Te(Object(C.f)({pref:E.a,value:Ae}))});M.meta={name:"createThunk",key:"createThunksetCompletedTransfer",description:"Set completed transfer pref of identity links prefs"};var T=e("HotN"),P=e("YUBf"),B=e("ktUG");const R=Object(m.a)("Send confirmation email",(Te,Oe,Ce)=>{let{confirmationType:ce,email:he,intent:Me,locale:Ae}=Ce;return Te(Object(r.apiCall)({args:{confirmation_type:ce,email:he,intent:Me,locale:Ae},method:"signup.confirmEmail",reason:"send-confirm-email"}))});R.meta={name:"createFetcher",key:"createFetchersendConfirmEmail",description:"Send confirmation email"};var U=R;const K=Object(m.a)("Verify email confirmation code",(Te,Oe,Ce)=>{let{code:ce,email:he,intent:Me}=Ce;return Te(Object(r.apiCall)({args:{code:ce,email:he,intent:Me},method:"signin.confirmCode",reason:"verify-confirm-code"}))});K.meta={name:"createFetcher",key:"createFetcherverifyConfirmCode",description:"Verify email confirmation code"};var V=K,z=e("SRik"),N=e("Ufy+"),A=e("iUFw"),x=e("eBYm"),k=e("3V+Q"),F=e("nNoG"),L=e("7nxQ"),S=e("P8PK"),I=e("xhb0"),W=e("nd5U");const D=new F.b("app-config"),H=h(Te=>{let{url:Oe}=Te;return Oe?a.a.createElement("div",{className:"p-identity_transfer_modal__redirect"},a.a.createElement("span",{className:"overflow_ellipsis"},D.t("Link to: "),Oe)):null},"IdentityTransferModalLink");H.displayName="IdentityTransferModalLink";var Z=H;const G=new F.b("app-config"),te=h(Te=>{let{appId:Oe,domain:Ce,email:ce,headerInfo:he,logger:Me,setIdentityTransferStep:Ae,setLinkClickedPrefs:xe,url:Re,hideLink:Ge=!1,reverifyEmail:ze=!1,autoClogProps:Ie}=Te;const Ne=Object(s.useDispatch)(),Ke=Object(O.a)(),Ve=Object(S.a)(),[$e,tt]=Object(t.useState)(z.a.Empty),[qe,ut]=Object(t.useState)(!1),[rt,yt]=Object(t.useState)(!1),Mt=Object(t.useCallback)(Object(n.coroutine)(function*(){try{yield Ne(U({confirmationType:"code",email:ce,intent:"identity_links",locale:Object(L.i)()}))}catch(Nt){Me.error("error in sending confirm email",Nt)}}),[Ne,ce,Me]);Object(t.useEffect)(()=>{Ke.current&&Mt()},[Ke,Mt]);const st=h(()=>{Ae(ze?"reverifyEmail":"permissions")},"handleBackClicked"),Vt=h(()=>{tt(z.a.Empty),yt(!1)},"handleChangeCode"),Wt=h(()=>{Mt()},"handleResendEmail"),Xt=function(){var Nt=Object(n.coroutine)(function*(Ft){try{tt(z.a.Processing),ut(!0),yield Ne(V({code:Ft,email:ce,intent:"identity_links"})),yield xe(!0),Ke.current&&(tt(z.a.Success),ut(!1),yt(!1))}catch(_n){if(Ke.current){switch(_n.name){case"expired":tt(z.a.Expired),yt(!1),Mt();break;case"failed":tt(z.a.Error),yt(!1);break;case"ratelimited":tt(z.a.Ratelimited),yt(!1);break;default:tt(z.a.Unknown),yt(!0);break}ut(!1)}}});return h(function(_n){return Nt.apply(this,arguments)},"handleFillCode")}(),Ut=$e===z.a.Expired||$e===z.a.Error||$e===z.a.Unknown;return a.a.createElement(a.a.Fragment,null,a.a.createElement(P.d,null,a.a.createElement(I.a,{headerInfo:he}),a.a.createElement("h1",{className:"p-identity_transfer_modal__title"},G.t("Please verify your email address")),a.a.createElement(P.e,null,a.a.createElement("p",null,G.t("This is just a quick security check. A confirmation code has been sent to {email} \u2014 it expires in 15 minutes. Please keep this window open, while you check your email.",{email:ce})),a.a.createElement("div",{className:"margin_bottom_50"},a.a.createElement("strong",null,G.t("Enter the code below:"))),a.a.createElement("form",{onSubmit:Nt=>Nt.preventDefault()},a.a.createElement("fieldset",{className:"no_margin no_padding no_border"},a.a.createElement("legend",{className:"offscreen"},G.t("Enter one number or letter into each input. The focus will automatically move to the next input after each entry. When you complete the form, a new window will open at {domain}.",{domain:Ce,fallbackHash:"e87145104256693bd48398d7ff5b3414272bd92f",fallbackHashNs:"team_creation"})),a.a.createElement(N.a,{isCheckError:!1,isNumbersOnly:!1,onChange:Vt,onFillCode:Xt,isInvalid:Ut,ariaDescribedBy:Ve}))),a.a.createElement(z.b,{status:$e,id:Ve}),rt&&a.a.createElement("div",{className:"p-identity_transfer_modal__resend_verification"},a.a.createElement(k.b,{htmlFor:"resend_verification_email",text:G.t("Get a new verification code.")}),a.a.createElement(A.d,{id:"resend_verification_email",onClick:Wt},G.t("Send Verification",{fallbackHash:"1e426f0e8ba0178a706f197235672b3aa19fd1a1"}))))),a.a.createElement(P.g,null,!Ge&&a.a.createElement(Z,{url:Re}),a.a.createElement(P.h,null,a.a.createElement(x.a,{"aria-label":G.t("Back"),autoClogProps:{eventId:B.EventId.IDL_EMAIL_VERIFICATION_BACK,idlAppId:Oe,idlDomain:Ce,idlEventId:B.EventId[B.EventId.IDL_EMAIL_VERIFICATION_BACK].toLowerCase(),onClick:{enableClogAction:!0},...Ie},"data-qa":"siws_email_verification_back",loading:qe,onClick:st,type:"outline"},G.t("Back")))))},"IdentityTransferModalEmailVerification");te.displayName="IdentityTransferModalEmailVerification";var se=te,$=e("pFNT"),X=e("oEDn"),q=e("qDEp");const Y=new F.b("app-config"),ee=h(Te=>{let{email:Oe,name:Ce,userId:ce,workspaceDomain:he}=Te;const Me=Object(S.a)(),[Ae,xe]=Object(t.useState)(!1);return a.a.createElement("div",{className:"p-identity_transfer_modal__member_card"},a.a.createElement("div",{className:"p-identity_transfer_modal__member_card__info",id:Me},a.a.createElement($.c,{isInteractive:!1,"aria-label":"",className:"p-identity_transfer_modal__member_card__info__avatar",size:48,userId:ce}),a.a.createElement("div",null,a.a.createElement("p",{className:"bold"},Ce),a.a.createElement("p",null,Oe),a.a.createElement(q.d,{"data-qa":"expand_to_see_user_details","aria-controls":Me,"aria-expanded":Ae,"aria-label":Ae?Y.t("Fewer User Details",{fallbackHash:"9cf188d3a6779d63b36b10275b0228ae22ec97d6",fallbackHashNs:"file"}):Y.t("More User Details",{fallbackHash:"9869e506c38f643f1fe985347c015deace6baa22",fallbackHashNs:"file"}),className:"p-identity_transfer_modal__member_card__expand",onClick:()=>xe(!Ae)},a.a.createElement(X.a,{type:Ae?"chevron-large-up":"chevron-large-down"})),Ae&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,Y.t("Workspace ID: {workspaceDomain}",{workspaceDomain:he})),a.a.createElement("p",null,Y.t("User ID: { userId }",{userId:ce}))))))},"IdentityTransferModalMemberCard");ee.displayName="IdentityTransferModalMemberCard";var w=ee;const ne=new F.b("app-config"),ae=h(Te=>{let{icon:Oe,text:Ce}=Te;return a.a.createElement("div",{className:"p-identity_transfer_modal__description_item"},a.a.createElement(X.a,{"aria-label":ne.t("{icon} icon",{icon:Oe}),className:"p-identity_transfer_modal__description_icon",type:Oe}),a.a.createElement("p",null,Ce))},"IdentityTransferModalDescriptionItem");ae.displayName="IdentityTransferModalDescriptionItem";var de=ae,ge=e("Tevt"),le=e("3mLu");const Q=new F.b("app-config"),ie=h(Te=>{let{appName:Oe,privacyPolicyUrl:Ce,tosUrl:ce}=Te;return a.a.createElement("div",{className:"p-identity_transfer_modal__legal"},Q.rt("Slack will securely share your name, email address, profile image, user ID, and team ID with {appName}. View Slack\u2019s <a3>privacy policy</a3>. By agreeing to allow Slack to share your identity, you are also agreeing to {appName}\u2019s <a2>privacy agreement</a2> and <a1>terms of service</a1>.",{appName:Oe,fallbackHash:"134b5a808f103f39a428de3a5b72088dc38327d4"},he=>{let{tag:Me,text:Ae}=he;switch(Me){case"a1":return a.a.createElement(ge.a,{href:ce},Ae);case"a2":return a.a.createElement(ge.a,{href:Ce},Ae);case"a3":return a.a.createElement(ge.a,{href:Object(le.a)("/privacy-policy")},Ae);default:return null}}))},"IdentityTransferModalLegal");ie.displayName="IdentityTransferModalLegal";var oe=ie;const me=new F.b("app-config"),be=h(Te=>{let{appId:Oe,domain:Ce,isUnskippable:ce=!1,hideLink:he=!1,headerInfo:Me,isLoading:Ae,legalInfo:xe,setIdentityTransferStep:Re,setLinkClickedPrefs:Ge,url:ze,userInfo:Ie,autoClogProps:Ne}=Te;const Ke=Object(O.a)(),[Ve,$e]=Object(t.useState)(!0),[tt,qe]=Object(t.useState)(!1),[ut,rt]=Object(t.useState)(!0),[yt,Mt]=Object(t.useState)(!1);Object(t.useEffect)(()=>{$e(Ae),rt(Ae)},[Ae]);const st=function(){var Nt=Object(n.coroutine)(function*(Ft){Ft?(qe(!0),rt(!0)):($e(!0),Mt(!0)),yield Ge(Ft),Ke.current&&(Ft?(qe(!1),rt(!1)):($e(!1),Mt(!1)))});return h(function(_n){return Nt.apply(this,arguments)},"setLoadingAndLinkClickedPrefs")}(),Vt=h(()=>{Ie.isEmailVerified?st(!0):Re("emailVerification")},"handleAcceptClicked"),Wt=h(()=>{st(!1)},"handleSkipClicked"),Xt=h(()=>{st(!1)},"handleCancelClicked"),{appName:Ut}=Me;return a.a.createElement(a.a.Fragment,null,a.a.createElement(P.d,null,a.a.createElement(I.a,{headerInfo:Me}),a.a.createElement("h1",{className:"p-identity_transfer_modal__title"},ce?me.t("Connect {appName} with Slack",{appName:Ut}):me.t("Continue to {appName} with Slack",{appName:Ut})),a.a.createElement(P.e,{className:"p-identity_transfer_modal__member_section"},a.a.createElement(w,{email:Ie.email,name:Ie.name,userId:Ie.userId,workspaceDomain:Ie.workspaceDomain})),a.a.createElement(P.e,null,a.a.createElement("div",{className:"p-identity_transfer_modal__info_box"},a.a.createElement("b",null,a.a.createElement("p",null,me.t("Your account details will be used to:",{fallbackHash:"aed3835c40e50f109d9a3e5c3643965d9b62d05d"}))),a.a.createElement(de,{icon:"plug",text:me.t("Establish a verified connection between an existing {appName} account and Slack. You\u2019ll sign in automatically.",{appName:Ut})}),a.a.createElement(de,{icon:"user",text:me.t("Help you create a new {appName} account, if you don\u2019t already have one.",{appName:Ut})}),a.a.createElement(de,{icon:"sparkles",text:me.t("Unlock {appName} features in Slack, like configurable notifications, rich link previews, and quick actions.",{appName:Ut})})),a.a.createElement(oe,{appName:Ut,privacyPolicyUrl:xe.privacyPolicyUrl,tosUrl:xe.tosUrl}))),a.a.createElement(P.g,null,!he&&a.a.createElement(Z,{url:ze}),a.a.createElement(P.h,null,!ce&&a.a.createElement(x.a,{autoClogProps:{eventId:B.EventId.IDL_INTERSTITIAL_SKIPPED,idlAppId:Oe,idlDomain:Ce,idlEventId:B.EventId[B.EventId.IDL_INTERSTITIAL_SKIPPED].toLowerCase(),onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip",disabled:ut,loading:yt,onClick:Wt,type:"outline"},me.t("Skip")),ce&&a.a.createElement(A.d,{type:"outline",onClick:Xt,autoClogProps:{eventId:B.EventId.IDL_INTERSTITIAL_CLOSED,idlAppId:Oe,idlDomain:Ce,idlEventId:B.EventId[B.EventId.IDL_INTERSTITIAL_CLOSED].toLowerCase(),onClick:{enableClogAction:!0},...Ne}},me.t("Cancel")),a.a.createElement(x.a,{autoClogProps:{eventId:B.EventId.IDL_INTERSTITIAL_ACCEPTED,idlAppId:Oe,idlDomain:Ce,idlEventId:B.EventId[B.EventId.IDL_INTERSTITIAL_ACCEPTED].toLowerCase(),onClick:{enableClogAction:!0},...Ne},"data-qa":"siws_auth_modal_accept",disabled:Ve,loading:tt,onClick:Vt,type:"primary"},me.t("Accept")))))},"SiwsIdentityTransfer");be.displayName="SiwsIdentityTransfer";var Se=be;const Pe=new F.b("app-config"),Ue=h(Te=>{let{appId:Oe,domain:Ce,headerInfo:ce,url:he,setIdentityTransferStep:Me}=Te;const Ae=Object(s.useDispatch)(),xe=Object(l.c)(ze=>Object(j.d)(ze,Oe)),Re=h(()=>{Me("permissions")},"handleBackClicked"),Ge=h(()=>{Ae(Object(T.a)({appId:Oe,dateOptedOut:Date.now(),numSkipped:xe+1})),window.open(he,"_blank","noopener,noreferrer"),Ae(Object(b.a)())},"handleProceedClicked");return a.a.createElement(a.a.Fragment,null,a.a.createElement(P.d,null,a.a.createElement(I.a,{headerInfo:ce}),a.a.createElement("h1",{className:"p-identity_transfer_modal__title p-identity_transfer_modal__title--skip"},Pe.t("You\u2019ve skipped a few times and we hear you")),a.a.createElement(P.e,null,a.a.createElement("div",null,Pe.rt("We won\u2019t show this connection prompt again to encourage you to link your Slack and {appName}. Click \u2018Proceed\u2019 to continue to: {link}.",{appName:ce.appName,link:a.a.createElement(ge.a,{href:he},he)})))),a.a.createElement(P.g,null,a.a.createElement(P.h,null,a.a.createElement(q.f,{"aria-label":Pe.t("Back"),autoClogProps:{idlAppId:Oe,idlDomain:Ce,eventId:B.EventId.IDL_USER_OPT_OUT_BACK,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_back",onClick:Re,type:"outline"},Pe.t("Back")),a.a.createElement(q.f,{"aria-label":Pe.t("Proceed"),autoClogProps:{idlAppId:Oe,idlDomain:Ce,eventId:B.EventId.IDL_USER_OPT_OUT_PROCEED,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_proceed",onClick:Ge},Pe.t("Proceed")))))},"IdentityTransferModalSkip");Ue.displayName="IdentityTransferModalSkip";var Fe=Ue,je=e("RVJP");const _e=new F.b("app-config"),pe=h(Te=>{let{email:Oe,headerInfo:Ce,setIdentityTransferStep:ce}=Te;const he=Object(l.c)(Re=>Object(je.d)(Re,"identity_transfer_reverification_strings")==="on"),Me=Object(s.useDispatch)(),Ae=h(()=>{ce("emailVerification")},"handleVerifyClicked"),xe=Object(t.useCallback)(()=>{Me(Object(b.a)())},[Me]);return he?a.a.createElement(a.a.Fragment,null,a.a.createElement(P.d,null,a.a.createElement(I.a,{headerInfo:Ce}),a.a.createElement("h1",{className:"p-identity_transfer_modal__title"},_e.t("Verify your account to continue with {appName}",{appName:Ce==null?void 0:Ce.appName})),a.a.createElement(P.e,null,a.a.createElement("div",{className:"p-identity_transfer_modal__info_box"},a.a.createElement("b",null,a.a.createElement("p",null,_e.t("Verification Required"))),a.a.createElement("ul",null,a.a.createElement("li",null,_e.t("You are trying to connect to {appName} on a device we don\u2019t recognize, or with a new email address.",{appName:Ce==null?void 0:Ce.appName})),a.a.createElement("li",null,_e.rt("To keep your account secure, we\u2019ll send a confirmation code to {email} to verify your identity before proceeding to the link.",{email:a.a.createElement("b",null,a.a.createElement("span",null,Oe))}))),a.a.createElement("p",null,_e.t("Once you\u2019ve confirmed your identity, we\u2019ll remember this device for next time."))))),a.a.createElement(P.g,null,a.a.createElement(P.h,null,a.a.createElement(A.d,{type:"outline",onClick:xe},_e.t("Cancel")),a.a.createElement(A.d,{onClick:Ae},_e.t("Verify"))))):null},"IdentityTransferReverificationModal");pe.displayName="IdentityTransferReverificationModal";var fe=pe;const Ee=h(Te=>{let{appId:Oe,domain:Ce,clientMsgId:ce,isUnfurl:he=!1,isUserPrefs:Me=!1,url:Ae,channelId:xe,reverifyEmail:Re=!1}=Te;const Ge=Object(s.useDispatch)(),ze=Object(g.a)(),Ie=Object(O.a)(),[Ne,Ke]=Object(t.useState)(null),[Ve,$e]=Object(t.useState)({appName:"",icons:{}}),[tt,qe]=Object(t.useState)({tosUrl:"",privacyPolicyUrl:""}),[ut,rt]=Object(t.useState)({email:"",isEmailVerified:!1,name:"",userId:"",workspaceDomain:"",workspaceId:""}),[yt,Mt]=Object(t.useState)(!0),[st,Vt]=Object(t.useState)(Re?"reverifyEmail":"permissions"),Wt=Object(l.c)(cn=>he?0:Object(j.d)(cn,Oe));Object(t.useEffect)(()=>{(function(){var Rn=Object(n.coroutine)(function*(){try{const{header:Vn,legal:ea,user:Lt}=yield Ge(p({appId:Oe,url:Ae,channelId:!Me&&!he?xe:void 0}));Ie.current&&($e(Vn),qe(ea),rt(Lt),Mt(!1))}catch(Vn){!he&&!Me&&window.open(Ae,"_blank","noopener,noreferrer"),Ge(Object(b.a)()),ze.error(`app-id - ${Oe}`,"error in getting interstitial blocks for link with given appid",Vn)}});return h(function(){return Rn.apply(this,arguments)},"getAuthModalData")})()()},[Oe,Ge,ze,Ie,Ae,he,Me,xe]);const Xt=Object(t.useCallback)(function(){var cn=Object(n.coroutine)(function*(Rn){try{Rn?(!Me&&Ae&&(yield Ge(Object(v.b)({appId:Oe,url:Ae,clientMsgId:ce,domain:Ce,shouldCloseWindowOnCompletion:he}))),Ge(M({appId:Oe,completedTransfer:!0})),Ge(Object(b.a)())):!he&&!Me&&Wt<2?(Ge(Object(T.a)({appId:Oe,dateLastSkipped:Date.now(),numSkipped:Wt+1})),Ge(Object(b.a)()),window.open(Ae,"_blank","noopener,noreferrer")):!he&&!Me&&Wt===2?Vt("skip"):(Ge(Object(b.a)()),!he&&!Me&&window.open(Ae,"_blank","noopener,noreferrer"))}catch(Vn){ze.error(`app-id - ${Oe}`,"error in setting prefs with given appid",Vn)}});return function(Rn){return cn.apply(this,arguments)}}(),[Oe,Ge,Ce,ce,ze,Wt,Ae,he,Me]),Ut=Object(t.useCallback)(()=>{const cn={permissions:B.EventId.IDL_INTERSTITIAL_CLOSED,emailVerification:B.EventId.IDL_EMAIL_VERIFICATION_CLOSED,skip:B.EventId.IDL_USER_OPT_OUT_CLOSED,reverifyEmail:B.EventId.IDL_EMAIL_VERIFICATION_CLOSED},Rn=cn==null?void 0:cn[st];if(Ne==null||Ne.track({eventId:Rn,entryPoint:"USER_PREFS",idlAppId:Oe,idlDomain:Ce,idlEventId:B.EventId[Rn].toLowerCase()}),he||Me||Re){Ge(Object(b.a)());return}st==="skip"?(Ge(Object(T.a)({appId:Oe,dateOptedOut:Date.now(),numSkipped:Wt+1})),window.open(Ae,"_blank","noopener,noreferrer")):Wt<2?(Ge(Object(T.a)({appId:Oe,dateLastSkipped:Date.now(),numSkipped:Wt+1})),window.open(Ae,"_blank","noopener,noreferrer")):Wt===2&&Vt("skip"),st!=="skip"&&Wt===2||Ge(Object(b.a)())},[Oe,Ne,Ge,Ce,st,Wt,Ae,he,Me,Re]);let Nt;const Ft={entryPoint:Me?"USER_PREFS":void 0};switch(st){case"reverifyEmail":Nt=a.a.createElement(fe,{email:ut.email,headerInfo:Ve,setIdentityTransferStep:Vt});break;case"emailVerification":Nt=a.a.createElement(se,{hideLink:Me||he,appId:Oe,domain:Ce,email:ut.email,headerInfo:Ve,logger:ze,setIdentityTransferStep:Vt,setLinkClickedPrefs:Xt,url:Ae,reverifyEmail:Re,autoClogProps:Ft});break;case"skip":Nt=a.a.createElement(Fe,{appId:Oe,domain:Ce,headerInfo:Ve,setIdentityTransferStep:Vt,url:Ae});break;default:Nt=a.a.createElement(Se,{isUnskippable:he||Me,hideLink:he||Me,appId:Oe,domain:Ce,headerInfo:Ve,isLoading:yt,legalInfo:tt,setIdentityTransferStep:Vt,setLinkClickedPrefs:Xt,userInfo:ut,url:Ae,autoClogProps:Ft})}const _n=Object(o.default)("p-identity_transfer_modal",{"p-identity_transfer_modal--skip":st==="skip"});return a.a.createElement(f.a,{trackClogRef:cn=>{Ke({track:cn})}},a.a.createElement(P.a,{className:_n,closeModal:Ut,shouldCloseOnOverlayClick:!1},Nt))},"IdentityTransferModal");Ee.displayName="IdentityTransferModal";var ye=i.a=Ee},LkXz:function(J,i,e){"use strict";e.d(i,"a",function(){return r});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),s=e("SQ0V"),l=e("oY18"),o=e("g3a/");const f=new a.b("file"),r=Object(s.c)("Enqueue copy link success toast message",function(m,c){let{targetWindow:u}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const d={name:"check"};return m(Object(l.a)({element:t.a.createElement(o.a,{svgIconProps:d},f.t("Link copied to clipboard")),targetWindow:u}))});r.meta={name:"createThunk",key:"createThunkenqueueCopyLinkSuccessToast",description:"Enqueue copy link success toast message"}},M7RD:function(J,i,e){"use strict";e.d(i,"a",function(){return l}),e.d(i,"c",function(){return o});var n=e("ivW5"),t=e("vLZU");const a={storeKey:"quipAtoms",persistenceEnabled:!0,scope:t.k.orgShared},{reducer:s,actions:l,selectors:o}=Object(n.a)(a);i.b=s},MAfL:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("khnw"),t=e("0LZ2");function a(s){const l=Object(t.a)(s),o=s||window,f=l.import("core/module");return h(class extends f{listen(){o.document.addEventListener("keydown",this.muteKeyEventsOnHrEmbed)}unload(){o.document.removeEventListener("keydown",this.muteKeyEventsOnHrEmbed)}muteKeyEventsOnHrEmbed(c){const u=this.quill.getSelection();if(u){const d=this.quill.getFormat(u);if(d&&d.slackhorizontalrule){if(c.keyCode===n.e||c.keyCode===n.c||c.keyCode===n.r||c.keyCode===n.k||c.keyCode===n.o)return!0;c.preventDefault()}}return!0}constructor(c,u){super(c,u),this.muteKeyEventsOnHrEmbed=this.muteKeyEventsOnHrEmbed.bind(this),this.listen=this.listen.bind(this),this.listen()}},"SlackHorizontalRuleModule")}h(a,"getSlackHorizontalRuleModule")},MIzC:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("q1tI"),t=e.n(n);function a(s,l){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const f=Object(n.useRef)(),r=Object(n.useRef)(),m=Object(n.useRef)(0),c=[s,...o];f.current=l,Object(n.useEffect)(()=>{const u=new Date().getSeconds(),d=new Date(s).getSeconds();let p;u<d?p=d-u:u>d?p=60-u+d:p=60,m.current=Math.max(p,5)},[s]),Object(n.useEffect)(()=>{var u;(u=f.current)===null||u===void 0||u.call(f);function d(){r.current=window.setTimeout(()=>{var p;(p=f.current)===null||p===void 0||p.call(f),m.current=60,d()},m.current*1e3)}return h(d,"scheduleNextTimeout"),d(),()=>{clearTimeout(r.current)}},c)}h(a,"useMinuteAfterTsInterval")},MUHO:function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("SQ0V"),t=e("pgMT"),a=e("jprL"),s=e("RVJP"),l=e("SFev");const o=Object(n.c)("Remove an unfurl from a draft",(f,r,m)=>{let{draftId:c,url:u}=m;f(Object(t.d)({draftId:c,url:u,status:a.f})),Object(s.d)(r(),"magic_unfurls")==="treatment"&&f(Object(l.a)({reason:"user-removed-draft-unfurl",url:u}))});o.meta={name:"createThunk",key:"createThunkremoveDraftUnfurl",description:"Remove an unfurl from a draft"}},MXGC:function(J,i,e){"use strict";e.d(i,"a",function(){return y});var n=e("q1tI"),t=e.n(n),a=e("fujP"),s=e("zxER"),l=e("RVJP"),o=e("nNoG"),f=e("YUBf"),r=e("ktUG"),m=e("Zbwg"),c=e("Trx9"),u=e("O86Y"),d=e("/CFe"),p=e("rBAR"),v=e("VymY"),g=e("aCzs"),O=e("oLdd");const b=new o.b("share-dialog");function y(C){let{modifiedPermissions:_,modifiedOrgSharingSetting:j,modifiedOrgTemplateSetting:E,isOrgWideTemplate:M,continueButtonIsLoading:T,shouldShowCloseDialogSpeedbump:P,onContinue:B,onCancel:R,fileId:U}=C;const K=Object(s.c)(L=>Object(l.d)(L,"canvas_templates_admin")==="on"),V=Object(s.c)(u.i),z=Object(n.useRef)(null);if(Object(n.useEffect)(()=>{var L;(L=Object(v.d)(z==null?void 0:z.current))===null||L===void 0||L.focus()},[]),!V||!Object(g.b)({modifiedPermissions:_,modifiedOrgSharingSetting:j,modifiedOrgTemplateSetting:E,isOrgWideTemplate:M}))return null;let N,A,x,k;P?(N=b.t("Want to discard your changes?"),A=b.t("Any unsaved changes will reset to what you had before."),x=b.t("Discard"),k="danger"):(N=b.t("Want to save your changes?"),Object(a.a)(_)?(j||E!==void 0)&&(j&&E===void 0?A=b.t("General permissions need to be saved before navigating to a new tab."):K&&(!j&&E!==void 0?A=b.t("The template setting needs to be saved before navigating to a new tab."):A=b.t("General permissions and the template setting need to be saved before navigating to a new tab."))):Object(m.a)(Object.keys(_)[0])?A=b.t("Channel permissions need to be saved before navigating to a new tab."):A=b.t("People permissions need to be saved before navigating to a new tab."),x=b.t("Save"),k="primary");let F;return K&&E!==void 0&&(F=E===!0?p.a:p.b),t.a.createElement(c.a,{uiComponentName:r.UiComponentName.QUIP_SHARE_DIALOG_SPEEDBUMP,uiComponentVariant:P?"unsaved_changes_close":"unsaved_changes_switch",elementValue:F,clogImpression:!0,fileId:U},t.a.createElement("div",{ref:z},t.a.createElement(f.k,{className:"p-canvas_access_speedbump",heading:N,description:A,onContinue:B,continueButtonLabel:x,continueButtonType:k,continueButtonIsLoading:T,onCancel:R,cancelButtonLabel:b.t("Back"),"data-qa":d.b.CHANGE_ACCESS_SPEEDBUMP,autoClogProps:Object(p.g)(P)})))}h(y,"CanvasChangeAccessSpeedBump")},MY1y:function(J,i,e){"use strict";e.d(i,"a",function(){return o}),e.d(i,"b",function(){return f});var n=e("ZKjC"),t=e("ekM3"),a=e("gnJq"),s=e("O86Y"),l=e("qiCS");const o=Object(n.b)((r,m,c)=>{let u=m==null?void 0:m.url_private_download;if(!u)return null;const d=Object(s.g)(r);return u=Object(l.d)(u,"origin_team",d),c?Object(l.d)(u,"export_lists_template",!0):u});o.meta={name:"createSelector",key:"createSelectorgetFileDownloadUrl",description:(r,m,c)=>{let u=m==null?void 0:m.url_private_download;if(!u)return null;const d=Object(s.g)(r);return u=Object(l.d)(u,"origin_team",d),c?Object(l.d)(u,"export_lists_template",!0):u}};const f=Object(n.b)((r,m)=>{if(!m||Object(a.a)(m))return null;const c=Object(t.a)(r,m);return c==="download"?o(r,m):["external","remote","window"].includes(c)?m.url_private:m.permalink});f.meta={name:"createSelector",key:"createSelectorgetFileHref",description:(r,m)=>{if(!m||Object(a.a)(m))return null;const c=Object(t.a)(r,m);return c==="download"?o(r,m):["external","remote","window"].includes(c)?m.url_private:m.permalink}}},MaHh:function(J,i,e){J.exports=e.p+"exchange-10f9bbd.svg"},ManY:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("q1tI"),t=e.n(n),a=e("cRDo");function s(l,o){const f=Object(n.useRef)(l),[r,m]=Object(n.useState)(l),c=Object(a.a)(()=>{o&&m(f.current)},o,[r]),u=Object(n.useCallback)(()=>{c(),m(f.current)},[c]);return[r,m,u]}h(s,"useEphemeralState")},MhVz:function(J,i,e){J.exports=e.p+"confirmation-9d699ca.svg"},Ms05:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("Y/OQ"),t=e("jmOL");function a(s){const l=!Object(n.a)(s).match(t.j);return Object(n.a)(s,{replaceLinks:l,replaceCode:!0,embedReplacement:"!"})}h(a,"getTextForRegex")},MvaT:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("qAkX"),t=e("0qhH");function a(s){if(!s||s.length()===0)return!1;const l=s.slice(s.length()-1);if(!l)return!1;const o=Object(n.a)(l.ops)||{};return!o||!Object(t.a)(o)?!1:o.insert===`
`}h(a,"hasTrailingNewline")},My6o:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),s=e("26ZP");const l=new a.b("share-dialog");function o(r,m){const c="p-share_dialog__warning_message";return m?t.a.createElement("span",{className:c,key:m},r):t.a.createElement("span",{className:c},r)}h(o,"wrapWarningText"),o.displayName="wrapWarningText";function f(r){const{atChannelWarningKeyword:m,channelMemberCount:c=0,disallowedKeywordInMsgText:u,isMessageShare:d,selectedChannelIsGeneral:p,selectedChannelName:v,willJoinChannel:g}=r;if(u){const b=Object(s.a)({type:u.replace("@",""),tsfMode:"NORMAL"});return o(u==="@everyone"&&!p?l.rt("<strong>{keyword}</strong> can\u2019t be used in {channelName}.",{keyword:b,channelName:v}):p?l.rt("A Workspace Owner has restricted the use of {keyword} messages in {channelName}.",{channelName:v,keyword:b}):l.rt("A Workspace Owner has restricted the use of {keyword} messages.",{keyword:b}))}const O=[];if(m){const b=Object(s.a)({type:m.replace("@",""),tsfMode:"NORMAL"});m==="@here"?O.push(o(l.rt("By using {keyword}, you\u2019re about to notify everyone in this channel who\u2019s currently online",{keyword:b}),"atChannelWarningKeyword")):O.push(o(l.rt("By using {keyword}, you are about to notify {memberCount, plural, =1 {# person} other {# people}}",{keyword:b,memberCount:c-1}),"atChannelWarningKeyword"))}return g&&(d?O.push(o(l.rt("You will join this channel when you share the message into it."),"willJoinChannel")):O.push(o(l.rt("You will join this channel when you share the file into it."),"willJoinChannel"))),O.length?t.a.createElement(t.a.Fragment,null,O):null}h(f,"getShareDialogWarningMessage"),i.a=f},Mz8L:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("nNoG");const t=new n.b("filesize");function a(s){let{decimalPlaces:l,iec:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s===0)return o?t.t("0 bits"):t.t("0 bytes");const f=o?1024:1e3;if(Math.abs(s)<f)return t.t("{bytes} B",{bytes:s});let r=-1,m=s;do m/=f,r+=1;while(Math.abs(m)>=f&&r<7);const c=l?m.toFixed(l):Math.round(m);return(o?[t.t("{size} KiB",{size:c}),t.t("{size} MiB",{size:c}),t.t("{size} GiB",{size:c}),t.t("{size} TiB",{size:c}),t.t("{size} PiB",{size:c}),t.t("{size} EiB",{size:c}),t.t("{size} ZiB",{size:c}),t.t("{size} YiB",{size:c})]:[t.t("{size} kB",{size:c}),t.t("{size} MB",{size:c}),t.t("{size} GB",{size:c}),t.t("{size} TB",{size:c}),t.t("{size} PB",{size:c}),t.t("{size} EB",{size:c}),t.t("{size} ZB",{size:c}),t.t("{size} YB",{size:c})])[r]}h(a,"convertFilesize")},N2b9:function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"c",function(){return a}),e.d(i,"a",function(){return s});var n=e("x6tY");function t(l){let{file:o,title:f,altText:r}=l;if(!Object(n.Jb)(o))return null;const m=new FormData;m.append("file",o,o.name);const c=m.get("file");return c?(c.id=o.id,f&&(c.title=f),r&&(c.alt_txt=r),c):null}h(t,"clonePendingFileWithNewFields");const a=h(l=>{let{channelId:o,threadTs:f}=l;return f?`${o}-${f}`:o},"getKey"),s="file-upload-dialog"},N4UQ:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n);function a(s){let{recording:l,recordingPaused:o}=s;const f=Object(n.useRef)([]);return Object(n.useEffect)(()=>{l?o?f.current.push({type:"stop",ms:performance.now()}):f.current.push({type:"start",ms:performance.now()}):f.current=[]},[l,o]),Object(n.useCallback)(()=>{let m=-1,c=0;return f.current.forEach(u=>{u.type==="start"?m<0&&(m=u.ms):u.type==="stop"&&m>=0&&(c+=u.ms-m,m=-1)}),m>=0&&(c+=performance.now()-m),c/1e3},[])}h(a,"useCurrentDuration"),i.a=a},N5xo:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("MIzC"),t=e("Nyfl");function a(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const o=Object(t.a)(()=>{const f=new Date;return f.setSeconds(0),f.getTime()},[]);Object(n.a)(o,s,l)}h(a,"useSnapToMinuteInterval")},NBsH:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("hbEN"),l=e("ifKl"),o=e("wd/R"),f=e.n(o),r=e("Cfcg"),m=e("WIr4"),c=e("qDEp"),u=e("ZobM"),d=e("QYtq"),p=e("s4P+"),v=e("nNoG"),g=e("7bEI"),O=e("MYuU"),b=e("9Gfp"),y=e("SkME"),C=e("INTg"),_=e("4TL0"),j=e("aqlM");const E=new v.b("date_picker"),M=150;let T=h(class extends n.PureComponent{componentDidUpdate(){this.updateListeners()}componentWillUnmount(){this.removeListeners()}setTargetBounds(){if(this.selectContainer.current){const U=this.selectContainer.current.getBoundingClientRect(),{pageYOffset:K}=window,V={top:U.top+K,bottom:U.bottom+K,left:U.left,right:U.right,width:U.width,height:U.height};this.setState(()=>({targetBoundsAdjusted:V}))}}changeDate(U){U!==this.props.selectedDate&&this.props.onDateChange(U)}closeDropdown(){this.setState(()=>({dropdownVisible:!1,dropdownActive:!1}))}handleOnClose(){this.props.onClose(),this.closeDropdown()}handleCalendarChange(U){this.changeDate(U),this.closeDropdown()}handleClearSelectionClick(){this.changeDate(""),this.closeDropdown()}handleContainerClick(){this.lastClickInsideSelect=!0}handleDropdownClick(){this.lastClickInsideDropdown=!0}handleDropdownFocusEnter(){this.props.datePickerDisabled||this.setState(()=>({dropdownVisible:!0,dropdownActive:!0}))}handleInputBlur(U){let{relatedTarget:K}=U;const V=this.dropdownContainer.current;V&&V.contains(K)||(this.setState(()=>({dropdownVisible:!1})),this.props.onBlur&&this.props.onBlur())}handleInputChange(U){this.changeDate(U)}handleInputClick(U){if(this.props.datePickerDisabled)return;this.setTargetBounds();const K=Object(g.a)(U);this.setState(()=>({dropdownVisible:!0,dropdownActive:K,dropdownFocusOnMount:K})),this.props.onClick(U)}handleInputEscape(U){this.state.dropdownVisible&&(U.preventDefault(),this.setState(()=>({dropdownVisible:!1})))}handleMaybeOutsideClick(){this.lastClickInsideSelect||this.lastClickInsideDropdown?(this.lastClickInsideSelect=!1,this.lastClickInsideDropdown=!1):this.setState(()=>({dropdownVisible:!1,dropdownActive:!1,dropdownFocusOnMount:!1}))}handleTriggerClick(U){if(this.props.datePickerDisabled)return;this.setTargetBounds();const K=Object(g.a)(U);this.setState(V=>V.dropdownVisible?{dropdownVisible:!1,dropdownActive:!1,dropdownFocusOnMount:!1}:{dropdownVisible:!0,dropdownActive:!0,dropdownFocusOnMount:K}),this.props.onClick(U)}removeListeners(){this.resizeListenerInstalled&&(this.handleResize.cancel(),window.removeEventListener("resize",this.handleResize),this.resizeListenerInstalled=!1),this.clickListenerInstalled&&(document.removeEventListener("click",this.handleMaybeOutsideClick),this.clickListenerInstalled=!1)}updateListeners(){this.state.dropdownVisible?(this.resizeListenerInstalled||(window.addEventListener("resize",this.handleResize),this.resizeListenerInstalled=!0),this.clickListenerInstalled||(document.addEventListener("click",this.handleMaybeOutsideClick),this.clickListenerInstalled=!0)):this.removeListeners()}handleContainerKeyDown(U){const{onDatePickerSelectKeyDown:K}=this.props;if(K)return K(U,{closeDropdown:this.closeDropdown})}renderPopover(){const{selectedDate:U,dateFormat:K,calendarClassName:V,dropdownClassName:z,yearTitleFormat:N,isDateDisabled:A,disabledDates:x,disableDatesBefore:k,disableDatesAfter:F,required:L,size:S,onScrollablePage:I,initialViewType:W,clearSelectionText:D}=this.props,{dropdownVisible:H,dropdownActive:Z,dropdownFocusOnMount:G}=this.state,te=Object(a.default)(z,"c-date_picker__dropdown"),se=Object(a.default)(V,"c-date_picker__select_calendar"),$=S==="small"?_.b:_.a;let X;return I&&(X={height:window.document.body.scrollHeight}),t.a.createElement(d.a,{isOpen:H,onClose:this.handleOnClose,overlayClassName:"c-popover c-date_picker__popover_overlay",targetBounds:this.state.targetBoundsAdjusted,position:"bottom-right",offsetX:$.x,offsetY:$.y,ariaHideApp:!Z,shouldFocusAfterRender:Z,tryOppositePosition:!0,overlayStyle:X},t.a.createElement("div",{ref:this.dropdownContainer,className:te,tabIndex:-1,"data-qa":"date_picker_dropdown",onFocus:this.handleDropdownFocusEnter},t.a.createElement(C.a,{className:se,selectedDate:U,dateFormat:K,yearTitleFormat:N,onDateChange:this.handleCalendarChange,kbNavActive:Z,focusOnMount:G,isDateDisabled:A,disabledDates:x,disableDatesBefore:k,disableDatesAfter:F,initialViewType:W}),!L&&U&&t.a.createElement("div",{className:"c-date_picker__clear_selection_container"},t.a.createElement(c.d,{className:"c-date_picker__clear_selection_btn","data-qa":"date_picker_clear",onClick:this.handleClearSelectionClick},D||E.t("Clear selection")))))}renderPopoverTrigger(){const{"data-qa":U,size:K}=this.props;return t.a.createElement(c.d,{className:Object(a.default)("c-date_picker__select_btn",{"c-date_picker__select_btn--small":K==="small","c-date_picker__select_btn--large":K==="large"}),onClick:this.handleTriggerClick,"data-qa":U?`${U}_dropdown_trigger`:"date_picker_dropdown_trigger","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],disabled:this.props.datePickerDisabled},t.a.createElement(u.a,{name:"caret-down",size:"20"}))}renderDownIcon(){return t.a.createElement("span",{className:"c-date_picker__icon"},t.a.createElement(u.a,{name:"caret-down",size:"20"}))}render(){const{id:U,dateFormat:K,displayFormat:V,datePlaceholder:z,inputClassName:N,isDateDisabled:A,disabledDates:x,disableDatesBefore:k,disableDatesAfter:F,required:L,selectedDate:S,size:I,datePickerDisabled:W,"aria-label":D,"aria-labelledby":H,"data-qa":Z,isInvalid:G,containerStyle:te,autoClogProps:se,featureAccessibleDatePickerSelect:$,focusOnMount:X,blurOnTab:q,onResetInput:Y}=this.props,ee=Object(a.default)(N,"c-date_picker__select_input");return t.a.createElement("div",{ref:this.selectContainer,className:"c-date_picker__select_container",onClick:this.handleContainerClick,role:"presentation",style:te,onKeyDown:this.handleContainerKeyDown},t.a.createElement(y.a,{id:U,className:ee,value:S,valueFormat:K,displayFormat:V,onChange:this.handleInputChange,onClick:this.handleInputClick,onBlur:this.handleInputBlur,onEscape:this.handleInputEscape,placeholder:z,isDateDisabled:A,disabledDates:x,disableDatesBefore:k,disableDatesAfter:F,required:L,"aria-label":D,"aria-labelledby":H,size:I,datePickerDisabled:!!W,"data-qa":Z?`${Z}_input`:"date_picker_input",isInvalid:G,autoClogProps:se,focusOnMount:X,blurOnTab:q,onResetInput:Y}),!$&&this.renderPopoverTrigger(),$&&this.renderDownIcon(),this.renderPopover())}constructor(U){super(U),U.selectedDate&&!f()(U.selectedDate,U.dateFormat).isValid()&&Object(p.b)().warn(`Invalid date ${U.selectedDate} for format ${U.dateFormat}`),this.state={dropdownVisible:!1,dropdownActive:!1,dropdownFocusOnMount:!1,targetBoundsAdjusted:void 0},this.lastClickInsideSelect=!1,this.lastClickInsideDropdown=!1,this.selectContainer=t.a.createRef(),this.dropdownContainer=t.a.createRef(),this.handleResize=Object(s.a)(this.setTargetBounds,M,{maxWait:M,trailing:!0}),this.resizeListenerInstalled=!1,this.clickListenerInstalled=!1,Object(m.a)(this,["setTargetBounds","handleInputClick","handleInputEscape","handleTriggerClick","handleInputChange","handleCalendarChange","handleClearSelectionClick","handleInputBlur","handleDropdownFocusEnter","handleContainerClick","handleDropdownClick","handleMaybeOutsideClick","handleContainerKeyDown","handleOnClose","closeDropdown","renderPopover"])}},"DatePickerSelect");T.displayName="DatePickerSelect",T.defaultProps={onDateChange:l.a,onClick:l.a,onClose:l.a,datePickerDisabled:!1,isInvalid:!1,id:`date-picker-select-${Object(O.d)()}`,datePlaceholder:void 0,selectedDate:void 0,disableDatesBefore:void 0,disableDatesAfter:void 0,"data-qa":void 0,onScrollablePage:!1,focusOnMount:!1,initialViewType:"month"};function P(R){return{featureAccessibleDatePickerSelect:Object(b.i)(R,"feature_accessible_date_picker_select")}}h(P,"mapStateToProps");var B=i.a=Object(r.a)(P)(T)},NFmw:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("4HNC"),s=e("sGXp"),l=e("FFLn");function o(){return o=Object.assign||function(m){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(m[d]=u[d])}return m},o.apply(this,arguments)}h(o,"_extends");function f(m,c,u){if(m)return c||u?s.d.highlightDim:s.d.highlightLight;if(c||u)return s.d.dim}h(f,"getBaseStyle");function r(m){let{className:c,secondaryContent:u,isActive:d=!1,isDeactivated:p=!1,isDisabled:v=!1,...g}=m;return t.a.createElement(a.a,{className:c,primaryContent:t.a.createElement(l.a,o({},g)),secondaryContent:u,size:"medium",style:f(d,v,p)})}h(r,"MediumChannelListEntity"),r.displayName="MediumChannelListEntity",i.a=r},NHkt:function(J,i,e){"use strict";e.d(i,"a",function(){return z});var n=e("ifKl"),t=e("X6iR"),a=e("JWn9"),s=e("Fsnq"),l=e("yIs4"),o=e("HA5h"),f=e("mM05"),r=e.n(f),m=e("nNoG"),c=e("yrot"),u=e("lhZz"),d=e("Oy0v"),p=e("0qhH"),v=e("TQ9f"),g=e("nPQL"),O=e("0LZ2"),b=e("kyoJ"),y=e("khnw"),C=e("haNl"),_=e("mSgU"),j=e("p7YC"),E=e("kBpe");const M="TABCOMPLETE",T={getMatch:n.a,search:n.a,onSelect:n.a,getInsertDataFromActiveResult:n.a,shouldDisplayResults:()=>!0,shouldCompleteOnTab:n.a,getMatchText:n.a,getMatchIndex:n.a,getMatchResults:n.a,clearMatchState:n.a,setSearchInFlight:n.a,getSearchInFlight:n.a,getSelectedIndex:n.a,onRequestOpen:n.a,onRequestClose:n.a,onInit:n.a,isOpen:n.a,positionMenu:n.a,logger:{error:n.a,info:n.a,warn:n.a}},P=h(N=>N.reduce((A,x)=>x.insert?A+x.insert:A,""),"combineByInserts"),B=[":","*","_","~"],R=h((N,A,x)=>{if(x.indexOf(A)!==-1)return"";const k=N.exec(A);return k?k[0]:""},"trailingPunctuation");function U(N,A,x){const k=x.concat([" "]);if(A&&A.index>=4){const F=N.getText(A.index-2,2),L=N.getFormat(A.index-3),S=F.charAt(1);if(B.indexOf(S)===-1&&(k.indexOf(S)!==-1||Object(m.d)(S))&&F.charAt(0)===" "&&L&&L.slackmention&&!L.slackmention.unverified)return!0}return!1}h(U,"hasSpaceAndPunctuationAfterMention");function K(N,A){if(A&&A.index>=5){const x=N.getText(A.index-3,3),k=N.getFormat(A.index-4);if(x===" : "&&k&&k.slackmention&&!k.slackmention.unverified)return!0}return!1}h(K,"hasSpaceAndColonAfterMention");function V(N,A){if(A&&A.index>=6){const x=N.getText(A.index-4,4),k=N.getFormat(A.index-5);if(x.search(/ ['\u2018\u2019]s /)!==-1&&k&&k.slackmention&&!k.slackmention.unverified)return!0}return!1}h(V,"hasSpaceAndApostropheAfterMention");function z(N){const x=Object(O.a)(N).import("core/module");return h(class extends x{unload(){this.isUnmounted=!0,this.quill.root.removeEventListener("compositionstart",this.onCompositionStart),this.quill.root.removeEventListener("compositionend",this.onCompositionEnd),this.hideMenu(),setTimeout(()=>{this.state=null},0)}listen(){this.quill.on("text-change",this.onTextChange),this.quill.on("selection-change",this.onSelectionChange),this.quill.root.addEventListener("compositionstart",this.onCompositionStart),this.quill.root.addEventListener("compositionend",this.onCompositionEnd),[y.r,y.c].forEach(L=>{this.quill.keyboard.addBinding({key:L,handler:()=>this.onUpDownArrow(L)})}),[y.k,y.o].forEach(L=>{this.quill.keyboard.addBinding({key:L,handler:(S,I)=>{var W;return!((W=I.format)===null||W===void 0)&&W.slackmention||this.hideMenu(),!0}})})}ariaExpand(){const L=this.quill.root;if(!L)return;L.getAttribute("role")==="combobox"&&L.setAttribute("aria-expanded","true"),L.setAttribute("aria-activedescendant",Object(b.b)(this.options.getSelectedIndex()))}ariaCollapse(){const L=this.quill.root;if(!L)return;L.getAttribute("role")==="combobox"&&L.setAttribute("aria-expanded","false"),L.removeAttribute("aria-activedescendant")}onUpDownArrow(L){return this.options.isOpen()?this.options.onArrowKey(L):!0}onEscape(){return this.options.isOpen()?(this.hideMenu(),!0):!1}onTab(L){if(L!=null&&L.shiftKey)return!1;if(this.options.isOpen())return setTimeout(()=>{this.onEnter(null)},0),!0;if(this.options.setSearchInFlight(null),this.quill.getLength()===1)return!1;const S=!0,I=this.options.getMatchText(),W=this.getCurrentMatchAtCursor(S);return W&&I===W.text?!1:(this.completeAtCursor({isUserSolicited:S,insertFirstResult:this.options.shouldCompleteOnTab()},W),this.options.shouldCompleteOnTab()?!!W:!1)}onCompositionStart(){this.state.isInComposition=!0,this.state.compositionTimer&&clearTimeout(this.state.compositionTimer)}onCompositionEnd(){this.state.compositionTimer=setTimeout(()=>{this.state.isInComposition=!1,this.options.isOpen()||this.maybeCompleteAtCursor("user")},0)}onTextChange(L,S,I){if(!this.state||Object(g.a)(L))return;const W=this.quill.getSelection();if(L.length()===1&&L.ops[0].insert&&setTimeout(()=>{const D=this.quill.getSelection();if(D&&D.index===0&&D.length===0){const H=this.quill.getLength()-1;H===1&&(this.quill.setSelection(H,0),this.options.logger.info(M,"manually adjusted index for Safari"))}},0),this.state.selectionJustHappened&&!this.state.isInComposition&&(this.state.selectionJustHappened=!1,U(this.quill,W,_.d))){setTimeout(()=>{this.quill.deleteText(W.index-2,1),this.quill.setSelection(W.index-1,0),this.hideMenu()},0);return}if(K(this.quill,W)){setTimeout(()=>{this.quill.deleteText(W.index-3,1),this.quill.setSelection(W.index-1,0),this.hideMenu()},0);return}if(V(this.quill,W)){setTimeout(()=>{this.quill.deleteText(W.index-4,2),this.quill.insertText(W.index-4,"\u2019"),this.quill.setSelection(W.index-1,0),this.hideMenu()},0);return}this.state.isMakingSelection||setTimeout(()=>{this.maybeCompleteAtCursor(I)},0)}maybeCompleteAtCursor(L){if(!this.isUnmounted){if(this.options.setSearchInFlight(null),this.quill.getLength()<=1){this.hideMenu();return}L==="user"&&this.completeAtCursor({isUserSolicited:!1,insertFirstResult:!1})}}isCursorWithinMention(L){if(L.length>0||L.index===0)return!1;const S=this.quill.getFormat(L).slackmention;if(S&&L.index!==0&&L.index<this.quill.getLength()-1&&this.quill.getFormat(L.index+1).slackmention)return!0;const I=this.quill.getFormat(L.index+1).slackmention;return!!(S&&I&&S.id===I.id)}maybeShowTooltip(L,S){if(this.options.isOpen())return;const I=this.isCursorWithinMention(L);if(!I&&this.options.tooltipIsShowing()){this.options.tooltipHide();return}const W=this.quill.selection.getNativeRange(),D=W&&W.start&&W.start.node&&W.start.node.parentNode,H=D&&D.classList;if(H&&H.contains("c-member_slug--unverified")&&L.length===0){this.maybeCompleteAtCursor(S);return}const G=H&&H.contains("ts_tip_texty");I&&G&&!this.options.tooltipIsShowing()&&this.options.tooltipShow(D)}hideAndReset(){this.onEscape(),this.resetPrevMatchState()}isMenuOpen(){return this.options.isOpen()}onSelectionChange(L,S,I){if(!this.state)return;const W=this.state.isMakingSelection;if(!W&&L){this.maybeShowTooltip(L,I);return}L&&!this.state.isInComposition&&!W&&(this.options.setSearchInFlight(null),this.hideMenu()),L||(this.onEscape(),this.resetPrevMatchState())}getCurrentMatchAtCursor(L){const S=this.quill.getSelection();if(!S)return;let I=S.index+S.length;if(S.index>0&&S.length===0&&this.quill.getFormat(S).slackmention&&this.quill.getText(S.index-1,1)!==`
`){const te=this.quill.getText(S.index-1,1)===" ",se=S.index===1||!this.quill.getFormat(S.index-2,0).slackmention;if(!(te&&se)){const X=this.quill.getFormat(S).slackmention.label;for(;this.quill.getFormat(I).slackmention&&this.quill.getFormat(I).slackmention.label===X;)I+=1;I-=1}}const{searchText:W,searchTextIndex:D}=this.textBetweenLastTokenAndIndex(I),Z={insert:`
`,attributes:this.quill.getFormat(S)};return this.getMatch(W,D,L,Z)}completeAtCursor(L,S){let{isUserSolicited:I=!1,insertFirstResult:W=!1}=L;const D=S||this.getCurrentMatchAtCursor(I);if(!D){this.resetPrevMatchState(),this.hideMenu();return}this.search({match:D,insertFirstResult:W,isUserSolicited:I})}search(L){let{match:S,insertFirstResult:I=!1,isUserSolicited:W=!1}=L;if(this.options.getSearchInFlight()===S.text){this.options.logger.info(M,`duplicate search for ${S.text.length} char query`);return}this.state.prevInsertObject=null,this.options.setSearchInFlight(S.text),this.options.logger.info(M,`start search with ${S.text.length} char query`),this.options.search(S.text,()=>{if(!this.state)return;const D=!this.state.prevInsertObject&&I;this.handleSearchResults(D,W)})}handleSearchResults(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const I=this.options.getMatchText()||"";if(!this.hasResults()||!I.length){this.hideMenu();return}if(this.options.logger.info(M,`received ${this.getNumResults().length} results for ${I.length} char query`),L){this.performSelection();return}if(!this.options.shouldDisplayResults(S)){this.options.logger.info(M,"completer decided to hide results"),this.hideMenu();return}this.showMenu()}onEnter(L){return L&&L.shiftKey||!this.options.isOpen()?!1:(this.state.isInComposition||this.performSelection({fromKeyboard:!0}),!0)}onSelect(){const L=this.options.getInsertDataFromActiveResult();if(!L){this.options.logger.error("onSelect could not get insert data");return}if(!this.hasResults()){this.options.logger.error("onSelect missing previous match");return}if(this.options.logger.info(M,`selected index ${this.options.getSelectedIndex()}`),L.contents){this.state.isMakingSelection=!0,this.quill.setContents(L.contents),this.state.prevInsertObject={text:this.quill.getText()},this.quill.setSelection(this.state.prevInsertObject.text.length,0),this.state.isMakingSelection=!1,this.options.setSearchInFlight(null);return}let S=L.slackemoji,I=L.text;S&&(I=`${L.text}${L.slackemoji.text}`);let W=this.options.getSearchInFlight()||this.options.getMatchText(),D=W.length;!this.options.getSearchInFlight()&&this.state.prevInsertObject&&(W=this.state.prevInsertObject.text,D=this.state.prevInsertObject.length||this.state.prevInsertObject.text.length);const H=this.options.getMatchText(),Z=R(_.e,H,I);Object(t.a)(L.text,H)||(I+=Z);const G=this.options.getMatchIndex()+D,te=this.quill.getText(G,1),$=_.d.concat([" "]).indexOf(te)===-1,X=this.quill.getText(this.options.getMatchIndex()-1,1),q=this.options.getMatchIndex()>0&&L.ensure_preceding_space&&Object(m.d)(X),Y=new r.a;let ee=this.options.getMatchIndex();const w=this.quill.getFormat(ee+1);w.slackmention&&delete w.slackmention;const ne=this.options.useWysiwyg?w.code||w["code-block"]:Object(j.a)(this.quill.getText(0,ee)),ae=this.options.useWysiwyg&&w.link;if(S&&(ne||ae)&&(S=null),this.options.getMatchIndex()>0&&!q&&!L.text&&S&&S.text.match(/^(:skin-tone-[2-6]:)$/)){const Pe=this.quill.getContents(this.options.getMatchIndex()-1,1);if(Pe.ops&&Object(v.a)(Pe.ops[0])){const Ue=Object(d.a)(Pe.ops[0].insert.slackemoji.text),Fe=this.options.teamId&&Object(u.getStateByTeamId)(this.options.teamId);Object(c.o)(Fe,{text:Ue.name,teamId:this.options.teamId})&&(ee-=1,D+=1,S.text=`:${Ue.name}:${S.text}`)}}Y.retain(ee);const de=this.options.getMatchIndex()||0,ge=I.toLowerCase(),le=W.toLowerCase(),Q=this.quill.getText(de,I.length).toLowerCase();!S&&ge!==le&&Q===ge?Y.delete(Math.max(I.length,D)):Y.delete(D),q&&Y.insert(" ",w);const ie=!!(L.format&&L.format.overrideLink);if(S){if(L.text&&Y.insert(L.text),S!=null&&S.text){const Pe=S.text.substr(1,S.text.indexOf(":",1)-1);Object(C.c)(Pe)}Y.insert({slackemoji:S},w)}else if(this.options.useWysiwyg&&(ne||ae&&!ie))Y.insert(I,{...w});else{var oe,me;const Pe=L==null||(oe=L.format)===null||oe===void 0||(me=oe.slackmention)===null||me===void 0?void 0:me.id;Object(C.d)(Pe),Y.insert(I,{...w,...L.format})}$&&(ie?Y.insert(" ",{...w,...L.format}):Y.insert(" ",w)),this.state.isMakingSelection=!0,this.quill.updateContents(Y,"user");let be=1;!q&&!$&&te!==" "?be=0:q&&($||te===" ")&&(be=2);const Se=L.text?L.text.length:0;this.quill.setSelection(de+(S?Se+1:I.length)+be,0),this.state.isMakingSelection=!1,this.options.setSearchInFlight(null),this.state.prevInsertObject={text:I},S&&(this.state.prevInsertObject.length=Se+1),this.state.selectionJustHappened=!0}textBetweenLastTokenAndIndex(L){let S;const{ops:I}=this.quill.getContents(0,L);this.quill.getFormat(L).slackmention?S=I.slice(-1):S=Object(a.a)(I,Z=>Object(p.a)(Z));const W=P(S),D=this.quill.getLength()-L-1,H=this.quill.getLength()-new r.a(S).length()-D-1;return{searchText:W,searchTextIndex:H}}getMatch(L){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,W=arguments.length>3?arguments[3]:void 0;if(!L)return;const D=this.options.getMatch(L,I,S,W);if(D)return{text:D.match,index:D.index+S}}showMenu(){this.options.tooltipHide(),this.options.isOpen()||this.options.logger.info(M,"opening menu"),this.options.onRequestOpen();const L=this.options.getMatchIndex(),S=this.quill.getBounds(L),I=this.quill.container.getBoundingClientRect(),W=S.left+I.left,D=S.top+I.top,H=D+S.height;this.options.positionMenu({top:D,left:W,bottom:H,right:W},I),this.ariaExpand()}hideMenu(){if(this.options.isOpen()&&(this.options.logger.info(M,"closing menu"),this.options.onRequestClose(),this.ariaCollapse(),!this.state.isInComposition&&this.quill.hasFocus())){const L=this.quill.getSelection();this.quill.blur(),this.quill.focus(),this.quill.setSelection(L)}}resetPrevMatchState(){this.clearPrevMatch(),this.options.setSearchInFlight(null),this.state.prevInsertObject=null}clearPrevMatch(){this.options.clearMatchState()}performSelection(){let{fromKeyboard:L=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.onSelect(),this.options.onSelect({fromKeyboard:L}),this.clearPrevMatch(),this.hideMenu()}getNumResults(){return Object(s.a)(this.options.getMatchResults())}hasResults(){return this.getNumResults()>0}getResultElementIndex(L){if(!L)return;const S=parseInt(L.getAttribute("data-index"),10);if(!Object(l.a)(S)){this.options.logger.warn(M,'missing "data-index" attribute');return}return S}constructor(L,S){const I=Object(o.a)({},T,S);super(L,I),this.onEscape=this.onEscape.bind(this),this.onCompositionStart=this.onCompositionStart.bind(this),this.onCompositionEnd=this.onCompositionEnd.bind(this),this.onTextChange=this.onTextChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this),this.onTab=this.onTab.bind(this),this.maybeCompleteAtCursor=this.maybeCompleteAtCursor.bind(this),this.hideMenu=this.hideMenu.bind(this),this.ariaExpand=this.ariaExpand.bind(this),this.performSelection=this.performSelection.bind(this),this.state={prevInsertObject:null,isInComposition:!1,isMakingSelection:!1,selectionJustHappened:!1,compositionTimer:null},Object(E.p)()&&Object(E.c)()===E.a.SAFARI&&this.quill.root.setAttribute("aria-owns",b.a),this.listen(),this.options.onInit({hideMenu:this.hideMenu,ariaExpand:this.ariaExpand,performSelection:this.performSelection})}},"TabComplete")}h(z,"getTabCompleteModule")},NNLN:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n);const a=t.a.createContext({});a.displayName="MessageContext",i.a=a},NPWB:function(J,i,e){"use strict";e.d(i,"a",function(){return r});var n=e("H0/5"),t=e("xwCZ"),a=e("C3vN"),s=e("6dQg"),l=e("eUIW"),o=e("beOr"),f=e("ltDl");function r(m,c){if(!c)return null;const u=Object(f.a)(c),d=Object(n.a)(u.pathname,"/");if(!Object(o.a)(u.hostname))return null;const p=d.split("/");if(d.indexOf("files/")===0){if(p.length<3)return null;const v=p[1];if(!v)return null;const g=Object(l.a)(v)?Object(t.g)(m,v):Object(t.h)(m,v);if(!g||Object(a.qb)(g))return null;if(p[2]&&Object(s.a)(p[2]))return p[2]}else if(d.indexOf("files-pri/")===0){if(p.length<3)return null;const v=p[1];if(v.indexOf("-")<0)return null;const g=v.split("-");if(g.length!==2)return null;if(g[1]&&Object(s.a)(g[1]))return g[1]}return null}h(r,"getFileIdFromUrlWithState")},NR1w:function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"c",function(){return a}),e.d(i,"a",function(){return s});var n=e("DwFS");const t=Object(n.a)("Save client block file download access to the store");t.meta={name:"createAction",key:"createActionsetIsDownloadAllowed",description:"Save client block file download access to the store"};const a=Object(n.a)("Set blocked action to show banner notification");a.meta={name:"createAction",key:"createActionshowBlockedDownloadBanner",description:"Set blocked action to show banner notification"};const s=Object(n.a)("Remove banner notification");s.meta={name:"createAction",key:"createActionhideBlockedDownloadBanner",description:"Remove banner notification"}},NRPS:function(J,i,e){"use strict";e.d(i,"a",function(){return l}),e.d(i,"b",function(){return o});var n=e("QOYf"),t=e("bZHP"),a=e.n(t);let s;function l(f){return Object(n.a)()?(!s&&t.TimezoneDetector&&(s=new t.TimezoneDetector),s&&s.getList(f)):window&&window.timezones_list&&window.timezones_list(f)}h(l,"getTimezones");function o(f,r){return Object(n.a)()?(!s&&t.TimezoneDetector&&(s=new t.TimezoneDetector),s&&s.getCanonicalTimezone(f,r)):window&&window.get_canonical_timezone&&window.get_canonical_timezone(f,r)}h(o,"getCanonicalTimezone")},"NmJ/":function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("gSGL"),t=e("F294"),a=e("+uU3"),s=e("x6tY");function l(o,f){if(!o)return"";let r="";if(o&&o.subtype!=="tombstone"){r=Object(n.a)(o.text)?o.text:"";const m=Object(t.a)(o.attachments);if(m&&m.is_msg_unfurl&&(!r||Object(a.a)(o))){const c=typeof m.original_url=="string"?m.original_url:"";r=m.text||c||""}}if(!r&&f&&!(f!=null&&f.isNonExistent)){const m=Object(s.G)(f);m&&(r=m)}return r}h(l,"getMessageRootText")},Nyfb:function(J,i,e){"use strict";e.d(i,"a",function(){return E});var n=e("HKE1"),t=e("qAkX"),a=e("yIs4"),s=e("mM05"),l=e.n(s);function o(P,B,R,U){if(!P||!U)return;const K=P.getFormat(B,R);K&&K[U]&&(K[U]=null,P.formatText(B,R,K))}h(o,"removeFormatFromRange");var f=e("3yyz"),r=e("htTJ"),m=e("qfW3"),c=e("0qhH"),u=e("lnVG"),d=e("9OBh"),p=e("5IZy"),v=e("Z44y"),g=e("/0zS"),O=e("zKt1"),b=e("ktUG"),y=e("0LZ2"),C=e("lhZz");function _(P){if(!P)return"";const B=P.match(/\d+/g);return B!=null?B.join(""):""}h(_,"extractNumbersFromString");const j=h(P=>{if(!P||!P.attributes)return!1;const B=Object(n.a)(P.attributes.link),R=Object(n.a)(P.insert);if(!B||!R)return!1;if(B===R||B===`mailto:${R}`)return!0;const U=B.split(":")[0],K=`${U}://${R}`;if(B===K)return!0;const V=`${U}://www.${R}`;return B===V||B.substr(0,4)==="tel:"&&_(B)===_(R)},"isLabelGoodEnoughForLink");function E(P){const B=Object(y.a)(P),R=B.import("core/module"),U=B.import("formats/link");return h(class extends R{listen(){this.options.linkifyOnSpace||this.quill.keyboard.addBinding({key:" ",shiftKey:null,collapsed:!0},this.maybeLinkify)}onEnter(z,N){let{range:A,context:x,shouldInsertNewline:k}=N;if(!A||A.length>0||!k(z))return!1;const F=this.quill.getFormat(A),L=this.quill.getFormat(A.index+1),I=this.quill.getLine(A.index)[1];if(F.link&&L.link&&F.link===L.link&&I!==0&&x.prefix.trim().length!==0){const[W,D]=this.quill.getLeaf(A.index);W.text&&o(this.quill,A.index-D,W.domNode.length,"link")}else this.maybeLinkify(A,x);return!1}maybeLinkify(z,N){if(N&&N.format&&N.format["code-block"])return!0;const A=N.prefix.lastIndexOf(" "),x=A!==-1?N.prefix.substr(A+1):N.prefix,k=Object(g.a)({input:x}),F=Object(t.a)(k);if(!F)return!0;const{url:L,offset:S,text:I}=F,W=I.length,D=z.index-x.length+S,H=this.quill.getFormat(D,W);if(H&&H.link||H&&H.code)return!0;if(this.options.convertImages&&Object(O.c)(L)&&!Object(O.b)(L)){const Z=new l.a().retain(D).delete(W).insert({slackdocimage:L});this.quill.updateContents(Z,"silent")}else this.quill.formatText(D,W,"link",L),this.clogger.track(b.EventId.MSG_FORMATTING_ADDED,{input_context:Object(v.a)()?b.MsgFormattingInputContext.POST:b.MsgFormattingInputContext.MESSAGE,input_source:b.MsgFormattingInputSource.MARKDOWN,input_format:b.MsgFormattingInputFormat.LINK,is_selection:W>0});return!0}getChangeIndex(z){if(!z)return null;const N=z.ops;return!N||!N.length?null:Object(c.a)(N[0])||Object(d.a)(N[0])?0:N.length>1&&Object(u.a)(N[0])&&(Object(c.a)(N[1])||Object(d.a)(N[1]))?N[0].retain:null}getRelevantOpData(z,N){const A=Object(c.a)(z),x=A?z.insert.substr(0,N):"",k=A?z.insert.substr(N):"",F=A&&x.match(/\s/g),L=A&&k.match(/\s/),S=Object(r.a)(z)||!Object(c.a)(z),I=x.length===0&&k.length>0&&k[0].match(/\s/),W=S||!F||I,D=S||!L;let H=0;if(!A)return{shouldGetPreviousOp:W,shouldGetNextOp:D,offsetAdjustment:H,opTextChanged:!1,relevantText:""};let Z=x;!W&&F&&(H=x.lastIndexOf(F[F.length-1]),Z=x.substr(H));let G=k;!D&&L&&(G=k.substr(0,L.index));const te=`${Z}${G}`;return{shouldGetPreviousOp:W,shouldGetNextOp:D,offsetAdjustment:H,opTextChanged:te!==z.insert,relevantText:te}}getRelevantDeltaAndOffsetWithLimitedScope(z,N){if(!z||!Object(a.a)(N))return null;const A=z.ops;if(!A||!A.length)return null;const x=[];let k,F=0;if(N===0){k=0;const S=A[0],{shouldGetNextOp:I,relevantText:W,opTextChanged:D}=this.getRelevantOpData(S,0);D?x.push({...S,insert:W}):x.push(S),I&&A.length>1&&x.push(A[1])}else A.forEach((S,I)=>{const W=Object(f.a)(S),D=F+W;if(!(N>=F&&N<D)){F+=W;return}const H=N-F,{shouldGetPreviousOp:Z,shouldGetNextOp:G,relevantText:te,offsetAdjustment:se,opTextChanged:$}=this.getRelevantOpData(S,H);Z&&I>0&&(x.push(A[I-1]),k=F-Object(f.a)(A[I-1])),$?te.length&&x.push({...S,insert:te}):x.push(S),Object(a.a)(k)||(k=F+se),G&&I+1<A.length&&x.push(A[I+1]),F+=W});if(N>0&&N===F){const S=A.length-1,I=A[S],W=Object(f.a)(I);k=F-W;const{shouldGetPreviousOp:D,relevantText:H,opTextChanged:Z,offsetAdjustment:G}=this.getRelevantOpData(I,W);if(D&&S>0){const te=A[S-1];x.push(te),k=F-Object(f.a)(I)-Object(f.a)(te)}Z?x.push({...I,insert:H}):x.push(I),D||(k+=G)}return{relevantDelta:new l.a(x),offset:k}}buildTextChangeDelta(z,N){let{initialTextChangeDelta:A,isSpaceInsertion:x,isDeletion:k,useWysiwyg:F,usePlainTextMode:L}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.skipNextTextChange)return this.skipNextTextChange=!1,new l.a;if(!this.options.supportsAnchorText)return new l.a;if(!z||!A)return new l.a;if(!F||L)return new l.a;const S=this.getChangeIndex(A);if(!Object(a.a)(S))return new l.a;const{relevantDelta:I,offset:W}=this.getRelevantDeltaAndOffsetWithLimitedScope(z,S)||{};if(!I||!Object(a.a)(W))return new l.a;let D=I,H,Z=0;if(k||x)for(let $=0;$<D.ops.length;$++){const X=D.ops[$];Z+=Object(f.a)(X),Object(r.a)(X)&&(H=H?void 0:X)}(k||x)&&Object(m.a)(H,{userDidDelete:k,userDidInsertSpace:x})&&(D=D.compose(new l.a().retain(Z,{link:!1})));const G=this.options.supportsAnchorText?Object(O.e)(D):Object(O.d)(D);if(!G)return new l.a;const te=D.reduce(($,X)=>$+Object(f.a)(X),0),se=new l.a().retain(W).delete(te).concat(G);return z.diff(z.compose(se)).length()>0?se:new l.a}constructor(z,N){super(z,N),this.maybeLinkify=this.maybeLinkify.bind(this);const A=Object(C.getStoreInstanceByTeamId)(this.options.teamId);this.skipNextTextChange=!1,this.clogger=Object(p.a)(A),U.sanitize=x=>x,this.listen()}},"SlackLinkModule")}h(E,"getSlackLinkModule");const M={isLabelGoodEnoughForLink:j},T=E(window)},NziY:function(J,i,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the workflow speedbump modal in client (noop)");t.meta={name:"createAction",key:"createActionopenWorkflowTriggerSpeedbumpModalCircular",description:"Triggers a side-effect that opens the workflow speedbump modal in client (noop)"},i.a=t},"O/xh":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),s=e("Cfcg"),l=e("c+dP"),o=e("zxER"),f=e("2IYT"),r=e("x/ke"),m=e("9Gfp"),c=e("MUHj"),u=e("+GhL"),d=e("zb/F"),p=e("YpEo"),v=e("EIL7"),g=e("ktUG"),O=e("nNoG"),b;(function(A){A.GO_TO_APP="go_to_app",A.VIEW_DIRECTORY="view_directory",A.COPY_APP_NAME="copy_app_name",A.COPY_APP_LINK="copy_app_link"})(b||(b={}));const y=new O.b("menu"),C=h(A=>{var x;const{memberId:k,serviceId:F,homeWorkspaceId:L,children:S}=A,I=Object(o.c)(de=>Object(r.c)(de,{serviceId:F,homeWorkspaceId:L,memberId:k})),W=k||(I==null||(x=I.app_user)===null||x===void 0?void 0:x.id),D=Object(u.h)(I),H=Object(o.c)(de=>Object(u.F)(de,I)),Z=Object(o.c)(de=>Object(u.w)(de,I)),G=Object(o.c)(de=>Object(u.c)(de,I)),te=H&&Z||G,se=Object(o.c)(de=>Object(u.J)(de,I)),$=Object(o.c)(m.h),X=Object(o.c)(v.a),q=Object(n.useCallback)(de=>{X.track(g.EventId.CONTEXT_MENU_ACTION,{label:de,is_iap1:!0})},[X]),Y=Object(n.useCallback)(()=>{q(b.VIEW_DIRECTORY)},[q]),ee=Object(n.useCallback)(()=>{q(b.GO_TO_APP),Object(c.a)({memberId:W})},[q,W]),w=Object(n.useCallback)(()=>{q(b.COPY_APP_NAME),Object(d.e)(D)},[q,D]),ne=Object(n.useCallback)(()=>{q(b.COPY_APP_LINK),Object(d.e)(te)},[q,te]),ae=Object(n.useCallback)(()=>{const de=[];return te&&(de.push({label:y.t("View in App Directory"),href:te,click:Y,dataQa:"bot_context_menu_app_directory"}),de.push({type:"separator"})),W&&se&&(de.push({label:y.t("Go to app"),click:ee}),de.push({type:"separator"})),de.push({label:y.t("Copy name"),click:w}),te&&de.push({label:y.t("Copy link"),click:ne}),de},[te,W,ne,w,ee,se,Y]);return!$||!F?Object(p.a)(S):t.a.createElement(f.a,{getTemplate:ae,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0},S)},"BotContextMenu");C.displayName="BotContextMenu";var _=C,j=e("SI/f"),E=e("QLhP"),M=e("O86Y"),T=e("9I4P"),P=e("NV6F");function B(){return B=Object.assign||function(A){for(var x=1;x<arguments.length;x++){var k=arguments[x];for(var F in k)Object.prototype.hasOwnProperty.call(k,F)&&(A[F]=k[F])}return A},B.apply(this,arguments)}h(B,"_extends");const R={children:a.default.oneOfType([a.default.element.isRequired,a.default.func.isRequired]).isRequired,menuProps:a.default.object,serviceId:a.default.string,memberId:a.default.string,homeWorkspaceId:a.default.string,memberIsHuman:a.default.bool,includeRemoveFromChannelAction:a.default.bool,profileCardProps:a.default.object},U={serviceId:void 0,memberId:void 0,homeWorkspaceId:void 0,menuProps:void 0,memberIsHuman:!1,includeRemoveFromChannelAction:!1,profileCardProps:void 0};let K=h(class extends n.Component{render(){const{serviceId:x,memberId:k,homeWorkspaceId:F,memberIsHuman:L}=this.props;return k&&L?t.a.createElement(j.a,{id:k},S=>this.renderTrigger(S)):x&&!L?t.a.createElement(_,{serviceId:x,memberId:k,homeWorkspaceId:F},S=>this.renderTrigger(S)):this.renderTrigger()}constructor(...x){var k;super(...x),k=this,this.renderProfileCard=F=>{const{serviceId:L,memberId:S,homeWorkspaceId:I,memberIsHuman:W,includeRemoveFromChannelAction:D}=this.props;return Object(P.E)({menuProps:F,serviceId:L,memberId:S,homeWorkspaceId:I,memberIsHuman:W,includeRemoveFromChannelAction:D})},this.renderTrigger=function(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{children:L,serviceId:S,memberId:I,homeWorkspaceId:W,memberIsHuman:D,includeRemoveFromChannelAction:H,...Z}=k.props;return t.a.createElement(l.e,B({renderMenu:k.renderProfileCard,position:"right-bottom",allowanceY:24,offsetX:8},Z),G=>Object(p.a)(L,G,F))}}},"ProfileCardTrigger");K.displayName="ProfileCardTrigger",K.propTypes=R,K.defaultProps=U;const V=h((A,x)=>{const{userId:k,botId:F,botProfile:L,serviceId:S}=x,{member:I,bot:W,memberIsHuman:D}=Object(E.f)(A,{userId:k,botId:F,botProfile:L});let H=null;if(!D||S){const Z=Object(M.g)(A);H=Object(T.c)({member:I,bot:W,botProfile:L,currentTeamId:Z})}return{serviceId:W&&W.id||S,memberId:I&&I.id,homeWorkspaceId:H,memberIsHuman:D}},"mapStateToProps");var z=Object(s.a)(V)(K),N=i.a=z},O2qk:function(J,i,e){"use strict";e.d(i,"b",function(){return o}),e.d(i,"a",function(){return f}),e.d(i,"e",function(){return r}),e.d(i,"f",function(){return m}),e.d(i,"c",function(){return c}),e.d(i,"d",function(){return u});var n=e("ZKjC"),t=e("UOL+"),a;const s=Object(n.b)(d=>{var p;return(a=(p=Object(t.a)(d))===null||p===void 0?void 0:p.draftSending)!==null&&a!==void 0?a:d==null?void 0:d.draftSending});var l;s.meta={name:"createSelector",key:"createSelectorgetAllDraftSending",description:d=>{var p;return(l=(p=Object(t.a)(d))===null||p===void 0?void 0:p.draftSending)!==null&&l!==void 0?l:d==null?void 0:d.draftSending}};const o=Object(n.b)((d,p)=>{let{draftId:v}=p;var g,O;return!!(!((g=s(d))===null||g===void 0||(O=g[v])===null||O===void 0)&&O.isSending)});o.meta={name:"createSelector",key:"createSelectorisDraftSending",description:(d,p)=>{let{draftId:v}=p;var g,O;return!!(!((g=s(d))===null||g===void 0||(O=g[v])===null||O===void 0)&&O.isSending)}};const f=Object(n.b)((d,p)=>{let{draftId:v}=p;var g,O;return(g=s(d))===null||g===void 0||(O=g[v])===null||O===void 0?void 0:O.error});f.meta={name:"createSelector",key:"createSelectorgetDraftError",description:(d,p)=>{let{draftId:v}=p;var g,O;return(g=s(d))===null||g===void 0||(O=g[v])===null||O===void 0?void 0:O.error}};const r=Object(n.b)((d,p)=>{let{draftId:v}=p;var g,O;return!!(!((g=s(d))===null||g===void 0||(O=g[v])===null||O===void 0)&&O.isSendingInvites)});r.meta={name:"createSelector",key:"createSelectorisSendingInvitesForDraft",description:(d,p)=>{let{draftId:v}=p;var g,O;return!!(!((g=s(d))===null||g===void 0||(O=g[v])===null||O===void 0)&&O.isSendingInvites)}};const m=Object(n.b)((d,p)=>{let{draftId:v}=p;var g,O;return!!(!((g=s(d))===null||g===void 0||(O=g[v])===null||O===void 0)&&O.shouldSendMessageAfterInvites)});m.meta={name:"createSelector",key:"createSelectorshouldSendMessageAfterInvites",description:(d,p)=>{let{draftId:v}=p;var g,O;return!!(!((g=s(d))===null||g===void 0||(O=g[v])===null||O===void 0)&&O.shouldSendMessageAfterInvites)}};const c=Object(n.b)((d,p)=>{let{draftId:v}=p;var g,O;return!!(!((g=s(d))===null||g===void 0||(O=g[v])===null||O===void 0)&&O.isSent)});c.meta={name:"createSelector",key:"createSelectorisDraftSent",description:(d,p)=>{let{draftId:v}=p;var g,O;return!!(!((g=s(d))===null||g===void 0||(O=g[v])===null||O===void 0)&&O.isSent)}};const u=Object(n.b)((d,p)=>{let{draftId:v}=p;return o(d,{draftId:v})||c(d,{draftId:v})});u.meta={name:"createSelector",key:"createSelectorisDraftSentOrSending",description:(d,p)=>{let{draftId:v}=p;return o(d,{draftId:v})||c(d,{draftId:v})}}},O6kw:function(J,i,e){"use strict";var n=e("Lgge"),t=e("q1tI"),a=e.n(t),s=e("n3tL"),l=e("fujP"),o=e("c8Bs"),f=e("Z0Cl"),r=e("gSGL"),m=e("wBxZ"),c=e("SQ0V"),u=e("3l96"),d=e("a8/Y"),p=e("gCYc"),v=e("PU6Q"),g=e("x6tY"),O=e("bORL"),b=e("pu3F"),y=e("ifKl"),C=e("syB0"),_=e("oT5T"),j=e("nNoG");const E=new j.b("files");function M(w){let{proceedToNextDialog:ne=y.a,disableFileUploadsPref:ae=""}=w;const de=E.t("Uploads disabled");let ge="";ae==="disable_all"&&(ge=E.t("At the request of your administrator, file uploads have been disabled on this workspace.")),ae==="disable_all_except_images"&&(ge=E.t("At the request of your administrator, only images can be uploaded to this workspace."));const le=h(()=>Object(C.a)(()=>{ne()}),"onGo");return a.a.createElement(_.a,{title:de,onGo:le},a.a.createElement("p",null,ge))}h(M,"FileUploadsDisabledAlert"),M.displayName="FileUploadsDisabledAlert";var T=M;const P=new j.b("file_upload");function B(w){let{proceedToNextDialog:ne=y.a,excludedFiles:ae=[],goodFiles:de=[]}=w,ge,le,Q,ie,oe,me,be="";const Se=ae.length+de.length;ae.length&&(ge=[],ie="",me="",ge=ae.map(Ue=>a.a.createElement("li",{key:Ue.name},a.a.createElement("strong",null,Ue.name))),ae.length>1?(le=ae.length===Se?P.t("All files unsupported"):P.t("Some files unsupported"),oe=P.t("Try uploading a .zip version of these files instead."),ie=a.a.createElement("ul",null,ge)):ae.length===1&&(le=P.t("File unsupported"),oe=P.t("Try uploading a .zip version of this file instead.")),de.length>1?me=P.t("(Don\u2019t worry, your other files are next.)"):de.length===1&&(me=P.t("(Don\u2019t worry, your other file is next.)")),ae.length===1?Q=P.rt("Sorry, {excluded_file} is a type of file not supported by Slack",{excluded_file:a.a.createElement("strong",null,ae[0].name)}):ae.length===Se?Q=P.t("Sorry, none of those file types are supported by Slack."):Q=P.t("Sorry, some of those file types are not supported by Slack."),be=a.a.createElement("div",null,a.a.createElement("p",null,Q),ie,a.a.createElement("p",null,oe),a.a.createElement("p",null,me)));const Pe=h(()=>{Object(C.a)(()=>{ne()})},"onGo");return a.a.createElement(_.a,{title:le,onGo:Pe},be)}h(B,"FileUploadUnsupportedAlert"),B.displayName="FileUploadUnsupportedAlert";var R=B,U=e("Cfcg"),K=e("Mz8L"),V=e("RVJP"),z=e("Rc7c");const N=new j.b("file-upload"),A={SINGLE:"single",MULTIPLE:"multiple",ALL:"all",RESTRICTED_BY_ADMIN:"restricted_by_admin"};function x(w){let{type:ne=A.SINGLE,maxFileSizeUploadPref:ae=0,proceedToNextDialog:de=y.a,experimentBoxCfsGroupOn:ge,filesStore:le}=w,Q=N.t("File too large"),ie="";const oe=le==="box";ne===A.ALL?(ie=N.t("All of those files are too large and cannot be uploaded. The limit is {limit}.",{limit:Object(K.a)(b.eb)}),ge&&oe&&(ie=N.t("All of those files are too large and cannot be uploaded. Please contact your Box admin for file size limit."))):ne===A.SINGLE?(ie=N.t("That file is too large and cannot be uploaded. The limit is {limit}.",{limit:Object(K.a)(b.eb)}),ge&&oe&&(ie=N.t("That file is too large and cannot be uploaded. Please contact your Box admin for file size limit."))):ne===A.RESTRICTED_BY_ADMIN?(Q=N.t("Couldn\u2019t attach file"),ie=N.t("Files can\u2019t be bigger than {limit}. To change that limit, or remove it entirely, you\u2019ll need to talk to admin.",{limit:Object(K.a)(ae)}),ge&&oe&&(ie=N.t("That file is too large and cannot be uploaded. Please contact your Box admin."))):(ie=N.t("We\u2019ll upload what we can, but one or more of those files is too large and cannot be uploaded. The limit is {limit}.",{limit:Object(K.a)(b.eb)}),ge&&oe&&(ie=N.t("We\u2019ll upload what we can, but one or more of those files is too large and cannot be uploaded. Please contact your Box admin for file size limit.")));const me=ne===A.MULTIPLE?()=>{Object(C.a)(()=>{de()})}:y.a;return a.a.createElement(_.a,{title:Q,onGo:me},a.a.createElement("p",null,ie))}h(x,"FileUploadSizeAlert"),x.displayName="FileUploadSizeAlert";const k=h(w=>({experimentBoxCfsGroupOn:Object(V.d)(w,"box_cfs")==="on",filesStore:Object(z.a)(w)}),"mapStateToProps");var L=Object(U.a)(k)(x),S=e("zyFp"),I=e("bPB8"),W=e("yIs4"),D=e("uKXT"),H=e("ZOzc"),Z=e("O86Y");const G=h(w=>{const ne=Object(Z.a)(w);if(!ne)return;const ae=Object(I.a)(ne.map(de=>{const ge=Object(H.a)(w,"max_file_upload_size",de);return Object(W.a)(ge)&&ge>0?ge:null}));return ae.length>0?Object(D.a)(ae):void 0},"getMaxFileUploadSizePref"),te=h(function(){let{dispatch:w,getState:ne,files:ae}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(l.a)(ae))return n.a.resolve();const de=Object(o.a)(ae,ge=>Object(g.ub)(ge));return new n.a(ge=>{const le=Object(v.b)(ne());if(le==="disable_all"&&!de){w(Object(u.a)({element:a.a.createElement(T,{disableFileUploadsPref:le,proceedToNextDialog:()=>ge()}),isStackable:!0}));return}if(le==="disable_all_except_images"&&!de){const Q=Object(f.a)(ae,ie=>Object(g.Kb)(ie));if(Q.length!==ae.length){w(Object(u.a)({element:a.a.createElement(T,{disableFileUploadsPref:le,proceedToNextDialog:()=>ge(Q)}),isStackable:!0}));return}}ge(ae)})},"filterFilesForDisabledUploadsPref"),se=h(function(){let{dispatch:w,files:ne}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object(l.a)(ne)?n.a.resolve():new n.a(ae=>{Object(g.bc)(ne,de=>{if(de.excludedFiles.length){w(Object(u.a)({element:a.a.createElement(R,{goodFiles:de.goodFiles,excludedFiles:de.excludedFiles,proceedToNextDialog:()=>ae(de.goodFiles)}),isStackable:!0}));return}ae(de.goodFiles)})})},"filterFilesByType"),$=h(function(){let{dispatch:w,getState:ne,files:ae}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object(l.a)(ae)?n.a.resolve():new n.a(de=>{const ge=G(ne());if(ge&&ge>0&&Object(f.a)(ae,ie=>Object(g.ub)(ie)||Object(g.Xb)(ie,ge)).length!==ae.length){w(Object(u.a)({element:a.a.createElement(L,{maxFileSizeUploadPref:ge,type:A.RESTRICTED_BY_ADMIN}),isStackable:!0}));return}const le=ae.filter(Q=>Object(r.a)(Q)||typeof Q.size>"u"||Q.size<=b.eb);if(le.length<ae.length){if(ae.length===1){w(Object(u.a)({element:a.a.createElement(L,{type:A.SINGLE}),isStackable:!0})),de();return}if(!le.length){w(Object(u.a)({element:a.a.createElement(L,{type:A.ALL}),isStackable:!0})),de();return}w(Object(u.a)({element:a.a.createElement(L,{type:A.MULTIPLE,proceedToNextDialog:()=>de(le)}),isStackable:!0}));return}de(le)})},"filterFilesBySize"),X=h(function(){let{dispatch:w,getState:ne,files:ae,channelId:de,threadTs:ge}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(l.a)(ae))return n.a.resolve();const le=ne(),Q=Object(d.c)(le,{channelId:de,threadTs:ge})||[];if(Q.length+ae.length>b.z){w(Object(S.a)());const ie=b.z-Q.length,oe=Object(m.a)(ae,ie);return n.a.resolve(oe)}return n.a.resolve(ae)},"filterFilesByCount"),q=h(function(){let{dispatch:w,getState:ne,files:ae,draftId:de}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(l.a)(ae))return n.a.resolve();const ge=ne(),le=Object(p.k)(ge,de),Q=Object(O.a)(ge,le);if(Q+ae.length>b.z){w(Object(S.a)());const ie=b.z-Q,oe=Object(m.a)(ae,ie);return n.a.resolve(oe)}return n.a.resolve(ae)},"filterFilesByCountForDraft"),Y=Object(c.c)("filters invalid files before they can be uploaded",function(w,ne){let{selectedFiles:ae,channelId:de,threadTs:ge,draftId:le}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return te({dispatch:w,getState:ne,files:ae}).then(Q=>se({dispatch:w,files:Q})).then(Q=>$({dispatch:w,getState:ne,files:Q})).then(Q=>le?q({dispatch:w,getState:ne,files:Q,draftId:le}):X({dispatch:w,getState:ne,files:Q,channelId:de,threadTs:ge}))});Y.meta={name:"createThunk",key:"createThunkfilterFilesForUpload",description:"filters invalid files before they can be uploaded"},Y.propTypes={selectedFiles:s.default.array.isRequired,channelId:s.default.string,threadTs:s.default.string,draftId:s.default.string};var ee=i.a=Y},O8n7:function(J,i,e){"use strict";e.d(i,"c",function(){return t}),e.d(i,"b",function(){return a}),e.d(i,"a",function(){return s}),e.d(i,"d",function(){return l});var n=e("DwFS");const t=Object(n.a)("Set shouldOpen state for App Action Picker state");t.meta={name:"createAction",key:"createActionsetShouldOpenShortcutsMenu",description:"Set shouldOpen state for App Action Picker state"};const a=Object(n.a)("Mark a new timestamp for shortcuts menu clogging");a.meta={name:"createAction",key:"createActionsetShortcutsMenuOpenTs",description:"Mark a new timestamp for shortcuts menu clogging"};const s=Object(n.a)("Set appId for pushed view in shortcuts menu");s.meta={name:"createAction",key:"createActionsetPushedView",description:"Set appId for pushed view in shortcuts menu"};const l=Object(n.a)("Open the Native Gif Picker from a slash command");l.meta={name:"createAction",key:"createActiontoggleOpenGifPickerFromSlashCommand",description:"Open the Native Gif Picker from a slash command"}},OCkr:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("vJtL"),l=e("LUQC"),o=e("3V+Q"),f=e("pbND"),r=e("Pewd"),m=e("MYuU"),c=e("9ADk");function u(){return u=Object.assign||function(j){for(var E=1;E<arguments.length;E++){var M=arguments[E];for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(j[T]=M[T])}return j},u.apply(this,arguments)}h(u,"_extends");function d(j){const{name:E,addHint:M,removeHint:T}=Object(n.useContext)(f.a),P=Object(n.useMemo)(()=>`${E}_hint_${Object(m.d)()}`,[E]);return Object(n.useEffect)(()=>(M(P),()=>{T(P)}),[M,P,T]),t.a.createElement(c.a,u({},j,{id:P}))}h(d,"FormHint"),d.displayName="FormHint";var p=d;function v(j){let{hints:E}=j;return E&&E.map((M,T)=>{const B=((typeof M=="string"?M:M==null?void 0:M.key)||"").slice(-3)+T;return t.a.createElement(p,{key:B,className:"c-field_input__helpers"},M)})}h(v,"FieldHints");var g=e("i5Ig"),O=e("Z4OJ");const b=h(j=>`${j}_label_id`,"getLabelId"),y=h((j,E)=>({...j,...E,className:Object(a.default)(j.className,E.className)}),"mergeProps");function C(j){let{name:E,labelText:M,hints:T=g.a,labelSubtext:P,focusOnMount:B=!1,component:R,children:U,optional:K=!1,validate:V,validateAsync:z,...N}=j;const A=b(E),x=U&&Object(s.a)(U),k=U&&!Object(s.a)(U);Object(l.a)(!(R&&x),"You should not use <Field component> and <Field children> as a function in the same <Field> component; <Field component> will be ignored.");const F=Object(n.useCallback)(S=>M?t.a.createElement(o.b,{text:M,id:A,type:"inline",cursor:"pointer",className:Object(a.default)(S,N.className),optional:K},U):U,[U,A,M,K,N.className]),L=Object(n.useCallback)(()=>M?t.a.createElement(o.b,{text:M,subtext:P,id:A,optional:K}):null,[A,P,M,K]);return t.a.createElement(f.b,{name:E,labelId:A,validate:V,validateAsync:z,focusOnMount:B},S=>{let{field:I,fieldErrors:W}=S;return t.a.createElement(t.a.Fragment,null,k?F(I.className):t.a.createElement(t.a.Fragment,null,L(),x?U({field:I}):t.a.createElement(R,y(I,{...N}))),t.a.createElement(r.a,{errors:W}),t.a.createElement(v,{hints:T}))})}h(C,"Field"),C.displayName="Field";var _=i.a=C},OF9j:function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("owWc"),t=e("Dpjh"),a=e("k2bd"),s=e("fR2/"),l=e("TQ9f");function o(r){let{tagChannelsAsSearchGeneric:m}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{tagChannelsAsSearchGeneric:!1};return r.contents?Object(n.a)(r.contents,(u,d)=>{if(Object(s.a)(d)){const p=d.attributes.slackmention.id,v=d.attributes.slackmention.label,g=f(d,m);let O="";if(g==="%"&&(O="%"),d.insert.length>v.length){let b=d.insert.split(v);if(b.length>1)return b.shift(),b=b.map(()=>`<${g}${p}|${O}${Object(t.a)(v)}>`),u+b.join("")}return`${u}<${g}${p}|${O}${Object(t.a)(v)}>`}if(Object(l.a)(d))return u+d.insert.slackemoji.text;if(Object(a.a)(d)){const{id:p,property:v}=d.insert.workflowtoken,g=v?`.${v}`:"";return`${u}{{${p}${g}}}`}return u+d.insert},"").replace(/\n$/,""):""}h(o,"convertContentsToString");function f(r){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!m&&Object(s.e)(r)?"#":Object(s.h)(r,m)?"%":"@"}h(f,"getControlChar")},OJZy:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("Kn+X");function t(a){const s={},l=Object(n.o)(a)||Object(n.s)(a);return l&&(s.draft_id=l),s}h(t,"getDraftExtraArgs")},OXvE:function(J,i,e){"use strict";var n=e("F294"),t=e("bPB8"),a=e("q1tI"),s=e.n(a),l=e("Cfcg"),o=e("JoR1"),f=e("O86Y"),r=e("i7CO"),m=e("HJKc"),c=e("YlCL"),u=e("aCpJ"),d=e("lhZz");function p(W,D){if(!D||!W||!Object(m.a)(W))return"";const H=Object(d.getStateByTeamId)(D),Z=Object(c.d)(H);return Object(u.a)(Z)[W]}h(p,"getUnicodeNameFromEmojiString");var v=e("m5Yc"),g=e("mdQV"),O=e("6YLm"),b=e("RNBp"),y=e("FFYQ"),C=e("WXix"),_=e("ECHX"),j=e("6je6"),E=e("/ZHS"),M=e("7HXw"),T=e("895Y"),P=e("/qcS"),B=e("U00I"),R=e("gV07"),U=e("7UMc"),K=e("rBXw"),V=e("Atrf"),z=e("wnwS"),N=e("5yBE"),A=e("qzps"),x=e("/MKj"),k=e("zxER"),F=e("9wj1");const L=h(W=>{let{richTextBlock:D,do24hrTime:H,emojiSize:Z,truncateLength:G,teamOrEnterpriseId:te,withFormattingStyles:se,withHighlights:$,withSlackLinks:X,withHyperlinks:q}=W;var Y;const ee=Object(x.useDispatch)(),w=Object(k.c)(me=>Object(o.u)(me,"suppress_link_warning")),ne=Object(a.useCallback)(me=>{if(!w){const{href:be,innerText:Se}=me.target;ee(Object(F.a)({text:Se,url:be})),me.preventDefault()}},[ee,w]);if(!(!(D==null||(Y=D.elements)===null||Y===void 0)&&Y.length))return null;let ae=0;const de=h(()=>(ae+=1,ae),"makeKey");let ge=Object(n.a)(D.elements),le;if(Object(T.a)(ge)&&(ge!=null&&ge.style&&ge.style===v.a.ORDERED?le=s.a.createElement(s.a.Fragment,null,"1. "):le=s.a.createElement(s.a.Fragment,null,"\u2022 "),ge=Object(n.a)(ge.elements)),!ge||!ge.elements||!ge.elements.length)return null;let Q=!1,ie=0;const oe=ge.elements.map(me=>{if(Q)return null;if(Object(C.a)(me)){ie+=1;const be=me.name,Se=me.skin_tone,Pe=me.display_team_id,Ue=me.display_alias,Fe=me==null?void 0:me.unicode,je=Ue??be,_e=Object(r.a)(je,te);let pe=Se?`:${je}::skin-tone-${Se}:`:`:${je}:`;if(_e&&Fe){const Ee=p(Fe,te??"");Ee&&(pe=`:${Ee}:`)}const fe=me.display_url;return s.a.createElement(P.b,{key:de(),text:pe,emojiSize:Z||P.a.MEDIUM,isEmojiInlineWithText:!0,showTooltip:!0,sourceTeamId:Pe,url:fe})}if(Object(y.a)(me)&&(me!=null&&me.channel_id))return ie+=me.channel_id.length,s.a.createElement(B.a,{key:de(),id:me.channel_id,noLinking:!X});if(Object(_.a)(me)&&(me!=null&&me.user_id))return ie+=me.user_id.length,s.a.createElement(V.a,{key:de(),id:me.user_id,noLinking:!X,noHighlights:!$});if(Object(j.a)(me)&&(me!=null&&me.usergroup_id))return ie+=me.usergroup_id.length,s.a.createElement(R.a,{key:de(),id:me.usergroup_id,noLinking:!X,noHighlights:!$});if(Object(O.a)(me)&&(me!=null&&me.range))return ie+=me.range.length,s.a.createElement(U.a,{key:de(),type:me.range,noLinking:!X,noHighlights:!$});if(Object(b.a)(me)){const{timestamp:be,format:Se,fallback:Pe}=me;return!be||!Se?null:(ie+=Pe?Pe.length:0,s.a.createElement(K.a,{key:de(),ts:be.toString(),format:Se,fallback:Pe,do24hrTime:H,noLinking:!X}))}if(Object(M.a)(me)){ie+=(me.text||me.url||"").length;let be;if(q){const Se=me.url||"",Pe=me.text||me.url||"";Object(A.b)(Pe,Se)?be=s.a.createElement(N.a,{key:de(),href:Se,onClick:ne},Pe):be=s.a.createElement(N.a,{key:de(),href:Se},Pe)}else be=s.a.createElement(a.Fragment,{key:de()},me.text||me.url||"");return be}if(Object(E.a)(me)&&(me!=null&&me.value))return ie+=me.value.length,s.a.createElement(a.Fragment,{key:de()},me.value||"");if(Object(g.a)(me)&&me.text){const be=me.text.split(/\n/);let Se=Object(n.a)(be);const Pe=G?G-ie:ie;ie=Se?ie+Se.length:ie,be.length>1&&(Q=!0),Se&&G&&Se.length>Pe&&(Q=!0,Se=Se.substr(0,Pe));let Ue;return se?Ue=s.a.createElement(z.a,{key:de(),style:me.style},Se):Ue=s.a.createElement(a.Fragment,{key:de()},Se||""),Ue}return G&&!Q&&ie>G&&(Q=!0),null});return s.a.createElement(s.a.Fragment,null,le,Object(t.a)(oe),Q&&s.a.createElement(s.a.Fragment,null,"\u2026"))},"RichTextPreamble");L.displayName="RichTextPreamble";const S=h(W=>({do24hrTime:Object(o.u)(W,"time24"),teamOrEnterpriseId:Object(f.h)(W)||""}),"mapStateToProps");var I=i.a=Object(l.a)(S)(L)},OmVA:function(J,i,e){"use strict";e.d(i,"h",function(){return u}),e.d(i,"f",function(){return p}),e.d(i,"a",function(){return v}),e.d(i,"d",function(){return g}),e.d(i,"i",function(){return b}),e.d(i,"c",function(){return y}),e.d(i,"e",function(){return C}),e.d(i,"g",function(){return _}),e.d(i,"b",function(){return R});var n=e("Lgge"),t=e("n3tL"),a=e("WCk1"),s=e("2XU3"),l=e("s4P+"),o=e("mjdg"),f=e("ITkT"),r=e("Cwwo"),m=e("oTs4");const c={ok:!1},u=Object(a.a)("Send a batch of invites",function(U,K){let{invites:V,channels:z,extraMessage:N="",source:A="invite_modal",campaign:x=null,mode:k="manual",expirationTs:F=null,restricted:L=!1,ultraRestricted:S=!1,signInWithEmailAndPassword:I=!1,targetTeamId:W}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!V.length)return n.a.reject(new Error("missing_invites"));const D={invites:JSON.stringify(V),source:A,campaign:x,mode:k,restricted:L,ultra_restricted:S,email_password_policy_enabled:I,team_id:W};return z&&z.length&&(D.channels=z),N&&(D.extra_message=N),F&&(D.expiration_ts=F),W&&(D.team_id=W),U(Object(s.apiCall)({method:"users.admin.inviteBulk",reason:"invite_bulk",args:D})).catch(H=>{throw Object(l.a)({getState:K}).error("Failed to send invites."),H})});u.meta={name:"createFetcher",key:"createFetchersubmitSendInvites",description:"Send a batch of invites"},u.propTypes={invites:t.default.array.isRequired,channels:t.default.oneOfType([t.default.string,t.default.array]),extraMessage:t.default.string,source:t.default.string,mode:t.default.string,expirationTs:t.default.number,restricted:t.default.bool,ultraRestricted:t.default.bool,signInWithEmailAndPassword:t.default.bool};const d=Object(a.a)("Parse a string of concatenated emails",function(U,K){let{emails:V}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const z={emails:V};return U(Object(s.apiCall)({method:"users.admin.parseEmails",reason:"parse_emails",args:z})).catch(N=>{throw Object(l.a)({getState:K}).error("Failed to parse emails."),N})});d.meta={name:"createFetcher",key:"createFetcherparseEmails",description:"Parse a string of concatenated emails"},d.propTypes={emails:t.default.string.isRequired};const p=Object(a.a)("Gets an array of existing shared invite links",function(U,K){let{mode:V,targetTeamId:z}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const N={reason:"list_shared_invites"};return V&&(N.mode=V),z&&(N.teamId=z),U(Object(m.a)(N)).catch(A=>{throw Object(l.a)({getState:K}).error("Failed to get a shared invite link."),A})});p.meta={name:"createFetcher",key:"createFetcherlistSharedInvites",description:"Gets an array of existing shared invite links"},p.propTypes={mode:t.default.string,targetTeamId:t.default.string};const v=400,g=Object(a.a)("Create a shared invite link",function(U,K){let{expiration:V,disableEmail:z}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const N={expiration:V,max_signups:v,disable_email:z};return U(Object(s.apiCall)({method:"users.admin.createSharedInvite",reason:"create_shared_invite",args:N})).catch(A=>{throw Object(l.a)({getState:K}).error("Failed to create a shared invite link."),A})});g.meta={name:"createFetcher",key:"createFetchercreateSharedInvite",description:"Create a shared invite link"},g.propTypes={expiration:t.default.number,disableEmail:t.default.bool};const O=Object(a.a)("Deletes all shared invite links for a workspace",(U,K)=>U(Object(s.apiCall)({method:"users.sharedInvites.revokeAll",reason:"revoke_all_shared_invites",args:{}})).catch(V=>{throw Object(l.a)({getState:K}).error("Failed to revoke all shared invite links."),V}));O.meta={name:"createFetcher",key:"createFetcherrevokeAllSharedInvites",description:"Deletes all shared invite links for a workspace"};const b=Object(a.a)("Update shared invite",function(U,K){let{code:V,expiration:z,joinNotificationsEnabled:N}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const A={code:V,expiration:z,notifications_enabled:N},x="users.sharedInvites.update";return U(Object(s.apiCall)({method:x,reason:"update_shared_invite",args:A})).catch(k=>{throw Object(l.a)({getState:K}).error("Failed to update a shared invite link."),k})});b.meta={name:"createFetcher",key:"createFetcherupdateSharedInvite",description:"Update shared invite"},b.propTypes={code:t.default.string,joinNotificationsEnabled:t.default.bool};const y=Object(a.a)("Parse comma separated email domains and return list of valid email domains",function(U,K){let{emailDomains:V=""}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const z={email_domains:V};return U(Object(s.apiCall)({method:"team.checkEmailDomains",reason:"check_email_domains",args:z})).catch(N=>{throw Object(l.a)({getState:K}).error("Failed to check team email domains."),N})});y.meta={name:"createFetcher",key:"createFetchercheckEmailDomains",description:"Parse comma separated email domains and return list of valid email domains"},y.propTypes={emailDomains:t.default.string};const C=Object(a.a)("Check whether this team is allowed to add new single-channel guests",(U,K)=>U(Object(s.apiCall)({method:"users.admin.canAddUltraRestricted",reason:"can_add_ultra_restricted"})).catch(V=>{if(V.data&&V.data.error==="max_uras")return c;throw Object(l.a)({getState:K}).error("Failed to check single-channel guest limit."),V}));C.meta={name:"createFetcher",key:"createFetcherfetchCanAddUltraRestricted",description:"Check whether this team is allowed to add new single-channel guests"};const _=Object(a.a)("Submit a batch of invite requests",function(U,K){let{requests:V,channels:z,expirationTs:N=null,requesterMessage:A="",restricted:x=!1,ultraRestricted:k=!1,source:F="invite_modal",campaign:L=null,mode:S="manual",targetTeamId:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!V.length)return n.a.reject(new Error("missing_requests"));const W={requests:JSON.stringify(V),source:F,campaign:L,mode:S,restricted:x,ultra_restricted:k,team_id:I};return z&&z.length&&(W.channels=z),N&&(W.expiration_ts=N),A&&(W.requester_message=A),U(Object(s.apiCall)({method:"users.inviteRequests.create",reason:"submit_create_invite_requests",args:W})).catch(D=>{throw Object(l.a)({getState:K}).error("users.inviteRequests.create call failed."),D})});_.meta={name:"createFetcher",key:"createFetchersubmitCreateInviteRequests",description:"Submit a batch of invite requests"},_.propTypes={requests:t.default.arrayOf(t.default.shape({email:t.default.string.isRequired,real_name:t.default.string})),channels:t.default.arrayOf(t.default.string),expirationTs:t.default.number,extraMessage:t.default.string,source:t.default.string,campaign:t.default.string,mode:t.default.string,restricted:t.default.bool,ultraRestricted:t.default.bool};const j=Object(a.a)("Fetches the invite history for a workspace",(U,K,V)=>{let{inviteType:z,cursorMark:N,query:A,sortBy:x,sortDir:k}=V;const F={type:z};return N&&(F.cursor=N),A&&(F.query=A),x&&(F.sort_by=x),k&&(F.sort_dir=k),U(Object(s.apiCall)({method:"users.admin.fetchInvitesHistory",args:F,reason:"fetch_invites_history_admin"})).then(L=>({invites:L.invites,nextCursorMark:L.next_cursor}))});j.meta={name:"createFetcher",key:"createFetcherfetchInvitesHistory",description:"Fetches the invite history for a workspace"},j.propTypes={inviteType:t.default.oneOf([o.c.PENDING,o.c.ACCEPTED]).isRequired,cursorMark:t.default.string};const E=Object(a.a)("Fetches the list of invite requests for a workspace",function(U,K){let{cursorMark:V,query:z,sortBy:N,sortDir:A}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const x={};return V&&(x.cursor=V),z&&(x.query=z),N&&(x.sort_by=N),A&&(x.sort_dir=A),U(Object(s.apiCall)({method:"users.admin.fetchInviteRequests",args:x,reason:"fetch_invite_requests_admin"})).then(k=>({requests:k.requests,nextCursorMark:k.next_cursor}))});E.meta={name:"createFetcher",key:"createFetcherfetchInviteRequests",description:"Fetches the list of invite requests for a workspace"},E.propTypes={cursorMark:t.default.string,query:t.default.string,sortBy:t.default.oneOf(Object.values(o.b)),sortDir:t.default.oneOf(Object.values(o.a))};const M=Object(a.a)("Approves a request to invite a user",function(U,K){let{requestId:V}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return U(Object(s.apiCall)({method:"users.admin.inviteRequests.approve",args:{request_ids:JSON.stringify([V])},reason:"approve_invite_request_admin"}))});M.meta={name:"createFetcher",key:"createFetchersubmitApproveInviteRequest",description:"Approves a request to invite a user"},M.propTypes={requestId:t.default.number.isRequired};const T=Object(a.a)("Denies a request to invite a user",function(U,K){let{requestId:V}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return U(Object(s.apiCall)({method:"users.admin.inviteRequests.deny",args:{request_ids:JSON.stringify([V])},reason:"deny_invite_request_admin"}))});T.meta={name:"createFetcher",key:"createFetchersubmitDenyInviteRequest",description:"Denies a request to invite a user"},T.propTypes={requestId:t.default.number.isRequired};const P=Object(a.a)("Revokes an invitation to a user",function(U,K){let{inviteId:V}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return U(Object(s.apiCall)({method:"users.admin.revokeInvitation",args:{invite_id:V},reason:"admin_revoke_invite"}))});P.meta={name:"createFetcher",key:"createFetchersubmitRevokeInvite",description:"Revokes an invitation to a user"},P.propTypes={inviteId:t.default.number.isRequired};const B=Object(a.a)("Resends an invitation to a user",function(U,K){let{inviteId:V}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return U(Object(s.apiCall)({method:"users.admin.resendInvitation",args:{invite_id:V},reason:"admin_resend_invite"}))});B.meta={name:"createFetcher",key:"createFetchersubmitResendInvite",description:"Resends an invitation to a user"},B.propTypes={inviteId:t.default.number.isRequired};const R=Object(a.a)("Send email invites and add new users to the given channel",(U,K,V)=>{let{emails:z,channelId:N,inviteType:A,team:x}=V;const k=K(),F=z.map(W=>({email:W,type:A})),L={source:"invite_emails_to_channel",channels:[N],ultraRestricted:A===r.a.SingleChannelGuest};if(Object(f.g)({state:k,inviteType:A,team:x}))return U(_({...L,requests:F,targetTeamId:x==null?void 0:x.id})).then(W=>{const D=z.map(H=>({email:H,ok:!W.error}));return{status:W.error?"error":"success",topLevelError:W.error,successfulInvites:W.error?[]:D,erroredInvites:W.error?D:[]}}).catch(W=>{let{data:D}=W;var H,Z;const G=D==null||(H=D.requests)===null||H===void 0?void 0:H.filter(se=>!se.ok),te=D==null||(Z=D.requests)===null||Z===void 0?void 0:Z.filter(se=>se.ok);return{status:"error",topLevelError:D.error||"error",successfulInvites:te||[],erroredInvites:G||z.map(se=>({email:se,ok:!1}))}});const I=h(W=>{let D=[],H=[];W&&(H=W.filter(G=>!G.ok),D=W.filter(G=>G.ok));let Z;return D.length===z.length?Z="success":H.length>0&&H.length<z.length?Z="partial":Z="error",{status:Z,erroredInvites:H,successfulInvites:D}},"handleInvitesResponse");return U(u({...L,invites:F,targetTeamId:x==null?void 0:x.id})).then(W=>{const{status:D,erroredInvites:H,successfulInvites:Z}=I(W.invites);return{status:D,erroredInvites:H,successfulInvites:Z,topLevelError:W.error&&D==="error"?W.error:void 0}}).catch(W=>{let{data:D}=W;const{status:H,erroredInvites:Z,successfulInvites:G}=I(D.invites);return{status:H,erroredInvites:Z,successfulInvites:G,topLevelError:H==="error"&&D.error?D.error:void 0}})});R.meta={name:"createFetcher",key:"createFetcheraddEmailsToChannel",description:"Send email invites and add new users to the given channel"},R.propTypes={channelId:t.default.string.isRequired,emails:t.default.arrayOf(t.default.string)}},Orok:function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("3Hq1"),t=e("fujP"),a=e("HI9p"),s=e("SQ0V"),l=e("YBS9"),o=e("eJek");const f=Object(s.c)("remove a single reaction by a user for a reaction key",(r,m,c)=>{const{key:u,name:d,userId:p,fromUserAction:v}=c||{};if(Object(n.a)(u)||Object(n.a)(d))return!1;const g={...Object(l.b)(m(),u,d)};if(Object(t.a)(g))return!1;let O=[...g.users];const b=O.indexOf(p);b>-1&&(O=[...O.slice(0,b),...O.slice(b+1)],g.count-=1);const y=Object(l.a)(m(),u)||[],C=Object(a.a)(y,j=>j.name===d);if(Object(n.a)(y))return!1;let _;return!O.length||g.count<1?_=[...y.slice(0,C),...y.slice(C+1)]:_=[...y.slice(0,C),{...g,users:O},...y.slice(C+1)],r(Object(o.a)({key:u,reactions:_,fromUserAction:v}))});f.meta={name:"createThunk",key:"createThunkremoveReaction",description:"remove a single reaction by a user for a reaction key"}},Os2i:function(J,i,e){"use strict";e.d(i,"a",function(){return r}),e.d(i,"b",function(){return m});var n=e("up1q"),t=e("E3dU"),a=e("y/Pn"),s=e("x6tY"),l=e("gnJq"),o=e("z28c"),f;(function(c){c.CAN_SHARE="can_share",c.SHARING_DISABLED="canvas_sharing_disabled"})(f||(f={}));const r=h((c,u)=>Object(o.a)(c)?Object(n.a)(c,"canvas_share_status",u)===f.SHARING_DISABLED:!1,"isSlackConnectCanvasSharingDisabled"),m=h((c,u,d)=>{const p=Object(t.d)(c,u);return!Object(a.a)(p)||!d||Object(l.a)(d)||!Object(s.g)(d)?!1:!Object(o.a)(c)||r(c,u)},"shouldWarnSlackConnectCanvasSharingDisabled")},OwMQ:function(J,i,e){"use strict";var n=e("Lgge"),t=e("SQ0V"),a=e("s4P+"),s=e("FTyC"),l=e("DQNL"),o=e("GhjL"),f=e("RgHq");const r="USER_GROUPS",m=Object(t.c)("Fetch and upsert the members of a user group",(c,u,d)=>{let{groupId:p,reason:v="fetchAndUpsertUserGroupMembers"}=d;const g=u(),O=Object(o.d)(g,p);if(Object(l.w)(O)||!Object(l.y)(O))return n.a.resolve();if(!O||O!=null&&O.isNonExistent)throw new Error(`cannot fetch usergroup members for unknown or nonexistent group ${O?O==null?void 0:O.id:"[unknown group id]"}`);if(!(O!=null&&O.team_id))throw new Error(`cannot fetch usergroup members for ${O.id} because there is no team_id for that group`);return c(Object(s.a)({usergroup:p,teamId:O.team_id,reason:v})).then(b=>{let{users:y}=b;return c(Object(f.d)({groupId:p,users:y})),y}).catch(b=>{throw Object(a.a)({getState:u}).error(r,`Error in fetchAndUpsertUserGroupMembers: ${JSON.stringify(b)}`),b})});m.meta={name:"createThunk",key:"createThunkfetchAndUpsertUserGroupMembers",description:"Fetch and upsert the members of a user group"},i.a=m},Owxj:function(J,i,e){"use strict";var n=e("n3tL"),t=e("wsJ+"),a=e("yrot");const s=h(function(l){let{messageText:o,teamId:f}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!o||!f)return"";const r=Object(t.a)();return o.replace(r,m=>{const c=Object(a.l)(l,{text:m,teamId:f});return c||m})},"replaceTextEmojiWithNative");i.a=s,s.propTypes={messageText:n.default.string,teamId:n.default.string}},Oyf8:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("SQ0V"),t=e("T1zM"),a=e("kNzh");const s=Object(n.c)("Save isComplete and progressive disclosure tip",(l,o)=>{const f=o(),m={...Object(a.b)(f)||{},isComplete:!0};let c="";try{c=JSON.stringify(m)}catch{}return l(Object(t.f)({pref:a.a,value:c}))});s.meta={name:"createThunk",key:"createThunksetProgressiveDisclosureCompleted",description:"Save isComplete and progressive disclosure tip"}},P1Ik:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),s=e("Lgge"),l=e("WMzb");const o="MEDIA-PLAYER";function f(d){const p=Object(l.a)(),[v,g]=Object(n.useState)(!0),[O,b]=Object(n.useState)(),[y,C]=Object(n.useState)();return Object(n.useEffect)(()=>{if(b(void 0),C(void 0),!d){g(!1);return}g(!0);let _;const j=new s.a((E,M,T)=>{const P=new XMLHttpRequest;let B=!1;P.addEventListener("load",()=>{p.info(o,"vtt loaded"),g(!1);const R=P.response;_=URL.createObjectURL(R),b(_),E(P.response),R.text().then(U=>{B||C(U)})}),P.addEventListener("error",()=>{p.warn(o,"error fetching vtt"),g(!1),M(new Error(`VTT load request failed with status ${P.status}`))}),T&&T(()=>{P.abort(),B=!0}),P.responseType="blob",P.withCredentials=!0,P.open("GET",d),P.send(),p.info(o,"fetching vtt")});return()=>{j.isPending()&&j.cancel(),_&&URL.revokeObjectURL(_)}},[p,d]),{vttLoading:v,vttSrc:O,vttText:y}}h(f,"useVtt");var r=f;const m=new a.b("stories_av");function c(d){let{vtt:p,enableMediaCaptions:v}=d;const{vttSrc:g}=r(p);return!p||!g?null:t.a.createElement("track",{label:m.t("Captions"),kind:"captions",src:g,default:v})}h(c,"TextTrack"),c.displayName="TextTrack";var u=i.a=c},P4EH:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("RVJP");function t(a){return Object(n.d)(a,"fe_message_forwarding_m2")==="on"}h(t,"isFeMessageForwardingM2Enabled")},P8PK:function(J,i,e){"use strict";var n=e("gPPH"),t=e("Nyfl");const a=h(()=>Object(t.a)(()=>Object(n.a)()),"useUniqueId");i.a=a},PIYn:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("nNoG"),l=e("ykb+"),o=e("tYiI"),f=e("zxER"),r=e("4Ky9"),m=e("n3y5"),c=e("V/As"),u=e("srzd"),d=e("9068"),p=e("oEDn");const v=h(M=>{let{passedApp:T,appId:P,workflowId:B,appName:R,className:U,type:K,icon:V}=M;const z=Object(a.default)(U,{"p-slash_commands_autocomplete_menu_entity__slack_icon":P===void 0&&R==="Slack"}),N=Object(f.c)(r.b),A=Object(f.c)(x=>{if(B){const k=Object(u.a)(x,B);if(Object(d.a)(k)&&k.icons)return k.icons.image_96}if(Object(o.a)(P)){if(T!=null&&T.icons)return Object(c.b)(T,20,N);const k=Object(r.a)(x,P);return Object(c.b)(k,20,N)}return R==="Slack"?"/img/slack_logo_mark.svg":N});return K==="global_action"&&!P?V?t.a.createElement(p.a,{type:V}):t.a.createElement(m.a,{ariaHidden:!0,classes:z,image:"/img/slack_logo_mark.svg",size:20}):t.a.createElement(m.a,{ariaHidden:!0,classes:z,image:A,size:20})},"SlashCommandsAutocompleteMenuEntityIcon");v.displayName="SlashCommandsAutocompleteMenuEntityIcon";var g=v,O=e("beVI"),b=e("G0eX"),y=e("F0YV"),C=e("x3ts");const _=new s.b("slash-commands");function j(M){let{command:T,isActive:P,className:B}=M;const{id:R,appId:U,app_id:K,appName:V,workflowId:z,type:N,icon:A,app:x}=T,k=Object(l.b)()?"A061CBSGH":"A0F827J2C";let F="";R==="/giphy"&&!U&&!K&&(F=k);const L=T==null?void 0:T.applicableTeamId,S=Object(f.c)(X=>L?Object(O.s)(X,L):null),I=U||K||F,W=Object(f.c)(X=>T.type==="global_action"&&T.appName!=="Slack"?Object(C.c)(X,{appId:I,actionId:R}).name:T.name),D=Object(a.default)("p-slash_commands_autocomplete_menu_entity__container",B,{"p-slash_commands_autocomplete_menu_entity__container--selected":P}),H=h(()=>{var X;const q=V||(T==null||(X=T.app)===null||X===void 0?void 0:X.app_name);return q!==W&&V!=="Slack"?t.a.createElement(t.a.Fragment,null,"\xB7 ",q):null},"buildAppName"),Z=h(()=>{const X=Object(b.h)(S),q=Object(b.m)(S);return S?t.a.createElement(t.a.Fragment,null,"\xB7 ",t.a.createElement(y.a,{icon:q,size:10,teamName:X})," ",X):null},"buildTeamInfo");Z.displayName="buildTeamInfo";const G=h(()=>{var X;return!((X=T.desc)===null||X===void 0)&&X.length?t.a.createElement(t.a.Fragment,null," \xB7 ",T.desc):""},"buildDescription"),te=h(()=>!Object(o.a)(I)&&T.appName==="Slack"?_.t("Slack"):T.isSlashCommand?_.t("Command"):T.type==="global_action"?_.t("Shortcut"):_.t("Workflow"),"buildType"),se=h(()=>T.usage&&W?t.a.createElement(t.a.Fragment,null,W,t.a.createElement("span",{className:"p-slash_commands_autocomplete_menu_entity__usage"},T.usage)):W||"","buildName");se.displayName="buildName";const $=h(()=>{var X,q;let Y=V||(T==null||(X=T.app)===null||X===void 0?void 0:X.app_name);Y!==W&&V!=="Slack"||(Y="");const ee=!((q=T.desc)===null||q===void 0)&&q.length?`, ${T.desc}`:"",w=S?Object(b.h)(S):"";return`${Y}, ${te()}, ${w} ${ee}`},"buildAriaDescription");return t.a.createElement("div",{className:D},t.a.createElement("div",{className:"p-slash_commands_autocomplete_menu_entity__icon"},t.a.createElement(g,{passedApp:x,appId:I,appName:V,workflowId:z,type:N,icon:A})),t.a.createElement("div",{className:"p-slash_commands_autocomplete_menu_entity__details"},t.a.createElement("div",{className:"p-slash_commands_autocomplete_menu_entity__name","aria-label":W},se()),t.a.createElement("div",{className:"p-slash_commands_autocomplete_menu_entity__description","aria-label":$()},t.a.createElement("span",{className:"p-slash_commands_autocomplete_menu_entity__type"},te()," ",H()," ",Z()),G())))}h(j,"SlashCommandsAutocompleteMenuEntity"),j.displayName="SlashCommandsAutocompleteMenuEntity";var E=i.a=j},PU6Q:function(J,i,e){"use strict";e.d(i,"a",function(){return l}),e.d(i,"b",function(){return f});var n=e("ajVY"),t=e("O86Y"),a=e("rHDT"),s=e("RVJP"),l;(function(r){r.ALLOW_ALL="allow_all",r.IMAGES_ONLY="disable_all_except_images",r.DISABLE_ALL="disable_all"})(l||(l={}));const o=l.ALLOW_ALL,f=h(r=>{const m=Object(t.a)(r),c=Object(s.d)(r,"box_cfs")==="on",u=Object(n.c)(r,"allow_box_cfs",m);if(c&&u)return l.ALLOW_ALL;if(!m)return o;const d=Object.values(Object(a.a)(r,"disable_file_uploads",m)),p=[l.ALLOW_ALL,l.IMAGES_ONLY];var v;return(v=p.find(g=>d.some(O=>O===g)))!==null&&v!==void 0?v:l.DISABLE_ALL},"getMostPermissiveFileUploadPref")},PWRg:function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n=h(t=>(t==null?void 0:t.indexOf("media.tenor.com"))>-1&&t.substr(-4)===".gif","isGifUnfurlImage")},PglX:function(J,i,e){"use strict";var n=e("mdQV");i.a=function(t){if(Object(n.a)(t)){const a=t&&t.text&&t.text.trim();if(a)return a.length}return 0}},PhUj:function(J,i,e){"use strict";e.d(i,"a",function(){return m});var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),s=e("/Q0P"),l=e("Mqk2"),o=e("mLC8"),f=e("4cU5");const r=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"GjLU"))),m="canvas_share_dialog",c=h((d,p)=>Object(s.a)({element:t.a.createElement(r,p),isStackable:d,name:m}),"openCanvasModal"),u=Object(a.c)("Opens the modal to share a quip doc",(d,p,v)=>{let{fileId:g,initialChannelId:O,isStackable:b,initialShareDialogLocationsTab:y,viewContext:C,onCloseCallback:_,onOpenCallback:j,recordId:E}=v;o.d.start({label:o.a.CanvasShareDialogLoad,options:{samplingOptions:{sampleType:f.g.ALWAYS}}}),d(Object(l.d)({fileId:g,reason:"open-canvas-share-dialog"})).then(()=>{d(c(b,{fileId:g,initialChannelId:O,initialShareDialogLocationsTab:y,viewContext:C,onCloseCallback:_,onOpenCallback:j,recordId:E}))})});u.meta={name:"createThunk",key:"createThunkopenShareQuipModal",description:"Opens the modal to share a quip doc"},i.b=u},PjBX:function(J,i,e){"use strict";var n=e("Lgge"),t=e("mM05"),a=e.n(t),s=e("/1FC"),l=e("SQ0V"),o=e("WCk1"),f=e("2XU3"),r=e("tRmm");const m=1.75,c=100,u=10,d=Object(o.a)("Commit message edit text to the API",function(k,F){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{channelId:S,blocks:I,ts:W,attempts:D=0,reason:H,skipDlpUserWarning:Z=!1}=L,G={channel:S||"",ts:W||""};return L.clientContextTeamId&&(G.client_context_team_id=L.clientContextTeamId),G.skip_dlp_user_warning=Z,G.blocks=JSON.stringify(I),Object(r.a)(W)?n.a.reject(new Error("message_not_found")):k(Object(f.apiCall)({method:"chat.update",args:G,reason:H||""})).catch(function(){let{data:te={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(te.error==="message_not_found"&&D<u){const se=c*m;return n.a.delay(se).then(()=>k(d({...L,attempts:D+1})))}return n.a.reject(new Error(te.error||"unknown_error"))})});d.meta={name:"createFetcher",key:"createFetchercommitMessageEdit",description:"Commit message edit text to the API"};var p=d,v=e("Jhy3"),g=e("UIhb"),O=e("9Gfp"),b=e("RVJP"),y=e("pOmS"),C=e("E3dU"),_=e("UNFO"),j=e("JJ34"),E=e("Rw2D"),M=e("qMw6"),T=e("GjHN"),P=e("K4/v"),B=e("9avG"),R=e("5IZy"),U=e("ktUG"),K=e("XcN5"),V=e("PIf0");const z=new Error("unknown_error"),N=h((k,F,L)=>{k.track(L,{contexts:{ui_context:{action:U.UiAction.EDIT,ui_step:F.isDLPErrorRestoredEdit?U.UiStep.DLP_USER_WARNING:null,ui_properties:{view_context:F.viewContext||M.a.MESSAGE_PANE,key:F.keyboardShortcut,is_screen_reader_enabled:F.screenReaderIsEnabled,client_has_keyboard_focus:F.hasKeyboardFocus}}}})},"trackEdit"),A=Object(l.c)("Optimistically save edits to a message",(k,F,L,S)=>{let{channelId:I,ts:W,viewContext:D,delta:H,isDLPErrorRestoredEdit:Z}=L;const G=F(),{windowId:te}=S(V.a),se=Object(j.b)(G,{ignoreViewContext:!0,windowId:te})||{},$=Object(R.a)({state:G});k(Object(_.d)({windowId:te}));const X=D===M.a.THREAD||D===M.a.THREADS_VIEW,q=Object(O.a)(G),Y=I&&W?Object(g.b)(G,I,W)||{}:{},{processedDelta:ee}=Object(E.a)(G,{channelId:I,delta:H||new a.a,inThread:X}),w=Object(T.a)(G,Y);if(Object(P.a)(w,ee))return N($,se,U.EventId.MSG_EDIT_SAVED_WITHOUT_CHANGES),n.a.resolve();const ae=Object(b.d)(G,"workspace_context_for_netskope")==="on"?Object(y.a)(Object(C.d)(G,I)):void 0,de=Object(B.b)({delta:ee,state:G}),ge=de&&Object(s.a)(de)?[]:de.blocks;return k(Object(v.d)({ts:W||"",channelId:I||"",blocks:ge,memberId:q})),N($,se,U.EventId.MSG_EDIT_SAVE),k(p({channelId:I,blocks:ge,ts:W,skipDlpUserWarning:!!Z,reason:"saveMessageEdit",clientContextTeamId:ae})).catch(function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z;if(le.message==="message_not_found")k(Object(v.h)({message:{channel:I||"",ts:W||""}}));else{const Q=Y.edited||{};k(Object(v.d)({ts:W||"",channelId:I||"",text:Y.text,blocks:Y.blocks,memberId:Q.user,editTs:Q.ts})),le.message===K.a.DlpUserWarning&&(k(Object(_.c)({ts:W||"",channelId:I||"",viewContext:D,windowId:te})),H!=null&&H.ops&&k(Object(_.f)({editOps:H.ops,hasUnsavedChanges:!0,ts:W||"",isDLPErrorRestoredEdit:!0,windowId:te})))}throw le})});A.meta={name:"createThunk",key:"createThunksaveMessageEdit",description:"Optimistically save edits to a message"};var x=i.a=A},Pn4H:function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("SQ0V"),t=e("RV0M"),a=e("I0j/"),s=e("37+L"),l=e("cU/a"),o=e("jJ7u");const f=Object(n.c)("Opens the user group details flexpane",(r,m,c,u)=>{let{groupId:d}=c;const{shouldUseNavigate:p}=u(t.a);if(p){r(Object(a.a)(Object(s.ob)(d)));return}return r(Object(l.a)({routeName:o.D,flexName:"user_groups",flexParams:{userGroupId:d}}))});f.meta={name:"createThunk",key:"createThunkshowUserGroupDetails",description:"Opens the user group details flexpane"}},PsTs:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("0LZ2"),t=e("Dpjh");function a(f){const r=Object(n.a)(f),m=r.import("blots/container"),c=r.import("blots/block"),u=r.import("blots/inline"),d=r.import("blots/text"),p=r.import("blots/break"),v=r.import("blots/cursor");let g=h(class extends m{static create(C){const _=super.create(C);return _.setAttribute("spellcheck",!1),_}html(C,_){const j=this.children.map(E=>E.domNode.innerText).join(`
`).slice(C,C+_);return`<pre>${Object(t.a)(j)}</pre>`}},"CodeBlockContainer"),O=h(class extends c{static register(){r.register(g)}},"CodeBlock"),b=h(class extends u{},"Code");return b.blotName="code",b.tagName="CODE",O.blotName="code-block",O.className="ql-code-block",O.tagName="DIV",g.blotName="code-block-container",g.className="ql-code-block-container",g.tagName="DIV",g.allowedChildren=[O],O.allowedChildren=[d,p,v],O.requiredContainer=g,O.TAB="  ",{Code:b,CodeBlockContainer:g,CodeBlock:O}}h(a,"getCodeBlockFormat");const{Code:s,CodeBlockContainer:l,CodeBlock:o}=a(window)},"Q+Yn":function(J,i,e){J.exports=e.p+"trial-message-limit-trial-offer-v2-light-7e03a1d.gif"},QE0t:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("m5Yc");const t=h(a=>!a||a.length===0?!1:a[0].type===n.b.RICH_TEXT,"isFirstBlockRichText")},QLS9:function(J,i,e){"use strict";e.d(i,"b",function(){return c}),e.d(i,"a",function(){return u});var n=e("RVJP"),t=e("xwCZ"),a=e("C3vN"),s=e("x6tY"),l=e("QoUg");const o="ALQ9XG76D",f="A026RA4ND1R",r="A04EXHQ3BCL",m=["A0318KYF0M6","A02QMF6QP9T","A03FT01PAFL","A03G78MUR7Y","A038R08BE11","A047VH1TQNT","A04PL0BCZ44"],c=h(d=>Object(n.d)(d,"cfs_image_previews")==="on","cfsImagePreviewsEnabled"),u=h((d,p)=>{if(!c(d)||!p||!Object(s.Mb)(p)||!Object(s.n)(p))return!1;const v=p.bot_user_id||p.user;if(!v)return!1;const g=Object(t.g)(d,v),O=Object(a.d)(g);return O?O===o?Object(l.a)(d,p):[f,r,...m].includes(O):!1},"canPreviewRemoteImage")},QbPB:function(J,i,e){"use strict";e.d(i,"a",function(){return g});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),s=e("q0lC"),l=e("ykb+"),o=e("rEgV"),f=e("U31a"),r=e("7DVt"),m=e("4YJR"),c=e("IaLB"),u=e("v5z3"),d=e("7UjL"),p=e("NgZ7");const v=5,g=Object(a.c)("Check conditions and show a Progressive Disclosure tip",function(){var O=Object(n.coroutine)(function*(b,y,C){let{tip:_,tipState:j,messageTs:E,skipOrderCheck:M,skipMaxCheck:T}=C;const P=y();if(!_||!j||!Object(c.Y)(P)||Object(s.h)(P)&&Object(p.a)(P,"setup_started")&&Object(p.a)(P,"setup_flow_step")!==u.p.Completed)return;const B=Object(c.h)(P),R=(B==null?void 0:B.tip)||null,U=(B==null?void 0:B.state)||null,K=B==null?void 0:B.messageTs,V=R===null;if(!V&&_!==R)return;if(V){if(j===u.g.Success)return}else if(U===j&&K===E||U===u.g.Explainer&&j===u.g.Flag||U===u.g.Success&&(j===u.g.Flag||j===u.g.Explainer))return;let z=!1;if(V){if(Object(r.c)(P,_))return;const A=Object(r.a)(y()),x=A.filter(F=>{const L=Object(r.c)(P,F);return!Object(r.e)(P,F)&&L&&Object(o.a)(L)}),k=Object(l.b)()&&window.location.search.includes("day1_prog_disc_skip_max_check=1");if(!T&&x.length>=v&&!k)return;if(j===u.g.Flag&&_!==u.f.CompletedAll){const F=A.find(L=>!Object(r.c)(P,L));if(_!==F&&!M)return}yield b(Object(f.a)({tip:_})),z=!0}b(Object(m.J)(null)),b(Object(m.k)({state:j,tip:_,...E&&{messageTs:E}})),z&&(yield b(Object(d.a)()))});return function(b,y,C){return O.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkmaybeShowProgressiveDisclosureTip",description:"Check conditions and show a Progressive Disclosure tip"}},Ql5a:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("E3dU"),t=e("up1q"),a=e("y/Pn");const s=h((l,o)=>{const f=Object(n.d)(l,o);if(!Object(a.a)(f))return!1;var r;return!(!((r=Object(t.a)(l,"can_upload_files",o))!==null&&r!==void 0)||r)},"isExternallySharedChannelWithFileUploadDisabled")},QoUg:function(J,i,e){"use strict";var n=e("RVJP"),t=e("ajVY"),a=e("sp7N"),l=h(r=>!!(r!=null&&r.snippetType),"fileIsSnippet");const o=h((r,m)=>{const c=Object(n.d)(r,"box_cfs")==="on",u=Object(t.d)(r,"allow_box_cfs");return!(!c||!u||Object(a.a)(m)||l(m))},"shouldUseCustomFileStore");var f=i.a=o},QsbR:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),s=e("OCkr"),l=e("IW9Y"),o=e("A7BO");function f(){return f=Object.assign||function(d){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(d[g]=v[g])}return d},f.apply(this,arguments)}h(f,"_extends");const r=Object(l.a)(o.b,d=>{let{name:p,setFieldValue:v,handleBlur:g,setFieldTouched:O,validateOnBlur:b}=d;return{onChange:y=>v(p,y),...b&&{onBlur:()=>{g(p),O(p,!0)}},...!b&&{onBlur:()=>{O(p,!1)}}}}),m={validateOnBlur:a.default.bool},c={validateOnBlur:!1},u=h(d=>t.a.createElement(s.a,f({component:r},d)),"FieldTextareaInput");u.propTypes=m,u.defaultProps=c,i.a=u},Qull:function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("SQ0V"),t=e("i8+A"),a=e("dmdh"),s=e("cBJ3");const l=Object(n.c)("Edit file canvas template mode",(o,f,r)=>{let{fileId:m,timestamp:c,reason:u}=r;const d=f(),p=Object(a.e)(d,m,!1),v=p!=null&&p.created?p.created*1e3:0;if(!(!v||v>c))return o(Object(t.a)({canvasId:m,timestamp:c,reason:u})).then(()=>{p!=null&&p.show_badge&&o(Object(s.f)({fileId:m}))})});l.meta={name:"createThunk",key:"createThunkmarkCanvasRead",description:"Edit file canvas template mode"}},Qyb6:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the Express Template modal in client");t.meta={name:"createAction",key:"createActionopenExpressTemplateModalCircular",description:"Triggers a side-effect that opens the Express Template modal in client"}},"R+hq":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Fsnq"),s=e("GzZI"),l=e("H0/5"),o=e("gPPH"),f=e("m5Yc"),r=e("wnwS");const m=/(?:\n[ \t\u00A0]*)+\n/g,c=/\n/g,u=/^\n/g,d=`BREAK:PARA:${Object(o.a)()}`,p=`BREAK:LINE:${Object(o.a)()}`,v="	",g=Object(o.a)();function O(y){let{text:C,placeholderSeparator:_,isFirstElementInSection:j}=y;if(!C||C.indexOf(`
`)===-1)return C;const E=`${_}${d}${_}`,M=`${_}${p}${_}`;let T=C;return j&&C.match(u)&&(T=`
${C}`),T.replace(m,R=>{if(!R)return R;const U=R.match(c),K=Object(a.a)(U)-1;return Object(s.a)(K,()=>E).join("")}).replace(c,()=>M)}h(O,"insertTextBreakPlaceholders");const b=h(y=>{let{type:C,text:_,style:j,isFirstElementInFirstSection:E,isFirstElementInSection:M,rawLineBreaks:T}=y;if(C!==f.b.TEXT||!_)return null;const P=E?Object(l.a)(_):_,R=(T?P:O({text:P,placeholderSeparator:g,isFirstElementInSection:M})).split(g).map((U,K)=>U===p?t.a.createElement("br",{key:K}):U===d?t.a.createElement("span",{"aria-label":"",className:"c-mrkdwn__br",key:K,"data-stringify-type":"paragraph-break"}):U===v?t.a.createElement("span",{className:"c-mrkdwn__tab",key:K},"	"):t.a.createElement(r.a,{key:K,style:j},U));return t.a.createElement(t.a.Fragment,null,R)},"Text");b.displayName="Text",i.a=t.a.memo(b)},"R/i+":function(J,i,e){"use strict";e.d(i,"c",function(){return t}),e.d(i,"e",function(){return a}),e.d(i,"d",function(){return s}),e.d(i,"a",function(){return l}),e.d(i,"b",function(){return o});var n=e("DwFS");const t=Object(n.a)("Adds or updates a widget into the store");t.meta={name:"createAction",key:"createActionupsertWidget",description:"Adds or updates a widget into the store"};const a=Object(n.a)("Adds or updates multiple widgets into the store");a.meta={name:"createAction",key:"createActionupsertWidgets",description:"Adds or updates multiple widgets into the store"};const s=Object(n.a)("Adds or updates a widget placement into the store");s.meta={name:"createAction",key:"createActionupsertWidgetPlacement",description:"Adds or updates a widget placement into the store"};const l=Object(n.a)("Re-runs the widget based on the placement id to get updated blocks.");l.meta={name:"createAction",key:"createActionrefreshWidgetPlacement",description:"Re-runs the widget based on the placement id to get updated blocks."};const o=Object(n.a)("Updates the widget placement with a new set of blocks");o.meta={name:"createAction",key:"createActionupdateWidgetPlacementBlocks",description:"Updates the widget placement with a new set of blocks"}},R1mX:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),s=e("SQ0V"),l=e("3l96"),o=e("ifKl"),f=e("Cfcg"),r=e("yPgC"),m=e("x6tY"),c=e("kBpe"),u=e("Mqk2"),d=e("dmdh"),p=e("cBJ3");const v=Object(s.c)("Edit file details",function(N,A){let{fileId:x,title:k,altText:F}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const L=Object(d.e)(A(),x);L&&(N(Object(p.a)({...L,title:k,...typeof F=="string"&&{alt_txt:F}})),N(Object(u.c)({fileId:x,title:k,altText:F})).catch(()=>{N(Object(p.a)(L))}))});v.meta={name:"createThunk",key:"createThunkeditFileApi",description:"Edit file details"};var g=e("+kJ4"),O=e("EJqq"),b=e("QsbR"),y=e("SpS+"),C=e("pu3F"),_=e("nNoG"),j=e("V6Oe");function E(){return E=Object.assign||function(N){for(var A=1;A<arguments.length;A++){var x=arguments[A];for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(N[k]=x[k])}return N},E.apply(this,arguments)}h(E,"_extends");const M=new _.b("multi_file_upload"),T={file:r.a.File().isRequired,editFileApi:a.default.func,convertEmojiInStringToCanonicalThunk:a.default.func,convertEmojiInStringToLocalizedThunk:a.default.func,closeModal:a.default.func,experimentA11yAltTextGroupOn:a.default.bool},P={editFileApi:o.a,convertEmojiInStringToCanonicalThunk:o.a,convertEmojiInStringToLocalizedThunk:o.a,closeModal:o.a,experimentA11yAltTextGroupOn:!1};let B=h(class extends n.PureComponent{handleEdit(A){let{title:x,altText:k}=A;const{file:F}=this.props;this.props.editFileApi({fileId:F.id,title:x,altText:k})}render(){const{experimentA11yAltTextGroupOn:A,file:x}=this.props,k={title:Object(m.G)(x)};let F;return A&&(Object(m.n)(x)||Object(m.Kb)(x))&&(k.altText=Object(m.d)(x)?Object(m.E)(x):"",F=h(L=>{let{values:S}=L;return t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,E({id:"altText",name:"altText",labelText:M.t("Description"),labelSubtext:M.t("A description (or alt text) helps people who cannot see or parse this image understand what you\u2019re sharing. Consider the information in the image, and convey it as concisely as possible.",{fallbackHash:"9949efa4b68cfa0249fd497aab8afcab55409fb7"})},(!Object(c.p)()||!S.altText)&&{placeholder:M.t("Aerial view of the Bixby Bridge and coastline of the Big Sur area in California.")},{validate:Object(y.b)([Object(y.d)(C.A)]),validateOnBlur:!0})))},"fields")),t.a.createElement(j.a,{initialValues:k,handleEdit:this.handleEdit,convertEmojiInStringToCanonicalThunk:this.props.convertEmojiInStringToCanonicalThunk,convertEmojiInStringToLocalizedThunk:this.props.convertEmojiInStringToLocalizedThunk,closeModal:this.props.closeModal,fields:F})}constructor(A){super(A),this.handleEdit=this.handleEdit.bind(this)}},"EditFileDialog");B.displayName="EditFileDialog",B.propTypes=T,B.defaultProps=P;const R=h(N=>({experimentA11yAltTextGroupOn:Object(m.a)(N)}),"mapStateToProps"),U={editFileApi:function(){for(var N=arguments.length,A=new Array(N),x=0;x<N;x++)A[x]=arguments[x];return v(...A)},closeModal:function(){for(var N=arguments.length,A=new Array(N),x=0;x<N;x++)A[x]=arguments[x];return Object(g.a)(...A)},convertEmojiInStringToCanonicalThunk:function(){for(var N=arguments.length,A=new Array(N),x=0;x<N;x++)A[x]=arguments[x];return Object(O.d)(...A)},convertEmojiInStringToLocalizedThunk:function(){for(var N=arguments.length,A=new Array(N),x=0;x<N;x++)A[x]=arguments[x];return Object(O.f)(...A)}};var K=Object(f.a)(R,U)(B);const V=Object(s.c)("Opens the rename file dialog",function(N,A){let{isStackable:x,...k}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};N(Object(l.a)({element:t.a.createElement(K,k),isStackable:x}))});V.meta={name:"createThunk",key:"createThunkopenEditFileDialog",description:"Opens the rename file dialog"},V.propTypes={file:r.a.File().isRequired,isStackable:a.default.bool};var z=i.a=V},RMWS:function(J,i,e){"use strict";e.d(i,"c",function(){return C}),e.d(i,"b",function(){return _}),e.d(i,"a",function(){return j});var n=e("Z0Cl"),t=e("9Gfp"),a=e("+l5E"),s=e("JQ3U"),l=e("ssje"),o=e("E97Y"),f=e("SQ0V"),r=e("E3dU"),m=e("Yauy"),c=e("6CnZ"),u=e("UIhb"),d=e("T1zM"),p=e("u/Sz"),v=e("28Q5"),g=e("NgZ7"),O=e("83nZ");const b=h(M=>{switch(M){case p.e.GENERAL:case p.e.PROJECT:case p.e.DM:case p.e.MPDM:case p.e.SELF_DM:case p.e.RANDOM:case p.e.GENERIC:return!0;case p.e.APP_OR_BOT_DM:default:return!1}},"haveSupportForType"),y=h(M=>{let{state:T,channel:P,channelOnboardingType:B}=M;if(B===p.e.DM){var R;const U=Object(t.a)(T),K=Object(u.a)(T,P.id),V=Object(c.j)(T,P.id);if(!(V==null||(R=V.timestamps)===null||R===void 0)&&R.length&&V.timestamps.length>0){const z=K[V.start];if(V!=null&&V.reachedStart&&z&&Object(a.mb)(z)&&z.user!==U)return!0}}return!1},"isDmWithJoiner"),C=h(M=>{let{state:T,channel:P,channelOnboardingType:B}=M;if(!T||!P||!B)return!1;const R=y({state:T,channel:P,channelOnboardingType:B});if(!Object(v.f)(T)&&!R||!b(B))return!1;if(R){var U;const N=Object(t.a)(T),A=Object(c.j)(T,P.id);if(!(A==null||(U=A.timestamps)===null||U===void 0)&&U.length&&A.timestamps.length>0){var K;const x=Object(u.a)(T,P.id),k=A==null||(K=A.timestamps)===null||K===void 0?void 0:K.some(F=>{const L=x[F];return(L==null?void 0:L.user)===N});return!Object(v.b)(T)&&!k}}else if(!Object(v.f)(T))return!1;if(Object(g.a)(T,"message_suggestions_complete"))return!1;if(Object(o.g)(P)){var V;const N=Object(c.j)(T,P.id);if(!(N==null||(V=N.timestamps)===null||V===void 0)&&V.length&&N.timestamps.length>0){var z;const A=Object(u.a)(T,P.id);if(N==null||(z=N.timestamps)===null||z===void 0?void 0:z.some(k=>{const F=A[k];return Object(l.a)(F)}))return!1}}return!0},"isSuggestMessageVisible"),_=h((M,T)=>{if(!M||!T)return!1;const P=Object(u.a)(M,T);return Object(n.a)(P,R=>!Object(a.fb)(R)&&!Object(a.bb)(R)&&!Object(s.a)(R)&&!Object(l.a)(R)).length>0},"isBusyChannel"),j=Object(f.c)("Dismisses all of the suggest message UI",function(M,T){let{channelId:P}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const B=T();if(P&&!Object(v.b)(B)){const R=Object(r.d)(B,P),U=Object(m.r)(B,R);y({state:B,channel:R,channelOnboardingType:U})&&M(Object(d.f)({pref:"joiner_message_suggestion_dismissed",value:!0}))}Object(v.f)(B)&&!Object(g.a)(B,"message_suggestions_complete")&&M(Object(O.a)({pref:"message_suggestions_complete",value:!0}))});j.meta={name:"createThunk",key:"createThunkdismissAllSuggestMessages",description:"Dismisses all of the suggest message UI"};const E={isDmWithJoiner:y,haveSupportForType:b}},RNBp:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("m5Yc");const{DATE:t}=n.b,a=h(s=>{var l;return((l=s)===null||l===void 0?void 0:l.type)===t},"isRichTextDateElement")},RUo5:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("q1tI"),t=e.n(n),a=e("BHdc");const s={TopLeft:"top-left",Top:"top",TopRight:"top-right",BottomLeft:"bottom-left",Bottom:"bottom",BottomRight:"bottom-right",LeftTop:"left-top",Left:"left",LeftRight:"left-bottom",RightTop:"right-top",Right:"right",RightBottom:"right-bottom"},l=["top-left","top","top-right","bottom-left","bottom","bottom-right","left-top","left","left-bottom","right-top","right","right-bottom"];let o=h(class extends n.PureComponent{componentDidMount(){this.forceUpdate()}render(){const{children:r,coachmarkAnchorClassNames:m,coachmarkElement:c,orientation:u,style:d}=this.props,p=Object(a.default)("c-coachmark-anchor",m);return t.a.createElement("div",{id:"c-coachmark-anchor",ref:this.anchorRef,className:p,style:d},r,c&&t.a.cloneElement(c,{anchorElement:this.anchorRef.current,orientation:u}))}constructor(r){super(r),this.anchorRef=t.a.createRef()}},"DeprecatedCoachmarkAnchor");o.displayName="DeprecatedCoachmarkAnchor",i.b=o},RbOw:function(J,i,e){"use strict";e.d(i,"b",function(){return f}),e.d(i,"a",function(){return r});var n=e("nTNk"),t=e("khnw"),a=e("4Etr");const s=Object(n.a)(),l=s.import("parchment"),o=s.import("core/module");function f(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const c=Array.from(document.querySelectorAll('docsblockembed[data-is-selected="true"]'));for(let u=0,d=c.length;u<d;u++){const p=s.find(c[u]);a.a.updateComponent(p.domNode,{isSelected:!1})}m&&(m!=null&&m.domNode)&&m.domNode.tagName&&m.domNode.tagName==="DOCSBLOCKEMBED"&&a.a.updateComponent(m.domNode,{isSelected:!0})}h(f,"handleSelectedStates");let r=h(class extends o{listen(){this.quill.keyboard.addBinding({key:t.c},this.handleImageSelectOnDown),this.quill.keyboard.addBinding({key:t.r},this.handleImageSelectOnUp),this.quill.keyboard.addBinding({key:t.k},this.handleImageSelectOnLeft),this.quill.keyboard.addBinding({key:t.o},this.handleImageSelectOnRight),(document.querySelector(".p-client_container")||this.quill.root).addEventListener("click",this.onImageClick),document.addEventListener("keydown",this.muteKeyEventsOnImageEmbed)}muteKeyEventsOnImageEmbed(c){const u=this.quill.getSelection();if(u){const d=this.quill.getFormat(u),p=!!document.querySelector('docsblockembed[data-is-selected="true"]');if(d&&d.imageSrc||p){if(c.keyCode===t.c||c.keyCode===t.r||c.keyCode===t.k||c.keyCode===t.o||c.keyCode===t.f)return c.keyCode===t.f&&(f(),this.quill.setSelection(0,0)),!0;c.preventDefault()}}return!0}handleImageSelectOnDown(){return setTimeout(()=>{const c=this.quill.getSelection(),[u]=this.quill.getLine(c.index);u&&u.domNode&&u.domNode.tagName&&u.domNode.tagName==="DOCSBLOCKEMBED"?f(u):f()},0),!0}handleImageSelectOnUp(){return setTimeout(()=>{const c=this.quill.getSelection(),[u]=c?this.quill.getLine(c.index):[];u&&u.domNode&&u.domNode.tagName&&u.domNode.tagName==="DOCSBLOCKEMBED"?f(u):f()},0),!0}handleImageSelectOnLeft(c){return setTimeout(()=>{const u=this.quill.getSelection();let[d]=this.quill.getLeaf(u.index);c.index===u.index&&([d]=this.quill.getLeaf(u.index-1)),d&&d.prev&&d.prev.domNode&&d.prev.domNode.tagName&&d.prev.domNode.tagName==="DOCSBLOCKEMBED"&&([d]=this.quill.getLeaf(u.index-1)),d&&d.domNode&&d.domNode.tagName&&d.domNode.tagName==="DOCSBLOCKEMBED"?f(d):f()},0),!0}handleImageSelectOnRight(c){return setTimeout(()=>{const u=this.quill.getSelection();let[d]=this.quill.getLeaf(u.index);d&&d.next&&d.next.domNode&&d.next.domNode.tagName&&d.next.domNode.tagName==="DOCSBLOCKEMBED"?[d]=this.quill.getLeaf(u.index):this.quill.setSelection(u.index),d&&d.parent&&d.parent.next&&d.parent.next.domNode&&d.parent.next.domNode.tagName&&d.parent.next.domNode.tagName!=="DOCSBLOCKEMBED"&&([d]=this.quill.getLeaf(u.index),this.quill.setSelection(u.index)),u.index===c.index&&d&&d.domNode&&d.domNode.tagName&&d.domNode.tagName==="DOCSBLOCKEMBED"&&([d]=this.quill.getLeaf(u.index+1),this.quill.setSelection(u.index+1)),d&&d.domNode&&d.domNode.tagName&&d.domNode.tagName==="DOCSBLOCKEMBED"?f(d):f()},0),!0}onImageClick(c){if(c.target.classList.contains("p-docs_image--selected")||c.target.dataset.isSelected==="true")return!0;if(Array.from(document.querySelectorAll(".p-docs_image")).forEach(d=>{const p=l.find(d.parentNode);p&&p.domNode&&p.domNode.tagName&&p.domNode.tagName==="DOCSBLOCKEMBED"&&a.a.updateComponent(p.domNode,{isSelected:!1})}),c.target.classList.contains("p-docs_image_container")||c.target.classList.contains("p-docs_image")){const d=c.target.classList.contains("p-docs_image_container")?c.target:c.target.parentNode,p=l.find(d),v=this.quill.getIndex(p);return this.quill.setSelection(v,0),p&&p.domNode&&p.domNode.tagName&&p.domNode.tagName==="DOCSBLOCKEMBED"&&a.a.updateComponent(p.domNode,{isSelected:!0}),!0}return!0}constructor(c,u){super(c,u),this.quill=c,this.onImageClick=this.onImageClick.bind(this),this.muteKeyEventsOnImageEmbed=this.muteKeyEventsOnImageEmbed.bind(this),this.listen=this.listen.bind(this),this.listen()}},"DocsImageModule")},Rbqs:function(J,i,e){"use strict";e.d(i,"a",function(){return K});var n=e("9oTK"),t=e("q1tI"),a=e.n(t),s=e("/MKj"),l=e("zxER"),o=e("Lgge"),f=e("68qM"),r=e("Z2IC"),m=e("pJ2S"),c=e("jUSB"),u=e("1Np4"),d=e("4cU5"),p=e("WMzb"),v=e("FH+Z"),g=e("yvAn"),O=e("dkXW"),b=e("vZeV"),y=e("WSQ4"),C=e("kBpe"),_=e("npde"),j=e("E/AO"),E=e("Tevt"),M=e("nNoG");const T=new M.b("stories_av");function P(z){let{closeModal:N}=z,A;return Object(C.i)()&&Object(C.p)()?A=T.rt("Check your <a>system preferences</a> to make sure Slack has permission to access your microphone, and try again.",{"<a>":x=>{let{text:k}=x;return a.a.createElement(E.a,{href:"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone"},k)}}):Object(C.i)()?A=T.rt("Check your <a>system settings</a> to make sure Slack has permission to access your microphone, and try again.",{"<a>":x=>{let{text:k}=x;return Object(C.x)()?a.a.createElement(E.a,{href:"ms-settings:privacy-microphone"},k):k}}):A=T.t("Check your browser settings to make sure Slack has permission to access your microphone, and try again."),a.a.createElement(j.a,{title:T.t("Can\u2019t access microphone"),onClose:N,onCancel:N,showSubmitButton:!1,cancelButtonText:T.t("Close")},a.a.createElement("span",null,A))}h(P,"MicrophoneAccessErrorDialog"),P.displayName="MicrophoneAccessErrorDialog";var B=P;const R=Object(_.a)(P);var U=e("RdEv");function K(z){let{fileName:N,fileSubtype:A,onFileAttach:x,onContainerUpload:k,draftId:F,timeLimitSeconds:L=v.a,timeWarningSeconds:S=10,hideBanner:I=!0}=z;const W=Object(s.useDispatch)(),D=Object(p.a)(),H=Object(t.useRef)(D),Z=Object(r.a)(V),[G,te]=Object(t.useState)(!1),[se,$]=Object(t.useState)(),[X,q]=Object(t.useState)(),[Y,ee]=Object(t.useState)(),[w,ne]=Object(t.useState)([]),[ae,de]=Object(t.useState)(!1),ge=Object(l.c)(Ee=>Object(u.a)({state:Ee})),le=Object(r.a)(()=>ge.createTrace({traceName:"media_recorder:time_to_record",tags:{media_type:"audio"},samplingOptions:{sampleRate:.2,sampleType:d.g.SESSION}})),Q=Object(r.a)(()=>le.startSpan("media_recorder:time_to_record")),ie=Object(r.a)(()=>le.startSpan("media_recorder:microphone_start",{parentSpanId:Q==null?void 0:Q.getId()})),{windowId:oe}=Object(t.useContext)(y.a),{finishUpload:me,uploadedFileId:be}=Object(U.a)({file:X,hideBanner:I,draftId:F,onContainerUpload:k}),Se=Object(t.useCallback)(Object(n.coroutine)(function*(){ie&&ie.close();const Ee=le.startSpan("media_recorder:play_ping",{parentSpanId:Q==null?void 0:Q.getId()});yield o.a.resolve(Object(c.d)(m.v)),yield o.a.delay(300),Ee.close(),Z.startAudioRecording(),W(Object(b.a)({isCurrentlyActive:!0,windowId:oe}))}),[Z,W,oe]),Pe=Object(t.useCallback)(Ee=>{var ye;W(R()),(ye=H.current)===null||ye===void 0||ye.error("AUDIO-RECORDER","Microphone failed",Ee==null?void 0:Ee.error),W(Object(b.a)({isCurrentlyActive:!1,windowId:oe}))},[W,oe]),Ue=Object(t.useCallback)(()=>{q(void 0),te(!0),W(Object(b.a)({isCurrentlyActive:!0,windowId:oe})),ee(0),Q&&Q.close(),le&&ge.reportTrace(le)},[ge,W,oe]),Fe=Object(t.useCallback)(Ee=>{Z.stop(),$(Ee.data),te(!1),W(Object(b.a)({isCurrentlyActive:!1,windowId:oe}))},[Z,W,oe]),je=Object(t.useCallback)(Ee=>{ne(Ee)},[]),_e=Object(t.useCallback)(()=>{X?(x&&x(X),me()):(de(!0),Z.stopAudioRecording())},[X,me,Z,x]),pe=Object(t.useCallback)(()=>{q(void 0),Z.stopAudioRecording(),te(!1),W(Object(b.a)({isCurrentlyActive:!1,windowId:oe}))},[Z,W,oe]);Object(t.useEffect)(()=>(Z.addEventListener("microphonestart",Se),Z.addEventListener("microphoneerror",Pe),Z.addEventListener("recordingstart",Ue),Z.addEventListener("recordingend",Fe),()=>{Z.removeEventListener("microphonestart",Se),Z.removeEventListener("microphoneerror",Pe),Z.removeEventListener("recordingstart",Ue),Z.removeEventListener("recordingend",Fe)}),[Z,Se,Pe,Ue,Fe]),Object(f.a)(()=>()=>{Z.stop()},[]),Object(f.a)(()=>{if(G){const Ee=Date.now(),ye=setInterval(()=>{const Te=(Date.now()-Ee)/1e3;ee(Te),Te>=L&&(de(!0),Z.stopAudioRecording())},100);return()=>clearInterval(ye)}},[G,L]),Object(t.useEffect)(()=>{if(se){const Ee=new File([se],N,{type:se.type});Ee.subtype=A,Ee.audio_wave_samples=w==null?void 0:w.map(ye=>ye*100),Ee.duration=Y??0,te(!1),W(Object(b.a)({isCurrentlyActive:!1,windowId:oe})),q(Ee)}},[se,w,Y,W,N,A,oe]),Object(t.useEffect)(()=>{ae&&X&&(de(!1),me(),x&&x(X))},[ae,X,me,x]);const fe=!X&&L-(Y??0)<=S;return{audioWaveformRecorderProps:{streamManager:Z,recording:G,onDotsUpdate:je,warningHighlight:fe},duration:Y,onAttach:_e,onCancel:pe,file:X,finishUpload:me,uploadedFileId:be}}h(K,"useAudioWaveformRecorder");function V(){var z,N,A,x,k;const F=Object(O.b)(),L=F==null||(z=F.deviceIdPriorities)===null||z===void 0||(N=z.microphone)===null||N===void 0?void 0:N[0],S=F==null||(A=F.deviceIdPriorities)===null||A===void 0||(x=A.camera)===null||x===void 0?void 0:x[0],I=F==null||(k=F.audio)===null||k===void 0?void 0:k.enableAGC;return new g.a({microphoneId:L,cameraId:S,noiseSuppression:!0,autoGainControl:I,shouldStartCamera:!1,shouldStartScreenCapture:!1,audioOnly:!0})}h(V,"createStreamManager")},Rc7c:function(J,i,e){"use strict";var n=e("RVJP"),t=e("ajVY");const a=h(s=>{const l=Object(n.d)(s,"box_cfs")==="on",o=Object(t.d)(s,"allow_box_cfs");return l&&o?"box":null},"getCustomFileStoreType");i.a=a},"RcB+":function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("q1tI"),t=e.n(n),a=e("ifKl");const s=t.a.createContext({isOpen:!1,setIsOpen:a.a}),l=h(f=>{let{children:r}=f;const[m,c]=Object(n.useState)(!1),u=Object(n.useMemo)(()=>({isOpen:m,setIsOpen:c}),[m]);return t.a.createElement(s.Provider,{value:u},r,m&&t.a.createElement("div",{className:"p-audio_popover_overlay"}))},"AudioPopoverOverlay");l.displayName="AudioPopoverOverlay";var o=i.b=l},RdEv:function(J,i,e){"use strict";var n=e("9oTK"),t=e("q1tI"),a=e("/MKj"),s=e("zxER"),l=e("WMzb"),o=e("jU2U"),f=e("gCYc"),r=e("ZvCj"),m=e("tvTu"),c=e("Z9Pi"),u=e("1Np4"),d=e("O86Y"),p=e("H2PH"),v=e("SwbJ"),g=e("7XZu"),O=e("2pz5"),b=e("Mqk2"),y=e("Q3AP"),C=e("4cU5");function _(T){let{file:P,draftId:B}=T;const R=Object(s.c)(D=>Object(u.a)({state:D})),{featureTinyspeck:U}=Object(o.a)(),K=Object(t.useRef)(),V=Object(t.useRef)(),z=Object(t.useRef)(),N=Object(t.useRef)(!1),A=Object(t.useRef)(!1);Object(t.useEffect)(()=>{if(!P){K.current=void 0,V.current=void 0,z.current=void 0,N.current=!1,A.current=!1;return}let D;U&&(D={sampleType:C.b,sampleRate:1}),K.current=R.createTrace({traceName:"story_upload",tags:{draft_id:B,type:(P==null?void 0:P.subtype)==="slack_audio"?"audio":"video",bytes_uncompressed:P==null?void 0:P.size},samplingOptions:D})},[P,B,R,U]);const x=Object(t.useCallback)(()=>{K.current&&(z.current=K.current.startSpan("story_upload:perceived"))},[]),k=Object(t.useCallback)(()=>{var D;(D=z.current)===null||D===void 0||D.close()},[]),F=Object(t.useCallback)(()=>{K.current&&(k(),R.reportTrace(K.current))},[k,R]),L=Object(t.useCallback)(()=>{K.current&&(V.current=K.current.startSpan("story_upload:upload"))},[]),S=Object(t.useCallback)(()=>{var D;(D=V.current)===null||D===void 0||D.close(),N.current?F():A.current=!0},[F]),I=Object(t.useCallback)(D=>{var H;(H=K.current)===null||H===void 0||H.addTags(D)},[]),W=Object(t.useCallback)(()=>{A.current?F():N.current=!0},[F]);return{startUploadTrace:L,endUploadTrace:S,startPerceivedUploadTrace:x,addTagsToTrace:I,reportTraceWhenUploadComplete:W}}h(_,"useEagerUploadTracing");var j=_;function E(T){let{file:P,draftId:B,onContainerUpload:R,thumbnailTimestamp:U,hideBanner:K}=T;const V=Object(l.a)(),z=Object(a.useDispatch)(),{featureTinyspeck:N}=Object(o.a)(),[A,x]=Object(t.useState)(""),k=Object(s.c)(d.g),F=Object(s.c)(q=>B?Object(f.k)(q,B):void 0),L=Object(s.c)(q=>Object(u.a)({state:q})),S=Object(t.useRef)(),I=Object(t.useRef)(),W=Object(t.useRef)(!1),{startUploadTrace:D,endUploadTrace:H,startPerceivedUploadTrace:Z,addTagsToTrace:G,reportTraceWhenUploadComplete:te}=j({file:P,draftId:B}),se=Object(t.useCallback)(()=>{if(!S.current)return;const{pendingFileId:q,uploadPromise:Y}=S.current;S.current=void 0,Y.isPending()?Object(p.a)(k).cancelEagerUpload({pendingFileId:q}):Y.then(ee=>{let{fileIds:w}=ee;const ne=w==null?void 0:w[0];z(Object(b.b)({fileId:ne,reason:"use-eager-upload-cancel"}))}),z(Object(g.d)({pendingFileId:q}))},[z,k]);Object(t.useEffect)(()=>{if(!P){se();return}const q=setTimeout(()=>{if(W.current)return;V.info("MEDIA-UPLOAD",`beginning upload ${P.size} bytes`),D();let Y;N&&(Y={sampleRate:1}),z(Object(v.a)({file:P,traceTags:{draft_id:B,subtype:P.subtype},samplingOptions:Y,hideBanner:!0})).then(ee=>{if(!ee)return;const{pendingFileId:w,uploadPromise:ne}=ee;!w||!ne||(S.current={file:P,pendingFileId:w,uploadPromise:ne},ne.tap(function(){let{fileIds:ae=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ae.length===1&&(x(ae[0]),G({file_id:ae[0]})),G({success:!0}),H()}).tapCatch(()=>{G({success:!1}),H()}))})},2e3);return I.current=q,()=>{clearTimeout(q),S.current&&se()}},[se,z,P,B,L,D,G,H,N,V]);const $=Object(t.useCallback)(q=>{U&&q.then(function(){let{fileIds:Y=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ee=Y[0];ee&&z(Object(y.a)({id:ee,offsetMs:Math.round(U*1e3),reason:"useEagerUpload"}))})},[z,U]);return Object(t.useEffect)(()=>{W.current=!1},[P]),{finishUpload:Object(t.useCallback)(Object(n.coroutine)(function*(){if(P){if(Z(),te(),K||z(Object(O.b)()),R){var q;!((q=S.current)===null||q===void 0)&&q.uploadPromise?(S.current.uploadPromise.then(function(){let{fileIds:Y=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(Y[0],P)}),S.current=void 0):R(void 0,P);return}if(B){const{channelId:Y,threadTs:ee}=Object(c.a)(B);!F&&Y&&z(Object(r.a)({draft:{client_draft_id:B,destinations:[{channel_id:Y,thread_ts:ee}],is_from_composer:!1},reason:"clips-recorder:attach"}))}if(S.current)B&&(z(Object(m.a)({file:S.current.file,pendingFileId:S.current.pendingFileId,uploadPromise:S.current.uploadPromise,draftId:B})),$(S.current.uploadPromise)),S.current=void 0;else return D(),W.current=!0,z(Object(v.a)({file:P,hideBanner:K})).then(Y=>{if(!Y)return;const{pendingFileId:ee,uploadPromise:w}=Y;B&&z(Object(m.a)({file:P,pendingFileId:ee,uploadPromise:w,draftId:B})),w.then(function(){let{fileIds:ne=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ne.length===1&&(x(ne[0]),G({file_id:ne[0]})),G({success:!0})}).catch(()=>{G({success:!1})}).finally(()=>{H()}),$(w)})}}),[G,z,F,B,H,P,te,Z,D,R,$,K]),uploadedFileId:A}}h(E,"useEagerUpload");var M=i.a=E},RgTj:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("0LZ2");function t(a){const l=Object(n.a)(a).import("blots/inline");let o=h(class extends l{static create(r){const m=super.create(r);return m.setAttribute("data-name",r.name),m}static formats(r){return{name:r.getAttribute("data-name")}}},"SlackSearchTokenModifier");return o.blotName="slacksearchtokenmodifier",o.tagName="ts-searchtoken-modifier",o}h(t,"getSlackSearchTokenModifierFormat")},Rw2D:function(J,i,e){"use strict";var n=e("mM05"),t=e.n(n),a=e("JoR1"),s=e("yrot"),l=e("nNoG"),o=e("ZKjC"),f=e("JnIm"),r=e("pu3F"),m=e("p9fx"),c=e("jlKB"),u=e("Yauy"),d=e("bPB8"),p=e("7AiH"),v=e("fnDJ"),g=e("vRwa"),O=e("0SZ4"),b=e("9h7U");function y(V){let{contents:z,searchFunc:N,highlightWords:A,isEmojiDisplayedAsText:x}=V;const k=Object(d.a)(Object(p.a)(z,{useChannelTagging:!0}).map(L=>{const S=N(L.type,L.labelWithoutPrefix);if(!S.length)return null;const I={};let W;if(L.type==="channel")W=Object(g.a)({results:S,globalIndex:L.globalIndex,matchLength:L.matchLength,formats:I});else{if(L.type==="emoji")return Object(O.a)({results:S,globalIndex:L.globalIndex,matchLength:L.matchLength,formats:I});W=Object(v.a)({results:S,text:L.text,label:L.label,globalIndex:L.globalIndex,localIndex:L.localIndex,matchLength:L.matchLength,formats:I})}return!W||W.id==="UNVERIFIED"?null:W}));if(!k.length)return z;const F=Object(b.a)(k,A,x);return z.compose(F)}h(y,"replacePotentialMentionsSynchronously");var C=e("zKt1"),_=e("mNiN"),j=e("9wgI"),E=e("gTpg"),M=e("coh6"),T=e("BH90"),P=e("aVxC"),B=e("BBys"),R=e("Vr9G");const U=Object(o.b)((V,z)=>{const{channelId:N,inThread:A,delta:x=new t.a}=z,k=Object(f.a)(V),F=Object(c.a)(V),L=A||!Object(E.a)(V,N||"")?[]:Object(j.a)(V,N||"");let S=x;const I=Object(a.u)(V,"plain_text_mode");if(I&&(S=Object(C.a)(S,{ignoreUnbalancedParentheses:!0}),[B.a,P.a].forEach(H=>{S=S.compose(H(S,null,I))})),F){const H=Object(T.a)(x,{inlineEmojiIsEnabled:!0,useWysiwyg:!0,locale:Object(l.m)(),emojiNames:Object(s.c)(V),replaceNativeEmoji:!1,usePlainTextMode:!!I,teamId:void 0});H.length()>0&&(S=x.compose(H))}const W={contents:S.ops},D=y({contents:new t.a(W.contents),highlightWords:k,isEmojiDisplayedAsText:F,searchFunc:(H,Z)=>{if(!["member","channel"].includes(H))return[];if(!Z)return[];if(H==="channel")return Object(M.G)(V,{query:Z,options:{entities:{channels:{includePrivate:!1,includeFromAnotherTeam:!0}},limit:r.c,sort:{source:"texty-autocomplete"}}}).filter(se=>Object(u.K)(se)===Z);const G=Object(_.a)(L,Z);return G?[G]:!F&&H==="emoji"?Object(M.G)(V,{query:Z,options:{entities:{emoji:!0},limit:r.c,sort:{source:"texty-autocomplete"}}}).filter(se=>Object(m.a)(se)===Z):Object(M.G)(V,{query:Z,options:{entities:{userGroups:{includeFromAnotherTeam:Object(R.a)(V)},members:{includeSelf:!0,includeSlackbot:!1}},limit:r.c,sort:{source:"texty-autocomplete"}}})}});return{processedDelta:Object(C.a)(D,{limitCodeBlockLinksToFullURLs:!0,doImageReplacement:!1,ignoreExistingLinks:!0})}});U.meta={name:"createSelector",key:"createSelectorprepareMessage",description:(V,z)=>{const{channelId:N,inThread:A,delta:x=new t.a}=z,k=Object(f.a)(V),F=Object(c.a)(V),L=A||!Object(E.a)(V,N||"")?[]:Object(j.a)(V,N||"");let S=x;const I=Object(a.u)(V,"plain_text_mode");if(I&&(S=Object(C.a)(S,{ignoreUnbalancedParentheses:!0}),[B.a,P.a].forEach(H=>{S=S.compose(H(S,null,I))})),F){const H=Object(T.a)(x,{inlineEmojiIsEnabled:!0,useWysiwyg:!0,locale:Object(l.m)(),emojiNames:Object(s.c)(V),replaceNativeEmoji:!1,usePlainTextMode:!!I,teamId:void 0});H.length()>0&&(S=x.compose(H))}const W={contents:S.ops},D=y({contents:new t.a(W.contents),highlightWords:k,isEmojiDisplayedAsText:F,searchFunc:(H,Z)=>{if(!["member","channel"].includes(H))return[];if(!Z)return[];if(H==="channel")return Object(M.G)(V,{query:Z,options:{entities:{channels:{includePrivate:!1,includeFromAnotherTeam:!0}},limit:r.c,sort:{source:"texty-autocomplete"}}}).filter(se=>Object(u.K)(se)===Z);const G=Object(_.a)(L,Z);return G?[G]:!F&&H==="emoji"?Object(M.G)(V,{query:Z,options:{entities:{emoji:!0},limit:r.c,sort:{source:"texty-autocomplete"}}}).filter(se=>Object(m.a)(se)===Z):Object(M.G)(V,{query:Z,options:{entities:{userGroups:{includeFromAnotherTeam:Object(R.a)(V)},members:{includeSelf:!0,includeSlackbot:!1}},limit:r.c,sort:{source:"texty-autocomplete"}}})}});return{processedDelta:Object(C.a)(D,{limitCodeBlockLinksToFullURLs:!0,doImageReplacement:!1,ignoreExistingLinks:!0})}}};var K=i.a=U},Rzhv:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Update the visibility of the Enable Popups Banner");t.meta={name:"createAction",key:"createActionupdateEnablePopupsBannerVisibility",description:"Update the visibility of the Enable Popups Banner"}},S0gs:function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("SQ0V"),t=e("RV0M"),a=e("2VFn"),s=e("aANC"),l=e("Btza"),o=e("QKJg"),f=e("v7mh"),r=e("a99s"),m=e("wmqn");const c=Object(n.c)("Update channel canvas read TS when highlights are dismissed",(u,d,p,v)=>{const{windowId:g,isChildWindow:O}=v(t.a),b=d(),y=Object(f.a)(b),{fileId:C,timestamp:_}=p;O&&g!==a.c?u(Object(o.g)({windowId:g,container:a.i.Primary,params:{lastReadTs:_}})):(u(Object(o.g)({windowId:a.c,tab:y,container:a.i.Secondary,params:{lastReadTs:_}})),u(Object(r.a)())),u(Object(l.a)({fileId:C,lastReadByUser:_})),u(Object(s.a)({fileId:C,lastHighlightDismissedTs:_})),u(Object(m.c)({fileId:C,sections:[]}))});c.meta={name:"createThunk",key:"createThunkupdateChannelCanvasReadTs",description:"Update channel canvas read TS when highlights are dismissed"}},S8QM:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("WMzb"),l=e("zxER"),o=e("zm5I"),f=e("x6tY"),r=e("ZobM");function m(u){let{iconClassName:d,file:p,isFilled:v=!0}=u;const g=Object(s.a)(),O=Object(l.c)(o.a);return p&&!Object(f.o)(p)?(g.error(`[ListIcon] Expected List file, got ${Object(f.R)(p)}`),null):t.a.createElement("div",{className:Object(a.default)(d,"p-list_icon",`p-list_icon--${O}`)},t.a.createElement(r.a,{name:"lists",size:"20",variation:v?"filled":void 0}))}h(m,"ListIcon"),m.displayName="ListIcon";var c=i.a=t.a.memo(m)},S9on:function(J,i,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the record doalog in client (noop)");t.meta={name:"createAction",key:"createActionopenRecordCircular",description:"Triggers a side-effect that opens the record doalog in client (noop)"},i.a=t},SEZ6:function(J,i,e){"use strict";e.d(i,"c",function(){return r}),e.d(i,"a",function(){return m}),e.d(i,"b",function(){return c});var n=e("+VTe"),t=e("QAer");const a="allow_message_deletion",s=h(u=>u?t.a.RA:t.a.ADMIN,"mapToWhoCanStyle"),{canUserDoCustomTeamPrefInSomeWorkspace:l,canUserDoCustomTeamPrefForChannel:o,canUserDoCustomTeamPrefForChannelById:f}=Object(n.b)(s);function r(u){return l(u,a)}h(r,"canUserDoAllowMessageDeletionInSomeWorkspace");function m(u,d){return o(u,a,d)}h(m,"canUserDoAllowMessageDeletionForChannel");function c(u,d){return f(u,a,d)}h(c,"canUserDoAllowMessageDeletionForChannelById")},"SI/f":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("2IYT"),l=e("9Gfp"),o=e("YpEo"),f=e("ifKl"),r=e("BfA7"),m=e("SQ0V"),c=e("nNoG"),u=e("rBeE"),d=e("3956"),p=e("I0j/"),v=e("37+L"),g=e("/Qyu"),O=e("QcWC"),b=e("7HMQ");const y=new c.b("menu"),C={CALL_MEMBER:"call_member",MESSAGE_MEMBER:"message_member",VIEW_PROFILE:"view_profile",COPY_MEMBER_NAME:"copy_member_name",COPY_MEMBER_LINK:"copy_member_link"},_=Object(m.c)("get the context menu item for actions",(R,U,K)=>{let{id:V}=K;const z=[];if(Object(O.a)(U()))return z;const N=R(Object(u.e)({memberId:V,onClickCallback:()=>Object(u.a)(C.MESSAGE_MEMBER)}));return N&&z.push(N),z.length&&z.push({type:"separator"}),z});_.meta={name:"createThunk",key:"createThunkgetActionsTemplate",description:"get the context menu item for actions"};const j=Object(m.c)("get the context menu item for sharing a contact",(R,U,K)=>{let{id:V}=K;const z=U();return Object(b.a)(z,V||"")&&!Object(O.a)(z)?[{label:y.t("Share contact"),click:()=>R(Object(g.a)({contactUserId:V}))},{type:"separator"}]:[]});j.meta={name:"createThunk",key:"createThunkgetShareContactActionMaybe",description:"get the context menu item for sharing a contact"};const E=Object(m.c)("get the context menu template when user clicks on a member",(R,U,K)=>{let{id:V,shouldUseNavigate:z}=K;return[{label:y.t("View profile"),click:()=>{R(Object(u.a)(C.VIEW_PROFILE)),R(z?Object(p.a)(Object(v.V)({memberId:V||""})):Object(d.a)({memberId:V}))}},{type:"separator"},...R(_({id:V})),...R(j({id:V})),R(Object(u.d)({memberId:V,label:C.COPY_MEMBER_NAME})),R(Object(u.c)({memberId:V})),{label:y.t("Copy link"),click:()=>{R(Object(u.b)({memberId:V,label:C.COPY_MEMBER_LINK}))}}].filter(N=>!!N)});E.meta={name:"createThunk",key:"createThunkgetMemberContextMenuTemplate",description:"get the context menu template when user clicks on a member"};let M=h(class extends n.Component{getContextMenuTemplate(){return this.props.getMemberContextMenuTemplate({id:this.props.id,shouldUseNavigate:!!this.props.shouldUseNavigate})}render(){const{id:U,isClient:K}=this.props;return K?U?t.a.createElement(s.a,{getTemplate:this.getContextMenuTemplate,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",onClick:this.props.onClick},this.props.children):Object(o.a)(this.props.children):Object(o.a)(this.props.children)}constructor(U){super(U),this.getContextMenuTemplate=this.getContextMenuTemplate.bind(this)}},"MemberContextMenu");M.displayName="MemberContextMenu",M.defaultProps={id:void 0,onClick:f.a,shouldUseNavigate:!1};function T(R){return{isClient:Object(l.h)(R)}}h(T,"mapStateToProps");const P=h(R=>({getMemberContextMenuTemplate:U=>R(E(U))}),"mapDispatchToProps");var B=i.a=Object(a.a)(T,P)(Object(r.a)(M))},SJuT:function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"a",function(){return a});var n=e("DwFS");const t=Object(n.a)("Updates the messages that were unsent while pending");t.meta={name:"createAction",key:"createActionupsertMessagesToDelete",description:"Updates the messages that were unsent while pending"};const a=Object(n.a)("Updates the message eligible for unsending");a.meta={name:"createAction",key:"createActionupsertMessageEligibleForUnsending",description:"Updates the message eligible for unsending"}},SRik:function(J,i,e){"use strict";e.d(i,"a",function(){return m}),e.d(i,"b",function(){return d});var n=e("q1tI"),t=e.n(n),a=e("Ty5D"),s=e("BHdc"),l=e("nNoG"),o=e("oEDn"),f=e("Tevt");const r=new l.b("team_creation");var m;(function(v){v.Unchecked="unchecked",v.Empty="empty-status",v.Processing="processing",v.Ratelimited="ratelimited",v.Expired="expired",v.RequestNewCode="request-new-code",v.Error="error",v.Blocked="ratelimited-blocked",v.GoogleTokenExpired="google-token-expired",v.Unknown="unknown",v.Success="success"})(m||(m={}));const u={RequestNewCode:"code_check_status_request_new_code_link"};class d extends n.Component{getStatusMessage(){const{status:g,onRequestNewCode:O}=this.props;let b=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{"aria-hidden":"true",className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},"\xA0"));switch(g){case m.Unchecked:b=t.a.createElement("span",{className:"small_desc"},r.t("Keep this window open while checking for your code. Remember to try your spam folder!"));break;case m.Processing:b=t.a.createElement(t.a.Fragment,null,t.a.createElement(o.a,{type:"spinner",animation:"spin",inline:!0,className:"margin_right_25"}),t.a.createElement("span",{className:"c-alert__message"},r.t("Checking your code...")));break;case m.Ratelimited:b=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},t.a.createElement("b",null,r.t("Whoa, you\u2019re going too fast!")),t.a.createElement("br",null),r.t("Slow down a bit. You might have better luck if you try again in a minute.")));break;case m.Error:b=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},r.t("That code wasn't valid. Give it another go!")));break;case m.Expired:b=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},r.t("That code\u2019s no longer valid. Check your email for a new code and try again.")));break;case m.Blocked:b=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},t.a.createElement("b",null,r.t("Temporarily blocked")),t.a.createElement("br",null),r.t("You\u2019ve hit our limit on verification attempts, and you\u2019ll need to try again later.")));break;case m.GoogleTokenExpired:b=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},r.rt("A good amount of time has passed, please <a>enter your email again</a> to continue.",null,y=>{let{text:C}=y;return t.a.createElement(f.a,{href:`/get-started${window.location.search}#create`},C)})));break;case m.RequestNewCode:O&&(b=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},r.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{fallbackHash:"51af4c5a673c4faadd4a072e4e1a4db188ed78a4"},y=>{let{text:C}=y;return t.a.createElement(f.a,{"data-qa":u.RequestNewCode,onClick:O},C)}))));break;case m.Unknown:b=t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},r.t("Oops! Looks like something went wrong.")));break;case m.Success:b=t.a.createElement("span",{className:"small_desc"},r.t("Success!"));break;default:break}return b}render(){const{status:g,isCentered:O,id:b,className:y}=this.props;if(!g)return null;const C=Object(s.default)("c-alert confirmation_code_state_message",y,{"c-alert--boxed":g!==m.Unchecked,"c-alert--level_default":g===m.Processing,"c-alert--level_warning":g===m.Ratelimited||g===m.Expired||g===m.RequestNewCode,"c-alert--level_error":g===m.Error||g===m.Blocked||g===m.Unknown,"invisible c-alert--level_default":g===m.Empty,"c-alert--align_center":O},g);return t.a.createElement("div",{className:"confirmation_code_checker","data-state":g,"data-qa":g,id:b},t.a.createElement("p",{className:C},this.getStatusMessage()))}}h(d,"CodeCheckStatus"),d.displayName="CodeCheckStatus";let p=h(class extends d{getStatusMessage(){return this.props.status===m.RequestNewCode?t.a.createElement(t.a.Fragment,null,t.a.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.a.createElement("span",{className:"c-alert__message"},r.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{fallbackHash:"51af4c5a673c4faadd4a072e4e1a4db188ed78a4"},g=>{let{text:O}=g;return t.a.createElement(f.a,{href:"#",onClick:this.onClickRequestNewCode},O)}))):super.getStatusMessage()}constructor(...g){super(...g),this.onClickRequestNewCode=O=>{O.preventDefault();const{history:b}=this.props;b.goBack()}}},"CodeCheckStatusWithRouter");i.c=Object(a.a)(p)},SSy4:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("c+dP"),s=e("F0YV"),l=e("tv4y");function o(){return o=Object.assign||function(r){for(var m=1;m<arguments.length;m++){var c=arguments[m];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(r[u]=c[u])}return r},o.apply(this,arguments)}h(o,"_extends");const f=h(r=>{let{children:m,teamsList:c,selectedTeamId:u,handleTeamSelected:d,position:p="bottom-left",label:v=""}=r;const g=Object(n.useCallback)(b=>()=>d(b),[d]),O=Object(n.useCallback)(b=>{const y=c.map(_=>{const{name:j,id:E}=_,M=u===E;return t.a.createElement(a.b,{key:E,label:j,onSelected:g(E),icon:t.a.createElement(s.b,{className:"margin_left_50 block",id:E,size:20,team:_}),type:l.b.radio,checked:M})}),C=v?[t.a.createElement(a.b,{key:"header",label:v,type:l.b.header}),...y]:y;return t.a.createElement(a.f,o({},b),C)},[c,v,u,g]);return t.a.createElement(a.e,{position:p,renderMenu:O},m)},"BaseTeamPickerMenu");f.displayName="BaseTeamPickerMenu",i.a=f},Sczb:function(J,i,e){"use strict";e.d(i,"c",function(){return j}),e.d(i,"f",function(){return E}),e.d(i,"b",function(){return T}),e.d(i,"a",function(){return P}),e.d(i,"e",function(){return B}),e.d(i,"h",function(){return R}),e.d(i,"g",function(){return U}),e.d(i,"i",function(){return K}),e.d(i,"d",function(){return z}),e.d(i,"j",function(){return N});var n=e("ZKjC"),t=e("i5Ig"),a=e("jprL"),s=e("RVJP"),l=e("1FnB"),o=e("X/qK"),f=e("fujP"),r=e("JoR1"),m=e("zKt1"),c=e("mM05"),u=e.n(c),d=e("gSGL"),p=e("X6iR"),v=e("BeL+"),g=e("x5Qe"),O=e("htTJ"),y=h(A=>{if(!A||!A.length)return[];const x=[];return A.forEach(k=>{var F;if(!Object(O.a)(k))return;const L=k.insert,S=(F=k.attributes)===null||F===void 0?void 0:F.link;if(!Object(d.a)(L)||!Object(d.a)(S))return;const I=Object(g.a)(L),W=Object(g.a)(S);Object(p.a)(W??void 0,"http://")&&W.slice(7)===I||Object(p.a)(W??void 0,"https://")&&W.slice(8)===I||!(Object(p.a)(W??void 0,"http://")||Object(p.a)(W??void 0,"https://")||Object(p.a)(W??void 0,"spotify:"))||x.push(S)}),Object(v.a)(x)},"getUrlsInOpsToUnfurl"),C=e("gCYc"),_=e("Kn+X");const j=Object(n.b)((A,x)=>{var k;return A==null||(k=A.draftUnfurls)===null||k===void 0?void 0:k[x]});j.meta={name:"createSelector",key:"createSelectorgetAllUnfurlEntriesForDraft",description:(A,x)=>{var k;return A==null||(k=A.draftUnfurls)===null||k===void 0?void 0:k[x]}};const E=Object(n.b)(function(A){let{draftId:x,url:k}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!x||!k)return;const F=j(A,x);if(F)return F[k]});E.meta={name:"createSelector",key:"createSelectorgetUnfurlEntryForDraft",description:function(A){let{draftId:x,url:k}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!x||!k)return;const F=j(A,x);if(F)return F[k]}};const M=Object(n.b)((A,x)=>{const k=j(A,x);if(k)return Object.keys(k)});M.meta={name:"createSelector",key:"createSelectorgetAllUnfurlUrlsForDraft",description:(A,x)=>{const k=j(A,x);if(k)return Object.keys(k)}};const T=Object(n.b)((A,x)=>{const k=j(A,x);if(!k)return;const F=[];return Object.entries(k).forEach(L=>{let[S,I]=L;I.status!==a.g&&F.push(S)}),F});T.meta={name:"createSelector",key:"createSelectorgetAllNonStaleUnfurlUrlsForDraft",description:(A,x)=>{const k=j(A,x);if(!k)return;const F=[];return Object.entries(k).forEach(L=>{let[S,I]=L;I.status!==a.g&&F.push(S)}),F}};const P=Object(n.b)((A,x)=>{const k=j(A,x);if(!k)return;const F=[];return Object.entries(k).forEach(L=>{let[S,I]=L;I.status!==a.g&&Object(l.a)(I.data)&&F.push(S)}),F});P.meta={name:"createSelector",key:"createSelectorgetAllNonStaleRemoteFileUnfurlUrlsForDraft",description:(A,x)=>{const k=j(A,x);if(!k)return;const F=[];return Object.entries(k).forEach(L=>{let[S,I]=L;I.status!==a.g&&Object(l.a)(I.data)&&F.push(S)}),F}};const B=Object(n.b)((A,x)=>{if(!x)return;const k=j(A,x);if(k)return Object(o.a)(k,(F,L,S)=>{L&&L.status===a.f&&F.push(S)},[])});B.meta={name:"createSelector",key:"createSelectorgetRemovedUnfurlUrlsForDraft",description:(A,x)=>{if(!x)return;const k=j(A,x);if(k)return Object(o.a)(k,(F,L,S)=>{L&&L.status===a.f&&F.push(S)},[])}};const R=Object(n.b)((A,x)=>{let{ops:k}=x;if(!k||Object(f.a)(k))return t.a;const F=Object(r.u)(A,"plain_text_mode");let L=k;if(F){const S=Object(m.a)(new u.a(k.slice()))||{};L=S&&S.ops}return y(L)});R.meta={name:"createSelector",key:"createSelectorgetUrlsInOpsToUnfurl",description:(A,x)=>{let{ops:k}=x;if(!k||Object(f.a)(k))return t.a;const F=Object(r.u)(A,"plain_text_mode");let L=k;if(F){const S=Object(m.a)(new u.a(k.slice()))||{};L=S&&S.ops}return y(L)}};const U=Object(n.b)((A,x,k)=>{if(!x)return;const F=Object(C.k)(A,x);var L;const S=(L=Object(_.n)(F))!==null&&L!==void 0?L:[],I=R(A,{ops:S});if(!I||Object(f.a)(I))return;const W=I.map(D=>E(A,{draftId:x,url:D})).filter(D=>D&&k.includes(D.status)).map(D=>D==null?void 0:D.data);if(!(!W||Object(f.a)(W)))return W});U.meta={name:"createSelector",key:"createSelectorgetUnfurlsInDraftOpsWithStatuses",description:(A,x,k)=>{if(!x)return;const F=Object(C.k)(A,x);var L;const S=(L=Object(_.n)(F))!==null&&L!==void 0?L:[],I=R(A,{ops:S});if(!I||Object(f.a)(I))return;const W=I.map(D=>E(A,{draftId:x,url:D})).filter(D=>D&&k.includes(D.status)).map(D=>D==null?void 0:D.data);if(!(!W||Object(f.a)(W)))return W}};const K=Object(n.b)((A,x)=>U(A,x,[a.i]));K.meta={name:"createSelector",key:"createSelectorgetUserAuthRequiredUnfurlsInDraftOps",description:(A,x)=>U(A,x,[a.i])};const V=Object(n.b)((A,x)=>U(A,x,[a.a]));V.meta={name:"createSelector",key:"createSelectorgetCompleteUnfurlsInDraftOps",description:(A,x)=>U(A,x,[a.a])};const z=Object(n.b)((A,x)=>{const k=[a.a];return Object(s.d)(A,"magic_unfurls")==="treatment"&&k.push(a.g),Object(s.d)(A,"composer_auth")==="treatment"&&k.push(a.i),U(A,x,k)});z.meta={name:"createSelector",key:"createSelectorgetDisplayableUnfurlsInDraftOps",description:(A,x)=>{const k=[a.a];return Object(s.d)(A,"magic_unfurls")==="treatment"&&k.push(a.g),Object(s.d)(A,"composer_auth")==="treatment"&&k.push(a.i),U(A,x,k)}};const N=Object(n.b)((A,x)=>{const k=Object(C.k)(A,x),F=Object(_.n)(k)||[],L=R(A,{ops:F});return(L==null?void 0:L.length)>a.h});N.meta={name:"createSelector",key:"createSelectorhasReachedUnfurlLimit",description:(A,x)=>{const k=Object(C.k)(A,x),F=Object(_.n)(k)||[],L=R(A,{ops:F});return(L==null?void 0:L.length)>a.h}}},Shth:function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a});var n=e("n3tL"),t;(function(s){s[s.IDLE=0]="IDLE",s[s.UPLOADING=1]="UPLOADING",s[s.COMPLETE=2]="COMPLETE",s[s.CANCELED=3]="CANCELED",s[s.PROCESSING=4]="PROCESSING",s[s.ERROR=5]="ERROR"})(t||(t={}));const a=n.default.shape({file:n.default.object.isRequired,pendingFileId:n.default.string,percentComplete:n.default.number,persistedFileId:n.default.string,status:n.default.oneOf(Object.values(t)),teamId:n.default.string,isSending:n.default.bool})},"Sk0/":function(J,i,e){"use strict";var n=e("zmn3"),t=e("q1tI"),a=e.n(t),l=h(p=>{const v=Object(t.useRef)(null);return Object(t.useEffect)(()=>{p&&(typeof p=="function"?p(v.current):p.current=v.current)}),v},"useForwardedRef"),o=e("Cfcg"),f=e("PU6Q");function r(){return r=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var O in g)Object.prototype.hasOwnProperty.call(g,O)&&(p[O]=g[O])}return p},r.apply(this,arguments)}h(r,"_extends");let m=h(class extends t.Component{onFilesSelected(){const{onFilesSelectedHandler:v,refToForward:g}=this.props;if(!g.current)throw new Error("HiddenFileInput missing input ref");const O=g.current.files,b=Object(n.a)(O);v(b),g.current.value=""}render(){const{disableFileUploadsPref:v,multiple:g=!0,accept:O,refToForward:b}=this.props,y=v==="disable_all_except_images"&&!O,C={accept:O};return y&&(C.accept="image/*"),a.a.createElement("input",r({type:"file",className:"p-hidden_file_input",multiple:g,"aria-hidden":"true","data-qa":"file_upload",tabIndex:-1},C,{ref:b,onChange:this.onFilesSelected}))}constructor(v){super(v),this.onFilesSelected=this.onFilesSelected.bind(this)}},"HiddenFileInput");m.displayName="HiddenFileInput";function c(p){return{disableFileUploadsPref:Object(f.b)(p)}}h(c,"mapStateToProps");const u=Object(o.a)(c)(m);var d=i.a=a.a.forwardRef((p,v)=>a.a.createElement(u,r({},p,{refToForward:l(v)})))},SkME:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("BHdc"),l=e("wd/R"),o=e.n(l),f=e("WIr4"),r=e("95ku"),m=e("A/mR"),c=e("P1FA"),u=e("XxnT");const d={"de-de":["YYYY MMM D","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"],"en-gb":["YYYY MMM D","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"],"en-us":["MMM D YYYY","M D YYYY","YYYY M D","YYYY MMM D","D MMM YYYY","M D"],"es-es":["YYYY MMM D","D [de] MMM [de] YYYY","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"],"es-la":["YYYY MMM D","D [de] MMM [de] YYYY","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"],"fr-fr":["YYYY MMM D","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"],"ja-jp":["YYYY[\u5E74]MMMMD","YYYY[\u5E74]MM[\u6708]D[\u65E5]","MM D"],"ko-kr":["YYYY-MM-DD","YYYY[\uB144] MM[\uC6D4] DD[\uC77C]","YYYY[\uB144] M[\uC6D4] D[\uC77C]","YYYY.MM.DD.","YYYY.MM.DD","YYYY.M.D.","YYYY.M.D","MM[\uC6D4] DD[\uC77C]","M[\uC6D4] D[\uC77C]"],"pt-br":["YYYY MMM D","D [de] MMM [de] YYYY","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"],"zh-cn":["YYYY [\u5E74] MMMM D","YYYY [\u5E74] MM [\u6708] D [\u65E5]","MM D"],"zh-tw":["YYYY [\u5E74] MMMM D","YYYY [\u5E74] MM [\u6708] D [\u65E5]","MM D"],default:["YYYY MMM D","D MMM YYYY","D M YYYY","YYYY M D","D M YY","D M"]};function p(j){const E=u.a.locale(),M=d[E]||d.default;M.push("YYYY-M-D");var T;let P=(T=j==null?void 0:j.trim().toLocaleLowerCase())!==null&&T!==void 0?T:"";if(E==="ja-jp"||E==="ko-kr"||E==="zh-cn"||E==="zh-tw"){var R;P=(R=Object(c.a)(P))!==null&&R!==void 0?R:""}return E==="de-de"?P=P.replace("marz","m\xE4rz"):E==="fr-fr"&&(P=P.replace("fevr","f\xE9vr"),P=P.replace("aout","ao\xFBt"),P=P.replace("dec","d\xE9c")),Object(u.a)(P,M,!1)}h(p,"parseCalendarDate");var v=p,g=e("FWtP"),O=e("nNoG");function b(){return b=Object.assign||function(j){for(var E=1;E<arguments.length;E++){var M=arguments[E];for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(j[T]=M[T])}return j},b.apply(this,arguments)}h(b,"_extends");const y=new O.b("date_picker");let C=h(class extends n.PureComponent{getDisplayFormat(){return this.props.displayFormat||this.props.valueFormat}getDisplayValueFromMoment(E,M){let{useToday:T=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!E||!E.isValid())return"";if(E.isSame(o()(),"day")&&T)return y.t("Today",{fallbackHash:"24345a14377fd821d3932f4e82f6431640955b0b",fallbackHashNs:"block_kit"});if(M)return E.format(M);const P=Object(O.m)()==="es-ES"||Object(O.m)()==="es-LA";return Object(m.o)(E,{shortenMonth:P,shortenDay:P})}getMemoizedDisplayValue(E,M,T){const P=o()(E,M);return this.getDisplayValueFromMoment(P,T)}getInputValue(){if(this.state.focused)return this.state.inputValue;const{value:E,valueFormat:M,displayFormat:T}=this.props;return this.getMemoizedDisplayValue(E,M,T)}handleDownKey(E){this.props.onClick(E)}onKeyDown(E){const{key:M}=E;if(M==="Enter"){this.handleReturnKey(E);return}if(M==="Escape"){this.handleEscapeKey(E);return}if(M==="ArrowDown"){this.handleDownKey(E);return}M==="Tab"&&this.handleTabKey(E)}resetInputForEditing(){const{value:E,valueFormat:M,displayFormat:T,onResetInput:P}=this.props;this.setState(()=>({focused:!0,inputValue:this.getDisplayValueFromMoment(o()(E,M),T,{useToday:!1})||E||""}),()=>{var B;(B=this.input.current)===null||B===void 0||B.select(),P&&P(this.input)})}handleBlur(E){this.state.focused&&this.updateValue(E.target.value),this.setState(()=>({focused:!1})),this.props.onBlur(E)}handleChange(E){this.setState(()=>({inputValue:E}))}handleClick(E){this.input.current&&this.input.current.focus(),this.props.onClick(E)}handleEscapeKey(E){this.input.current&&this.state.focused&&(this.resetInputForEditing(),this.props.onEscape(E))}handleFocus(E){this.resetInputForEditing(),this.props.onFocus(E)}handleReturnKey(E){this.input.current&&this.state.focused&&(E.preventDefault(),this.input.current.blur())}handleTabKey(E){this.props.blurOnTab&&this.input.current&&this.state.focused&&(E.preventDefault(),this.input.current.blur())}isDateDisabled(E){let M=!1;if(this.props.isDateDisabled&&(M=this.props.isDateDisabled(E.format(this.props.valueFormat))),!M)for(let T=0,P=this.props.disabledDates[T];T<this.props.disabledDates.length;T++)E.isSame(o()(P,this.props.valueFormat))&&(M=!0);return!M&&this.props.disableDatesBefore&&(M=M||E.isBefore(o()(this.props.disableDatesBefore,this.props.valueFormat))),!M&&this.props.disableDatesAfter&&(M=M||E.isAfter(o()(this.props.disableDatesAfter,this.props.valueFormat))),M}parseToMoment(E){if(!E||!E.trim())return null;const M=this.getDisplayFormat(),T=o()(E,M,!0);if(T.isValid())return T;const P=v(E);if(P.isValid())return P;const B=new Date(E);return Number.isNaN(B.valueOf())?null:o()(B)}updateValue(E,M){const{value:T,valueFormat:P,required:B}=this.props;let R=M?o()(E,M):this.parseToMoment(E),U=R&&R.isValid();if(U||(B?(R=o()(T,P),U=R&&R.isValid()):(R=null,U=!0)),U){const K=R?R.format(P):"";this.props.onChange(K)}}render(){const{id:E,required:M,className:T,value:P,valueFormat:B,displayFormat:R,disabledDates:U,isDateDisabled:K,disableDatesBefore:V,disableDatesAfter:z,disabledDateErrorText:N,onChange:A,onClick:x,onEscape:k,size:F,"aria-label":L,datePickerDisabled:S,isInvalid:I,autoClogProps:W,preventScrollOnFocus:D,blurOnTab:H,onResetInput:Z,...G}=this.props;return t.a.createElement("div",{onClick:this.handleClick,"data-qa":`datepicker_input--${F}`,className:Object(s.default)(`c-date_picker_input c-date_picker_input--${F}`,{"c-date_picker_input--focused":this.state.focused}),role:"presentation"},t.a.createElement(r.a,b({},G,{id:E,name:E,className:T,inputRef:this.input,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,onKeyDown:this.onKeyDown,value:this.getInputValue(),icon:"calendar",showError:I,isDisabled:S,isInvalid:I,isRequired:M,size:F,ariaLabel:L,autoClogProps:W,preventScrollOnFocus:D,useInlineAlert:!0})))}constructor(E){super(E),this.state={inputValue:"",focused:!1},this.input=t.a.createRef(),this.getMemoizedDisplayValue=Object(g.a)(this.getMemoizedDisplayValue),Object(f.a)(this,["onKeyDown","isDateDisabled","handleBlur","handleFocus","handleClick","handleChange","handleReturnKey","handleEscapeKey","handleDownKey","handleTabKey"])}},"DatePickerInput");C.displayName="DatePickerInput",C.defaultProps={value:null,displayFormat:null,disabledDates:[],isDateDisabled:void 0,disableDatesBefore:void 0,disableDatesAfter:void 0,disabledDateErrorText:null,onChange:a.a,onClick:a.a,onFocus:a.a,onBlur:a.a,onEscape:a.a,required:!1,isInvalid:!1,size:"medium",className:null,datePickerDisabled:!1,autoClogProps:void 0,preventScrollOnFocus:!1,placeholder:void 0,focusOnMount:void 0,onKeyDown:a.a};var _=i.a=C},"SpS+":function(J,i,e){"use strict";e.d(i,"a",function(){return s}),e.d(i,"g",function(){return l}),e.d(i,"f",function(){return o}),e.d(i,"e",function(){return m}),e.d(i,"d",function(){return c}),e.d(i,"c",function(){return p}),e.d(i,"b",function(){return v});var n=e("/1FC"),t=e("owWc"),a=e("fujP");const s={email:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,phone:/^[0-9._+-]{8,15}$/i},l=h(g=>{const O=typeof g=="boolean",b=typeof g=="string",y=O&&!g,C=b&&(!g||!g.trim()),_=Object(n.a)(g)&&!g.length;return y||C||_||g===null?"Required":null},"required"),o=h((g,O)=>b=>(s[g]||g).test(b)?null:O,"regexPattern"),f=o(s.email,"Please enter a valid email address."),r=o(s.phone,"Please enter a valid phone number."),m=h(g=>O=>!O||O.length<g?`Minimum of ${g} characters`:null,"minCharacterCount"),c=h(g=>O=>O.length>g?`Max character limit is ${g}`:null,"maxCharacterCount"),u=h(g=>O=>{let b=null;return g.forEach(y=>{O===y&&(b=`Cannot use ${O}`)}),b},"tokenNotAllowed"),d=h(g=>O=>{let b=null,y;return O&&O.length&&(O.includes(",")?(y=O.split(",").filter(C=>!!g.includes(C)),b=`Cannot use ${y}`):g.includes(O)&&(y=O,b=`Cannot use ${y}`)),b},"tokensNotAllowed"),p=h(g=>O=>{const b=Object(t.a)(g,(y,C,_)=>{const j=C.map(E=>E(O[_],O)).filter(Boolean);return j.length>0&&(y[_]=j),y},{});return Object(a.a)(b)?void 0:b},"createValidation"),v=h(g=>O=>{const b=g.map(y=>y(O)).filter(Boolean);return Object(a.a)(b)?void 0:b},"createValidate")},SvP2:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("BHdc"),l=e("3WT/"),o=e("OKyS"),f=e("5IZy"),r=e("4AlF"),m=e("yxNq"),c=e("RVJP"),u=e("zxER"),d=e("y/Pn"),p=e("up1q"),v=e("HmUJ"),g=e("mjhc"),O=e("N5xo"),b=e("C3vN"),y=e("K7jq"),C=e("cQ/D"),_=e("xwCZ");function j(He){let{channelId:re,imMember:ue,setContextBarTimeZoneIsShowing:ve,unsetContextBarTimeZoneIsShowing:De}=He;const We=Object(u.c)(we=>Object(b.D)(Object(_.c)(we)));return Object(n.useCallback)(()=>{if(!re||!ue||Object(y.a)(ue)||Object(b.jb)(ue)||Object(b.T)(ue))return null;if(We===Object(b.D)(ue)||!Object(b.D)(ue))return De({channelId:re});try{return Object(C.a)(Date.now(),ue)?ve({channelId:re}):De({channelId:re})}catch{return De({channelId:re})}},[re,We,ue,ve,De])}h(j,"useCalculateNightTime");function E(He){let{channelId:re,imMember:ue,contextBarType:ve,setContextBarTimeZoneIsShowing:De,unsetContextBarTimeZoneIsShowing:We}=He;const we=j({channelId:re,imMember:ue,setContextBarTimeZoneIsShowing:De,unsetContextBarTimeZoneIsShowing:We});Object(O.a)(()=>{ve&&ve!==g.c.timeZone||we()},[we,ve])}h(E,"useUpdateNightTime");var M=e("Fsnq"),T=e("qMw6"),P=e("gCYc"),B=e("F4sy"),R=e("Kn+X"),U=e("E3dU"),K=e("E97Y");function V(He){let{channelId:re,draftId:ue,viewContext:ve}=He;const[De,We]=Object(n.useState)(""),we=Object(u.c)(Yt=>Object(U.d)(Yt,re)),Be=Object(u.c)(Yt=>Object(M.a)(Object(B.a)(Yt,{channelId:re,draftId:ue,viewContext:ve}))),[ke,Le]=Object(n.useState)(Be),[Ze,ot]=Object(n.useState)(re),bt=Object(u.c)(Yt=>Object(P.k)(Yt,ue)),ht=Object(n.useMemo)(()=>Object(R.t)(bt),[bt]),Bt=Object(u.f)(Object(n.useCallback)(Yt=>ht.filter(Cn=>{const an=Object(_.g)(Yt,Cn);return!Object(b.V)(an)&&Object(b.ib)(an)}),[ht]));return Object(n.useEffect)(()=>{re!==Ze&&(ot(re),Le(Be))},[Ze,re,Be,ot]),Object(n.useEffect)(()=>{const Yt=Be>ke,Cn=ve===T.a.COMPOSER_VIEW&&Be>0;Object(K.l)(we)&&Bt&&Bt.length!==0?We(g.c.profileOnlyUser):We(Yt||Cn?g.c.scheduledSend:"")},[Be,ke,Bt,we,ve]),{overrideType:De,mentionedPOUs:Bt}}h(V,"useContextBarOverride");var z=e("ZobM"),N=e("Yauy"),A=e("jm2/"),x=e("F0YV"),k=e("qXtt"),F=e("pFNT"),L=e("GNR7"),S=e("8fw/");const I=h(He=>{let{channel:re}=He;const ue={size:F.a.small,isInteractive:!1},ve=Object(u.f)(We=>Object(L.A)(We,re==null?void 0:re.id)),De=Object(n.useMemo)(()=>ve.filter(We=>We.slackId).map(We=>We.slackId),[ve]);return t.a.createElement("div",{className:"p-context_bar_v2__icon"},t.a.createElement(S.a,{avatarOuterHeight:F.a.tiny,avatarOuterWidth:F.a.tiny,maxNumFaces:2,avatarProps:ue,memberIds:De}))},"ContextBarHuddlesUserNonVisibleThreadIcon");I.displayName="ContextBarHuddlesUserNonVisibleThreadIcon";var W=I;const D=Object.freeze({[g.c.migrating]:"info",[g.c.timeZone]:"clock",[g.c.scheduledSend]:"schedule-send",[g.c.profileOnlyUser]:"info",[g.c.fileRetention]:"warning"}),H=Object.freeze({[g.c.dnd]:"notifications-dnd",[g.c.govslackBanner]:"govslack"}),Z=h(He=>{let{type:re,channel:ue,memberIds:ve}=He;const De=Object(u.c)(A.a),We=Object(u.c)(Be=>Object(N.Eb)(Be,ue));return Object(d.a)(ue)&&re===g.c.govslackBanner?t.a.createElement("div",{className:"p-context_bar_v2__icon position_relative"},t.a.createElement("div",{className:De?"p-context_bar_banner__govslack_insert":"p-context_bar_banner__govslack_insert p-context_bar_banner__govslack_insert--off"},t.a.createElement("div",{className:"p-context_bar_banner__govslack_insert_icon"},t.a.createElement(z.a,{variation:"filled",name:De?"govslack":"govslack-off"}))),t.a.createElement(k.a,{memberIds:ve,channel:ue})):re===g.c.shared?t.a.createElement("div",{className:"p-context_bar_v2__icon"},t.a.createElement(k.a,{memberIds:ve,channel:ue})):re===g.c.slackConnectWorkspace?t.a.createElement("div",{className:"p-context_bar_v2__icon"},t.a.createElement(x.b,{id:We,size:16})):re===g.c.outOfOffice?t.a.createElement("div",{className:"p-context_bar_v2__icon"},t.a.createElement(z.a,{name:"inactive"})):re===g.c.huddlesUserNonVisibleThread?t.a.createElement(W,{channel:ue}):t.a.createElement("div",{className:"p-context_bar_v2__icon"},(re===g.c.govslackBanner||re===g.c.dnd)&&t.a.createElement(z.a,{variation:"filled",name:H[re]}),re!==g.c.govslackBanner&&t.a.createElement(z.a,{name:D[re]}))},"ContextBarV2Icon");Z.displayName="ContextBarV2Icon";var G=Z,te=e("nNoG"),se=e("M+5u"),$=e("JoR1"),X=e("CTEJ"),q=e("rYD8");const Y=new te.b("messages");function ee(He,re){return Object(se.a)(Date.now(),{timeZone:Object(b.D)(He)||void 0,timeZoneOffset:Object(b.E)(He),do24hrTime:re})}h(ee,"getLocalTime");const w=h(He=>{let{ariaId:re,member:ue}=He;const ve=Object(u.c)(we=>!!Object($.u)(we,"time24")),[De,We]=Object(n.useState)(ee(ue,ve));return Object(O.a)(()=>{We(ee(ue,ve))},[ue,ve]),t.a.createElement("span",{id:re},Y.rt("It\u2019s {time} for {member}",{member:t.a.createElement(q.a,{id:ue==null?void 0:ue.id}),time:De?t.a.createElement("strong",null,De):t.a.createElement(X.a,{size:"small"})}))},"ContextBarTimeZoneContent");w.displayName="ContextBarTimeZoneContent";var ne=w,ae=e("ktUG");const de=new te.b("messages");function ge(He){let{channel:re,ariaId:ue}=He;const ve=Object(u.c)(De=>Object(f.a)({state:De}));return ve==null||ve.track(ae.EventId.ENTERPRISE_MIGRATION_BACKGROUND,{contexts:{ui_context:{action:ae.UiAction.IMPRESSION,ui_element:ae.UiElement.MIGRATION_CONTEXT_BAR},channel_id:re.id,channel_privacy_type:Object(K.c)(re)}}),t.a.createElement("span",{id:ue},de.rt("Missing messages? They'll show up shortly when your workspace's migration is complete."))}h(ge,"ContextBarMigrating"),ge.displayName="ContextBarMigrating";var le=t.a.memo(ge),Q=e("fujP"),ie=e("/MKj"),oe=e("wnRj"),me=e("+wAm"),be=e("Tevt");const Se=new te.b("messages");function Pe(He){let{dndOverride:re,memberId:ue}=He;const ve=Object(ie.useDispatch)(),De=re==null?void 0:re.overrideUrl,We=Object(n.useCallback)(()=>{ve&&ve(Object(me.a)(De))},[ve,De]);return Object(Q.a)(re)?t.a.createElement("span",null,Se.rt("{member} has <strong>paused their notifications</strong>",{member:t.a.createElement(q.a,{id:ue})})):t.a.createElement("span",null,Se.t("They will see your messages when they\u2019re back."),"\xA0",t.a.createElement(be.a,{className:"bold",onClick:We},Se.t("Notify anyway?")))}h(Pe,"ContextBarDndContent"),Pe.displayName="ContextBarDndContent";function Ue(He,re){let{channelId:ue}=re;return{dndOverride:Object(oe.a)(He,ue)}}h(Ue,"mapStateToProps");var Fe=Object(a.a)(Ue)(Pe),je=e("hUMe"),_e=e("rKeN"),pe=e("mY0L");const fe=new te.b("shared_channels");var ye=h(He=>{let{hasLeadingText:re}=He;const ue=Object(u.c)(_e.a),{renderLink:ve,shouldDisplayGuidelines:De}=Object(pe.a)({type:"LOCAL",dataQa:"slack_connect_guidelines__view_button__from_banner",stepVariant:"external_member_awareness_banner",modalHeaderSuffix:"guidelines",showCopyButton:!1,className:"bold"});return ue&&De?t.a.createElement(t.a.Fragment,null,re&&". ",fe.rt("<link>Review guidelines</link>",{"<link>":ve})):null},"Guidelines");const Te=new te.b("messages"),Oe=h(He=>{let{memberId:re,teamId:ue}=He;var ve;const De=(ve=Object(u.c)(Be=>Object(r.a)(Be,[re])))===null||ve===void 0?void 0:ve[0],We=ue||De,we=Te.rt("They are from {teamName}",{teamName:t.a.createElement(je.a,{id:We})});return t.a.createElement(t.a.Fragment,null,t.a.createElement("span",null,we),t.a.createElement(ye,{hasLeadingText:!0}))},"ExternalText");Oe.displayName="ExternalText";var Ce=Oe,ce=e("HOFW");function he(He){let{memberId:re,ariaId:ue,channelId:ve}=He;const De=Object(u.c)(We=>re?Object(ce.a)(We,{channelId:ve,memberIds:[re]}):!1);return t.a.createElement("span",{id:ue},t.a.createElement(Fe,{channelId:ve,memberId:re}),De&&!!re&&t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"p-context_bar__divider"}," | "),t.a.createElement(Ce,{memberId:re})))}h(he,"context_bar_dnd_content_ContextBarDndContent"),he.displayName="ContextBarDndContent";var Me=he,Ae=e("Atrf"),xe=e("nWdO");const Re=new te.b("messages");function Ge(He){let{memberIds:re,ariaId:ue}=He;if(!re)return null;const ve=t.a.createElement(Ae.a,{id:re[0]}),De=re.length;if(De===2)return t.a.createElement("span",{id:ue},Re.rt("{firstMember} and {secondMember} are not on Slack and will not receive a notification.",{firstMember:ve,secondMember:t.a.createElement(Ae.a,{id:re[1]})}));const We=re.slice(1).map(Be=>t.a.createElement("span",{key:Be},t.a.createElement(Ae.a,{id:Be,noLinking:!0}))),we=Object(te.h)(We);return t.a.createElement("span",{id:ue},Re.rt("{firstMember}{memberCount, plural, =1 { is} other { and {overflow} are}} not on Slack and will not receive a notification.",{firstMember:ve,memberCount:De,overflow:t.a.createElement(xe.c,{zIndex:"above_fs",tip:we},t.a.createElement("span",null,Re.rt(" {overflowCount} others",{overflowCount:De-1})))}))}h(Ge,"ContextBarProfileOnlyUserContent"),Ge.displayName="ContextBarProfileOnlyUserContent";var ze=Ge,Ie=e("F294"),Ne=e("ohbk"),Ke=e("I0j/"),Ve=e("37+L"),$e=e("mQiU"),tt=e("UmHn"),qe=e("A/mR"),ut=e("rEgV"),rt=e("3kjJ"),yt=e("Wgwc"),Mt=e.n(yt);const st=new te.b("messages"),Vt={eventId:ae.EventId.COMPOSE_FLOW,uiStep:ae.UiStep.CONTEXTBAR_SCHEDULED_CLICK,onClick:{enableClogAction:!0}};function Wt(He){let{channelId:re,draftId:ue,viewContext:ve}=He;const De=Object(ie.useDispatch)(),{shouldUseNavigate:We}=Object(n.useContext)($e.a),we=Object(u.c)(ht=>Object($.u)(ht,"time24")),Be=Object(u.c)(ht=>Object(U.d)(ht,re)),ke=Object(u.c)(ht=>Object(N.t)(ht,Be)),Le=Object(u.c)(ht=>Object(B.a)(ht,{channelId:re,draftId:ue,viewContext:ve}));if(!re||Object(Q.a)(Le))return null;function Ze(){De(We?Object(Ke.a)(Object(Ve.T)(tt.a.ScheduledMessages)):Object(Ne.a)({id:"Pscheduled-messages"}))}h(Ze,"onSeeDetailsClick");let ot;if(Object(M.a)(Le)>1)ot=st.rt("{draft_count} messages scheduled to be sent to <strong>{channel_name}</strong>.",{draft_count:Object(M.a)(Le),channel_name:ke});else{const ht=Object(Ie.a)(Le),Bt=Object(R.i)(ht);if(!Bt)return null;const Yt=Object(ut.a)(Bt),Cn=Object(rt.a)(Bt,Mt()().add(1,"day").toDate()),an=Object(qe.g)(Bt,"{date_pretty}",{shouldCapitalize:!1}),Mn=Object(qe.g)(Bt,"{time}",{do24hrTime:we});Yt?ot=st.rt("Your message will be sent to <strong>{channel_name}</strong> today at {time}.",{channel_name:ke,time:Mn}):Cn?ot=st.rt("Your message will be sent to <strong>{channel_name}</strong> tomorrow at {time}.",{channel_name:ke,time:Mn}):ot=st.rt("Your message will be sent to <strong>{channel_name}</strong> on {date} at {time}.",{channel_name:ke,date:an,time:Mn})}const bt=st.rt("<a>See all scheduled messages</a>",null,ht=>{let{text:Bt,tag:Yt}=ht;return Yt==="a"?t.a.createElement(be.a,{onClick:Ze,autoClogProps:Vt},t.a.createElement("strong",null,Bt)):null});return t.a.createElement(t.a.Fragment,null,ot," ",bt)}h(Wt,"ContextBarScheduledSendContent"),Wt.displayName="ContextBarScheduledSendContent";var Xt=Wt,Ut=e("xHh6"),Nt=e("Trx9"),Ft=e("r007"),_n=e("ilQ9"),cn=e("YxAP"),Rn=e("blUj");function Vn(He){let{ariaId:re,channel:ue,memberIds:ve,connectedTeamIds:De,shouldRender:We,experimentAdoptionInstantSlackGroupTreatment:we}=He;const Be=Object(ie.useDispatch)(),ke=Object(n.useCallback)(()=>{const Ze=Object(N.i)(ue);if(!Ze||!(De!=null&&De.length))return;const ot=De.length===1?De[0]:Rn.b.EXTERNAL_TEAMS;return Be(Object(Ut.a)({id:Ze,defaultTab:cn.a.Members,options:we?void 0:{membersFilters:[ot]}}))},[ue,De,Be,we]);if(!We)return null;const Le=t.a.createElement(Nt.a,{eventId:ae.EventId.EXTERNAL_MEMBER_AWARENESS_BANNER,clogImpression:!0},t.a.createElement(Ft.a,{channel:ue,memberIds:ve,onClickMemberCount:ke}),t.a.createElement(ye,{hasLeadingText:!0}));return re?t.a.createElement("span",{id:re},Le):Le}h(Vn,"ContextBarShared"),Vn.displayName="ContextBarShared";const ea=h((He,re)=>{let{channel:ue,memberIds:ve}=re;const De=Object(_.j)(He,ve),We=Object(_n.b)({channel:ue,members:De}),we=Object(c.d)(He,"adoption_instant_slack")==="treatment";return{shouldRender:We!==_n.a.none,experimentAdoptionInstantSlackGroupTreatment:we}},"context_bar_shared_content_mapStateToProps");var Lt=Object(a.a)(ea)(Vn);const vn=new te.b("govslack"),Wn=h(He=>{let{isSlackConnect:re=!1}=He;const ue=Object(u.c)(A.a);let ve=vn.rt("Don\u2019t share ITAR protected data here.",null,De=>{let{text:We,tag:we}=De;return we==="a"?We:null});return ue&&(re?ve=vn.rt("These teams are using GovSlack.",{fallbackHash:"c80d207f7b80fc6839c040a53d42e9d538ff5061"}):ve=vn.rt("This team is using GovSlack.",{fallbackHash:"c80d207f7b80fc6839c040a53d42e9d538ff5061"})),t.a.createElement("span",null,ve)},"GovslackText");Wn.displayName="GovslackText";var Nn=Wn,ia=e("UZO2"),Ea=e("gVOt");function bn(He){let{ariaId:re,channel:ue,memberIds:ve}=He;const De=Object(d.a)(ue),We=Object(N.i)(ue),we=Object(u.c)(ke=>Object(ia.a)(ke,{channelId:We,memberIds:ve})),Be=De&&!we;return t.a.createElement("span",{id:re},we&&t.a.createElement(t.a.Fragment,null,t.a.createElement(Fe,{channelId:We,memberId:Object(Ea.a)(ue)}),t.a.createElement("span",{className:"p-context_bar__divider"}," | ")),Be&&!!ue&&t.a.createElement(t.a.Fragment,null,t.a.createElement(Lt,{channel:ue,memberIds:ve}),t.a.createElement("span",{className:"p-context_bar__divider"}," | ")),t.a.createElement(Nn,{isSlackConnect:Be}))}h(bn,"ContextBarGovSlack"),bn.displayName="ContextBarGovSlack";var Xn=t.a.memo(bn),vt=e("ZOzc"),Je=e("CnQG"),et=e("WAPM"),mt=e("G0eX"),Pt=e("beVI"),Tt=e("ajVY");const Qt=new te.b("file-upload");function dt(He){let{retentionDuration:re,teamName:ue,allowBoxCfsEnabled:ve}=He;if(!re||ve)return null;let De;const We=Object(Je.a)(re);return ue?De=Qt.rt("{teamName} keeps files in Slack for {duration}. <a>Learn more</a>",{duration:We,teamName:ue,"<a>":we=>{let{text:Be}=we;return t.a.createElement(et.a,{articleId:203457187},Be)}}):De=Qt.t("Due to your custom file retention policy, this file will be deleted after {duration}",{duration:We}),t.a.createElement("span",{id:"ariaId"},De)}h(dt,"ContextBarFileRetentionContent"),dt.displayName="ContextBarFileRetentionContent";function zt(He,re){let{channelId:ue}=re;const ve=Object(vt.a)(He,"file_retention_type")?Object(vt.a)(He,"file_retention_duration"):null,De=Object(mt.h)(Object(Pt.g)(He)),We=ue?Object(Tt.b)(He,"allow_box_cfs",ue):Object(Tt.d)(He,"allow_box_cfs");return{retentionDuration:ve,teamName:De,allowBoxCfsEnabled:!!We}}h(zt,"context_bar_file_retention_content_mapStateToProps");var Qe=Object(a.a)(zt)(dt),nt=e("DnI3"),_t=e("Ccc1");const Et=new te.b("messages");function kt(He){let{channelId:re}=He;const ue=Object(ie.useDispatch)(),ve=Object(u.c)(nt.a),De=Object(u.c)(Le=>Object(U.d)(Le,re)),{shouldUseNavigate:We}=Object(n.useContext)($e.a);if(!ve)return null;const we=h(()=>{ue(We?Object(Ke.a)(Object(Ve.T)(tt.a.OfflineOutbox)):Object(Ne.a)({id:"Poffline-outbox"}))},"navigateToOfflineOutbox"),Be=Et.rt("Your message will be sent to <strong>{channel}</strong> when you get back online.",{channel:t.a.createElement(_t.a,{channel:De})}),ke=Et.rt("<a>See all messages in the offline outbox</a>",null,Le=>{let{text:Ze,tag:ot}=Le;return ot==="a"?t.a.createElement(be.a,{onClick:we},t.a.createElement("strong",null,Ze)):null});return t.a.createElement(t.a.Fragment,null,Be," ",ke)}h(kt,"ContextBarOfflineOutboxContent"),kt.displayName="ContextBarOfflineOutboxContent";var jn=kt,pn=e("CaVW"),An=e("NfYe");const lt=new te.b("shared_workspaces"),Dn=h(He=>{let{channel:re}=He;const ue=Object(u.c)(An.a),ve=Object(u.c)(We=>!!(re&&Object(pn.a)(We,re))),De=Object(u.c)(We=>Object(N.Eb)(We,re));return!ue||!ve||!De?null:t.a.createElement("strong",null,lt.rt("This channel is part of {teamName}",{teamName:t.a.createElement(je.a,{id:De,bold:!1}),fallbackHash:"b9e3b03ce10a59cd205cc1feb8cf846aca65adb7"}))},"ContextBarSlackConnectWorkspace");Dn.displayName="ContextBarSlackConnectWorkspace";var fn=e("OtLZ"),kn=e("Z0Cl"),wn=e("qAkX"),fa=e("dtwz"),In=e("weu1");const ha=h(He=>Object(kn.a)(He,re=>Object(b.L)(re)),"getOooMpdmMembers"),Dt=h(He=>{const re=Object(wn.a)(He),ue=Object(fn.a)(He,re);return Object(fa.a)([ve=>Object(fn.a)(ve,re),ve=>`${Object(In.a)(ve,", ")} and ${re}`])(ue)},"createOooMpdmTooltipString");var jt=e("+tZp"),$t=e("feSS"),Tn=e("3956");const dn=h(He=>{let{experimentPnpOooGroupOn:re,memberId:ue,linkText:ve}=He;const De=Object(ie.useDispatch)(),We=Object(n.useCallback)(()=>{De(Object(Tn.a)({memberId:ue}))},[De,ue]);return re?t.a.createElement(be.a,{onClick:We},ve):null},"OooProfileLink");dn.displayName="OooProfileLink";var Un=dn,Bn=e("mX9+"),Kt=e("zmn3"),Kn=e("Tsh7");const aa=h(He=>{let{text:re,oooMpdmMembers:ue}=He;const ve=Object(u.f)(De=>{const We=Object(Bn.a)(ue,2),we=Object(Kt.a)(We,Be=>Object(jt.a)(De,Be));return we.length===2?Object(In.a)(we," and "):we.length>2?Dt(we):Object(In.a)(we,", ")});return t.a.createElement(Kn.d,{"aria-label":ve,position:"top",tip:ve},t.a.createElement(be.a,null,re))},"OooMpdmTooltip");aa.displayName="OooMpdmTooltip";var ln=aa;const en=new te.b("rimeto_user_profile"),xt=h(He=>{let{experimentPnpOooGroupOn:re,channel:ue}=He;const ve=Object(u.f)(ht=>{const Bt=Object(_.c)(ht),Yt=Object(N.C)(ue)||[],Cn=Object(fn.a)(Yt,Object(b.m)(Bt));return ha(Object(_.j)(ht,Cn))}),[De,We]=ve,we=(ve==null?void 0:ve.length)===1?"true":"false",Be=(ve==null?void 0:ve.length)===2?"true":"false",ke=(ve==null?void 0:ve.length)>2?"true":"false",{firstMemberName:Le,secondMemberName:Ze}=Object(u.f)(ht=>({firstMemberName:Object(jt.a)(ht,De),secondMemberName:Object(jt.a)(ht,We)})),ot=Object(n.useCallback)(ht=>{let{text:Bt}=ht;return t.a.createElement(Un,{experimentPnpOooGroupOn:re,memberId:Object(b.m)(De),linkText:Bt})},[re,De]),bt=Object(n.useCallback)(ht=>{let{text:Bt}=ht;return t.a.createElement(ln,{text:Bt,oooMpdmMembers:ve})},[ve]);return re?Object($t.a)({[we]:()=>en.rt("<strong>{firstMemberName}</strong> has their status set to <strong>out of office</strong>.",{firstMemberName:Le,"<Link>":ot,fallbackHash:"845704bfa5e679311b61ef82a63525a96db825ca"}),[Be]:()=>en.rt("<strong>{firstMemberName}</strong> and <strong>{secondMemberName}</strong> have their status set to <strong>out of office.</strong>",{firstMemberName:Le,secondMemberName:Ze}),[ke]:()=>en.rt("<strong>{firstTwoMemberNames}</strong> and <Link>{restOfOooMembersCount} others</Link> have their status set to <strong>out of office.</strong>",{"<Link>":bt,firstTwoMemberNames:`${Le}, ${Ze}`,restOfOooMembersCount:ve.length-2})})(null)("true"):null},"OooMpdmMessage");xt.displayName="OooMpdmMessage";var sn=xt,nn=e("ssBs"),Ln=e("8AeK"),Pn=e("bECL");const yn=new te.b("rimeto_user_profile"),Zt=h(He=>{let{channel:re}=He;const ue=Object(u.c)(Ln.a),ve=Object(u.c)(ot=>Object($.u)(ot,"time24")),{dmMember:De,dmMemberName:We}=Object(u.f)(ot=>{const bt=Object(_.g)(ot,Object(Ea.a)(re));return{dmMember:bt,dmMemberName:Object(jt.a)(ot,bt)}}),we=Object(K.g)(re)&&!!De,Be=Object(b.C)(De),ke=Be===nn.a,Le=Object(n.useCallback)(ot=>{let{text:bt}=ot;return t.a.createElement(Un,{experimentPnpOooGroupOn:ue,memberId:Object(b.m)(De),linkText:bt})},[De,ue]);if(!ue||Object(d.a)(re)||!Object(K.h)(re))return null;const Ze=ke?yn.rt("<strong>{dmMemberName}</strong> is currently <strong>out of office</strong>. They may not respond until they return. <Link>See more</Link>",{dmMemberName:We,"<Link>":Le}):yn.rt("<strong>{dmMemberName}</strong> is currently <strong>out of office until {oooReturnDate}</strong>. They may not respond until they return. <Link>See more</Link>",{dmMemberName:We,oooReturnDate:Object(Pn.a)(Be,ve),"<Link>":Le});return!we&&Object(K.i)(re)?t.a.createElement(sn,{experimentPnpOooGroupOn:ue,channel:re}):we?Ze:null},"ContextBarOutOfOffice");Zt.displayName="ContextBarOutOfOffice";var qn=Zt,ta=e("cZF4"),la=e("sgFo"),Yn=e("ZElP"),Jt=e("hAJ3"),Qn=e("i5Ig"),Zn=e("iPkJ"),Hn=e("U00I");const Sa=new te.b("huddles"),Ca=h(He=>{let{channel:re,ariaId:ue}=He;const ve=Object(ie.useDispatch)(),De=Object(u.c)(la.I),We=Object(u.f)(gt=>Object(L.A)(gt,re==null?void 0:re.id)),we=Object(u.c)(gt=>Object(N.t)(gt,re)),Be=Object(u.c)(gt=>We.length===0?Qn.a:We==null?void 0:We.map(Rt=>Object(jt.a)(gt,Object(_.g)(gt,Rt.slackId)))),ke=Object(u.f)(gt=>Object(L.g)(gt,re==null?void 0:re.id).map(Rt=>Rt.id)),Le=Object(n.useMemo)(()=>We.filter(gt=>gt.slackId).map(gt=>gt.slackId),[We]),Ze=Object(n.useCallback)(()=>{ve(Object(Zn.a)({members:Le}))},[ve,Le]),ot=Object(n.useCallback)(()=>{if(!re)return;let gt=ke;const Rt=Object(N.x)(re);Array.isArray(Rt)&&(gt=Object(ta.a)(gt,Rt)),ve(Object(Jt.a)({channelId:re==null?void 0:re.id,memberIds:gt}))},[ve,re,ke]),bt=Be&&Be.slice(3)||[];let ht,Bt;if(Object(K.k)(re)){var Yt,Cn,an;ht=Sa.rt("{unknownMembers, plural, =1 {<strong>{name1}</strong>} =2 {<strong>{name1}</strong> and <strong>{name2}</strong>} =3 {<strong>{name1}</strong>, <strong>{name2}</strong>, and <strong>{name3}</strong>} other {<strong>{name1}</strong>, <strong>{name2}</strong>, <strong>{name3}</strong> and <strong>{numOthers}</strong> more}} can\u2019t see these messages because they are not in {channel}.",{unknownMembers:We.length,name1:t.a.createElement(Yn.a,{slackId:(Yt=We[0])===null||Yt===void 0?void 0:Yt.slackId}),name2:t.a.createElement(Yn.a,{slackId:(Cn=We[1])===null||Cn===void 0?void 0:Cn.slackId}),name3:t.a.createElement(Yn.a,{slackId:(an=We[2])===null||an===void 0?void 0:an.slackId}),channel:t.a.createElement(Hn.a,{className:"bold",id:re==null?void 0:re.id}),numOthers:t.a.createElement(Kn.d,{zIndex:"above_fs",position:"top",tip:Object(te.h)(bt)},t.a.createElement("span",null,We.length-3))}),Bt=De?Sa.rt("<a>Invite to {channelName}</a>",{channelName:we},gt=>{let{text:Rt,tag:mn}=gt;return mn==="a"?t.a.createElement(be.a,{onClick:Ze},Rt):null}):""}if(Object(K.h)(re)){var Mn,rn,xn;ht=Sa.rt("{unknownMembers, plural, =1 {<strong>{name1}</strong>} =2 {<strong>{name1}</strong> and <strong>{name2}</strong>} =3 {<strong>{name1}</strong>, <strong>{name2}</strong>, and <strong>{name3}</strong>} other {<strong>{name1}</strong>, <strong>{name2}</strong>, <strong>{name3}</strong> and <strong>{numOthers}</strong> more}} won\u2019t be able to see messages sent in thread because this huddle began in a direct message. You can <a>start a new huddle</a> instead.",{unknownMembers:We.length,name1:t.a.createElement(Yn.a,{slackId:(Mn=We[0])===null||Mn===void 0?void 0:Mn.slackId}),name2:t.a.createElement(Yn.a,{slackId:(rn=We[1])===null||rn===void 0?void 0:rn.slackId}),name3:t.a.createElement(Yn.a,{slackId:(xn=We[2])===null||xn===void 0?void 0:xn.slackId}),numOthers:t.a.createElement(Kn.d,{zIndex:"above_fs",position:"top",tip:Object(te.h)(bt)},t.a.createElement("span",null,We.length-3))},gt=>{let{text:Rt,tag:mn}=gt;return mn==="a"?t.a.createElement(be.a,{onClick:ot},Rt):null})}return De?t.a.createElement("span",{id:ue},ht," ",Bt!==void 0&&Bt):null},"ContextBarHuddlesNonVisibleUserContent");Ca.displayName="ContextBarHuddlesNonVisibleUserContent";var La=t.a.memo(Ca),Gt=e("IQp8");function Ct(He){let{onIsContextBarShowing:re,channelId:ue,memberIds:ve,draftId:De,viewContext:We,ariaId:we,contextBarType:Be,imMember:ke,channel:Le,connectedTeamIds:Ze,setContextBarTimeZoneIsShowing:ot,unsetContextBarTimeZoneIsShowing:bt}=He;const ht=V({channelId:ue,draftId:De,viewContext:We}),Bt=Object(u.c)(ca=>Object(c.d)(ca,"desktop_context_bar_yellow")==="on"),Yt=Object(u.c)(ca=>Object(p.a)(ca,"external_awareness_context_bar",ue));E({imMember:ke,channelId:ue,setContextBarTimeZoneIsShowing:ot,unsetContextBarTimeZoneIsShowing:bt,contextBarType:Be||""});const Cn=(ht==null?void 0:ht.overrideType)||Be,an=!!Cn;if(Object(n.useEffect)(()=>{re&&re(an)},[Be,re,an,ue]),Object(n.useEffect)(()=>()=>{bt({channelId:ue||""})},[bt,ue]),!Cn)return null;let Mn=null;switch(Cn){case g.c.profileOnlyUser:{Mn=t.a.createElement(ze,{memberIds:ht==null?void 0:ht.mentionedPOUs,ariaId:we});break}case g.c.fileRetention:Mn=t.a.createElement(Qe,{channelId:ue,ariaId:we});break;case g.c.govslackBanner:Mn=t.a.createElement(Xn,{ariaId:we,channel:Le,memberIds:ve});break;case g.c.migrating:Mn=t.a.createElement(le,{channel:Le,ariaId:we});break;case g.c.shared:Mn=t.a.createElement(Lt,{ariaId:we,channel:Le,memberIds:ve,connectedTeamIds:Ze});break;case g.c.slackConnectWorkspace:Mn=t.a.createElement(Dn,{channel:Le});break;case g.c.scheduledSend:Mn=t.a.createElement(Xt,{channelId:ue,draftId:De,viewContext:We});break;case g.c.dnd:Mn=t.a.createElement(Me,{channelId:ue,memberId:ke==null?void 0:ke.id,ariaId:we});break;case g.c.timeZone:Mn=t.a.createElement(ne,{member:ke,ariaId:we});break;case g.c.offlineOutbox:Mn=t.a.createElement(jn,{channelId:ue});break;case g.c.outOfOffice:Mn=t.a.createElement(qn,{channel:Le});break;case g.c.huddlesUserNonVisibleThread:Mn=t.a.createElement(La,{channel:Le,ariaId:we});break;default:Mn=null}if(!Mn)return null;const rn=Cn===g.c.shared,xn=rn,gt=h(()=>Cn===g.c.slackConnectWorkspace?!0:Object(d.a)(Le)&&Bt,"shouldShowYellowContextBar"),Rt=h(()=>{switch(Yt){case Gt.c.High:return"high_viz";default:return"default"}},"getRenderExternalAwarenessContextBarStyle"),mn=Object(s.default)("p-context_bar_v2",{"p-context_bar_v2--teal":rn&&!Bt,"p-context_bar_v2--yellow":gt(),[`p-context_bar_v2--campfire-${Rt()}`]:xn});return t.a.createElement("div",{className:mn,"data-qa":"context_bar"},t.a.createElement(G,{type:Cn,channel:Le,memberIds:ve}),t.a.createElement("div",{className:Object(s.default)("p-context_bar_v2__content",{[`p-context_bar_v2__content--${Rt()}`]:xn}),"data-qa":`context_bar_text_${Cn}`},Mn),t.a.createElement("div",{className:"p-context_bar_v2__filler"}))}h(Ct,"ContextBarV2"),Ct.displayName="ContextBarV2";const It=h((He,re)=>{let{channelId:ue,draftId:ve,memberIds:De,viewContext:We,inputHasFiles:we}=re;const{channel:Be,member:ke,memberIds:Le,modelObIds:Ze}=Object(l.b)(He,{id:ue,memberIds:De});return{channelId:ue,channel:Be,clogger:Object(f.a)({state:He}),contextBarType:Object(v.a)(He,ue,Le,{draftId:ve,viewContext:We,inputHasFiles:we}),imMember:ke||void 0,connectedTeamIds:Object(r.a)(He,Ze)}},"context_bar_v2_mapStateToProps"),on=h(He=>({setContextBarTimeZoneIsShowing:re=>He(Object(o.c)(re)),unsetContextBarTimeZoneIsShowing:re=>He(Object(o.e)(re))}),"mapDispatchToProps");var Sn=i.a=Object(a.a)(It,on,null,{areStatePropsEqual:(He,re)=>Object(m.a)(He,re,2)})(Object(n.memo)(Ct))},SwbJ:function(J,i,e){"use strict";e.d(i,"a",function(){return r});var n=e("Lgge"),t=e("SQ0V"),a=e("gPPH"),s=e("6Q+y"),l=e("O86Y"),o=e("7XZu"),f=e("bCCa");const r=Object(t.c)("Processes a file object, adds it to Redux, and uploads it",function(m,c){let{file:u,clientContextTeamId:d,traceTags:p,samplingOptions:v,hideBanner:g}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!u)return n.a.resolve();const O=Object(a.a)();u.id=O,m(Object(o.c)({files:[u]})),m(Object(f.a)({file:u}));const b=c(),y=Object(l.g)(b);m(Object(o.b)({pendingFileId:O,teamId:y}));const C=m(Object(s.a)({teamId:y,files:[u],shareData:{isEagerUpload:!0,clientContextTeamId:d},traceTags:p,samplingOptions:v,hideBanner:g}));return n.a.resolve({pendingFileId:O,uploadPromise:C})});r.meta={name:"createThunk",key:"createThunkaddAndUploadPendingFile",description:"Processes a file object, adds it to Redux, and uploads it"}},"T/b3":function(J,i,e){"use strict"},T00V:function(J,i,e){"use strict";var n=e("BHdc"),t=e("q1tI"),a=e.n(t),s=e("Cfcg"),l=e("n3tL"),o=e("Kmpi"),f=e("beVI"),r=e("G0eX"),m=e("e7up"),c=e("DR7d"),u=e("oTSI");const d=[230,132,102,88,68,44,34],p={className:l.default.string,invert:l.default.bool,id:l.default.string.isRequired,size:l.default.number.isRequired,team:l.default.object,allowTeamInitials:l.default.bool},v={className:void 0,invert:!1,team:void 0,allowTeamInitials:!0};function g(j){let{size:E,team:M}=j;const T=Object(r.m)(M);if(!T||T.image_default)return null;const P=E*2,B=Object(c.a)(P,d);return T[`image_${B}`]||[...Object.values(M.icon).filter(Boolean)].pop()}h(g,"getImage");function O(j){const E=Object(r.h)(j);return Object(r.p)(E,{limit:2})}h(O,"getInitials");const b=Object(u.a)((j,E)=>({backgroundImage:j&&`url(${j})`,fontSize:`${Math.round(E/1.8)}px`,height:E,lineHeight:`${E}px`,width:E}),(j,E)=>`${j}-${E}`);function y(j){let{className:E,id:M,invert:T,size:P,team:B,allowTeamInitials:R}=j;const U=Object(o.c)(B),K=Object(o.d)(B);if(U||K)return a.a.createElement(m.a,{className:Object(n.default)(E,"c-team_entity__icon"),isNonExistent:U,size:P,invert:T,"data-team-id":M});const V=g({size:P,team:B});if(!R&&!V)return null;const z=!V&&O(B);return a.a.createElement("span",{"aria-hidden":"true",className:Object(n.default)(E,"c-team_entity__icon",{"c-team_entity__icon--default":!V}),style:b(V,P),"data-team-id":M},z)}h(y,"TeamIcon"),y.displayName="TeamIcon",y.propTypes=p,y.defaultProps=v;const C={BaseTeamIcon:y},_=h((j,E)=>{const M=E.team||Object(f.s)(j,E.id);return{team:M,id:M.id}},"mapStateToProps");i.a=Object(s.a)(_)(y)},"T5R/":function(J,i,e){"use strict";e.d(i,"b",function(){return c});var n=e("Lgge"),t=e("TSHB"),a=e("Z3Pq"),s=e("kBpe"),l=e("qiCS"),o=e("vfQU");let f;const r={substitutions:{},useSmartDashes:!1,useSmartQuotes:!1},m={substitutions:{},useSmartDashes:!0,useSmartQuotes:!0};i.a=function(){let{bustCache:d=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(f&&!d)return n.a.resolve(f);const p=Object(s.p)(),v=Object(s.i)(),g=Object(l.e)(window.location.href);return v&&!p||!v&&g.smart_quotes!=="1"?n.a.resolve(r):v?(f=m,Object(o.Pb)().then(O=>(f={...m,substitutions:{}},O&&(Object(s.j)("4.3.0")||(f.substitutions=Object(t.a)(Object(a.a)(O.substitutions,"replace"),"with")),f.useSmartDashes=O.useSmartDashes,f.useSmartQuotes=O.useSmartQuotes,!f.substitutions["--"]&&f.useSmartDashes&&(f.substitutions["--"]="\u2014")),f))):(f={...m,substitutions:{"--":"\u2014"}},n.a.resolve(f))};const c=h(()=>f,"getSystemTextPreferencesCache"),u={resetCache:()=>{f=void 0}}},THWC:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("pu3F"),t=e("Kn+X"),a=e("MnWT");function s(l){return Object(a.b)(l).filter(r=>Object(t.z)(r)).length>=n.G}h(s,"hasMaxComposerDrafts")},THtN:function(J,i,e){"use strict";e.d(i,"a",function(){return _});var n=e("q1tI"),t=e.n(n),a=e("Lgge"),s=e("SQ0V"),l=e("ByMX"),o=e("Yauy"),f=e("Sl1j"),r=e("1czH"),m=e("nNoG"),c=e("rAyg");const u=new m.b("channel_member_limit");function d(){return t.a.createElement(c.a,null,u.t("You can\u2019t join this channel. Channel membership limit reached."))}h(d,"ChannelMemberLimitToast"),d.displayName="ChannelMemberLimitToast";var p=d,v=e("oY18"),g=e("E3dU"),O=e("p/ji"),b=e("48NQ"),y=e("B4kw");const C={},_=Object(s.c)("Join a channel",function(E,M){let{channelId:T,requestInBackground:P=!1,reason:B}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!T)return a.a.reject(new Error("No channel id given"));const R=M();if(Object(l.b)(R))return a.a.reject(new Error("Account is restricted"));const U=!1,K=Object(g.d)(R,T,U);if(!K){if(C[T])return a.a.reject(new Error("Already joining"));C[T]=!0}return(Object(O.i)(R)||Object(b.d)(R))&&Object(O.h)(R,T)&&E(Object(y.f)(T)),E(Object(f.C)({channelId:T,requestInBackground:P,reason:B})).tap(V=>{const N={channel:T,request_in_background:P};Object(r.c)(!0,V,N)}).catch(V=>{var z;(V==null||(z=V.data)===null||z===void 0?void 0:z.error)==="too_many_members"&&E(Object(v.a)({element:t.a.createElement(p)}));const N=!1,A={channel:T,request_in_background:P,name:Object(o.K)(K)};throw Object(r.c)(N,V.data,A),V}).finally(()=>{delete C[T]})});_.meta={name:"createThunk",key:"createThunkjoinConversationApi",description:"Join a channel"};const j={resetChannelJoinsInFlight:()=>{Object.keys(C).forEach(E=>{delete C[E]})}}},TIBL:function(J,i,e){"use strict";e.d(i,"a",function(){return y});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),s=e("d/xU"),l=e("F3oq"),o=e("fenk"),f=e("/0Xg"),r=e("mY0L");const m=h(C=>{let{children:_,guidelinesHelperProps:j}=C;const E=Object(r.a)(j);return t.a.createElement(t.a.Fragment,null,_(E))},"GuidelinesHelperWrapper");var c=e("ZobM"),u=e("Tevt"),d=e("WAPM"),p=e("hUMe"),v=e("vY0R"),g=e("8v4m");const O=new a.b("shared_channel_invites"),b=[],y=h(function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o.d.Generic,{invite:_,fallbackCopy:j,acceptingTeam:E,acceptingUserName:M,connectInvite:T,alreadyConnectedWorkspaceName:P,guidelinesType:B,contentBlocks:R,onBack:U,onSignIn:K}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var V;let z=T==null||(V=T.channel)===null||V===void 0?void 0:V.name;!z&&Object(o.g)(_)&&(z=_.channel.name);const N=_?t.a.createElement(p.a,{team:Object(l.a)(_)}):"",A=B==="link",x=A||B==="content",k={type:"INVITE",dataQa:"web_accept_flow_cta",stepVariant:"web_accept_flow",modalHeaderSuffix:"instructions",showCopyButton:!0};var F;const L=(F=R==null?void 0:R[0].elements)!==null&&F!==void 0?F:b,S=t.a.createElement(d.a,{articleId:360003534892},t.a.createElement(c.a,{name:"help",inline:!0})," ",O.t("Who are my admins?"));switch(C){case o.a.InvalidLink:case o.c.InvalidLink:return{header:O.t("Unable to accept this Slack Connect invitation",{fallbackHash:"7da6ae968627994d80a2e1083c46e8569e6e0a8a"}),body:O.t("Slack Connect invitations are only active for 14 days. If it hasn\u2019t been 14 days, the invitation may have been cancelled by the sender.",{fallbackHash:"3f12bb7d5cb5784b78e235c98badf129d5748665"}),stepVariant:"no_longer_available"};case o.a.NotPaid:return{header:O.t("Ready to upgrade?"),body:O.rt("Shared channels are one of the many features you get with a Slack paid plan. To accept this invitation, <a> upgrade your account</a>.",null,I=>{let{text:W}=I;return t.a.createElement("a",{href:Object(f.w)({entryPoint:"shared_channel_error_ineligible"})},W)}),stepVariant:"ready_to_upgrade"};case o.b.UpgradeRequiredButUserCannot:return{header:O.t("Ask your team to upgrade your plan"),body:O.t("Slack Connect is a paid feature, so your team needs to upgrade in order for you to accept this invitation. Contact an admin for help."),stepVariant:"upgrade_required"};case o.a.RestrictedAction:return x?{header:O.t("Unable to accept Slack Connect invitations"),body:A?t.a.createElement(m,{guidelinesHelperProps:k},I=>{let{renderLink:W}=I;return t.a.createElement(t.a.Fragment,null,O.rt("Your admins haven\u2019t shared the permissions required to accept Slack Connect invitations. Read the <link><strong>instructions they created</strong></link> for details.",{"<link>":W,fallbackHash:"fc7456b06b5de3e2ecbda7aa26c7abab4d526126"}))}):t.a.createElement(t.a.Fragment,null,O.t("Your admins haven\u2019t shared the permissions required to accept Slack Connect invitations. Read the instructions they created for details.",{fallbackHash:"fc7456b06b5de3e2ecbda7aa26c7abab4d526126"}),t.a.createElement("div",{className:"p-error_messages_body__subtitle"},O.t("Instructions from your admin")),t.a.createElement(g.a,{elements:L,elementsAreCamelCased:!1})),stepVariant:"couldnt_accept_unauth"}:{header:O.t("Unable to accept Slack Connect invitations",{fallbackHash:"c5281cad5de8531b8f85c3cd5a7c6dc2dae0aaeb"}),body:O.t("Your admins haven\u2019t shared the permissions required to accept Slack Connect invitations. You may want to ask an admin for help.",{fallbackHash:"eadecf49fe5258de5c02cf81ae141ed1d3dec5cd"}),helpLink:S,stepVariant:"couldnt_accept_unauth"};case o.b.UserIsRestricted:return{header:O.t("Unable to accept Slack Connect invitations",{fallbackHash:"c5281cad5de8531b8f85c3cd5a7c6dc2dae0aaeb"}),body:O.t("Your admins haven\u2019t shared the permissions required to accept Slack Connect invitations. You may want to ask an admin for help.",{fallbackHash:"513bbc9abb6e75e969b9fd9ee56f6cca4b62fedf"}),helpLink:S,stepVariant:"couldnt_accept_guest"};case o.b.UserCannotCreateChannel:return{header:O.rt("Unable to accept Slack Connect invitations",{inviteUserName:_.inviting_user.profile.real_name,fallbackHash:"632d51b850af08b89615f4d58498275449dcfaf0"}),body:O.rt("Your admins haven\u2019t shared the permissions required to accept Slack Connect invitations. You may want to ask an admin for help.",{inviteTeamName:t.a.createElement(p.a,{id:E.id}),fallbackHash:"be5f6206866d0d1288334fa7dae562e0a5eef5fc"}),helpLink:S,stepVariant:"couldnt_create_channel"};case o.c.OrgsSevered:return{header:O.t("Unable to accept this Slack Connect invitation",{fallbackHash:"c5281cad5de8531b8f85c3cd5a7c6dc2dae0aaeb"}),body:O.rt("An admin disconnected {acceptingTeamName} and {invitingTeamName} so this invitation can\u2019t be accepted anymore.",{invitingTeamName:t.a.createElement(p.a,{id:_.inviting_team.id}),acceptingTeamName:t.a.createElement(p.a,{id:E.id}),fallbackHash:"b8c063b689e35655dbc8d032cbe4df0e05f4b6db"})};case o.b.HasAlreadyConnectedToOrg:return M?{header:O.t("Invitation has already been accepted"),body:O.rt("<strong>{name}</strong> has already accepted this invitation. Reach out to them to add you to the channel. <learn-more-link>Learn more</learn-more-link>",{name:M},I=>{let{tag:W,text:D}=I;return W==="strong"?t.a.createElement("strong",null,D):W==="learn-more-link"?t.a.createElement(u.a,{href:`https://${Object(s.n)()}/help/articles/201980108-Add-people-to-a-channel`,target:"_blank"},D):D}),stepVariant:"already_connected"}:{header:O.t("Couldn\u2019t accept invitation"),body:O.t("Your organization is already sharing this channel."),stepVariant:"already_connected"};case o.b.IsPendingConnectedToOrg:return Object(o.g)(_)?{header:O.t("Waiting for an admin\u2019s approval"),body:O.rt("You\u2019ve already accepted this invitation to join <strong>#{channelName}</strong> \u2014 the channel just needs approval from one of your organization\u2019s admins. You\u2019ll be notified in Slack once the channel is connected. <learn-more-link>Learn more</learn-more-link>",{channelName:z},I=>{let{tag:W,text:D}=I;return W==="strong"?t.a.createElement("strong",null,D):W==="learn-more-link"?t.a.createElement(u.a,{href:`https://${Object(s.n)()}/help/articles/360049769934-Accept-an-invitation-to-share-a-channel-`,target:"_blank"},D):D}),stepVariant:"pending_connected"}:y(o.e.Generic);case o.a.ConnectionLimitExceeded:return{header:O.t("Couldn\u2019t accept invitation"),body:O.t("This channel has already been shared with the maximum number of organizations. You may want to reach out to the person who sent you this link for help.",{fallbackHash:"ef2c0d899ddf8df6dbece97317aec7f70b3176c6",fallbackHashNs:"setup_page"}),stepVariant:"connection_limit_exceeded"};case o.a.InvalidRecipientTeam:case o.c.InvalidRecipientTeam:case o.e.InvalidRecipientTeam:{const I={header:O.rt("Sign in to {orgName}",{orgName:N,fallbackHash:"8d886c0ba6f2b683daba5f19568a316226ce3e4c"}),body:O.rt("This invitation was sent to <strong>{emailAddress}</strong> so you need to sign in to {orgName} to accept it.",{orgName:N,emailAddress:_==null?void 0:_.recipient_email,fallbackHash:"cabf640a269de803a07f21f41986fe9857bc12f6"}),stepVariant:o.a.InvalidRecipientTeam};return K&&(I.callToAction={text:O.t("Sign In",{fallbackHash:"f8492cc1deac31fd73c80bbca9ae51f0def25837",fallbackHashNs:"find_team"}),action:K}),I}case o.e.InternalInviteNotMember:case o.e.InternalInviteNotMemberCanRequest:return Object(o.g)(_)?{header:O.t("You\u2019ll need to join this channel\u2019s workspace"),body:O.rt("Before you can join <strong>#{channelName}</strong>, you\u2019ll need to first be a part of its workspace, <strong>{workspaceName}</strong>. You may have to ask your organization\u2019s admin to add you to the workspace.",{channelName:z,workspaceName:P}),stepVariant:"couldnt_accept_not_workspace_member"}:y(o.e.Generic);case o.e.InternalInviteWasPreviouslyConnectedButNotMember:{const I={header:O.t("Couldn\u2019t accept invitation"),body:O.t("Looks like your team added this channel to a workspace that you don\u2019t have access to."),stepVariant:"couldnt_accept_previously_connected_to_different_workspace_and_not_workspace_member"};return U&&(I.callToAction={text:O.t("Back"),action:U}),I}case o.e.InternalInviteWasPreviouslyConnected:{const I={header:O.t("Change workspaces to accept this invitation",{fallbackHash:"c5281cad5de8531b8f85c3cd5a7c6dc2dae0aaeb"}),body:O.rt("This channel was originally added to {alreadyConnectedWorkspaceName}, so you\u2019ll need to accept this invitation there.",{alreadyConnectedWorkspaceName:P,fallbackHash:"0505cac52372bdcc58bb31e8618deb6949abad5c"}),stepVariant:"couldnt_accept_previously_connected_to_different_workspace"};return U&&(I.callToAction={text:O.t("Back"),action:U}),I}case o.e.InternalInviteNoAccess:return Object(o.g)(_)?{header:O.t("You\u2019ll need to ask to join this channel"),body:O.rt("<p>Someone tried to share this channel with you but it looks like there\u2019s a privacy setting that doesn\u2019t allow you to join this way.</p> <p>You\u2019ll need to ask to join <strong>#{channelName}</strong> from a member of the channel or your organization\u2019s admin.</p>",{channelName:z}),stepVariant:"couldnt_accept_private_channel_not_member"}:y(o.e.Generic);case o.b.LegacyConnectionInvalidOrg:return{header:O.t("Couldn\u2019t accept invitation"),body:O.rt("This invitation couldn\u2019t be accepted. You may want to reach out to {invitingUser} at {invitingOrg} for details.",{invitingUser:t.a.createElement("strong",null,_.inviting_user.profile.real_name),invitingOrg:t.a.createElement("strong",null,_.inviting_team.name)}),stepVariant:"legacy_connection_invalid_org"};case o.d.InviteInactive:return{header:O.t("Couldn\u2019t accept invitation",{fallbackHash:"12875ababd80f4f6417a5718eb4a8fca8badcff1"}),body:O.t("This invitation is no longer available. You may want to ask the person who invited you to resend it.",{fallbackHash:"6fb8ea413c2344d12c947c2cb805ebcedef045d9"}),stepVariant:o.d.InviteInactive};case o.d.InviteAlreadyUsed:return{header:O.t("Already accepted"),body:O.t("It looks like someone else has already accepted this invitation."),stepVariant:o.d.InviteAlreadyUsed};case o.d.InviteNotAllowed:return{header:O.t("Couldn\u2019t accept invitation"),body:O.t("We\u2019re sorry, but this invitation is no longer valid. "),stepVariant:o.d.InviteNotAllowed};case o.d.AcceptNotAllowed:return{header:O.t("Unauthorized to accept"),body:O.t("We\u2019re sorry, but you do not have permission to use Slack Connect Direct Message in your organization."),stepVariant:o.d.AcceptNotAllowed};case o.b.NotAllowedForGridWorkspace:return x?{header:O.t("Slack Connect isn\u2019t enabled for this workspace yet"),body:A?t.a.createElement(m,{guidelinesHelperProps:k},I=>{let{renderLink:W}=I;return t.a.createElement(t.a.Fragment,null,O.rt("Take a look at the <link>instructions from your admins</link> for details.",{"<link>":W}))}):t.a.createElement(t.a.Fragment,null,O.t("Take a look at the instructions from your admins for details."),t.a.createElement("div",{className:"p-error_messages_body__subtitle"},O.t("Instructions from your admin")),t.a.createElement(g.a,{elements:L,elementsAreCamelCased:!1})),stepVariant:"not_allowed"}:{header:O.rt("Slack Connect isn\u2019t enabled on {workspaceName}",{workspaceName:E.name}),body:O.t("Invitations to work with other companies can\u2019t be accepted from this workspace."),stepVariant:"not_allowed"};case o.b.EmailDoesNotMatch:return{header:O.rt("This invitation can only be accepted by {invitingUserEmail}",{invitingUserEmail:_==null?void 0:_.recipient_email,fallbackHash:"8d886c0ba6f2b683daba5f19568a316226ce3e4c"}),body:O.rt("If this was sent to the wrong email address, you can ask someone from <strong>{invitingTeamName}</strong> to resend the invitation. {externalLimitedLearnMoreLink}",{invitingTeamName:_==null?void 0:_.inviting_team.name,externalLimitedLearnMoreLink:Object(o.g)(_)&&(_!=null&&_.external_limited)?t.a.createElement(v.a,null):"",fallbackHash:"8d886c0ba6f2b683daba5f19568a316226ce3e4c"})};case o.b.UserRequiredToAcceptAsPrivateButCannot:return{header:O.rt("Contact an admin to join the channel",{fallbackHash:"c5281cad5de8531b8f85c3cd5a7c6dc2dae0aaeb"}),body:O.rt("<strong>{invitingTeamName}</strong> set this channel to private on your end \u2014 but your workspace settings don\u2019t let you create a private channel.  <learn-more-link>One of your admins</learn-more-link> can help sort this out.",{invitingTeamName:_==null?void 0:_.inviting_team.name,fallbackHash:"8d886c0ba6f2b683daba5f19568a316226ce3e4c"},I=>{let{tag:W,text:D}=I;return W==="strong"?t.a.createElement("strong",null,D):W==="learn-more-link"?t.a.createElement(u.a,{href:`https://${Object(s.n)()}/help/articles/360003534892-Browse-people-and-user-groups-in-Slack#find-owners-and-admins`,target:"_blank"},D):D})};default:return j||{header:O.t("Something went wrong"),body:O.rt("If the problem persists, please <a>drop us a line</a>",null,I=>{let{text:W}=I;return t.a.createElement("a",{href:`https://${Object(s.n)()}/help/requests/new`},W)}),stepVariant:"something_went_wrong"}}},"getCopyForError");y.displayName="getCopyForError"},TSwU:function(J,i,e){"use strict";e.d(i,"b",function(){return R}),e.d(i,"a",function(){return U});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("ifKl"),l=e("zxER"),o=e("mvFy"),f=e("mLC8"),r=e("VkPA"),m=e("nNoG"),c=e("W0Is"),u=e("BHdc"),d=e("zm5I");const p=h(K=>{let{isActive:V}=K;const z=Object(l.c)(N=>Object(d.a)(N)==="dark");return t.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"presentation",className:Object(u.default)("p-emoji_and_gif_picker_custom_icons__custom-icon",{"p-emoji_and_gif_picker_custom_icons__custom-icon--active":V,"p-emoji_and_gif_picker_custom_icons__custom-icon--dark":z})},t.a.createElement("g",{clipPath:"url(#clip0_538_258928)",className:"p_emoji_and_gif_pickers_container__tab_icon--active"},t.a.createElement("path",{d:"M4.5 1.5H15.5C17.1569 1.5 18.5 2.84315 18.5 4.5V7V15.5C18.5 17.1569 17.1569 18.5 15.5 18.5H4.5C2.84315 18.5 1.5 17.1569 1.5 15.5V4.5C1.5 2.84315 2.84315 1.5 4.5 1.5Z",fill:"#9ED6FA",strokeWidth:"1.5",className:"p-emoji_and_gif_picker_custom_icons__stroke"}),t.a.createElement("circle",{cx:"12.5",cy:"8.5",r:"1.5",className:"p-emoji_and_gif_picker_custom_icons__fill"}),t.a.createElement("path",{d:"M6.90216 12.5C7.39558 14 8.71137 14.75 10.0272 14.75C11.3429 14.75 12.6587 14 13.1522 12.5",strokeWidth:"1.5",strokeLinecap:"round",className:"p-emoji_and_gif_picker_custom_icons__stroke"}),t.a.createElement("path",{d:"M7.03613 7.53516L9.03613 8.67801L7.03613 9.53516",strokeLinecap:"round",strokeLinejoin:"round",className:"p-emoji_and_gif_picker_custom_icons__stroke"})),t.a.createElement("g",{clipPath:"url(#clip0_538_258934)",className:"p_emoji_and_gif_pickers_container__tab_icon--inactive"},t.a.createElement("path",{d:"M4.5 1.6272H12.4244C13.3242 1.6272 14.1765 2.03108 14.7462 2.72748L17.6125 6.23062C18.051 6.76661 18.2906 7.43781 18.2906 8.13033V15.4178C18.2906 17.0746 16.9474 18.4178 15.2906 18.4178H4.5C2.84315 18.4178 1.5 17.0746 1.5 15.4178V4.6272C1.5 2.97034 2.84315 1.6272 4.5 1.6272Z",className:"p-emoji_and_gif_picker_custom_icons__stroke",strokeWidth:"1.5"}),t.a.createElement("circle",{cx:"7.42601",cy:"8.54097",r:"1.48152",className:"p-emoji_and_gif_picker_custom_icons__fill"}),t.a.createElement("circle",{cx:"12.3645",cy:"8.54097",r:"1.48152",className:"p-emoji_and_gif_picker_custom_icons__fill"}),t.a.createElement("path",{d:"M6.83563 12.4917C7.32298 13.9732 8.62256 14.714 9.92214 14.714C11.2217 14.714 12.5213 13.9732 13.0086 12.4917",className:"p-emoji_and_gif_picker_custom_icons__stroke",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.0106 8.91138C12.8969 8.91138 11.9941 8.00855 11.9941 6.89486L11.9941 3.60259C11.9941 1.6647 14.4611 0.842363 15.6238 2.39268L18.093 5.68495C19.0901 7.01431 18.1415 8.91138 16.4798 8.91138L14.0106 8.91138ZM13.7226 6.89486C13.7226 7.05396 13.8515 7.18293 14.0106 7.18293L16.4798 7.18293C16.7172 7.18293 16.8527 6.91192 16.7103 6.72202L14.2411 3.42975C14.075 3.20827 13.7226 3.32575 13.7226 3.60259L13.7226 6.89486Z",className:"p-emoji_and_gif_picker_custom_icons__fill"})),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0_538_258934"},t.a.createElement("rect",{width:"20",height:"20",fill:"white"}))),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0_538_258928"},t.a.createElement("rect",{width:"20",height:"20",fill:"white"}))))},"GifIcon");p.displayName="GifIcon";var v=e("JoR1"),g;(function(K){K.HOST="emoji-icon-host",K.SKIN_TONE_PREF="emoji-icon-skin-tone-pref"})(g||(g={}));const O=h(K=>{let{isActive:V}=K;const z=Object(l.c)(x=>Object(d.a)(x)==="dark"),N=Object(l.c)(x=>Object(v.u)(x,"preferred_skin_tone")),A=Object(u.default)("p-emoji_and_gif_picker_custom_icons--skin_tone",{"p-emoji_and_gif_picker_custom_icons--skin_tone_1":N==="1","p-emoji_and_gif_picker_custom_icons--skin_tone_2":N==="2","p-emoji_and_gif_picker_custom_icons--skin_tone_3":N==="3","p-emoji_and_gif_picker_custom_icons--skin_tone_4":N==="4","p-emoji_and_gif_picker_custom_icons--skin_tone_5":N==="5","p-emoji_and_gif_picker_custom_icons--skin_tone_6":N==="6"});return t.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"presentation",className:Object(u.default)("p-emoji_and_gif_picker_custom_icons__custom-icon",{"p-emoji_and_gif_picker_custom_icons__custom-icon--active":V,"p-emoji_and_gif_picker_custom_icons__custom-icon--dark":z}),"data-qa":g.HOST},t.a.createElement("g",{className:"p_emoji_and_gif_pickers_container__tab_icon--active"},t.a.createElement("path",{className:A,"data-qa":g.SKIN_TONE_PREF,d:"M19 10C19 5.03 14.97 1 10 1C5.03 1 1 5.03 1 10C1 14.97 5.03 19 10 19C14.97 19 19 14.97 19 10Z",fill:"#F2C744"}),t.a.createElement("path",{d:"M10 1C14.97 1 19 5.03 19 10C19 14.97 14.97 19 10 19C5.03 19 1 14.97 1 10C1 5.03 5.03 1 10 1ZM10 2.5C5.86 2.5 2.5 5.86 2.5 10C2.5 14.14 5.86 17.5 10 17.5C14.14 17.5 17.5 14.14 17.5 10C17.5 5.86 14.14 2.5 10 2.5Z",className:"p-emoji_and_gif_picker_custom_icons__fill"}),t.a.createElement("path",{d:"M8.12202 8.31307C7.33104 8.06157 6.89556 7.22006 7.14705 6.42908C7.39855 5.6381 8.24007 5.20261 9.03105 5.45411C9.82203 5.70561 10.2575 6.54713 10.006 7.33811C9.75452 8.12909 8.913 8.56457 8.12202 8.31307ZM12.887 9.82812C12.096 9.57662 11.6605 8.73511 11.912 7.94413C12.1635 7.15315 13.005 6.71766 13.796 6.96916C14.587 7.22066 15.0225 8.06218 14.771 8.85316C14.5195 9.64414 13.6779 10.0796 12.887 9.82812ZM8.68643 14.7885C5.60828 13.8098 5.39459 10.9506 5.72487 9.91188C5.84607 9.53068 6.24755 9.29107 6.66687 9.42439L13.4331 11.5758C13.8524 11.7091 14.0418 12.1366 13.9206 12.5178C13.6024 13.5184 11.8027 15.7794 8.68643 14.7885Z",className:"p-emoji_and_gif_picker_custom_icons__fill"})),t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.5 10C2.5 5.85786 5.85786 2.5 10 2.5C14.1421 2.5 17.5 5.85786 17.5 10C17.5 14.1421 14.1421 17.5 10 17.5C5.85786 17.5 2.5 14.1421 2.5 10ZM10 1C5.02944 1 1 5.02944 1 10C1 14.9706 5.02944 19 10 19C14.9706 19 19 14.9706 19 10C19 5.02944 14.9706 1 10 1ZM7.5 9.5C8.32843 9.5 9 8.82843 9 8C9 7.17157 8.32843 6.5 7.5 6.5C6.67157 6.5 6 7.17157 6 8C6 8.82843 6.67157 9.5 7.5 9.5ZM14 8C14 8.82843 13.3284 9.5 12.5 9.5C11.6716 9.5 11 8.82843 11 8C11 7.17157 11.6716 6.5 12.5 6.5C13.3284 6.5 14 7.17157 14 8ZM7.61454 11.7656C7.48511 11.3722 7.06121 11.1581 6.66774 11.2876C6.27427 11.417 6.06022 11.8409 6.18966 12.2344C6.7965 14.0792 8.42824 15 10.0271 15C11.626 15 13.2577 14.0792 13.8645 12.2344C13.994 11.8409 13.7799 11.417 13.3865 11.2876C12.993 11.1581 12.5691 11.3722 12.4397 11.7656C12.0597 12.9208 11.0598 13.5 10.0271 13.5C8.99438 13.5 7.99455 12.9208 7.61454 11.7656Z",className:"p-emoji_and_gif_picker_custom_icons__fill p_emoji_and_gif_pickers_container__tab_icon--inactive"}))},"EmojiIcon");O.displayName="EmojiIcon";var b=e("nwIl"),y=e("9C2q"),C=e("GWPn"),_=e("RVJP"),j=e("KYpL"),E=e("uVZW"),M=e("7+Lm"),T=e("cJlm"),P=e("fGmc");const B=new m.b("emoji_picker"),R={EMOJIS:"emojis",GIFS:"gifs"},U=Object(y.a)(K=>{let{onSkinToneChanged:V,onEmojiSelected:z,onClosed:N=s.a,showHandyReactions:A,hideAddEmojiButton:x,enableSkinTonePicker:k,onGifSelected:F=s.a,selectedTabId:L,hasKeyboardFocusWithin:S,onFocus:I,onBlur:W,openedBy:D}=K;const H=Object(a.useDispatch)(),[Z,G]=Object(n.useState)(L||R.EMOJIS),[te,se]=Object(n.useState)(1),[$,X]=Object(n.useState)(),q=Object(l.c)(Ue=>Object(_.d)(Ue,"native_gif_picker_translation")==="on");var Y;const ee=Object(l.c)(Ue=>(Y=Object(v.u)(Ue,"seen_gif_new_badge"))!==null&&Y!==void 0?Y:0);Object(n.useEffect)(()=>{te===1&&(se(Ue=>Ue+1),ee<3&&H(Object(j.a)()))},[Z,te,H,ee]),Object(n.useEffect)(()=>{Z!==R.GIFS&&X(void 0)},[Z]);const w=f.d.isEnabled()?o.a:o.b,ne=Object(l.c)(b.f),ae=S&&Z===R.EMOJIS&&te===1||!S,ge=Object(l.c)(Ue=>Object(M.c)(Ue,E.g.EMOJI_DRAWER))===E.h.PRODUCTIVITY_REACJI,le=Object(l.c)(P.a),Q=Object(l.c)(T.b),ie=Object(l.c)(Ue=>Object(T.a)(Ue,le)),be=!""&&(Q||!!(le&&ie)),Se=Object(n.useCallback)(Ue=>{G(R.GIFS),X(Ue)},[]),Pe=Object(n.useMemo)(()=>{let Ue;ge&&A?Ue=be?"reaction-height-with-cta":"reaction-height-without-cta":ge&&(Ue=be?"message-height-with-cta":"message-height-without-cta");const Fe=t.a.createElement(w,{onSkinToneChanged:V,onSelected:z,onClosed:N,showHandyReactions:!!A,hideAddEmojiButton:!!x,enableSkinTonePicker:!!k,className:"p-emoji_picker--with_gif_picker",focusInputOnMount:ae,noResultsSearchForGifWithQuery:Se}),je=S&&Z===R.GIFS&&te===1||!S,_e=t.a.createElement(t.a.Fragment,null,ne?B.t("GIFs"):"GIFs",ee<3&&t.a.createElement(C.a,{"data-qa":"tabs_new_badge",className:"p-emoji_and_gif_pickers_container__new_badge"},q?B.t("NEW"):"NEW"));return[{title:ne?B.t("Emoji"):"Emoji",id:R.EMOJIS,"data-qa":`${R.EMOJIS}_tab`,content:Fe,customIcon:t.a.createElement(O,{isActive:Z===R.EMOJIS})},{title:_e,id:R.GIFS,"data-qa":`${R.GIFS}_tab`,content:t.a.createElement(c.a,{adjustGifPickerHeightToAccommodateEmojiPicker:Ue,emojiSearchQuery:$,onGifSelected:F,onClosed:N,focusInputOnMount:je,openedBy:D}),customIcon:t.a.createElement(p,{isActive:Z===R.GIFS})}]},[ge,A,w,V,z,N,x,k,ae,Se,S,Z,te,ne,ee,q,$,F,D,be]);return t.a.createElement("div",{role:"presentation",onFocus:I,onBlur:W},t.a.createElement(r.a,{className:"p-emoji_and_gif_pickers_container",tabs:Pe,currentTabId:Z,onTabChange:G,focusOnFirstFocusableChildOnChange:!1,manualTabActivation:!0,iconPosition:"left",fullWidthMenu:!0}))})},TVHa:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("4HNC"),s=e("sGXp"),l=e("sGZK");function o(f){const{className:r,"data-qa":m,file:c,id:u,isActive:d,isDisabled:p,detailType:v,secondaryContent:g,shouldShowHighlight:O=!0,shouldShowDetailText:b=!0,useNewChannelCanvasNaming:y=!1}=f,C=u||(c==null?void 0:c.id),_=Object(n.useMemo)(()=>C?t.a.createElement(l.a,{shouldShowHighlight:O,file:c,"data-id":C,"data-qa":m,"data-sk":"small_file_list_entity",id:C,detailType:v,shouldShowDetailText:b,useNewChannelCanvasNaming:y}):null,[m,v,c,C,b,O,y]);if(!C)return null;let j;return d?p?j=s.d.highlightDim:j=s.d.highlightDark:p&&(j=s.d.dim),t.a.createElement(a.a,{size:"small",style:j,className:r,primaryContent:_,secondaryContent:g})}h(o,"SmallFileListEntity"),o.displayName="SmallFileListEntity",i.a=o},"Te+D":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("DPHH"),s=e("BHdc"),l=e("nNoG");const o=new l.b("keyboard_keys"),f=h(r=>{let{isInline:m=!1,title:c,mainKey:u,modifier:d,modifiers:p,className:v,useSlimModifiers:g}=r,O;const b=t.a.createElement(a.a,{label:u,tooltip:!0}),y=Object(s.default)("c-keyboard_keys",{"c-keyboard_keys--inline":m,"c-keyboard_key__tooltip_text":!(d||p)},v),C=Object(s.default)("c-keyboard_keys--title",{"c-keyboard_keys--title-inline":m}),_=d?[d]:p;return _?O=t.a.createElement(t.a.Fragment,null,_.map(j=>t.a.createElement(a.a,{key:`${j}_key`,label:j,tooltip:!0,slim:g})),b):O=o.rt("Press {key}",{key:b}),t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:C},c),t.a.createElement("span",{className:y},O))},"KeyboardKeysTooltip");f.displayName="KeyboardKeysTooltip",i.a=f},Tmt4:function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("SQ0V"),t=e("azkI"),a=e("0Wfr"),s=e("9Gfp"),l=e("T1zM");const o=Object(n.c)("A wrapper around setUserPrefByApi meant for setting frecency data",(u,d,p)=>{let{value:v}=p;u(Object(l.f)({pref:Object(s.m)(d())?"frecency_ent_jumper":"frecency_jumper",value:v}))});o.meta={name:"createThunk",key:"createThunksetFrecencyByApi",description:"A wrapper around setUserPrefByApi meant for setting frecency data"};const f=!1,r=Object(a.a)(o,6e4,f);var m=e("Vy29");const c=Object(n.c)("Update the frecency cache with the new recorded item, then save it to user prefs",(u,d,p)=>{let{id:v,text:g}=p;const O=d(),y={...Object(t.c)(O)},C=Object(t.l)(g),_=y[C];if(_&&!Object(t.k)(_))_.id===v?y[C]=Object(t.a)(_):y[C]=[_,Object(t.b)(v)];else if(_&&Object(t.k)(_)){let M=!1;for(let T=0;T<_.length;T+=1)if(_[T].id===v){y[C]=[..._],y[C][T]=Object(t.a)(y[C][T]),M=!0;break}M||(y[C]=[..._,Object(t.b)(v)])}else y[C]=Object(t.b)(v);const j=y[v];if(j&&Object(t.k)(j))for(let M=0;M<j.length;M+=1)j[M].id===v&&(y[v][M]=Object(t.a)(j[M]));else j&&!Object(t.k)(j)?y[v]=Object(t.a)(j):(y[v]=Object(t.b)(v),y[v]._reduced=!0);const E=JSON.stringify(y);u(Object(m.b)({pref:Object(t.d)(O),value:E})),u(r({value:E}))});c.meta={name:"createThunk",key:"createThunkrecordFrecencyEvent",description:"Update the frecency cache with the new recorded item, then save it to user prefs"}},U00I:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("Cfcg"),l=e("ifKl"),o=e("beVI"),f=e("E3dU"),r=e("Yauy"),m=e("E97Y"),c=e("2jZb"),u=e("zMr6"),d=e("Tevt"),p=e("Oeqe"),v=e("D3DU"),g=e("yZZd"),O=e("fZDj"),b=e("nWdO"),y=e("Ccc1"),C=e("1DMY"),_=e("tojS"),j=e("BfA7"),E=e("I0j/"),M=e("37+L"),T=e("i9jZ"),P=e("O9Jz"),B=e("djjd"),R=e("5BbJ"),U=e("rZ8V"),K=e("ZobM");function V(){return V=Object.assign||function(F){for(var L=1;L<arguments.length;L++){var S=arguments[L];for(var I in S)Object.prototype.hasOwnProperty.call(S,I)&&(F[I]=S[I])}return F},V.apply(this,arguments)}h(V,"_extends");const z={channelName:void 0,className:void 0,fallbackName:void 0,noLinking:!1,isPrivate:!1,isChannelImOrMpim:!1,isChannelRecordChannel:!1,recordChannelIconProps:null,isNonExistent:!1,isFromAnotherTeam:!1,team:null,isMember:!1,isUnknown:!1,clogLinkClick:l.a,shouldUseNavigate:!1,mpimMemberNames:[],teamName:"",channelHasNonUniqueName:!1};let N=h(class extends n.PureComponent{onClick(L){const{id:S,shouldUseNavigate:I}=this.props;if(Object(T.d)(L)){L.preventDefault(),L.stopPropagation(),this.props.maybeOpenInWindow({viewId:S});return}I&&(L.preventDefault(),L.stopPropagation(),this.props.navigate(Object(M.k)(S)))}getTooltipContent(){const{id:L,isChannelImOrMpim:S,mpimMemberNames:I,teamName:W,channelHasNonUniqueName:D}=this.props;return S?I.join(", "):t.a.createElement(t.a.Fragment,null,t.a.createElement(y.a,{channelId:L}),D&&t.a.createElement("br",null),D&&t.a.createElement("span",{className:"c-member_slug__tooltip_subheader"},W))}clogLinkClick(){var L,S;(S=(L=this.props).clogLinkClick)===null||S===void 0||S.call(L,{item_id:this.props.id,item_type:"C",link_type:"channel",is_member:this.props.isMember}),this.props.updateChannelLastTrigger({source:"MSG_PANE",objId:this.props.id})}render(){const{channelName:L,className:S,fallbackName:I,id:W,isPrivate:D,isChannelImOrMpim:H,isChannelRecordChannel:Z,recordChannelIconProps:G,isMember:te,isNonExistent:se,isUnknown:$,noLinking:X,isFromAnotherTeam:q,team:Y,shouldUseNavigate:ee}=this.props;if($)return t.a.createElement(O.a,{type:"unknown"});if(se&&!I)return t.a.createElement(O.a,{type:"non-existent"});if(D&&!te)return t.a.createElement(O.a,{type:"non-existent"});const w=Object(v.a)({channelName:L,fallbackName:I,isUnknown:$,isNonExistent:se,includePrefix:!D&&!H&&!Z}),ne=w;let ae,de;ae=!X&&!se&&(!D||D&&te),D&&(de=Object(_.a)({channelName:L,isPrivate:D})),ae&&q&&(ae=!!Y);const le=Object(a.default)("c-mrkdwn__channel c-member_slug",{internal_channel_link:ae,"c-member_slug--link":ae},S);if(!ae)return t.a.createElement("span",{className:le},D&&t.a.createElement(K.a,{name:"lock",variation:"filled",inline:!0}),ne);let Q;D?Q=t.a.createElement(K.a,{name:"lock",variation:"filled",inline:!0}):Z&&G&&(Q=t.a.createElement(K.a,V({inline:!0},G)));const ie=q&&Y?Object(p.d)({team:Y,channelId:W}):Object(p.a)({channelId:W});return t.a.createElement(C.a,{id:W},t.a.createElement(b.c,{tip:this.getTooltipContent,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--channel"},t.a.createElement(d.a,{className:le,href:ie,clogLinkClick:this.clogLinkClick,"data-channel-name":w,"data-channel-id":W,"data-qa":"channel_link","data-stringify-type":"channel","aria-label":de,onClick:ee?this.onClick:void 0},Q,ne)))}constructor(L){super(L),this.clogLinkClick=this.clogLinkClick.bind(this),this.onClick=this.onClick.bind(this),this.getTooltipContent=this.getTooltipContent.bind(this)}},"BaseMrkdwnChannel");N.displayName="BaseMrkdwnChannel",N.defaultProps=z;function A(F,L){let{id:S}=L,I,W,D,H,Z,G,te=null;const se=Object(f.d)(F,S);let $,X,q=null,Y=[],ee,w;return se?(I=Object(r.t)(F,se,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1,truncateMpimNames:!0}),Z=Object(m.q)(se),W=Object(m.k)(se),H=Object(r.db)(se),$=Object(m.h)(se),X=Object(m.n)(se),q=X?Object(u.c)(Object(c.b)(se)):null,D=Object(m.j)(se),G=Object(r.X)(se),te=G?Object(o.s)(F,Object(r.Fb)(F,se)):null,Y=Object(r.H)(F,S),w=Object(B.a)(Object(f.a)(F),se)&&Object(U.n)(F),w&&(ee=Object(R.a)(F,{channel:se}))):D=!0,{channelName:I,isPrivate:W,isChannelImOrMpim:$,isChannelRecordChannel:X,recordChannelIconProps:q,isNonExistent:D,isMember:H,isUnknown:Z,isFromAnotherTeam:G,team:te,mpimMemberNames:Y,channelHasNonUniqueName:w,teamName:ee}}h(A,"mapStateToProps");const x=h(F=>({updateChannelLastTrigger:function(){for(var L=arguments.length,S=new Array(L),I=0;I<L;I++)S[I]=arguments[I];return F(Object(g.b)(...S))},navigate:function(){for(var L=arguments.length,S=new Array(L),I=0;I<L;I++)S[I]=arguments[I];return F(Object(E.a)(...S))},maybeOpenInWindow:function(){for(var L=arguments.length,S=new Array(L),I=0;I<L;I++)S[I]=arguments[I];return F(Object(P.a)(...S))}}),"mapDispatchToProps"),k=Object(j.a)(Object(s.a)(A,x)(N));i.a=k},U31a:function(J,i,e){"use strict";e.d(i,"a",function(){return r});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),s=e("4YJR"),l=e("T1zM"),o=e("7DVt"),f=e("kNzh");const r=Object(a.c)("Save last shown timestamp for an progressive disclosure tip",function(){var m=Object(n.coroutine)(function*(c,u,d){let{tip:p,organicUse:v}=d;var g;const O=u();if(Object(o.c)(O,p))return;const y=Object(f.b)(O),C={...y||{},tips:{...y.tips||{},[p]:{...((g=y.tips)===null||g===void 0?void 0:g[p])||{},ts:Date.now(),organicUse:v}}};let _="";try{_=JSON.stringify(C)}catch{}c(Object(s.v)(!0)),yield c(Object(l.f)({pref:f.a,value:_})),c(Object(s.v)(!1))});return function(c,u,d){return m.apply(this,arguments)}}());r.meta={name:"createThunk",key:"createThunksetProgressiveDisclosureTipLastShown",description:"Save last shown timestamp for an progressive disclosure tip"}},UL37:function(J,i,e){"use strict";var n=e("2VFn");const t={WORKSPACE_SWITCHER_TAB_LIST:0,PRIMARY_WORKSPACE_ACTIONS:1,SECONDARY_WORKSPACE_ACTIONS:2,WORKSPACE_NAVIGATION:3,PRIMARY_VIEW:4,SECONDARY_VIEW:5,TOP_NAV:0,WORKSPACE_SWITCHER:1,WORKSPACE_SWITCHER_RAIL:2,WORKSPACE_TAB_RAIL:3,CONTROL_STRIP:7,HUDDLE_WORKSPACE:8,[n.i.Sidebar]:4,[n.i.Primary]:5,[n.i.Secondary]:6,[n.i.Modal]:-1,[n.i.Peek]:-1};i.a=t},UY4Z:function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(){let{fileId:t,ts:a,channelId:s,viewContext:l}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o=l?`-${l}`:"";return`${s}-${a}-${t}-${o}`}h(n,"makeKey")},UZO2:function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("E3dU"),t=e("xwCZ"),a=e("IYwZ"),s=e("gVOt"),l=e("C3vN"),o=e("E97Y");function f(r,m){const c=Object(n.d)(r,m.channelId);if(Object(o.g)(c)){const d=Object(s.a)(c),p=Object(t.g)(r,d);if(Object(l.bb)(p)||Object(l.jb)(p)||Object(l.T)(p))return!1;if(d&&Object(a.b)(r,d))return!0}const u=m.memberIds||[];if(!c&&u.length&&u.length===1){const d=u[0],p=Object(t.g)(r,d);if(Object(l.bb)(p)||Object(l.jb)(p)||Object(l.T)(p))return!1;if(Object(a.b)(r,d))return!0}return!1}h(f,"shouldDisplayDndDMBanner")},UahF:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("ZKjC");const t=Object(n.b)((a,s)=>a.ambientMessages[s]);t.meta={name:"createSelector",key:"createSelectorgetAmbientMessage",description:(a,s)=>a.ambientMessages[s]}},Ubdx:function(J,i,e){"use strict";e.d(i,"d",function(){return f}),e.d(i,"a",function(){return r}),e.d(i,"c",function(){return m}),e.d(i,"b",function(){return c}),e.d(i,"e",function(){return u});var n=e("nSuI"),t=e("SQ0V"),a=e("bi++"),s=e("XIp8"),l=e("Muja"),o=e("wXOV");const f=Object(t.c)("Update quip presence info",(v,g,O)=>{let{docId:b,editors:y}=O;const C=d(b,g());v(a.d({docId:b,editors:y})),p(b,C,g())});f.meta={name:"createThunk",key:"createThunkupdatePresenceEditingInfo",description:"Update quip presence info"};const r=Object(t.c)("Add viewers to quip presence",(v,g,O)=>{let{docId:b,viewers:y}=O;const C=d(b,g());v(a.a({docId:b,viewers:y})),p(b,C,g())});r.meta={name:"createThunk",key:"createThunkaddViewingPresence",description:"Add viewers to quip presence"};const m=Object(t.c)("Remove viewers from quip presence",(v,g,O)=>{let{docId:b,removedViewers:y}=O;const C=d(b,g());v(a.c({docId:b,removedViewers:y})),p(b,C,g())});m.meta={name:"createThunk",key:"createThunkremoveViewingPresence",description:"Remove viewers from quip presence"};const c=Object(t.c)("Remove all viewers from quip presence",(v,g,O)=>{let{docId:b}=O;var y,C,_,j;const E=(j=(y=g())===null||y===void 0||(C=y.quipPresence)===null||C===void 0||(_=C[b])===null||_===void 0?void 0:_.presenceInfo)!==null&&j!==void 0?j:{};v(a.b({docId:b})),p(b,E,g())});c.meta={name:"createThunk",key:"createThunkclearPresence",description:"Remove all viewers from quip presence"};const u=Object(t.c)("Update isViewing for viewers who are/are not pinging",(v,g,O)=>{let{docId:b,viewers:y}=O;const C=d(b,g());v(a.e({docId:b,viewers:y})),p(b,C,g())});u.meta={name:"createThunk",key:"createThunkupdateViewingPresence",description:"Update isViewing for viewers who are/are not pinging"};function d(v,g){var O,b,y;return Object(s.a)((y=g==null||(O=g.quipPresence)===null||O===void 0||(b=O[v])===null||b===void 0?void 0:b.presenceInfo)!==null&&y!==void 0?y:{})}h(d,"recordPresence");function p(v,g,O){var b,y;const C=Object(o.a)(O,v,!1);var _;const j=(_=O==null||(b=O.quipPresence)===null||b===void 0||(y=b[v])===null||y===void 0?void 0:y.presenceInfo)!==null&&_!==void 0?_:{};if(C&&!Object(l.a)(g,j)){var E;const M=Object.keys(j).map(T=>({slackUserId:T,isWriting:j[T].isEditing}));(E=n.b.get(O))===null||E===void 0||E.onPresenceUpdated([{threadId:C,presenceUsers:M}])}}h(p,"updateByDocId")},Ubqm:function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return s});var n=e("ZKjC");const t=Object(n.b)((l,o)=>{const{quipEphemeralMessages:f}=l;return f&&f.originalMsgToEphemeralMsgs[o]});t.meta={name:"createSelector",key:"createSelectorgetEphemeralMessagesForOriginalMessage",description:(l,o)=>{const{quipEphemeralMessages:f}=l;return f&&f.originalMsgToEphemeralMsgs[o]}};const a=Object(n.b)((l,o)=>{const{quipEphemeralMessages:f}=l,r=f&&f.originalMsgToEphemeralMsgs[o];return r&&r.length&&r[0]});a.meta={name:"createSelector",key:"createSelectorgetFirstEphemeralMessageForOriginalMessage",description:(l,o)=>{const{quipEphemeralMessages:f}=l,r=f&&f.originalMsgToEphemeralMsgs[o];return r&&r.length&&r[0]}};const s=Object(n.b)((l,o)=>{const{quipEphemeralMessages:f}=l;return!!(f!=null&&f.ephemeralMsgToOriginalMsg[o])});s.meta={name:"createSelector",key:"createSelectorisEphemeralMessageAvailable",description:(l,o)=>{const{quipEphemeralMessages:f}=l;return!!(f!=null&&f.ephemeralMsgToOriginalMsg[o])}}},Uddq:function(J,i,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("Lgge"),s=e("n3tL"),l=e("h9dl"),o=e("E3dU"),f=e("SQ0V"),r=e("Yauy");const m=Object(f.c)("Get relevant channel data for sharing",function(){var c=Object(n.coroutine)(function*(u,d){let{channelOrMemberId:p}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const v=d(),g=yield u(Object(l.a)({channelOrMemberId:p})),O=Object(o.d)(v,g),b=Object(r.Fb)(v,O);return a.a.resolve({channelId:g,channelTeamId:b})});return function(u,d){return c.apply(this,arguments)}}());m.meta={name:"createThunk",key:"createThunkgetTargetChannel",description:"Get relevant channel data for sharing"},m.propTypes={channelOrMemberId:s.default.string},i.a=m},Ueyg:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("4HNC"),l=e("sGXp"),o=e("3RZE"),f=e("JfyJ");function r(){return r=Object.assign||function(u){for(var d=1;d<arguments.length;d++){var p=arguments[d];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(u[v]=p[v])}return u},r.apply(this,arguments)}h(r,"_extends");function m(u,d,p){let v;return u?d||p?v=l.d.highlightDim:v=l.d.highlightDark:(d||p)&&(v=l.d.dim),v}h(m,"getBaseStyle");function c(u){const{className:d,isActive:p,isDeactivated:v,isDisabled:g,secondaryContent:O}=u,b=Object(n.useMemo)(()=>t.a.createElement(o.a,r({invert:m(p,g,v)===l.d.highlightDark},u)),[p,v,g,u]),y=m(p,g,v);return t.a.createElement(s.a,{className:Object(a.default)("c-small_user_group_list_entity",d),style:y,primaryContent:b,secondaryContent:O,size:"small"})}h(c,"SmallUserGroupListEntity"),c.displayName="SmallUserGroupListEntity",i.a=c},"Ufy+":function(J,i,e){"use strict";e.d(i,"a",function(){return p});var n=e("q1tI"),t=e.n(n),a=e("GzZI"),s=e("nNoG"),l=e("BHdc"),o=e("khnw"),f=e("U3SE"),r=e("A6se");function m(){return m=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var O=arguments[g];for(var b in O)Object.prototype.hasOwnProperty.call(O,b)&&(v[b]=O[b])}return v},m.apply(this,arguments)}h(m,"_extends");let c=h(class extends n.Component{render(){const{isDisabled:g,isInvalid:O=!1,ariaDescribedBy:b,className:y}=this.props;return t.a.createElement("div",{className:Object(l.default)("split_input_item",y,{focused:this.props.hasFocus})},t.a.createElement("input",{ref:this.props.refToForward,type:"text",value:this.props.value,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":b,disabled:g,"aria-disabled":g,"aria-invalid":O}))}constructor(...g){super(...g),this.onKeyDown=O=>{switch(O.keyCode){case o.a:{O.currentTarget.value||this.props.moveLeft();return}case o.k:return O.preventDefault(),this.props.moveLeft();case o.o:return O.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=O=>{const{isNumbersOnly:b}=this.props;(b?!Object(r.a)(O.which):!Object(r.b)(O.which))&&O.charCode&&!Object(f.a)(O)&&O.preventDefault()},this.onChange=O=>{const b=O.target.value,{isNumbersOnly:y}=this.props;((y?/^[0-9]$/:/^[a-zA-Z0-9]$/).test(b)||b==="")&&this.props.onChange(b.toUpperCase())},this.onPaste=O=>{O.preventDefault();const{isNumbersOnly:b}=this.props,y=window.clipboardData||O.clipboardData,C=y.getData("text")||y.getData("text/plain"),_=b?/\D/g:/[^a-zA-Z0-9]/g,j=C.replace(_,"");this.props.onPaste(j)}}},"CodeInput");c.displayName="CodeInput";var u=t.a.forwardRef((v,g)=>t.a.createElement(c,m({},v,{refToForward:g})));const d=new s.b("team_creation");let p=h(class extends n.Component{focusInput(g){const O=this.inputRefs[g];O&&O.current&&O.current.focus()}moveLeft(g){g<=0||this.focusInput(g-1)}moveRight(g){g>=this.state.values.length-1||this.focusInput(g+1)}isComplete(g){return!g.some(O=>!O)}clear(){this.setState(g=>({values:g.values.map(()=>"")})),this.focusInput(0)}onChange(g,O){const b=this.state.values.slice();b[g]=O,this.setState(()=>({values:b}),()=>{O&&!this.isComplete(this.state.values)&&this.moveRight(g)})}componentDidUpdate(g,O){if(!this.isComplete(O.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&O.values.join("")!==this.state.values.join("")){const b=this.state.values.join("");this.props.onFillCode(b)}else O.values.join(",")!==this.state.values.join(",")&&this.props.onChange();g.isDisabled!==this.props.isDisabled&&this.focusInput(0)}componentDidMount(){this.focusInput(0)}renderInputs(g,O){const{isDisabled:b,isNumbersOnly:y=!0,isInvalid:C=!1,ariaDescribedBy:_,govSlackTheme:j=!1}=this.props;return this.state.values.slice(g,O).map((E,M)=>{const T=M+g;return t.a.createElement(u,{isNumbersOnly:y,key:T,ref:this.inputRefs[T],moveLeft:()=>this.moveLeft(T),moveRight:()=>this.moveRight(T),onChange:P=>this.onChange(T,P),onPaste:this.onPaste,onFocus:()=>this.setState(()=>({focusedInputIndex:T})),onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===T,value:this.state.values[T],ariaLabel:d.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:T+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:_,isInvalid:C,isDisabled:b,className:j?"split_input_item--gov_slack":""})})}render(){return t.a.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input","data-state":this.props.isCheckError?"error":""},t.a.createElement("div",{className:"display_flex"},this.renderInputs(0,3)),t.a.createElement("div",{className:"confirmation_code_span_cell margin_50"},"\u2014"),t.a.createElement("div",{className:"display_flex"},this.renderInputs(3,6)))}constructor(g){super(g),this.onPaste=O=>{const b=this.state.focusedInputIndex;if(b===-1)return;const y=this.state.values.length-b,C=O.substring(0,y).split(""),_=this.state.values.slice();C.forEach((j,E)=>{const M=E+b;_[M]=j}),this.setState(()=>({values:_}),()=>{this.focusInput(Math.min(this.state.values.length-1,b+C.length))})},this.state={values:Object(a.a)(6,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.a.createRef())}},"SplitInput");p.displayName="SplitInput",p.defaultProps={isNumbersOnly:!0}},Unj8:function(J,i,e){J.exports=e.p+"connection-dark-6211e2b.svg"},UrBK:function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n={ReactionAdded:"slack#/events/reaction_added",UserJoinedChannel:"slack#/events/user_joined_channel",ListRecordCreated:"slack#/events/list_record_created",ListRecordUpdated:"slack#/events/list_record_updated",ChannelCreated:"slack#/events/channel_created"}},UsbY:function(J,i,e){"use strict";e.d(i,"a",function(){return m}),e.d(i,"b",function(){return c});var n=e("nTNk"),t=e("khnw");const a=Object(n.a)(),s=a.import("parchment"),l=a.import("blots/block"),o=a.import("blots/inline"),f=a.import("blots/container");let r=h(class extends o{checkUncheck(d,p){d.preventDefault(),d.stopPropagation(),a.find(p.closest(".ql-editor").parentNode).isEnabled()&&(d.target.focus(),document.activeElement.click())}moveCursorLeft(d,p){const v=a.find(p.closest(".ql-editor").parentNode),g=v.getSelection();v.isEnabled()&&g&&g.index>0&&setTimeout(()=>{v.setSelection(g.index-1,g.length)},0)}moveCursorRight(d,p){const v=a.find(p.closest(".ql-editor").parentNode),g=v.getSelection();v.isEnabled()&&g&&g.index>=0&&setTimeout(()=>{v.setSelection(g.index,g.length)},0)}moveCursorDown(d,p){const v=a.find(p.closest(".ql-editor").parentNode),g=v.getSelection();if(v.isEnabled()){const b=v.getLine(g.index)[0];if(b&&b.domNode){const y=b.next,C=b.parent;if(y){const _=y.domNode.querySelector(".slack-docs-list-item-checkbox");if(_){const j=v.getIndex(y);return setTimeout(()=>{v.setSelection(j,0),_.focus()},0),!1}}else{let _;if(C&&C.next&&C.next.children&&C.next.children.head&&C.next.children.head.domNode&&C.next.children.head.domNode.querySelector&&(_=C.next.children.head.domNode.querySelector(".slack-docs-list-item-checkbox")),_){const E=v.getIndex(C.next);return setTimeout(()=>{v.setSelection(E,0),_.focus()},0),!1}const j=v.getSelection();j&&v.setSelection(j.index,j.length)}}}return!0}moveCursorUp(d,p){const v=a.find(p.closest(".ql-editor").parentNode),g=v.getSelection();if(v.isEnabled()){const b=v.getLine(g.index)[0];if(b&&b.domNode){const y=b.prev,C=b.parent;if(y){const _=y.domNode.querySelector(".slack-docs-list-item-checkbox");if(_){const j=v.getIndex(y);return setTimeout(()=>{v.setSelection(j,0),_.focus()},0),!1}}else{let _;if(C&&C.prev&&C.prev.children&&C.prev.children.tail&&C.prev.children.tail.domNode&&C.prev.children.tail.domNode.querySelector&&(_=C.prev.children.tail.domNode.querySelector(".slack-docs-list-item-checkbox")),_){const E=v.getIndex(C.prev.children.tail);return setTimeout(()=>{v.setSelection(E,0),_.focus()},0),!1}const j=v.getSelection();j&&j.index&&j.index-1>=0&&v.setSelection(j.index-1,j.length)}}}return!0}onTab(d,p){const v=document.activeElement;if(v.classList.contains("slack-docs-list-item-checkbox")){const g=a.find(p.closest(".ql-editor").parentNode);if(g.isEnabled()){const O=g.getSelection(),b=g.getFormat(O),y=parseInt(b.indent||0,10);let _=(d.shiftKey?"-1":"+1")==="+1"?1:-1;return b.direction==="rtl"&&(_*=-1),g.format("indent",y+_,"user"),v.focus(),!1}}return!0}constructor(d){super(d),d.addEventListener("keydown",p=>{p&&p.keyCode===t.k&&this.moveCursorLeft(p,d),p&&p.keyCode===t.o&&this.moveCursorRight(p,d),p&&p.keyCode===t.c&&this.moveCursorDown(p,d),p&&p.keyCode===t.r&&this.moveCursorUp(p,d),p&&p.keyCode===t.p&&this.checkUncheck(p,d),p&&p.keyCode===t.q&&this.onTab(p,d),p.preventDefault()})}},"SlackDocsListItemCheckbox");r.blotName="slack-docs-list-item-checkbox",r.tagName="SLACKDOCSLISTITEMCHECKBOX",a.register(r,!0);let m=h(class extends l{static formats(d){return d.tagName===this.tagName?void 0:super.formats(d)}format(d,p){d===c.blotName&&!p?this.replaceWith(s.create(this.statics.scope)):super.format(d,p)}remove(){this.prev===null&&this.next===null?this.parent.remove():super.remove()}replaceWith(d,p){return this.parent.isolate(this.offset(this.parent),this.length()),d===this.parent.statics.blotName?(this.parent.replaceWith(d,p),this):(this.parent.unwrap(),super.replaceWith(d,p))}},"SlackDocsListItem");m.blotName="list-item",m.tagName="LI";let c=h(class extends f{static create(d){const p=d==="ordered"?"OL":"UL",v=super.create(p);return(d==="checked"||d==="unchecked")&&v.setAttribute("data-checked",d==="checked"),v}static formats(d){if(d.tagName==="OL")return"ordered";if(d.tagName==="UL")return d.hasAttribute("data-checked")?d.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}checkUncheck(d,p){if(d&&d.target&&d.target.tagName&&d.target.tagName!=="SLACKDOCSLISTITEMCHECKBOX")return;d.preventDefault(),d.stopPropagation();const v=a.find(p.closest(".ql-editor").parentNode);if(v.isEnabled()){const g=d.target.parentNode.parentNode,O=d.target.parentNode;if(g!==p)return;const b=this.statics.formats(p),y=s.find(O);b==="checked"?(y.format("list","unchecked"),d.target.setAttribute("aria-checked","false")):b==="unchecked"&&(y.format("list","checked"),d.target.setAttribute("aria-checked","true"));const C=v.getIndex(y);v.setSelection(C,0),setTimeout(()=>{d.target.focus()})}}format(d,p){this.children.length>0&&this.children.tail.format(d,p)}formats(){return{[this.statics.blotName]:this.statics.formats(this.domNode)}}insertBefore(d,p){d instanceof m&&super.insertBefore(d,p);let v;d&&d.parent&&d.parent.domNode&&d.parent.domNode.dataset&&d.parent.domNode.dataset.checked&&(d.parent.domNode.dataset.checked==="true"||d.parent.domNode.dataset.checked==="false")&&(d.domNode.querySelectorAll(".slack-docs-list-item-checkbox").length||(v=s.create("slack-docs-list-item-checkbox"),v.domNode.setAttribute("role","checkbox"),d.parent.domNode.dataset.checked==="true"?v.domNode.setAttribute("aria-checked","true"):v.domNode.setAttribute("aria-checked","false"),v.domNode.setAttribute("tabindex","-1"),v.domNode.classList.add("slack-docs-list-item-checkbox"),d.domNode.prepend(v.domNode)))}optimize(){super.optimize();const d=this.next;d!=null&&d.prev===this&&d.statics.blotName===this.statics.blotName&&d.domNode.tagName===this.domNode.tagName&&d.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(d.moveChildren(this),d.remove())}replace(d){if(d.statics.blotName!==this.statics.blotName){const p=s.create(this.statics.defaultChild);d.moveChildren(p),this.appendChild(p)}super.replace(d)}constructor(d){super(d),d.addEventListener("click",p=>this.checkUncheck(p,d))}},"SlackDocsList");c.blotName="list",c.scope=s.Scope.BLOCK_BLOT,c.tagName=["OL","UL"],c.defaultChild="list-item",c.allowedChildren=[m]},Uuto:function(J,i,e){"use strict";e.d(i,"a",function(){return m});var n=e("9Gfp"),t=e("QLhP"),a=e("xwCZ"),s=e("x6tY"),l=e("+tZp"),o=e("Nnn3"),f=e("nNoG");const r=new f.b("file");function m(c,u){if(!u)return"";const{userId:d,botId:p}=Object(s.H)(u),v=d?Object(a.g)(c,d):null,g=v?Object(o.a)(c,v):null,O=p||g;if(O){const b=Object(t.b)(c,O);if(b&&b.name)return b.name}if(v){const b=Object(l.a)(c,v);return d===Object(n.a)(c)?r.rt("{name} (you)",{name:b,fallbackHash:"26d4d69c81b9ea155418f35cc46db79fdbb5e28b",fallbackHashNs:"channel_sidebar"}):b}return u.username||""}h(m,"getFileOwner")},V6Oe:function(J,i,e){"use strict";var n=e("Vfgr"),t=e("ifKl"),a=e("q1tI"),s=e.n(a),l=e("JvzI"),o=e("nNoG"),f=e("pu3F"),r=e("kBpe"),m=e("qDEp"),c=e("YUBf"),u=e("LSTB"),d=e("SpS+"),p=e("1yr/");function v(){return v=Object.assign||function(C){for(var _=1;_<arguments.length;_++){var j=arguments[_];for(var E in j)Object.prototype.hasOwnProperty.call(j,E)&&(C[E]=j[E])}return C},v.apply(this,arguments)}h(v,"_extends");const g=new o.b("file-details");function O(C,_){return Object.keys(C).reduce((j,E)=>{const M=_({locale:Object(l.a)(),text:C[E]});return{...j,[E]:Object(n.a)(M)}},{})}h(O,"convertFieldValues");const b=h(C=>{let{closeModal:_=t.a,convertEmojiInStringToCanonicalThunk:j=t.a,convertEmojiInStringToLocalizedThunk:E=t.a,fields:M,handleEdit:T=t.a,initialValues:P={title:""}}=C;const B=O(P,E),R=Object(d.c)({title:[d.g,Object(d.d)(f.y)]}),U=g.t("File details"),K=g.t("File name"),V=g.t("big-sur-trip-aerial.png"),z=g.t("Save Changes"),N=g.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"generic_dialog"}),A="edit-file-dialog-title";return s.a.createElement(c.b,{labelledby:A,className:"p-edit_file_dialog",overlayClassName:"p-file_viewer__modal_overlay"},s.a.createElement(c.i,null,s.a.createElement(c.l,{id:A,title:U})),s.a.createElement(u.a,{initialValues:B,validate:R,validateOnMount:!0,onSubmit:x=>{T(O(x,j)),_()}},x=>{let{errors:k,isSubmitting:F,values:L}=x;return s.a.createElement(s.a.Fragment,null,s.a.createElement(c.d,null,s.a.createElement(c.e,null,s.a.createElement(p.a,v({focusOnMount:!0,validateOnBlur:!0,id:"title",name:"title",labelText:K},(!Object(r.p)()||!L.title)&&{placeholder:V})),M==null?void 0:M({values:L}))),s.a.createElement(c.g,null,s.a.createElement(c.h,null,s.a.createElement(c.c,{type:"outline"},N),s.a.createElement(m.f,{htmlType:"submit","aria-disabled":F||Object.keys(k).length>0},z))))}))},"BaseEditFileDialog");b.displayName="BaseEditFileDialog";var y=i.a=b},VJ2K:function(J,i,e){"use strict";var n=e("ZKjC"),t=e("x6tY"),a=e("GMcg"),s=e("gnJq");const l=Object(n.b)((o,f)=>{let{file:r}=f;return!r||Object(s.a)(r)?!1:!!(Object(t.o)(r)&&Object(a.a)(o,r.id)||Object(t.lb)(r))});l.meta={name:"createSelector",key:"createSelectorisExternallyOwnedList",description:(o,f)=>{let{file:r}=f;return!r||Object(s.a)(r)?!1:!!(Object(t.o)(r)&&Object(a.a)(o,r.id)||Object(t.lb)(r))}},i.a=l},VJ6u:function(J,i,e){"use strict";e.d(i,"a",function(){return C});var n=e("mM05"),t=e.n(n),a=e("zmn3"),s=e("0VPD"),l=e("TSHB"),o=e("Z3Pq"),f=e("IOc2"),r=e("fR2/"),m=e("tfz1"),c=e("TQ9f"),u=e("htTJ"),d=e("k2bd"),p=e("wBgp"),v=e("gSGL"),g=e("JoEr");function O(_){if(!Object(d.a)(_))return!1;const{type:j,property:E,id:M}=_.insert.workflowtoken;if(Object(v.a)(_.insert))return!1;if(j===p.i)return!0;if(j===p.j)return E===p.a||E===p.b;if(j==="string")return!0;const T=Object(g.d)({type:j,variableId:M});if(T)for(const R of Object.values(T)){var P,B;if(((P=R.macroDetails)===null||P===void 0||(B=P.outputParameter)===null||B===void 0?void 0:B.type)==="string")return!0}return!1}h(O,"isOpWorkflowTokenForText");var b=e("5SjC"),y=e("3yyz");function C(_){let{removeEmbedsFromCode:j=!0,stripAllInlineFormatting:E=!1,stripInlineFormattingFromCodeBlock:M=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!_)return new t.a;const T=new t.a;return Object(b.a)(_,(P,B)=>{const R=Object(y.a)(P),U=Object(f.a)(P)||Object(m.a)(B);if(j&&U||E){let K={...P.attributes};if(Object(m.a)(B)&&(K={}),Object(c.a)(P)){T.delete(1).insert(Object(c.c)(P),{...K});return}if(Object(r.a)(P)){delete K.slackmention,T.delete(Object(r.c)(P).length).insert(Object(r.c)(P),{...K});return}if(Object(u.a)(P)){delete K.link,T.delete(Object(u.b)(P).length).insert(Object(u.b)(P),{...K});return}if(Object(d.a)(P)&&!O(P)){T.delete(1);return}}if(Object(m.a)(B)&&M||E){const K=["bold","italic","strike","code","underline","slackmention","unlink"],V=Object(a.a)(P.attributes||{},(N,A)=>({key:A,value:N})).filter(N=>!!N.value).map(N=>N.key),z=Object(s.a)(K,V);T.retain(R,Object(l.a)(Object(o.a)(z,N=>N),()=>!1));return}R&&T.retain(R)}),T}h(C,"stripFormattingFromDelta")},VKiV:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),s=e("ZrLl"),l=e("KPXh"),o=e("/MKj"),f=e("zxER"),r=e("+kJ4"),m=e("VDNX"),c=e("AEEY"),u=e("zKrX"),d=e("YyjR"),p=e("DWmQ"),v=e("9org"),g=e("SSy4"),O=e("CD4m"),b=e("3V+Q"),y=e("qDEp"),C=e("F0YV"),_=e("ZobM"),j=e("PIYn"),E=e("beVI"),M=e("G0eX"),T=e("NX5n"),P=e("1XAj"),B=e("x3ts"),R=e("O86Y"),U=e("4qCO"),K=e("nNoG");const V=new K.b("shortcuts_speedbump"),z="shortcuts_workspace_picker_speedbump";function N(Z,G){const te=Object(M.h)(Z),se=Object(M.h)(G);return Object(U.a)(te,se)}h(N,"teamSorter");function A(Z){let{teamIds:G,onConfirm:te,command:se,isSlashCommand:$}=Z;const X=Object(o.useDispatch)(),q=Object(f.c)(T.a),Y=Object(f.c)(Ue=>Object(E.u)(Ue,G)),ee=Object(n.useMemo)(()=>[...Y].sort(N),[Y]);let w=ee[0].id;const ne=Object(f.c)(B.d),ae=Object(f.c)(R.c);ne&&G.find(Ue=>Ue===ne)?w=ne:ae&&G.find(Ue=>Ue===ae)&&(w=ae);const[de,ge]=Object(n.useState)(w),le=Object(n.useCallback)(Ue=>{ge(Ue)},[]),Q=Object(n.useCallback)(()=>{X(Object(P.d)(de)),te(de),X(Object(r.a)({closeNamed:[z]}))},[X,te,de]),ie=Y.find(Ue=>{let{id:Fe}=Ue;return Fe===de}),oe=Object(M.h)(ie),me=Object(n.useMemo)(()=>t.a.createElement("b",null,oe),[oe]),be=Object(n.useCallback)(Ue=>{let{className:Fe}=Ue;return t.a.createElement("div",{className:Fe},t.a.createElement(C.b,{id:de,size:24,showTooltip:!0,className:"nudge_top_2"}))},[de]),Se=$?{label:q?V.t("Select workspace to run slash command"):"",confirm:q?V.t("Run Slash Command"):""}:{label:q?V.t("Select workspace to run shortcut"):"",confirm:q?V.t("Run Shortcut"):""},Pe=t.a.createElement(b.b,{htmlFor:"shortcut_workspace_picker",text:Se.label},t.a.createElement(g.a,{teamsList:ee,handleTeamSelected:le,selectedTeamId:de,position:"bottom-left"},t.a.createElement(y.f,{id:"shortcut_workspace_picker",className:"full_width justify_content_between",type:"outline"},t.a.createElement(O.d,{avatar:be,size:"medium",text:me}),t.a.createElement(_.a,{name:"caret-down",inline:!0}))));return t.a.createElement(m.a,null,t.a.createElement(c.a,null,t.a.createElement(v.a,null,t.a.createElement("div",{className:"padding_top_150 padding_bottom_150"},t.a.createElement(j.a,{className:"p-slash_commands_autocomplete_menu__item",command:se,isActive:!1})),Pe)),t.a.createElement(u.a,null,t.a.createElement(d.a,null,t.a.createElement(p.a,{type:"outline"},q?V.t("Cancel"):""),t.a.createElement(y.f,{onClick:Q},Se.confirm))))}h(A,"ShortcutsWorkspacePickerSpeedbump"),A.displayName="ShortcutsWorkspacePickerSpeedbump";var x=A,k=e("3l96"),F=e("Lgge"),L=e("bqbz"),S=e("VqrZ"),I=e("5IZy"),W=e("ktUG");const D=Object(a.c)("Handle action calls, clogs, and frecency for shortcuts menu item clicks",(Z,G,te)=>{let{action:se,channelId:$,onConfirm:X,isSlashCommand:q=!1}=te;const Y=G();if(!Object(T.a)(Y))return X();const ee=q?Object(l.h)(Y,se,$):Object(s.b)(Y,se,$),w=Object(L.A)(Y),ne=(w==null?void 0:w.type)===S.b.Workspace?w.workspace.id:void 0;return ne&&ee.includes(ne)?X(ne):ee.length>1?(Object(I.a)({state:G()}).track(W.EventId.COMMAND_WORKSPACE_SELECTION,{contexts:{ui_context:{entry_point:"slash_command",app_id:se.appId}}}),Z(Object(k.a)({element:t.a.createElement(x,{teamIds:ee,onConfirm:X,command:se,isSlashCommand:q}),name:z})),F.a.resolve()):ee.length===1?X(ee[0]):X()});D.meta={name:"createThunk",key:"createThunkmaybeShowShortcutsWorkspacePickerSpeedbump",description:"Handle action calls, clogs, and frecency for shortcuts menu item clicks"};var H=i.a=D},"VO/D":function(J,i,e){"use strict";var n=e("vJtL"),t=e("qAkX"),a=e("fujP"),s=e("gSGL"),l=e("NZ+B"),o=e("Muja"),f=e("yIs4"),r=e("ifKl"),m=e("WIr4"),c=e("q1tI"),u=e.n(c),d=e("wSSu"),p=e.n(d),v=e("BHdc"),g=e("Cfcg"),O=e("Lgge"),b=e("/MKj"),y=e("U27P"),C=e("lhZz");function _(vt,Je,et){if(!vt)throw new Error('mountTextyPlaceholder missing required "teamId" parameter');if(!Je)return;const mt=Object(C.getStoreInstanceByTeamId)(vt);Object(y.a)(u.a.createElement(b.Provider,{store:mt},et),Je)}h(_,"mountTextyPlaceholder"),_.displayName="mountTextyPlaceholder";function j(vt){vt&&p.a.unmountComponentAtNode(vt)}h(j,"unmountTextyPlaceholder");var E=e("s4P+"),M=e("pu3F"),T=e("LpvA"),P=e("5/Zs"),B=e("7INw"),R=e("Wya+"),U=e("VO0X"),K=e("BU52"),V=e("tcEy"),z=e("anFg"),N=e("gcam"),A=e("RVJP"),x=e("O86Y"),k=e("JoR1"),F=e("JnIm"),L=e("yrot"),S=e("1sW9"),I=e("pWPO"),W=e("OF9j"),D=e("FZE2"),H=e("jlKB"),Z=e("W29z"),G=e("BJra"),te=e("T5R/"),se=e("stxl"),$=e("3l96"),X=e("HOkk"),q=e("nNoG"),Y=e("hrWC"),ee=e("/uJc"),w=e("vVwU"),ne=e("n3tL"),ae=e("SQ0V"),de=e("oY18"),ge=e("T1zM"),le=e("KwZw"),Q=e("g3a/"),ie=e("6R8Z"),oe=e("Pw4T");const me=new q.b("markdown_paste_toast");var be;(function(vt){vt[vt.DONT_SHOW=-1]="DONT_SHOW",vt[vt.UNSEEN=0]="UNSEEN",vt[vt.SEEN=1]="SEEN"})(be||(be={}));let Se=h(class extends c.Component{onApplyFormattingClick(){this.props.telemeter.count("wysiwyg_markdown_paste_toast_apply"),this.props.hasSeenToastValue===be.UNSEEN&&this.props.setUserPrefByApi({pref:"seen_markdown_paste_toast",value:be.SEEN}),this.props.dismissCurrentToast(),this.props.applyFormatting()}onDontShowClick(){this.props.telemeter.count("wysiwyg_markdown_paste_toast_dont_show"),this.props.setUserPrefByApi({pref:"seen_markdown_paste_toast",value:be.DONT_SHOW}),this.props.dismissCurrentToast()}renderContent(){const Je=u.a.createElement(ie.a,{className:"underline",onClick:this.onDontShowClick},me.t("Don\u2019t ask again"));if(this.props.hasSeenToastValue===be.UNSEEN){const Pt=u.a.createElement(ie.a,{className:"underline",onClick:this.onApplyFormattingClick},me.t("Apply formatting")),Tt=me.t("Looks like your content contains markdown.");return u.a.createElement("div",null,Tt,u.a.createElement("br",null),Pt," ",Je)}const et=u.a.createElement(ie.a,{className:"underline",onClick:this.onApplyFormattingClick},me.t("Apply")),mt=me.t("Apply formatting?");return u.a.createElement("div",null,mt," ",et," ",Je)}render(){if(this.props.hasSeenToastValue===be.DONT_SHOW)return null;this.props.telemeter.count("wysiwyg_markdown_paste_toast_shown");const Je=this.renderContent();return u.a.createElement(Q.a,{duration:1e3*10},u.a.createElement("div",null,Je))}constructor(Je){super(Je),Object(m.a)(this,["onApplyFormattingClick","onDontShowClick"])}},"MarkdownPasteToast");Se.displayName="MarkdownPasteToast",Se.defaultProps={hasSeenToastValue:be.DONT_SHOW};var Pe=Object(g.a)(vt=>({telemeter:Object(oe.d)({state:vt}),hasSeenToastValue:Object(k.u)(vt,"seen_markdown_paste_toast")}),{dismissCurrentToast:()=>Object(le.a)(),setUserPrefByApi:vt=>{let{pref:Je,value:et}=vt;return Object(ge.f)({pref:Je,value:et})}})(Se),Ue=e("kBpe"),Fe=e("rAyg");const je=new q.b("markdown_paste_toast");let _e=h(class extends c.Component{render(){this.props.telemeter.count("wysiwyg_markdown_paste_shortcut_toast_shown");const Je=je.rt("You can do this any time with <span>Ctrl Shift F</span>"),et=je.rt("You can do this any time with <span>\u2318 Shift F</span>");return u.a.createElement(Fe.a,{fadeDelay:1e3*5},u.a.createElement("div",null,Object(Ue.p)()?et:Je))}},"MarkdownPasteShortcutToast");_e.displayName="MarkdownPasteShortcutToast";var pe=Object(g.a)(vt=>({telemeter:Object(oe.d)({state:vt})}))(_e);const fe=Object(ae.c)("Show markdown paste toast",(vt,Je,et)=>{let{applyFormatting:mt}=et;const Pt=Je();return vt(Object(de.a)({element:u.a.createElement(Pe,{applyFormatting:()=>{const Tt=Object(k.u)(Pt,"seen_markdown_paste_shortcut");Tt<3&&(vt(Object(de.a)({element:u.a.createElement(pe)})),vt(Object(ge.f)({pref:"seen_markdown_paste_shortcut",value:Tt+1}))),mt()}})}))});fe.meta={name:"createThunk",key:"createThunkshowMarkdownPasteToast",description:"Show markdown paste toast"},fe.propTypes={applyFormatting:ne.default.func.isRequired};var Ee=fe,ye=e("9tjR"),Te=e("npmo");const Oe=new q.b("csv_tsv_paste_toast");var Ce;(function(vt){vt.CSV="CSV",vt.TSV="TSV"})(Ce||(Ce={}));let ce=h(class extends c.Component{hideToast(){const{dispatchDismissCurrentToast:Je}=this.props;Je()}onConvertToSnippet(){const{dispatchDismissCurrentToast:Je,openCsvTsvSnippetDialog:et,clearText:mt}=this.props;Je(),et(),mt()}renderContent(){const{experimentCsvTsvAutocaptureGroupOn:Je}=this.props,et=u.a.createElement(ie.a,{"data-qa":"toast-do-nothing-btn",className:"underline",onClick:this.hideToast},Je?Oe.t("No, do nothing"):""),mt=u.a.createElement(ie.a,{"data-qa":"toast-open-snippet-modal-btn",className:"underline",onClick:this.onConvertToSnippet},Je?Oe.t("Yes, convert to snippet"):""),Pt=Je?Oe.t("Looks like you\u2019ve pasted {contentType} data. Convert it to a snippet so it looks like a table?",{contentType:this.props.contentType.toUpperCase()}):"";return u.a.createElement("div",null,Pt,u.a.createElement("br",null),mt," ",et)}render(){const Je=this.renderContent();return u.a.createElement(Fe.a,{fadeDelay:1e3*10},u.a.createElement("div",null,Je))}constructor(Je){super(Je),Object(m.a)(this,["onConvertToSnippet","hideToast"])}},"BaseCsvTsvPasteToast");ce.displayName="BaseCsvTsvPasteToast",ce.defaultProps={contentType:Ce.TSV,experimentCsvTsvAutocaptureGroupOn:!1,openCsvTsvSnippetDialog:r.a,clearText:r.a,dispatchDismissCurrentToast:r.a};const he=h(vt=>({experimentCsvTsvAutocaptureGroupOn:Object(A.d)(vt,"csv_tsv_autocapture")==="on"}),"mapStateToProps"),Me=h(vt=>({dispatchDismissCurrentToast:()=>vt(Object(le.a)())}),"mapDispatchProps"),Ae=Object(Te.a)(he,Me)(ce);var xe=Ae;const Re=Object(ae.c)("Show Csv Tsv paste toast message",(vt,Je,et)=>{let{contentType:mt,openCsvTsvSnippetDialog:Pt,clearText:Tt}=et;return Object(ye.e)(Je())&&vt(Object(le.a)()),vt(Object(de.a)({element:u.a.createElement(Ae,{contentType:mt,openCsvTsvSnippetDialog:Pt,clearText:Tt})}))});Re.meta={name:"createThunk",key:"createThunkshowCsvTsvPasteToast",description:"Show Csv Tsv paste toast message"},Re.propTypes={contentType:ne.default.string.isRequired,openCsvTsvSnippetDialog:ne.default.func.isRequired,clearText:ne.default.func.isRequired};var Ge=Re,ze=e("mKxD"),Ie=e("eUIW"),Ne=e("bjy1"),Ke=e("Zbwg"),Ve=e("ktUG"),$e=e("bdcb"),tt=e("feGl"),qe=e("F294");let ut={index:0,length:0};function rt(vt){let{quill:Je,line:et,blockType:mt}=vt;var Pt,Tt,Qt,dt;return(!(et!=null&&et.prev)||(et==null||(Pt=et.prev)===null||Pt===void 0||(Tt=Pt.statics)===null||Tt===void 0?void 0:Tt.blotName)!==mt)&&(ut.index=Je.getIndex(et)),et!=null&&et.prev&&(et==null||(Qt=et.prev)===null||Qt===void 0||(dt=Qt.statics)===null||dt===void 0?void 0:dt.blotName)===mt?rt({quill:Je,line:et.prev,blockType:mt}):ut}h(rt,"adjustRangeIndex");function yt(vt){let{quill:Je,line:et,blockType:mt}=vt;var Pt,Tt,Qt,dt;const zt=Je.getIndex(et);if(!(et!=null&&et.next)||(et==null||(Pt=et.next)===null||Pt===void 0||(Tt=Pt.statics)===null||Tt===void 0?void 0:Tt.blotName)!==mt){var At;ut.length=zt+(et==null||(At=et.cache)===null||At===void 0?void 0:At.length)-ut.index}return et!=null&&et.next&&(et==null||(Qt=et.next)===null||Qt===void 0||(dt=Qt.statics)===null||dt===void 0?void 0:dt.blotName)===mt&&yt({quill:Je,line:et.next,blockType:mt}),ut}h(yt,"adjustRangeLength");function Mt(vt){let{blockType:Je,quill:et,range:mt}=vt;var Pt;const Tt=mt==null?void 0:mt.index,Qt=mt==null?void 0:mt.length,[dt]=et.getLine(Tt);if(ut={index:Tt,length:0},(dt==null||(Pt=dt.statics)===null||Pt===void 0?void 0:Pt.blotName)===Je){if(rt({quill:et,line:dt,blockType:Je}),yt({quill:et,line:dt,blockType:Je}),Qt>0&&Je==="list-item"){const zt=et.getLines(Tt,Qt);if(zt!=null&&zt.length){const At=Object(qe.a)(zt);if(At!=null&&At.prev&&rt({quill:et,line:At.prev,blockType:Je}),(zt==null?void 0:zt.length)>1){const Qe=Object(t.a)(zt);Qe!=null&&Qe.next?yt({quill:et,line:Qe.next,blockType:Je}):yt({quill:et,line:Qe,blockType:Je})}}}return ut}return mt}h(Mt,"adjustSelectionToCoverBlock");var st=e("oonp"),Vt=e("nWdO"),Wt=e("Tsh7"),Xt=e("gCYc"),Ut=e("Y/OQ");function Nt(vt){let{enableComposerButton:Je,enableEmojiButton:et,enableFileButton:mt,enableMentionButton:Pt,enableSendButton:Tt,enableStickyComposer:Qt,enableStoryButton:dt,enableAudioButton:zt,isExpanded:At,isPlainTextModeEnabledPref:Qe}=vt,nt=0;const _t=Qt&&!Qe;return At||_t?nt+=1:_t||(et&&(nt+=1),Pt&&(nt+=1),Je&&!Qe&&(nt+=1),Tt&&(nt+=1),mt&&(nt+=1),dt&&(nt+=1),zt&&(nt+=1)),nt}h(Nt,"getNumInsetButtons");var Ft=e("yHuM"),_n=e("j4mf");const cn=new q.b("share-dialog");function Rn(vt){let{numCharsOverLimit:Je=0}=vt;return Je<=0?null:u.a.createElement(Vt.c,{tip:cn.rt("Your message is {count, plural, =1 {# character} other {# characters}} too long",{count:Je}),zIndex:"menu",position:"top-right"},u.a.createElement("div",{className:"c-texty_input_unstyled__warning"},"-",Object(_n.b)(Je)))}h(Rn,"TextyLengthWarning"),Rn.displayName="TextyLengthWarning";var Vn=u.a.memo(Rn),ea=e("wTse");function Lt(){return Lt=Object.assign||function(vt){for(var Je=1;Je<arguments.length;Je++){var et=arguments[Je];for(var mt in et)Object.prototype.hasOwnProperty.call(et,mt)&&(vt[mt]=et[mt])}return vt},Lt.apply(this,arguments)}h(Lt,"_extends");const vn=new q.b("msg_input"),Wn={LARGE:"large",MEDIUM:"medium"},Nn={numCharsOverLimit:0,tooltipShowing:!1,tooltipMemberId:void 0,tooltipUserGroupId:void 0,tooltipChannelId:void 0,tooltipTitle:void 0,tooltipTargetBounds:void 0,indicateTopScroll:!1,indicateBottomScroll:!1};let ia=h(class extends T.b{componentDidMount(){var Je,et;const{initialText:mt,focusOnMount:Pt,teamId:Tt,onMount:Qt,useExpandedRichText:dt}=this.props;if(dt?this.instance=new N.a(this.container,this.getOptions()):this.instance=new z.a(this.container,this.getOptions()),this.setupInputListeners(),!this.instance){Object(E.a)({teamId:Tt}).error("TextyInput: could not create instance");return}(et=(Je=this).contextSetTextyInstance)===null||et===void 0||et.call(Je,this.instance),mt&&(this.value(mt,{isSilent:!0}),this.clearHistory()),this.onMountTimeout=window.setTimeout(()=>{Pt&&this.setCursorAtEnd(),Qt&&Qt()},0),this.handlePropChanges()}componentDidUpdate(Je){this.handlePropChanges(Je)}componentWillUnmount(){this.unmountPlaceholder(),this.removeInputListeners(),this.instance&&this.instance.unload(),this.onMountTimeout&&clearTimeout(this.onMountTimeout)}setupInputListeners(){this.setupScrollListener(),this.setupResizeListener()}removeInputListeners(){var Je,et;const mt=(Je=this.instance)===null||Je===void 0||(et=Je.quill)===null||et===void 0?void 0:et.root;mt&&(mt.removeEventListener("scroll",this.scrollListenerRaf),this.resizeListener.disconnect())}calculateInputOffsetScroll(){var Je,et;const mt=(Je=this.instance)===null||Je===void 0||(et=Je.quill)===null||et===void 0?void 0:et.root,Pt=mt.scrollHeight>mt.clientHeight,Tt=Pt&&mt.scrollTop>0,Qt=Pt&&mt.scrollTop<mt.scrollHeight-mt.clientHeight;this.setState(()=>({indicateTopScroll:Tt,indicateBottomScroll:Qt}))}setupResizeListener(){var Je,et;const mt=(Je=this.instance)===null||Je===void 0||(et=Je.quill)===null||et===void 0?void 0:et.root;mt&&(this.resizeListener=Object(V.a)(()=>{this.calculateInputOffsetScroll()},250),this.resizeListener.observe(mt))}scrollListenerRaf(){this.scrollTicking||(this.window.requestAnimationFrame(()=>{this.calculateInputOffsetScroll(),this.scrollTicking=!1}),this.scrollTicking=!0)}setupScrollListener(){var Je,et;const mt=(Je=this.instance)===null||Je===void 0||(et=Je.quill)===null||et===void 0?void 0:et.root;mt&&mt.addEventListener("scroll",this.scrollListenerRaf)}onMouseOut(Je){const{showTextyTooltips:et}=this.props;et&&!this.mentionReplaceTimer&&(Je.target.classList.contains("c-member_slug")||Je.target.classList.contains("emoji"))&&this.hideTooltip()}onMouseOver(Je){const{showTextyTooltips:et}=this.props;et&&(Je.target.classList.contains("c-member_slug")||Je.target.classList.contains("emoji"))&&this.showTooltip(Je.target,Je)}onTextChange(Je,et,mt){p.a.unstable_batchedUpdates(()=>{const{onTextChange:Pt,useWysiwyg:Tt,isPlainTextModeEnabledPref:Qt}=this.props,{tooltipShowing:dt}=this.state;this.updateActiveFormats(),this.updateToolbarPosition(),Tt&&!Qt&&this.props.closeTextyModals(void 0),!this.mentionReplaceTimer&&dt&&this.hideTooltip(),Object(Wt.e)(),Object(Vt.d)(this.window);const zt=h(()=>{const Qe=this.container.querySelector(".ql-editor");return Qe.clientHeight<Qe.scrollHeight},"getHasScrollbar"),At=this.getNumCharsOverLimit();this.setState(()=>({numCharsOverLimit:At})),this.hideToolbarOverflow(),Pt&&Pt(Je,zt,et,mt)})}hasWarning(){const{numCharsOverLimit:Je}=this.state;return Je>0}getNumCharsOverLimit(){const{maxLength:Je,useWysiwyg:et}=this.props,mt=Je||0;if(mt<=0||mt>200&&this.instance.getLength()<mt/2)return 0;let Pt;const Tt=this.instance.getDelta();return et?Pt=Object(D.a)(Tt):Pt=Object(I.a)({contents:Tt.ops}).length,Math.max(0,Pt-mt)}onSelectionChange(Je){p.a.unstable_batchedUpdates(()=>{const{onSelectionChange:et,textyModalIsOpen:mt}=this.props;this.updateActiveFormats(),this.preventToolbarOnNextSelection||mt||!Je||!Je.length?(this.preventToolbarOnNextSelection=!1,this.resetToolbarPosition()):this.updateToolbarPosition(),this.hideToolbarOverflow(),et&&et(Je)})}onScrollOptimize(){this.updateActiveFormats(),this.updateToolbarPosition()}onResize(){this.updateToolbarPosition()}onDrop(Je){const et=this.props.dragLinksToComposer({dragEvent:Je,inputProxy:this.instance});et!=null&&et.length&&this.insertContentsAtCursor({contents:{ops:et.ops}})}onLinkClick(Je,et,mt,Pt){const{isPlainTextModeEnabledPref:Tt}=this.props;if(Tt)return;const Qt=this.instance.getSelection(),dt=Object(Ut.a)(mt.ops,{embedReplacement:"\uE000"}),zt=dt.indexOf("\uE000")===-1;this.preventToolbarOnNextSelection=!0,this.instance.setSelection(Pt.index,Pt.length),this.props.openTextyEditLinkModal({initialRange:Qt,adjustedRange:Pt,anchorElement:Je,initialText:dt,initialUrl:et,textIsEditable:zt,initialContents:mt,source:Ve.MsgFormattingInputSource.TOOLBAR,quill:this.instance.quill})}onMentionReplace(Je){let{replacements:et,isLastReplacement:mt}=Je;if(!mt||et.length!==1||et[0].id==="UNVERIFIED")return;const Pt=this.container.querySelectorAll(`ts-mention[data-id=${et[0].id}]`);if(Pt.length!==1||Pt[0].offsetTop<this.container.offsetTop)return;const Tt=et[0].id,Qt=Object(Ie.a)(Tt)?Tt:void 0,dt=Object(Ne.a)(Tt)?Tt:void 0,zt=Object(Ke.a)(Tt)?Tt:void 0;this.setState(()=>({tooltipShowing:!0,tooltipMemberId:Qt,tooltipUserGroupId:dt,tooltipChannelId:zt,tooltipTitle:void 0,tooltipTargetBounds:Pt[0].getBoundingClientRect()})),this.mentionReplaceTimer=window.setTimeout(()=>{this.mentionReplaceTimer=null,this.hideTooltip()},1500)}getOptions(){const{id:Je,ariaLabel:et,ariaLabelledBy:mt,ariaDescribedBy:Pt,ariaAutocomplete:Tt,ariaControls:Qt,ariaExpanded:dt,ariaActiveDescendant:zt,inputMetricBoundary:At,onEnter:Qe,onPlusMenuShortcut:nt,onEscape:_t,onTab:Et,isSingleLine:kt,enableBroadcastKeywords:jn,includeAllBroadcastKeywords:pn,showTextyTooltips:An,teamId:lt,isPlainTextModeEnabledPref:Dn,useWorkflowTokens:fn,useExpandedRichText:kn,workflowTokenClick:wn,useWysiwyg:fa,enableStickyComposer:In,onBackspace:ha,forceChannelTaggingDisabled:Dt,forceAutoslugginEnabled:jt,role:$t,window:Tn,isMultiverseQuillEnabled:dn,experimentBkRichTextWfbGroupOn:Un}=this.props;return{id:Je,modules:{keyboard:this.getKeyboardModule(),slackmention:!0,textsubstitutions:this.getTextSubstitutionsModule(),clipboard:this.getClipboardModule(),tabcomplete:this.getTabCompleteModule(),cleanembedsincode:!0,cleanemptyinput:!0,cleanworkflowtokens:fn&&Un,slackhorizontalrule:kn,slackdocslist:kn},onBlur:()=>{var Bn,Kt,Kn,aa;this.hideToolbarOverflow(),(Kt=(Bn=this).contextSetIsFocused)===null||Kt===void 0||Kt.call(Bn,!1),(aa=(Kn=this.props).onBlur)===null||aa===void 0||aa.call(Kn)},onFocus:()=>{var Bn,Kt,Kn,aa;(Kt=(Bn=this.props).onFocus)===null||Kt===void 0||Kt.call(Bn),(aa=(Kn=this).contextSetIsFocused)===null||aa===void 0||aa.call(Kn,!0)},onEnter:Qe?Bn=>{var Kt,Kn;return(Kn=(Kt=this.props).onEnter)===null||Kn===void 0?void 0:Kn.call(Kt,Bn)}:void 0,onBackspace:ha?()=>{var Bn,Kt;return(Kt=(Bn=this.props).onBackspace)===null||Kt===void 0?void 0:Kt.call(Bn)}:void 0,onEscape:()=>{if(this.contextRequestFloatingToolbarClose&&this.contextRequestFloatingToolbarClose(),_t)return this.props.onEscape?this.props.onEscape():void 0},onTab:Et?Bn=>{var Kt,Kn;return(Kn=(Kt=this.props).onTab)===null||Kn===void 0?void 0:Kn.call(Kt,Bn)}:void 0,onTextChange:this.onTextChange,onSelectionChange:this.onSelectionChange,onScrollOptimize:this.onScrollOptimize,onCompositionEnd:this.props.onCompositionEnd,onResize:this.onResize,onLinkClick:this.onLinkClick,showLinkForm:this.showLinkForm,singleLineInput:kt,enableBroadcastKeywords:jn,includeAllBroadcastKeywords:pn,isJumbomojiEnabled:()=>Object(n.a)(this.props.enableJumbomoji)?this.props.enableJumbomoji():this.props.enableJumbomoji,convertEmoticonsIsEnabled:()=>this.props.enableEmoticons,replaceNativeEmoji:!0,usePlainTextMode:Dn,inlineEmojiIsEnabled:()=>!this.props.isEmojiDisplayedAsText,getLocale:()=>this.props.locale,getTeamId:()=>this.props.teamId,getChannelId:()=>this.props.channelId,getUserHighlightWords:()=>this.props.userHighlightWords,isAutocompleteOpen:()=>this.props.isAutocompleteOpen,promiseToSearchMembers:this.promiseToSearchMembers,promiseToSearchChannels:this.promiseToSearchChannels,promiseToSearchEmoji:this.promiseToSearchEmoji,onMentionReplace:this.onMentionReplace,className:"c-texty_input_unstyled",inputMetricBoundary:At,ariaLabel:et,ariaLabelledBy:mt,ariaDescribedBy:Pt,ariaAutocomplete:Tt,ariaControls:Qt,ariaExpanded:dt,ariaActiveDescendant:zt,tabIndex:"0",showTextyTooltips:An,getEmojiNames:()=>this.props.emojiNames,logger:Object(E.a)({teamId:lt}),useWorkflowTokens:fn,useExpandedRichText:kn,workflowTokenClick:wn,onPlusMenuShortcut:nt,nestedListDepth:M.D,useWysiwyg:fa,useStickyComposer:!1,enableStickyComposer:In,useChannelTagging:!Dt,forceAutoslugginEnabled:jt,scrollingContainerSelector:"c-texty_input_unstyled__container",role:$t,window:Tn,isMultiverseQuillEnabled:dn}}getKeyboardModule(){const{featureReactMessages:Je,onCmdLeftWhenEmpty:et,onCmdRightWhenEmpty:mt,onCmdZWhenEmpty:Pt,onCmdKWhenSelected:Tt,onDownArrowWhenEmpty:Qt,onUpArrow:dt,onDownArrow:zt,onRightArrow:At,onLeftArrow:Qe,onSelectAll:nt,onPageUp:_t,onPageDown:Et}=this.props,kt={featureReactMessages:Je,onCmdLeftWhenEmpty:et,onCmdRightWhenEmpty:mt,onCmdZWhenEmpty:Pt,onCmdKWhenSelected:Tt,onDownArrowWhenEmpty:Qt,shouldInsertNewline:(jn,pn)=>this.props.isSingleLine?!1:Object(ze.a)({...jn,enterCreatesNewlinePref:this.props.enterCreatesNewlinePref,isCursorInPreBlock:this.instance.isCursorInPreBlock(),usePreNewlines:this.props.usePreNewlines,followsTripleBackticks:pn})};return dt&&(kt.onUpArrow=()=>dt({}),kt.onUpArrowCmd=()=>dt({cmdKey:!0}),kt.onUpArrowShift=()=>dt({shiftKey:!0})),zt&&(kt.onDownArrow=()=>zt({}),kt.onDownArrowCmd=()=>zt({cmdKey:!0}),kt.onDownArrowShift=()=>zt({shiftKey:!0})),At&&(kt.onRightArrow=()=>At()),Qe&&(kt.onLeftArrow=()=>Qe()),nt&&(kt.onSelectAll=()=>nt()),_t&&(kt.onPageUp=()=>_t()),Et&&(kt.onPageDown=()=>Et()),kt}getTabCompleteModule(){const{autocompleteConfig:Je}=this.props;return Je?{tooltipIsShowing:()=>this.state.tooltipShowing,tooltipShow:et=>{this.showTooltip(et)},tooltipHide:()=>{this.hideTooltip()},...Je}:null}getTextSubstitutionsModule(){return this.props.disableTextSubstitutions?null:{getTextPreferences:()=>this.props.isAutocompleteOpen?null:Object(te.b)()}}getContents(){return this.instance.getContents()}getText(){return this.instance.getText()}getContentsForRange(Je,et){return this.instance.getContentsForRange(Je,et)}getSelection(){return this.instance.getSelection()}getFormatForQuotedObjects(Je){var et,mt,Pt,Tt,Qt,dt,zt;const At=this.instance.getFormat(Je),Qe=Mt({blockType:"list-item",quill:this.instance.quill,range:Je}),nt=Qe&&(Qe==null?void 0:Qe.length)>0&&this.instance.quill.getLines(Qe),_t=Object(t.a)(nt);if((_t==null||(et=_t.statics)===null||et===void 0?void 0:et.blotName)==="block"&&(_t==null||(mt=_t.children)===null||mt===void 0||(Pt=mt.head)===null||Pt===void 0||(Tt=Pt.statics)===null||Tt===void 0?void 0:Tt.blotName)==="break"&&(_t==null||(Qt=_t.children)===null||Qt===void 0||(dt=Qt.tail)===null||dt===void 0||(zt=dt.statics)===null||zt===void 0?void 0:zt.blotName)==="break"&&nt.pop(),nt!=null&&nt.length){let Et=!1;if(Et=Object(st.a)(nt),Et){const kt=this.instance.getFormat(Qe);return{...At,...kt,blockquote:!0}}}}getFormat(Je){return this.getFormatForQuotedObjects(Je)||this.instance.getFormat(Je)}getLength(){return this.instance.getLength()}getClipboardModule(){const{onPasteLimit:Je,openSnippetDialog:et,isCsvTsvPastingEnabled:mt}=this.props;return{shouldFocusOnPaste:()=>this.props.focusOnPaste&&this.props.isAttentionOnChat,showMarkdownPasteToast:this.props.showMarkdownPasteToast,showCsvTsvPasteToast:this.props.showCsvTsvPasteToast,getChannelId:()=>this.props.channelId,getThreadTs:()=>this.props.threadTs,onPasteLimit:(Pt,Tt)=>Tt&&Tt.length()>M.I?(Pt.stopPropagation(),Pt.preventDefault(),Je?Je(Pt,Tt):this.props.openModal({element:this.renderPasteLimitDialog(),isStackable:!0}),!0):!1,onPaste:()=>this.props.onPaste?this.props.onPaste():!1,openCsvTsvSnippetDialog:(Pt,Tt)=>{et&&et({initialText:Pt,initialChannelId:this.props.channelId,threadTs:this.props.threadTs,viewContext:this.props.viewContext||"",initialType:"tsv",initialContents:{contents:Tt.ops}})},getCsvTsvPastingEnabled:()=>mt}}setContainerRef(Je){this.container=Je}setContents(Je){return this.instance.setContents(Je)}setCursorAtEnd(){this.instance.setSelectionAtEnd()}isCursorAtStart(){return this.instance.getSelection().index===0}maybeTriggerMentionAutocomplete(){this.instance.maybeTriggerMentionAutocomplete()}setCursor(Je){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.container&&this.instance.setSelection(Je,et)}insertContentsAtCursor(Je){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"user";this.container&&this.instance.insertContentsAtCursor(Je,et,mt)}clearHistory(){return this.instance.clearHistory()}isEnabled(){return this.instance.isEnabled()}prependContents(Je){return this.instance.prependContents(Je)}value(Je){let{isSilent:et}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{userHighlightWords:mt,isEmojiDisplayedAsText:Pt,emojiNames:Tt,locale:Qt,useWorkflowTokens:dt,workflowTokens:zt,tagChannelsAsSearchGeneric:At,forceChannelTaggingDisabled:Qe}=this.props;if(Je!==void 0){if(Object(a.a)(Je))this.clear();else{let nt=Je;Object(s.a)(Je)&&(nt=Object(S.b)(Je,{highlightWords:mt,shouldRenderEmojiAsText:Pt,emojiNames:Tt,locale:Qt,workflowTokens:dt?zt:void 0,useChannelTagging:!Qe,tagChannelsAsSearchGeneric:At}));const _t={};et&&(_t.source="silent"),this.instance.setContents(nt,_t)}return}return Object(W.a)(this.instance.getContents(),{tagChannelsAsSearchGeneric:At})}displayValue(){return Object(I.a)(this.instance.getContents(),this.props.userHighlightWords)}clear(){let{isSilent:Je=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.instance.clear({is_silent:Je})}handlePropChanges(){let Je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{placeholder:et,enableSpellCheck:mt,isDisabled:Pt,isPlainTextModeEnabledPref:Tt,overlayIsOpen:Qt,ariaLabel:dt,ariaDescribedBy:zt,enableBroadcastKeywords:At,ariaActiveDescendant:Qe,teamId:nt,useExpandedRichText:_t}=this.props;if(Je.enableSpellCheck!==mt&&this.container.querySelector("[contenteditable=true]").setAttribute("spellcheck",mt),Je.isDisabled!==Pt&&(Pt?this.instance.disable():this.instance.enable()),Je.placeholder!==et&&this.updatePlaceholder(),Je.ariaActiveDescendant&&Qe&&Je.ariaActiveDescendant!==Qe&&this.instance.setActiveDescendant(Qe),Je.ariaLabel!==dt&&this.instance.setAriaLabel(dt),Je.ariaDescribedBy!==zt&&this.instance.setAriaDescribedBy(zt),Object(l.a)(Je.isPlainTextModeEnabledPref)&&Object(l.a)(Tt)&&Je.isPlainTextModeEnabledPref!==Tt||Object(l.a)(Je.enableBroadcastKeywords)&&Object(l.a)(At)&&Je.enableBroadcastKeywords!==At&&Je.channelId===this.props.channelId){var Et,kt;Object(E.a)({teamId:nt}).info("Texty-Input",`Recreates the texty class instance for channelId ${this.props.channelId} `);const jn=this.getContents();this.instance&&this.instance.unload(),_t?this.instance=new N.a(this.container,this.getOptions()):this.instance=new z.a(this.container,this.getOptions()),(kt=(Et=this).contextSetTextyInstance)===null||kt===void 0||kt.call(Et,this.instance),this.setContents(jn),Qt||this.setCursorAtEnd(),this.updatePlaceholder()}}focus(){this.instance.focus()}blur(){this.instance.blur()}selectAll(){this.instance.selectAll()}isEmpty(){let{doIgnoreWhitespace:Je=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=this.value();return et&&Je&&(et=et.trim()),!et}hasFocus(){var Je;return(Je=this.instance)===null||Je===void 0?void 0:Je.hasFocus()}resetToolbarPosition(){this.contextSetToolbarPositionData&&this.contextSetToolbarPositionData(void 0)}updateToolbarPosition(){const{enableStickyComposer:Je,useStickyComposer:et,useWysiwyg:mt,isPlainTextModeEnabledPref:Pt}=this.props;if(!mt||Pt||et&&Je)return;const Tt=this.getSelection();if(!Tt||!Tt.length){this.resetToolbarPosition();return}const Qt=this.instance.quill.getBounds(Tt.index,Tt.length),dt=getComputedStyle(this.instance.quill.root),zt=this.instance.quill.root.clientWidth-parseInt(dt.paddingLeft,10)-parseInt(dt.paddingRight,10),At=this.instance.quill.root.parentNode.getBoundingClientRect(),Qe=(At==null?void 0:At.left)||0,nt=(At==null?void 0:At.top)||0,_t=(At==null?void 0:At.width)||0,Et={rect:Qt,editorWidth:zt,containerLeftBound:Qe,containerTopBound:nt,containerWidthBound:_t,viewportWidth:this.window.document.documentElement.clientWidth};this.contextSetToolbarPositionData&&this.contextSetToolbarPositionData(Et)}hideToolbarOverflow(){this.contextSetToolbarOverflowVisible&&this.contextSetToolbarOverflowVisible(!1)}updateActiveFormats(){const Je=this.getSelection(),et=Je?this.getFormat(Je):{},mt=Object.keys(et).map(Pt=>{if(Pt==="header")return`h${et[Pt]}`;if(Pt==="list"){if(et[Pt]==="bullet")return"bullet-list";if(et[Pt]==="ordered")return"ordered-list";if(et[Pt]==="unchecked")return"check-list"}return Pt});this.contextSetActiveFormats&&this.contextSetActiveFormats(Pt=>Object(o.a)(Pt,mt)?Pt:mt)}showTooltip(Je,et){if(this.getSelection().length>0)return;const mt=Je.getAttribute("data-id"),Pt=mt!=="UNVERIFIED"&&Object(Ie.a)(mt)?mt:null,Tt=mt!=="UNVERIFIED"&&Object(Ne.a)(mt)?mt:null,Qt=Object(Ke.a)(mt)?mt:null,dt=Je.getAttribute("data-title");if(!Je.classList.contains("emoji")&&!dt&&!(Pt||Qt||Tt))return;this.mentionReplaceTimer&&(clearTimeout(this.mentionReplaceTimer),this.mentionReplaceTimer=null);const At=Je.getClientRects(),Qe=et&&Array.from(At).find(nt=>et.clientY>=nt.top&&et.clientY<=nt.bottom&&et.clientX>=nt.left&&et.clientX<=nt.right)||At[0];this.setState(()=>({tooltipShowing:!0,tooltipMemberId:Pt,tooltipUserGroupId:Tt,tooltipChannelId:Qt,tooltipTitle:dt,tooltipTargetBounds:Qe}))}hideTooltip(){this.setState(()=>({tooltipShowing:!1,tooltipMemberId:void 0,tooltipUserGroupId:void 0,tooltipChannelId:void 0,tooltipTitle:void 0,tooltipTargetBounds:void 0}))}showLinkForm(Je){let{source:et}=Je;this.preventToolbarOnNextSelection=!0,this.props.openTextyLinkFormBasedOnSelection({textyInstance:this.instance,source:et})}promiseToSearchMembers(Je){const{channelId:et,enableBroadcastKeywords:mt,includeAllBroadcastKeywords:Pt}=this.props;return this.props.autocompleteMembers({query:Je,enableBroadcastKeywords:mt,includeAllBroadcastKeywords:Pt,channelId:et})}promiseToSearchChannels(Je){return this.props.autocompleteChannels({query:Je})}promiseToSearchEmoji(Je,et){return this.props.autocompleteEmoji({query:Je,useSearcherSessions:et})}renderPasteLimitDialog(){return u.a.createElement(X.a,{title:vn.t("That\u2019s a bit too long to paste"),goButtonText:vn.t("OK")},vn.t("To keep things running smoothly, there\u2019s a limit on the number of characters you can paste into Slack."))}updatePlaceholder(){var Je;const{placeholder:et,teamId:mt}=this.props,Pt=(Je=this.container)===null||Je===void 0?void 0:Je.querySelector(".ql-placeholder");_(mt,Pt,et)}unmountPlaceholder(){var Je;const et=(Je=this.container)===null||Je===void 0?void 0:Je.querySelector(".ql-placeholder");j(et)}render(){var Je=this;const{className:et,isExpanded:mt,isInvalid:Pt,isSingleLine:Tt,maxLines:Qt,minLines:dt,useFocusRing:zt,size:At,enableActionsButton:Qe,experimentIncreaseListSpacingGroupTreatment:nt,a11yUnderlineLinks:_t}=this.props,{numCharsOverLimit:Et,tooltipShowing:kt,tooltipMemberId:jn,tooltipUserGroupId:pn,tooltipChannelId:An,tooltipTitle:lt,tooltipTargetBounds:Dn,indicateTopScroll:fn,indicateBottomScroll:kn}=this.state,wn=Object(f.a)(dt)&&dt>0?dt:1,fa=Object(f.a)(Qt)&&Qt>0?Qt:void 0,In=Object(v.default)("c-texty_input_unstyled__container",`c-texty_input_unstyled__container--size_${At}`,{"c-texty_input_unstyled__container--multi_line":!Tt,"c-texty_input_unstyled__container--single_line":Tt,"c-texty_input_unstyled__container--use_focus_ring":zt,"c-texty_input_unstyled__container--expanded":mt,"c-texty_input_unstyled__container--invalid":Pt,"c-texty_input_unstyled__container--no_actions":!Qe,"c-texty_input_unstyled__container--with_warning":this.hasWarning(),"c-texty_input_unstyled__container--increased_list_spacing":nt,"c-texty_input_unstyled__container--with_underlined_links":_t,"c-texty_input_unstyled__container--multiline_overflow--top":!Tt&&fn,"c-texty_input_unstyled__container--multiline_overflow--bottom":!Tt&&kn});return u.a.createElement("div",{className:In,"data-buttons":Nt(this.props)},u.a.createElement("div",Lt({className:et},Object(G.a)(this.props),{"data-min-lines":wn,"data-max-lines":fa,ref:this.setContainerRef,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onDrop:this.onDrop,onFocus:r.a,onBlur:r.a})),this.hasWarning()&&u.a.createElement(Vn,{numCharsOverLimit:Et}),kt&&u.a.createElement(Ft.a,{memberId:jn,userGroupId:pn,channelId:An,title:lt,targetBounds:Dn}),u.a.createElement(ea.a.Consumer,null,function(){let{setTextyInstance:ha,setIsFocused:Dt,setActiveFormats:jt,setToolbarOverflowVisible:$t,setToolbarPositionData:Tn,requestFloatingToolbarClose:dn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Je.contextSetTextyInstance=ha,Je.contextSetIsFocused=Dt,Je.contextSetActiveFormats=jt,Je.contextSetToolbarOverflowVisible=$t,Je.contextSetToolbarPositionData=Tn,Je.contextRequestFloatingToolbarClose=dn}))}constructor(Je){super(Je),this.container=null,this.instance=null,this.resizeListener=null,this.setContainerRef=this.setContainerRef.bind(this),this.mentionReplaceTimer=null,this.toolbarRef=u.a.createRef(),this.preventToolbarOnNextSelection=!1,this.scrollTicking=!1,this.window=Je.window||window,Object(m.a)(this,["promiseToSearchMembers","promiseToSearchChannels","promiseToSearchEmoji","onMouseOver","onMouseOut","onTextChange","onSelectionChange","onScrollOptimize","onResize","onLinkClick","showLinkForm","onMentionReplace","displayValue","hideToolbarOverflow","resetToolbarPosition","calculateInputOffsetScroll","setupInputListeners","removeInputListeners","scrollListenerRaf","onDrop"]),this.state={...Nn}}},"TextyInput");ia.displayName="TextyInput",ia.defaultProps={onCompositionEnd:r.a,onMount:r.a,onFileMenuOpen:r.a,onFileMenuClose:r.a,forceFileMenuOpen:!1,sendMessage:r.a,openSnippetDialog:r.a,isSingleLine:!1,isAttentionOnChat:!1,enableJumbomoji:!1,enableSpellCheck:!1,enableEmoticons:!1,enableStickyComposer:!1,overlayIsOpen:!1,isPlainTextModeEnabledPref:!1,autocompleteChannels:()=>O.a.resolve(),showMarkdownPasteToast:r.a,showCsvTsvPasteToast:r.a,enterCreatesNewlinePref:!1,forceEnterCreatesNewline:!1,isDisabled:!1,isExpanded:!1,isEmojiDisplayedAsText:!1,focusOnMount:!1,focusOnPaste:!1,minLines:1,maxLines:void 0,maxLength:void 0,openModal:r.a,autocompleteMembers:r.a,featureReactMessages:!0,showTextyTooltips:!0,isAutocompleteOpen:!1,enableBroadcastKeywords:!0,includeAllBroadcastKeywords:!1,usePreNewlines:!1,useFocusRing:!0,workflowTokens:[],workflowTokenClick:r.a,size:Wn.MEDIUM,isInvalid:!1,renderFileMenu:r.a,useWysiwyg:!1,useStickyComposer:!0,useWorkflowTokens:!1,useExpandedRichText:!1,enableActionsButton:!1,forceChannelTaggingDisabled:!1,forcePlainTextModeDisabled:!1,forceAutoslugginEnabled:!1,openTextyEditLinkModal:r.a,openTextyLinkFormModal:r.a,openTextyLinkFormBasedOnSelection:r.a,closeTextyModals:r.a,textyModalIsOpen:!1,onScheduleSend:r.a,autocompleteEmoji:r.a,experimentIncreaseListSpacingGroupTreatment:!1,isCsvTsvPastingEnabled:!1,tagChannelsAsSearchGeneric:!1,a11yUnderlineLinks:!1,dragLinksToComposer:r.a,experimentBkRichTextWfbGroupOn:!1};const Ea=h((vt,Je)=>{const{isExpanded:et,forcePlainTextModeDisabled:mt,forceEnterCreatesNewline:Pt}=Je,Tt=Object(Xt.p)(vt),Qt=Object(Z.g)(vt);return{teamId:Object(x.h)(vt),enableSpellCheck:!!Object(k.u)(vt,"webapp_spellcheck"),userHighlightWords:Object(F.a)(vt),isEmojiDisplayedAsText:Object(H.a)(vt),overlayIsOpen:Qt,enableEmoticons:!!Object(k.u)(vt,"convert_emoticons"),enableStickyComposer:Tt,locale:Object(q.m)(),emojiNames:Object(L.c)(vt),enterCreatesNewlinePref:Pt?!0:Object(P.a)(vt,et),usePreNewlines:!!Object(k.u)(vt,"enter_is_special_in_tbt"),isPlainTextModeEnabledPref:mt?!1:!!Object(k.u)(vt,"plain_text_mode"),isAttentionOnChat:Object(Z.h)(vt),textyModalIsOpen:Object($e.a)(Object(se.a)(vt).map(dt=>dt.name||"")),a11yUnderlineLinks:!!Object(k.u)(vt,"underline_links"),experimentIncreaseListSpacingGroupTreatment:Object(A.d)(vt,"increase_list_spacing")==="treatment",experimentBkRichTextWfbGroupOn:Object(A.d)(vt,"bk_rich_text_wfb")==="on"}},"texty_input_mapStateToProps"),bn={openModal:$.a,autocompleteMembers:Y.a,autocompleteChannels:ee.a,autocompleteEmoji:w.a,showMarkdownPasteToast:Ee,showCsvTsvPasteToast:Ge,openTextyEditLinkModal:vt=>Object(B.a)(vt),openTextyLinkFormModal:vt=>Object(R.b)(vt),closeTextyModals:K.a,openTextyLinkFormBasedOnSelection:vt=>Object(U.a)(vt),dragLinksToComposer:vt=>Object(tt.a)(vt)};var Xn=i.a=Object(g.a)(Ea,bn,null,{forwardRef:!0})(ia)},VO0X:function(J,i,e){"use strict";var n=e("n3tL"),t=e("mM05"),a=e.n(t),s=e("gSGL"),l=e("dYt1"),o=e("SQ0V"),f=e("7INw"),r=e("Wya+"),m=e("ktUG"),c=e("rneN"),u=e("mSgU"),d=e("Y/OQ");const p=h(()=>{const y=u.d.map(C=>`\\${C}`);return y.push("\\s"),y.push("\\ue000"),new RegExp(`[${y.join("")}]+$`)},"trailingPunctuationRegex"),v=h(()=>{const y=u.b.map(C=>`\\${C}`);return y.push("\\s"),y.push("\\ue000"),new RegExp(`^[${y.join("")}]+`)},"leadingPunctuationRegex"),g=h(()=>{if(!g.resultMemo){const y=u.c.reduce((C,_)=>({pairsByOpening:{...C.pairsByOpening,[_[0]]:_},pairsByClosing:{...C.pairsByClosing,[_[1]]:_}}),{pairsByOpening:{},pairsByClosing:{}});g.resultMemo=y}return g.resultMemo},"getPermissibleCharPairsByChar"),O=h(function(y){let{isTrailing:C=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=0;const j=C?p:v,E=y.match(j());if(!E)return _;const{pairsByOpening:M,pairsByClosing:T}=g(),P=y.split(""),B=[...P].reverse(),R=E[0].split("");for(let U=0;U<R.length;U+=1){const K=C?P.length-1-U:U,V=y[K],z=C?T[V]:M[V];if(!z){_+=1;continue}const[N,A]=z;let x=0;if(C?B.slice(U).forEach(k=>{k===A?x+=1:k===N&&(x-=1)}):P.slice(U).forEach(k=>{k===N?x+=1:k===A&&(x-=1)}),x>0)_+=1;else break}return _},"getTrimLength"),b=Object(o.c)("Opens the Texty create link or edit link dialogs based on the current selection",(y,C,_)=>{let{textyInstance:j,source:E}=_;const M=j.getSelection(),T=j.getFormat(M);let P="";M.length>0&&(P=Object(d.a)(j.getContentsForRange(M.index,M.length).ops,{embedReplacement:"\uE000"}));const B=T.link&&Object(s.a)(T.link)?T.link:void 0;let R=Object(l.a)(M);const U=O(P);U&&(P=P.substr(U),R={index:R.index+U,length:P.length});const K=O(P,{isTrailing:!0});if(K&&(P=P.substr(0,P.length-K),R={index:R.index,length:P.length}),!R.length&&T.link){const[z]=j.quill.getLeaf(R.index),N=z&&z.domNode&&z.domNode.parentNode&&z.domNode.parentNode.closest("a");if(!N||!j.quill.root.contains(N))return;R=Object(c.a)(new a.a(j.getContents().contents),{index:R.index,length:0},j.getFormat({index:R.index,length:0}));const A=j.getContentsForRange(R.index,R.length);P=Object(d.a)(A.ops,{embedReplacement:"\uE000"});const x=P.indexOf("\uE000")===-1;j.setSelection(M.index,M.length),y(Object(f.a)({initialRange:M,adjustedRange:R,anchorElement:N,initialText:P,initialUrl:T.link,textIsEditable:x,initialContents:A,source:m.MsgFormattingInputSource.TOOLBAR,quill:j.quill}));return}const V=P.indexOf(`
`)===-1&&P.indexOf("\uE000")===-1;y(Object(r.b)({initialText:P,initialContents:j.getContentsForRange(R.index,R.length),initialUrl:B,range:R,textIsEditable:V,source:E,quill:j.quill}))});b.meta={name:"createThunk",key:"createThunkopenTextyLinkFormBasedOnSelection",description:"Opens the Texty create link or edit link dialogs based on the current selection"},b.propTypes={textyInstance:n.default.object.isRequired,source:n.default.number.isRequired},i.a=b},VW9X:function(J,i,e){"use strict"},VXbZ:function(J,i,e){"use strict";e.d(i,"b",function(){return l}),e.d(i,"a",function(){return o});var n=e("n3tL"),t=e("SQ0V"),a=e("9avG"),s=e("YOgf");const l=Object(t.c)("Convert delta object to Block Kit",(f,r,m)=>{let{delta:c,convertEmpty:u=!1,trimStartingWhitespace:d=!0,useExpandedRichText:p=!1}=m;return Object(a.b)({delta:c,options:{convertEmpty:u,trimStartingWhitespace:d,useExpandedRichText:p},state:r()})});l.meta={name:"createThunk",key:"createThunkconvertDeltaToBlocksThunk",description:"Convert delta object to Block Kit"},l.propTypes=n.default.shape({delta:n.default.object,convertEmpty:n.default.bool,trimStartingWhitespace:n.default.bool});const o=Object(t.c)("Convert blocks to delta objects",(f,r,m)=>{let{blocks:c}=m;const u=r();return Object(s.a)(u,c)});o.meta={name:"createThunk",key:"createThunkconvertBlocksToDelta",description:"Convert blocks to delta objects"},o.propTypes={blocks:n.default.array}},Ve6K:function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a});var n=e("ZKjC");const t=Object(n.b)(l=>l&&l.fileUpload);t.meta={name:"createSelector",key:"createSelectorgetFileUploadState",description:l=>l&&l.fileUpload};const a=Object(n.b)(l=>l&&l.fileUpload&&l.fileUpload.status);a.meta={name:"createSelector",key:"createSelectorgetFileUploadStatus",description:l=>l&&l.fileUpload&&l.fileUpload.status};const s=Object(n.b)(l=>l&&l.fileUpload&&l.fileUpload.originWindowId);s.meta={name:"createSelector",key:"createSelectorgetFileUploadWindowOriginId",description:l=>l&&l.fileUpload&&l.fileUpload.originWindowId}},VfoO:function(J,i,e){"use strict";var n=e("Lgge"),t=e("b0Xh"),a=e.n(t),s=e("ifKl"),l=e("x6tY");function o(f){const r=f.replace(/^data:([^;]+);base64,/gim,""),m=atob(r),c=m.length,u=new Uint8Array(c);for(let d=0;d<c;d++)u[d]=m.charCodeAt(d);return u.buffer}h(o,"base64ToArrayBuffer"),i.a=function(f){return new n.a((r,m)=>{if(!f||!Object(l.wb)(f)){m(new Error("Invalid file argument provided to getPendingFileData"));return}if(!window.FileReader){m(new Error("Cannot read file data, browser does not support FileReader"));return}if(f.dataUrl){r({dataUrl:f.dataUrl,orientation:f.orientation,width:f.width,height:f.height});return}const c=new FileReader;c.onload=u=>{const d=u.target.result,p=o(d),v=Object(t.readFromBinaryFile)(p),O=v&&typeof v.Orientation=="number"?v.Orientation:null,b=new Image;b.style.imageOrientation="none",document.body.appendChild(b),b.onload=()=>{const y=b.width,C=b.height;document.body.removeChild(b),f.dataUrl=d,f.orientation=O,f.width=y,f.height=C,r({dataUrl:d,orientation:O,width:y,height:C})},b.onerror=()=>{document.body.removeChild(b)},b.src=d},c.onloadstart=u=>{Object(s.a)(u)},c.onerror=u=>{c.abort(),c.error?m(new Error(`FileReader error, ${c.error.name}: ${c.error.message}`)):m(new Error(`FileReader error, type ${u.type}`))},c.readAsDataURL(f)})}},Vk8Z:function(J,i,e){"use strict";e.d(i,"b",function(){return g}),e.d(i,"c",function(){return O}),e.d(i,"a",function(){return b});var n=e("9oTK"),t=e.n(n),a=e("Lgge"),s=e("SQ0V"),l=e("8gWv"),o=e("NOq0"),f=e("I0j/"),r=e("37+L"),m=e("2VFn"),c=e("RV0M"),u=e("E3dU"),d=e("6CnZ"),p=e("cBLH"),v=e("sCfo");const g=Object(s.c)("Open an assisted thread from given context",(y,C,_)=>{let{context:j,action:E,reason:M}=_;return Object(l.b)(C())?y(Object(o.a)({context:j,action:E,reason:M})).then(T=>{const P=j!=null&&j.search_follow_up?void 0:{forceTab:m.d.Assistant};return y(Object(f.a)({...Object(r.g)({channelId:T.channel_id,threadTs:T.thread_ts}),options:P})),T}):a.a.reject(new Error("isAssistantThreadsEnabled not enabled"))});g.meta={name:"createThunk",key:"createThunkopenAssistantThread",description:"Open an assisted thread from given context"};const O=Object(s.c)("Open a assistant thread detail",function(){var y=Object(n.coroutine)(function*(C,_,j,E){const{activeTab:M}=E(c.a),{channelId:T,threadTs:P}=j;T&&P&&C(Object(f.a)({options:{forceTab:M},...Object(r.d)({aiSummaryId:"",channelId:T,threadTs:P,openInPlace:!0,isAssistantThread:!0})}))});return function(C,_,j,E){return y.apply(this,arguments)}}());O.meta={name:"createThunk",key:"createThunkopenAssistantThreadDetail",description:"Open a assistant thread detail"};const b=Object(s.c)("Open a assistant thread detail",function(){var y=Object(n.coroutine)(function*(C,_,j){var E;const{threadTs:M}=j,T="USLACKBOT",P=Object(u.m)(_(),T),B=`${P==null?void 0:P.id}-${M}`,R=Object(d.e)(_(),B),U=R!=null&&R.slices?(E=R==null?void 0:R.slices[0])===null||E===void 0?void 0:E.timestamps.filter(V=>Object(v.a)(V)):[],K=U.length>0?U[0]:null;K&&C(Object(p.d)({channelId:B,timestamp:K}))});return function(C,_,j){return y.apply(this,arguments)}}());b.meta={name:"createThunk",key:"createThunkclearAssistantThreadTempTimestampsForThread",description:"Open a assistant thread detail"}},VmGj:function(J,i,e){"use strict";e.d(i,"a",function(){return j});var n=e("SQ0V"),t=e("dmdh"),a=e("i9jZ"),s=e("4hjS"),l=e("RV0M"),o=e("PIf0"),f=e("6inW"),r=e("HoeF");const m=Object(n.c)("Opens member profile in the huddle window flexpane if the window is open",(E,M,T,P)=>{let{fileId:B}=T;const{window:R,windowId:U}=P(o.a);return Object(f.b)(U)&&!!R?(E(Object(r.L)({fileId:B})),!0):!1});m.meta={name:"createThunk",key:"createThunkopenFileDetailInHuddleWindow",description:"Opens member profile in the huddle window flexpane if the window is open"};var c=e("x6tY"),u=e("I0j/"),d=e("37+L"),p=e("cU/a"),v=e("jJ7u"),g=e("A/ch"),O=e("bcZH"),b=e("uNaj"),y=e("CnKg"),C=e("+kJ4"),_=e("rZ8V");const j=Object(n.c)("Opens the file details flexpane",(E,M,T,P)=>{let{fileId:B,flexOrigin:R,flexOriginId:U,event:K}=T;const V=M(),z=Object(t.e)(V,B),N=Object(a.d)(K),A=Object(s.j)(V),{shouldUseNavigate:x}=P(l.a);if(!E(m({fileId:B}))&&(z&&(Object(c.tb)(z)||Object(c.kb)(z)||Object(c.nb)(z)||Object(c.ob)(z))&&(x||Object(_.n)(M())?E(Object(u.a)(Object(d.x)(B))):E(Object(p.a)({routeName:v.k,flexName:"files",flexParams:{fileId:B},flexOrigin:R,flexOriginId:U,shouldOpenInTile:N}))),!(!z||!Object(c.ac)(z)))){if(x||Object(_.n)(M()))E(Object(u.a)(Object(d.x)(B)));else{let L=R,S=U;if(A===g.a||Object(O.a)(V)){var F;const I=Object(b.a)(),{fileIdOrQuipThreadId:W}=Object(y.i)(I==null||(F=I.params)===null||F===void 0?void 0:F.entityId);L=g.a,S=W}E(Object(p.a)({routeName:v.k,flexName:"files",flexParams:{fileId:B},flexOrigin:L,flexOriginId:S,shouldOpenInTile:N}))}E(Object(C.a)())}});j.meta={name:"createThunk",key:"createThunkpreviewFile",description:"Opens the file details flexpane"}},VnPF:function(J,i,e){"use strict";e.d(i,"b",function(){return l}),e.d(i,"a",function(){return o});var n=e("9oTK"),t=e.n(n),a=e("IJpL"),s=e("1G0c");function l(r){let{teamId:m,userId:c}=r;return Object(s.a)(m).finally(()=>Object(a.b)({teamId:m,userId:c}))}h(l,"clearAllPersistedDataForUserId");function o(r){return f.apply(this,arguments)}h(o,"clearAllPersistedDataExceptForTeamIds");function f(){return f=Object(n.coroutine)(function*(r){if(!Array.isArray(r))throw new Error("teamIds in clearAllPersistedDataExceptForTeamIds must be an array");return Object(s.b)(r).finally(()=>Object(a.a)(r))}),f.apply(this,arguments)}h(f,"_clearAllPersistedDataExceptForTeamIds")},VqrZ:function(J,i,e){"use strict";e.d(i,"b",function(){return n}),e.d(i,"c",function(){return t}),e.d(i,"a",function(){return a}),e.d(i,"d",function(){return s});const n={All:"all",AllInternal:"all-internal",Workspace:"workspace"},t={Internal:"internal",External:"external"},a={All:"all",Internal:"internal",External:"external"};function s(l){return l.type===n.All||l.type===n.AllInternal}h(s,"isStaticWorkspaceFilter")},Vr9G:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("UIWO");function t(a){return!!Object(n.a)(a)}h(t,"isXWSUserGroupsEnabled")},VvJB:function(J,i,e){"use strict";e.d(i,"b",function(){return a}),e.d(i,"c",function(){return s}),e.d(i,"a",function(){return l});var n=e("pu3F"),t=e("uiBO");const a=[n.f.users_select,n.f.conversations_select,n.f.channels_select,n.f.multi_users_select,n.f.multi_conversations_select,n.f.multi_channels_select,n.f.multi_static_select,n.f.multi_external_select,n.f.external_select,n.f.static_select,n.f.datepicker,n.f.timepicker,n.f.range_datepicker,n.f.plain_text_input,n.f.number_input,n.f.radio_buttons,n.f.checkboxes,n.f.password,n.f.rich_text_input,n.f.datetimepicker,n.f.url_text_input,n.f.email_text_input,n.f.file_input],s=[n.f.multi_static_select,n.f.multi_channels_select,n.f.multi_conversations_select,n.f.multi_external_select,n.f.multi_users_select];var l;(function(o){o.message="message",o.message_attachment="message_attachment",o.search="search",o[o.thread=t.b.Thread]="thread",o.block_kit_builder="block_kit_builder",o.delete_dialog="delete_dialog",o.flag_dialog="flag_dialog",o.remove_broadcast_dialog="remove_broadcast_dialog",o.share_dialog="share_dialog",o.app_actions="app_actions",o.app_home="app_home",o.block_kit_builder_template="block_kit_builder_template",o.workflow_message_preview="workflow_message_preview",o.workflow_extension_step="workflow_extension_step",o.all_threads="all_threads",o.all_unreads="all_unreads",o.shared_message="shared_message",o.starred_message="starred_message",o.activity="activity",o.pinned_items="pinned_items",o.modal="modal",o.app_notification_subscription_configuration="app_notification_subscription_configuration",o.view="view",o.draft="draft",o.welcome_message="welcome_message",o.board="board",o.condition="condition",o.profile="profile",o.slack_connect_hub="slack_connect_hub",o.slab_grid_cell="slab_grid_cell",o.channel_set="channel_set",o.quip_unfurl="quip_unfurl",o.workflow_builder="workflow_builder",o.canvas_title="canvas_title",o.sales_home_notification="sales_home_notification",o.search_summary="search_summary",o.ai_summary="ai_summary",o.channel_canvas_share_selection="channel_canvas_share_selection",o.wfb_preview="wfb_preview",o.widget="widget"})(l||(l={}))},Vzni:function(J,i,e){"use strict";e.d(i,"c",function(){return o}),e.d(i,"a",function(){return f}),e.d(i,"b",function(){return r});var n=e("Atq3"),t=e("gNhz"),a=e("x6tY"),s=e("nNoG");const l=new s.b("file-permissions");function o(m){const c=l.t("Can edit"),u=l.t("Can view");switch(m){case t.a.Owner:return l.t("Owner");case t.a.Write:return c;case t.a.Read:return u;default:Object(n.a)(m)}}h(o,"getStringForAccessLevel");function f(m,c){return{label:o(c),value:c,isDisabled:c===t.a.Write&&!Object(a.Yb)(m)}}h(f,"getAccessOption");function r(m){return[t.a.Write,t.a.Read].map(c=>f(m,c))}h(r,"getAccessOptions")},W0Is:function(J,i,e){"use strict";e.d(i,"a",function(){return q});var n=e("9oTK"),t=e("q1tI"),a=e.n(t),s=e("UXvI"),l=e("hbEN"),o=e("zxER"),f=e("Gs4e"),r=e("nNoG"),m=e("Gulw"),c=e("Tm50"),u=e("/MKj"),d=e("oSkh"),p=e("RqXZ"),v=e("c7k8"),g=e("qDEp"),O=e("YVQY"),b=e("JoR1"),y=e("ktUG"),C=e("RVJP");const _=new r.b("gif-picker"),j=h(Y=>{let{gifClickCallback:ee,url:w,id:ne,isSelected:ae,previewUrl:de,name:ge,width:le,height:Q,bytes:ie,previewBytes:oe,isSearchResults:me}=Y;const be=Object(o.c)(Ee=>Object(C.d)(Ee,"native_gif_picker_translation")==="on"),Se=Object(o.c)(Ee=>!Object(b.u)(Ee,"a11y_animations")),[Pe,Ue]=Object(t.useState)(-1),Fe=Object(t.useCallback)(Ee=>{Ee.stopPropagation(),ee(Ee,{previewUrl:de,name:ge,width:le,height:Q,bytes:ie,previewBytes:oe,originalGifUrl:w})},[ee,de,ge,le,Q,ie,oe,w]),je=Object(t.useRef)(null),_e=be?_.t("Play or Pause {gifName}",{gifName:ge}):_.t("Play or Pause {gifName} GIF",{gifName:ge});Object(t.useEffect)(()=>{if(ae){var Ee;je==null||(Ee=je.current)===null||Ee===void 0||Ee.focus(),Ue(0)}else Ue(-1)},[ae,Se]);const pe=Object(t.useMemo)(()=>({eventId:y.EventId.GIFS_SELECTED,onClick:{enableClogAction:!0},uiStep:me?y.UiStep.GIFS_PICKER_SEARCH_RESULTS:y.UiStep.GIFS_PICKER_TRENDING}),[me]),fe=a.a.createElement("span",{className:"sr-only"},ge);return Se?a.a.createElement(O.a,{src:de,animatedSrc:w,title:_e,containerClassname:"p-gif_picker__row_item p-gif_picker__row_item--disable-animations",tabIndex:Pe,onlyEnablePlayPauseButton:!0},Ee=>{let{source:ye}=Ee;return a.a.createElement(g.d,{role:"gridcell",className:"p-gif_picker__row_item_button",onClick:Fe,tabIndex:Pe,key:ne,ref:je,autoClogProps:pe},fe,a.a.createElement("div",{className:"p-gif_picker__row_item_preview",style:{backgroundImage:`url(${ye})`},"data-item-key":ne}))}):a.a.createElement(g.d,{role:"gridcell",className:"p-gif_picker__row_item",onClick:Fe,key:ne,tabIndex:-1,ref:je,autoClogProps:pe},fe,a.a.createElement("div",{className:"p-gif_picker__row_item_preview",style:{backgroundImage:`url(${w})`},"data-item-key":ne}))},"GifListItem");j.displayName="GifListItem";var E=e("/2YZ");const M=h(()=>a.a.createElement("div",{role:"gridcell",className:"p-gif_picker__row_item p-gif_picker__row_item--loading-state","data-qa":"gif-picker-loading-state"}),"GifListItemLoadingState"),T=h(Y=>{let{index:ee,style:w,row:ne,gifResultsMap:ae,isGifSelected:de,onGifSelected:ge,isSearchResults:le}=Y;const Q=Object(t.useCallback)(ie=>{let{row:{items:oe}={items:[]}}=ie;if(oe)return oe.map((me,be)=>{const Se=ae[me],{loading:Pe,id:Ue,content_description:Fe,media_formats:{tinygif:{url:je,dims:_e,size:pe}={url:"",dims:[],size:0},tinygifpreview:{url:fe,size:Ee}={url:"",size:0}}={}}=Se||{},ye=ee*E.f+be,Te=de({gif:Ue,index:ye});return Pe?a.a.createElement(M,{key:Ue}):a.a.createElement(j,{key:Ue,id:Ue,url:je,previewUrl:fe,name:Fe,width:_e[0],height:_e[1],bytes:pe,previewBytes:Ee,gifClickCallback:ge,isSelected:Te,index:ye,isSearchResults:le})})},[ae,de,ee,ge,le]);return a.a.createElement("div",{className:"p-gif_picker__row",style:w},Q({row:ne}))},"GifListRow");T.displayName="GifListRow";var P=e("FAxm"),B=e("1Aeb"),R=e("LTWq"),U=e("khnw"),K=e("1ufr"),V=e("xKHu"),z=e("nwIl"),N=e("Trx9"),A=e("orxu"),x=e("HKlo"),k=e("pjzw"),F=e("gPPH"),L=e("KYpL"),S;(function(Y){Y.CLEAR_SEARCH="gif-picker-clear-search",Y.NO_RESULTS="gif-picker-no-results"})(S||(S={}));var I=e("UnpP");const W=new r.b("gif-picker"),D=Object(t.memo)(Y=>{let{clearSearchResults:ee}=Y;const w=Object(o.c)(ne=>Object(C.d)(ne,"native_gif_picker_translation"))==="on";return a.a.createElement("div",{className:"p-gif_picker__no_results","data-qa":S.NO_RESULTS},a.a.createElement(I.b,{text:"face_with_monocle",showTooltip:!1}),a.a.createElement("div",null,a.a.createElement("h2",{className:"p-gif_picker__no_results__header"},w?W.t("No GIFs to show"):"No GIFs to show"),a.a.createElement("p",{className:"p-gif_picker__no_results__subtext"},w?W.t("You\u2019ve stumped the GIF search. Impressive."):"You\u2019ve stumped the GIF search. Impressive.")),ee?a.a.createElement(g.f,{"data-qa":S.CLEAR_SEARCH,type:"outline",onClick:ee},w?W.t("Clear Search"):"Clear Search"):null)});var H=e("BHdc");const Z=new r.b("gif-picker"),G=30,te=h(Y=>{let{gifs:ee,previousMap:w={}}=Y;const ne={...w};return ee.reduce((ae,de)=>(ae[de.id]=de,ae),ne)},"processGifsIntoMap"),se=te({gifs:new Array(G).fill(0).map(()=>({id:Object(F.a)(),loading:!0}))});var $;(function(Y){Y.HOST="gif-picker-host"})($||($={}));const X=100+12,q=Object(K.a)(Y=>{let{adjustGifPickerHeightToAccommodateEmojiPicker:ee,emojiSearchQuery:w,window:ne,onGifSelected:ae,onClosed:de,focusInputOnMount:ge=!1,openedBy:le}=Y;const Q=Object(u.useDispatch)(),ie=Object(o.c)(z.f);var oe;const{searchQuery:me}=(oe=Object(o.c)(k.a))!==null&&oe!==void 0?oe:{},[be,Se]=Object(t.useState)(),Pe=Object(t.useRef)(null),[Ue,Fe]=Object(t.useState)(se),[je,_e]=Object(t.useState)(),[pe,fe]=Object(t.useState)(""),[Ee,ye]=Object(t.useState)(E.b),[Te,Oe]=Object(t.useState)(0),[Ce,ce]=Object(t.useState)(),[he,Me]=Object(t.useState)(!1);var Ae;const xe=Object(o.c)(Lt=>(Ae=Object(b.u)(Lt,"seen_gif_new_badge"))!==null&&Ae!==void 0?Ae:0),Re=Object(t.useRef)(null),Ge=Object(t.useRef)(null),ze=Object(t.useRef)(null);Object(t.useEffect)(()=>{var Lt;(Lt=ze.current)===null||Lt===void 0||Lt.scrollToRow(Te)},[Te]),Object(t.useEffect)(()=>()=>{xe<3&&Q(Object(L.a)(3))},[xe,Q]);const Ie=Object(t.useCallback)(Lt=>{let{gif:vn,index:Wn}=Lt;return Object(B.a)({selection:vn,cursorPosition:Ee,index:Wn,numPerRow:E.f,currentSelection:pe})},[Ee,pe]),Ne=Object(t.useMemo)(()=>{const Lt=[...Object.keys(Ue||{})],vn=Lt.length/E.f,Wn=[];for(let Nn=0;Nn<vn;Nn++){const ia=Lt.splice(0,E.f);Wn.push({items:ia,type:P.a.GIF})}return Wn},[Ue]),Ke=Object(t.useCallback)(()=>{const Lt=[0,0],vn=Object(R.a)(Ne,Lt);ye(Lt),fe(vn??"")},[Ne]),Ve=Object(t.useCallback)(()=>{ye(E.b),fe(""),Oe(void 0),Oe(0)},[]),$e=Object(t.useCallback)(Lt=>{if(Ne.length<1)return;if((Lt==null?void 0:Lt.target)===Ge.current&&be&&Ee===E.b){var vn,Wn,Nn;if(!(Lt.keyCode===U.o&&((vn=Ge.current)===null||vn===void 0?void 0:vn.selectionEnd)===((Wn=Ge.current)===null||Wn===void 0?void 0:Wn.value.length)&&((Nn=ne.document.getSelection())===null||Nn===void 0?void 0:Nn.type)!=="Range")&&(Lt.keyCode===U.k||Lt.keyCode===U.o))return}Lt.preventDefault();const ia=Object(R.d)({screenRows:Ne,direction:Lt.keyCode,currentCursor:Ee||E.b,pickerType:E.g.GIF,infiniteScroll:!0}),Ea=Object(R.a)(Ne,ia);ye(ia),fe(Ea??"")},[Ee,Ne,be,ne]),tt=Object(s.a)($e,E.a),qe=Object(t.useCallback)((Lt,vn)=>{de(Lt),ae==null||ae(Lt,vn)},[de,ae]),ut=Object(t.useCallback)(Lt=>{let{index:vn,key:Wn,style:Nn}=Lt;const ia=Ne[vn];return a.a.createElement(T,{index:vn,key:Wn,style:Nn,row:ia,gifResultsMap:Ue,isGifSelected:Ie,onGifSelected:qe,isSearchResults:!!be})},[Ne,Ue,Ie,qe,be]),rt=Object(t.useCallback)(()=>{Fe(je??{}),Ve(),ce(void 0),Me(!1)},[Ve,je]),yt=Object(t.useCallback)(()=>{var Lt;rt(),Se(""),(Lt=Ge.current)===null||Lt===void 0||Lt.focus()},[rt,Se]);Object(t.useEffect)(()=>{var Lt;be!==void 0&&!(!(Ge==null||(Lt=Ge.current)===null||Lt===void 0)&&Lt.value.length)&&Ne.length&&rt()},[be,Ne.length,rt]);const Mt=Object(t.useCallback)(Lt=>{let{gifs:vn,next_cursor:Wn,value:Nn}=Lt;if(Nn!==be&&Nn!==me&&Nn!==w)return;Oe(0),Ve();const ia=te({gifs:vn,previousMap:{}});Fe(ia),ce(Wn)},[w,Ve,be,me]);Object(t.useEffect)(()=>{var Lt;(Lt=Ge.current)===null||Lt===void 0||Lt.focus()},[w]);const st=Object(t.useCallback)(Lt=>{var vn;const Wn=(vn=Lt==null?void 0:Lt.target)===null||vn===void 0?void 0:vn.value;if(Wn!=null&&Wn.replace(/[\s\t\n]/g,"").length){const Nn={query:Wn,limit:G};Q(Object(m.a)(Nn)).then(ia=>{let{gifs:Ea=[],response_metadata:{next_cursor:bn}}=ia;Mt({gifs:Ea,next_cursor:bn,value:Wn})})}},[Q,Mt]),Vt=Object(l.a)(st,360),Wt=Object(t.useCallback)(Lt=>{Lt.key&&!Object(V.a)(Lt)||Vt(Lt)},[Vt]),Xt=Object(t.useCallback)(Lt=>{var vn;if(((vn=ne.document.querySelector("#gif-picker-list"))===null||vn===void 0?void 0:vn.contains(Lt==null?void 0:Lt.target))&&Ge.current&&Object(V.a)(Lt)){Ve(),Ge.current.focus();return}[U.r,U.c,U.k,U.o].includes(Lt.keyCode)&&tt(Lt);const Nn=ne.document.activeElement===Ge.current;Lt.keyCode===U.q&&!Lt.shiftKey&&Nn&&Ke()},[tt,ne,Ke,Ve]),Ut=Object(t.useCallback)(()=>{Ve()},[Ve]),Nt=function(){var Lt=Object(n.coroutine)(function*(){if(be!==void 0&&be.length&&!he){const vn={query:be,limit:G,cursor:Ce};Me(!0);const Wn=yield Q(Object(m.a)(vn)),{gifs:Nn=[],response_metadata:{next_cursor:ia}}=Wn,Ea=te({gifs:Nn,previousMap:Ue});Fe(Ea),ce(ia),Me(!1)}});return h(function(){return Lt.apply(this,arguments)},"loadMoreRows")}(),Ft=h(Lt=>{let{index:vn}=Lt;return!!Ne[vn]},"isRowLoaded");Object(t.useEffect)(()=>{if((w!=null&&w.length||me!=null&&me.length)&&be===void 0){const vn={limit:G,query:me??w};Q(Object(m.a)(vn)).then(Wn=>{let{gifs:Nn=[],response_metadata:{next_cursor:ia}}=Wn;Mt({gifs:Nn,next_cursor:ia,value:me??w})})}else if(!je){const Lt={limit:50};Q(Object(c.a)(Lt)).then(vn=>{let{gifs:Wn=[]}=vn;const Nn=te({gifs:Wn,previousMap:{}});Fe(Nn),_e(Nn)})}},[me,Q,Mt,je,be,w]);const _n=Object(t.useMemo)(()=>({[x.c.GIF_PICKER_INPUT]:()=>{var Lt;(Lt=Ge.current)===null||Lt===void 0||Lt.focus()}}),[]),cn=Object(H.default)("p-gif_picker",{"p-gif_picker--message-height-with-cta":ee==="message-height-with-cta","p-gif_picker--message-height-without-cta":ee==="message-height-without-cta","p-gif_picker--reaction-height-with-cta":ee==="reaction-height-with-cta","p-gif_picker--reaction-height-without-cta":ee==="reaction-height-without-cta"}),Rn=Z.t("Search all GIFs on Tenor");var Vn,ea;return a.a.createElement("div",{"data-qa":$.HOST,className:cn,onKeyDown:Xt,role:"dialog","aria-label":ie?"GIF Picker":""},a.a.createElement("header",{className:"p-gif_picker__header",ref:Re},a.a.createElement(A.a,{listeners:_n},a.a.createElement(f.b,{focusOnMount:ge,onChange:Se,onFocus:Ut,value:(ea=(Vn=be??me)!==null&&Vn!==void 0?Vn:w)!==null&&ea!==void 0?ea:"",className:"p-gif_picker__search_input",onKeyUp:Wt,ref:Ge,ariaLabel:Rn,placeholder:Rn}))),a.a.createElement(N.a,{eventId:y.EventId.GIFS_PICKER_OPENED,uiComponentName:y.UiComponentName.GIFS_PICKER,uiStep:le,clogImpression:!0},a.a.createElement("section",{className:"p-gif_picker__content",ref:Pe},Ne.length?a.a.createElement(d.a,null,Lt=>{let{width:vn,height:Wn}=Lt;return a.a.createElement(v.f,{isRowLoaded:Ft,loadMoreRows:Nt,rowCount:1e3},Nn=>{let{onRowsRendered:ia,registerChild:Ea}=Nn;return a.a.createElement(p.a,{onRowsRendered:ia,ref:bn=>{Ea(bn),ze.current=bn},screenRows:Ne,className:"p-gif_picker__list_scroller",height:Wn,rowCount:Ne.length,rowHeight:X,rowRenderer:ut,scrollToAlignment:"start",width:vn,tabIndex:null,id:"gif-picker-list",role:"presentation",containerRole:"presentation","aria-label":"","aria-readonly":!1})})}):a.a.createElement(D,{clearSearchResults:yt}))))})},W1Od:function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("q1tI"),t=e.n(n),a=e("HJ1R"),s=e("nLfX"),l=e("FZE2"),o=e("pu3F");const f=h(r=>{let{shareType:m,wrapperMsgOps:c,setWrapperSelectedChannel:u,setWrapperMsgOps:d}=r;const[p,v]=Object(n.useState)(null),[g,O]=Object(n.useState)(null),[b,y]=Object(n.useState)(!1),[C,_]=Object(n.useState)(!1),j=Object(a.a)(),{speedBumpState:E,closeSpeedBump:M,openSpeedBump:T}=j,P=Object(n.useRef)(null),B=Object(n.useRef)(null),R=Object(n.useCallback)(()=>Object(l.b)(c||[])>o.h,[c]),U=Object(n.useCallback)(()=>{var A;if(B.current&&(!((A=B.current)===null||A===void 0)&&A.focus)){var x;(x=B.current)===null||x===void 0||x.focus()}},[]),K=Object(n.useCallback)((A,x)=>{u&&u(A,x)},[u]),V=Object(n.useCallback)(A=>{v(A)},[]),z=Object(n.useCallback)(A=>{O(A)},[]),N=Object(n.useCallback)(A=>{let{msgOps:x,overLimit:k}=A;d&&d(x),y(k)},[d]);return Object(n.useEffect)(()=>{Object(s.a)({shareType:m})||U()},[B,U,m]),{destinationError:p,setDestinationError:v,totalNumberDestinationMembers:g,setTotalNumberDestinationMembers:O,overMsgLengthLimit:b,setOverMsgLengthLimit:y,submitting:C,setSubmitting:_,closeDialogSpeedBumpState:E,closeCloseDialogSpeedBump:M,openCloseDialogSpeedBump:T,shouldShowCloseDialogSpeedBump:R,channelPickerInputRef:P,messageInputRef:B,onShareChannelChange:K,onShareChannelChangeError:V,onChangeTotalDestinationMembers:z,onTextChange:N}},"useShareDialogState")},W8kP:function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(t){return!t||!t.ops?!0:!(t.ops.length>0)}h(n,"isDeltaEmpty")},W9RG:function(J,i,e){"use strict";e.d(i,"h",function(){return r}),e.d(i,"f",function(){return m}),e.d(i,"j",function(){return c}),e.d(i,"b",function(){return d}),e.d(i,"a",function(){return p}),e.d(i,"c",function(){return v}),e.d(i,"d",function(){return g}),e.d(i,"i",function(){return O}),e.d(i,"g",function(){return C}),e.d(i,"e",function(){return _});var n=e("ZKjC"),t=e("G4qV"),a=e("JoR1"),s=e("j/ar"),l=e("pjW8"),o=e("s4P+");const f=Object(n.b)(j=>{var E;return j==null||(E=j.siwsDomains)===null||E===void 0?void 0:E.domainsCollection});f.meta={name:"createSelector",key:"createSelectorgetDomains",description:j=>{var E;return j==null||(E=j.siwsDomains)===null||E===void 0?void 0:E.domainsCollection}};const r=Object(n.b)(j=>{var E;return j==null||(E=j.connectedApps)===null||E===void 0?void 0:E.loading});r.meta={name:"createSelector",key:"createSelectorselectLoadingState",description:j=>{var E;return j==null||(E=j.connectedApps)===null||E===void 0?void 0:E.loading}};const m=h(j=>{const E=Object(a.u)(j,"identity_links_prefs");if(E)try{return JSON.parse(E)}catch{return Object(o.a)({state:j}).warn("Unable to parse identity_links_prefs JSON string"),{}}return{}},"selectIdentityLinksPrefs"),c=Object(t.a)(m,Object.keys),u=Object(n.b)(j=>{var E;return j==null||(E=j.connectedApps)===null||E===void 0?void 0:E.apps});u.meta={name:"createSelector",key:"createSelectorselectAppProfileInfo",description:j=>{var E;return j==null||(E=j.connectedApps)===null||E===void 0?void 0:E.apps}};const d=Object(t.a)(c,u,(j,E)=>j.filter(M=>!E[M])),p=Object(t.a)(m,u,s.a,function(j,E){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(j).map(B=>E[B]?{...E[B].profile||{},...Object(l.a)(j[B])||{},domain:M[B]||{}}:null).filter(B=>Boolean(B))}),v=Object(t.a)(p,j=>j.filter(E=>E==null?void 0:E.completedTransfer).sort((E,M)=>M.dateCompletedTransfer-E.dateCompletedTransfer)),g=Object(t.a)(p,j=>j.filter(E=>E==null?void 0:E.dateDisconnected).sort((E,M)=>M.dateDisconnected-E.dateDisconnected)),O=Object(t.a)(p,j=>j.filter(E=>(E==null?void 0:E.numSkipped)&&!(E!=null&&E.completedTransfer)).sort((E,M)=>M.dateLastSkipped-E.dateLastSkipped)),b=h(j=>{const E=Object(a.u)(j,"identity_links_global_prefs");if(E)try{return Object(l.a)(JSON.parse(E))}catch{return Object(o.a)({state:j}).warn("Unable to parse identity_links_global_prefs JSON string"),{}}return{}},"selectIdentityLinksGlobalPrefs"),y=Object(t.a)(b,j=>j==null?void 0:j.dateDisabled),C=Object(t.a)(y,j=>!j),_=Object(n.b)(j=>{var E;return j==null||(E=j.connectedApps)===null||E===void 0?void 0:E.error});_.meta={name:"createSelector",key:"createSelectorselectError",description:j=>{var E;return j==null||(E=j.connectedApps)===null||E===void 0?void 0:E.error}}},WKVO:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("SQ0V"),t=e("jBIF");const a=Object(n.c)("Creates JSON string of file permissions data submit to draft syncing endpoints",function(s,l){let{draftId:o}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f=s(Object(t.a)({draftId:o}));if(!f)return;let r;try{f.length&&(r=JSON.stringify(f))}catch{r=void 0}return r});a.meta={name:"createThunk",key:"createThunkgetFormattedFilePermissions",description:"Creates JSON string of file permissions data submit to draft syncing endpoints"}},WLde:function(J,i,e){"use strict";e.d(i,"a",function(){return p});var n=e("mM05"),t=e.n(n),a=e("lhZz"),s=e("s4P+"),l=e("nPQL"),o=e("0qhH"),f=e("lnVG"),r=e("9OBh");function m(g){return!g||!g.length()?!1:!!(g.ops.length===1&&Object(o.a)(g.ops[0])&&g.ops[0].insert===" "||g.ops.length===2&&Object(f.a)(g.ops[0])&&!g.ops[0].attributes&&Object(o.a)(g.ops[1])&&g.ops[1].insert===" "||g.ops.length===3&&Object(f.a)(g.ops[0])&&!g.ops[0].attributes&&Object(o.a)(g.ops[1])&&g.ops[1].insert===" "&&Object(r.a)(g.ops[2]))}h(m,"isDeltaSpaceInsertion");function c(g){return!g||!g.length()?!1:!!(g.ops.length===1&&Object(r.a)(g.ops[0])||g.ops.length===2&&Object(f.a)(g.ops[0])&&!g.ops[0].attributes&&Object(r.a)(g.ops[1]))}h(c,"isDeltaDeletion");var u=e("0LZ2");const d="TEXT-CHANGE-QUEUE";function p(g){const b=Object(u.a)(g).import("core/module");return h(class extends b{unload(){this.quill.root.removeEventListener("compositionstart",this.startComposition),this.quill.root.removeEventListener("compositionend",this.endComposition)}listen(){this.quill.on("text-change",this.onTextChange)}onTextChange(_){if(this.skipNextTextChange){this.skipNextTextChange=!1;return}this.maybeUpdateCompositionDelta(_),this.processChanges(_)}startComposition(){this.isInsideComposition=!0,this.compositionDelta=new t.a}endComposition(){this.isInsideComposition=!1;const _=this.compositionDelta;this.processChanges(_)}isInComposition(){return!!this.isInsideComposition}maybeUpdateCompositionDelta(_){if(!this.isInComposition())return;const j=this.compositionDelta;if(!j)return;const E=j.compose(_);this.compositionDelta=E}shouldProcessChange(){return!this.isInComposition()}processChanges(_){this.isMidProcessingChanges&&this.logger&&this.logger.error(d,"Side effect from processChanges caused TextChangeQueue to rerun unexpectedly (non-fatal)"),this.isMidProcessingChanges=!0;const j=this.options.getTextChangeModules(),E=this.quill.getContents();let M=E;if(this.shouldProcessChange()){let T=E;const P=[];j.forEach(R=>{if(R&&R.buildTextChangeDelta){const U=Object(l.a)(_),K=m(_),V=c(_),z=R.buildTextChangeDelta(T,this.quill.getSelection(),{initialTextChangeDelta:_,useWysiwyg:this.options.useWysiwyg,usePlainTextMode:this.options.usePlainTextMode,formattingOnly:U,isSpaceInsertion:K,isDeletion:V});z.length()>0&&(P.push(R),T=T.compose(z))}});const B=E.diff(T);if(B.length()>0){setTimeout(()=>{const R=this.quill.getModule("slackmarkdown");if(this.quill.getContents().diff(E).length()>0&&!(R&&P.includes(R)))return;const U=R&&P.includes(R),K=this.quill.history.options.delay;U&&(this.quill.history.options.delay=0),this.skipNextTextChange=!0,this.quill.updateContents(B,"user"),U&&(this.quill.history.options.delay=K),M=this.quill.getContents(),j.forEach(V=>{V&&V.afterTextChangeQueue&&V.afterTextChangeQueue(M)})},0),this.isMidProcessingChanges=!1;return}}j.forEach(T=>{T&&T.afterTextChangeQueue&&T.afterTextChangeQueue(M)}),this.isMidProcessingChanges=!1}constructor(_,j){super(_,j),this.options=j,this.quill=_;const E=j&&j.teamId,M=E&&Object(a.getStoreInstanceByTeamId)(E),T=M&&M.getState();this.logger=Object(s.a)({state:T,label:d}),this.onTextChange=this.onTextChange.bind(this),this.startComposition=this.startComposition.bind(this),this.endComposition=this.endComposition.bind(this),this.skipNextTextChange=!1,this.isInsideComposition=!1,this.compositionDelta=new t.a,_.root.addEventListener("compositionstart",this.startComposition),_.root.addEventListener("compositionend",this.endComposition),this.isMidProcessingChanges=!1,this.listen()}},"TextChangeQueueModule")}h(p,"getTextChangeQueueModule");const v=p(window)},WM2Z:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("c+dP"),s=e("nNoG");function l(){return l=Object.assign||function(m){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(m[d]=u[d])}return m},l.apply(this,arguments)}h(l,"_extends");const o=new s.b("setup_page"),f=h(m=>{const{onClickCloseThis:c,onClickDismissAllTips:u,...d}=m;return t.a.createElement(a.f,l({"data-qa":"dismissal_menu"},d,{width:"200px"}),t.a.createElement(a.b,{label:o.t("Close tip",{fallbackHash:"9453e1cad14b475a506988bd4a022c2c38dd35c6",fallbackHashNs:"setup_page"}),"data-qa":"close_this",onSelected:c}),t.a.createElement(a.b,{label:o.t("Don\u2019t show tips"),"data-qa":"dont_show_tips",onSelected:u,className:"p-setup_dismissal_menu__menu_item_dismiss_tips"}))},"DismissalMenu");f.displayName="DismissalMenu";var r=i.a=Object(n.memo)(f)},WY9I:function(J,i,e){"use strict";e.d(i,"a",function(){return n});var n;(function(t){t.EMOJI="EMOJI",t.MENTION="MENTION",t.STORY="STORY",t.SLASHCOMMANDS="SLASHCOMMANDS",t.OVERFLOWMENU="OVERFLOWMENU"})(n||(n={}))},"We5+":function(J,i,e){"use strict";e.d(i,"b",function(){return l}),e.d(i,"a",function(){return o});var n=e("Lgge"),t=e("nNoG");const a=new t.b("files_types"),s={apl:{mimeType:"text/apl",label:()=>"APL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-apl")]).then(e.t.bind(null,"4kmW",7))},applescript:{mimeType:"text/applescript",label:()=>a.t("AppleScript")},asciiarmor:{mimeType:"application/pgp",label:()=>"PGP",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-asciiarmor")]).then(e.t.bind(null,"Jt+K",7))},"asn.1":{mimeType:"asn.1",label:()=>"ASN.1",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-asn.1")]).then(e.t.bind(null,"0OHD",7))},aspx:{mimeType:"application/x-aspx",label:()=>"ASP.NET",loader:()=>n.a.all([Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-htmlembedded")]).then(e.t.bind(null,"dLt8",7)),s.csharp.loader()])},asterisk:{mimeType:"text/x-asterisk",label:()=>"Asterisk",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-asterisk")]).then(e.t.bind(null,"yGjk",7))},brainfuck:{mimeType:"text/x-brainfuck",label:()=>"Bf",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-brainfuck")]).then(e.t.bind(null,"oF4/",7))},c:{mimeType:"text/x-csrc",label:()=>a.t("C"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},cfm:{mimeType:"text/plain",label:()=>a.t("ColdFusion")},clojure:{mimeType:"text/x-clojure",label:()=>a.t("Clojure"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-clojure")]).then(e.t.bind(null,"LA1u",7))},cmake:{mimeType:"text/x-cmake",label:()=>"CMake",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-cmake")]).then(e.t.bind(null,"qE+Q",7))},cobol:{mimeType:"text/x-cobol",label:()=>"Cobol",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-cobol")]).then(e.t.bind(null,"JNJg",7))},coffeescript:{mimeType:"text/x-coffeescript",label:()=>a.t("CoffeeScript"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-coffeescript")]).then(e.t.bind(null,"oL3q",7))},cpp:{mimeType:"text/x-c++src",label:()=>a.t("C++"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},crystal:{mimeType:"text/x-crystal",label:()=>a.t("Crystal"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-crystal")]).then(e.t.bind(null,"JRJP",7))},csharp:{mimeType:"text/x-csharp",label:()=>a.t("C#"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},css:{mimeType:"text/css",label:()=>a.t("CSS"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-css")]).then(e.t.bind(null,"ewDg",7))},csv:{mimeType:"text/csv",label:()=>a.t("CSV")},cypher:{mimeType:"application/x-cypher-query",label:()=>a.t("Cypher"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-cypher")]).then(e.t.bind(null,"vW+e",7))},d:{mimeType:"text/x-d",label:()=>a.t("D"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-d")]).then(e.t.bind(null,"zRyg",7))},dart:{mimeType:"application/dart",label:()=>a.t("Dart"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba"),e.e("gantry-v2-async-codemirror-lang-dart")]).then(e.t.bind(null,"6q/U",7))},diff:{mimeType:"text/x-diff",label:()=>a.t("Diff"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-diff")]).then(e.t.bind(null,"3fnu",7))},django:{mimeType:"text/x-django",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("Django Template"):"Django"},loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-django")]).then(e.t.bind(null,"SzTn",7))},dockerfile:{mimeType:"text/x-dockerfile",label:()=>a.t("Docker"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-dockerfile")]).then(e.t.bind(null,"R6x9",7))},dtd:{mimeType:"application/xml-dtd",label:()=>"DTD",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-dtd")]).then(e.t.bind(null,"/YIB",7))},dylan:{mimeType:"text/x-dylan",label:()=>"Dylan",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-dylan")]).then(e.t.bind(null,"PLH4",7))},ebnf:{mimeType:"text/x-ebnf",label:()=>"EBNF",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-ebnf")]).then(e.t.bind(null,"AvIz",7))},ecl:{mimeType:"text/x-ecl",label:()=>"ECL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-ecl")]).then(e.t.bind(null,"rSpl",7))},eiffel:{mimeType:"text/x-eiffel",label:()=>"Eiffel",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-eiffel")]).then(e.t.bind(null,"t86p",7))},ejs:{mimeType:"application/x-ejs",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("Embedded JavaScript"):"EJS"},loader:()=>n.a.all([Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-htmlembedded")]).then(e.t.bind(null,"dLt8",7)),s.javascript.loader()])},elixir:{mimeType:"text/x-elixir",label:()=>"Elixir",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-elixir")]).then(e.bind(null,"k+dc"))},elm:{mimeType:"text/x-elm",label:()=>"Elm",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-elm")]).then(e.t.bind(null,"Rba3",7))},erb:{mimeType:"application/x-erb",label:()=>"ERB",loader:()=>n.a.all([Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-htmlembedded")]).then(e.t.bind(null,"dLt8",7)),s.ruby.loader()])},erlang:{mimeType:"text/x-erlang",label:()=>a.t("Erlang"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-erlang")]).then(e.t.bind(null,"9RTS",7))},factor:{mimeType:"text/x-factor",label:()=>"Factor",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-factor")]).then(e.t.bind(null,"yv4w",7))},fcl:{mimeType:"text/x-fcl",label:()=>"FCL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-fcl")]).then(e.t.bind(null,"xvvs",7))},forth:{mimeType:"text/x-forth",label:()=>"Forth",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-forth")]).then(e.t.bind(null,"CDkR",7))},fortran:{mimeType:"text/x-fortran",label:()=>a.t("Fortran"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-fortran")]).then(e.t.bind(null,"UYub",7))},fsharp:{mimeType:"text/x-fsharp",label:()=>a.t("F#"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mllike")]).then(e.t.bind(null,"NU+Z",7))},gas:{mimeType:"gas",label:()=>"Gas",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-gas")]).then(e.t.bind(null,"Upog",7))},gherkin:{mimeType:"text/x-feature",label:()=>a.t("Gherkin"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-gherkin")]).then(e.t.bind(null,"tkAH",7))},go:{mimeType:"text/x-go",label:()=>a.t("Go"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-go")]).then(e.t.bind(null,"T/QY",7))},graphql:{mimeType:"graphql",label:()=>"GraphQL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-graphql")]).then(e.t.bind(null,"HkoP",7))},groovy:{mimeType:"text/x-groovy",label:()=>a.t("Groovy"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-groovy")]).then(e.t.bind(null,"X7TR",7))},gss:{mimeType:"text/x-gss",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("Closure Stylesheets (GSS)"):"GSS"},loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-css")]).then(e.t.bind(null,"ewDg",7))},haml:{mimeType:"text/x-haml",label:()=>"HAML",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-haml")]).then(e.t.bind(null,"c+b1",7))},handlebars:{mimeType:"text/x-handlebars-template",label:()=>a.t("Handlebars"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-handlebars")]).then(e.t.bind(null,"4d6s",7))},haskell:{mimeType:"text/x-haskell",label:()=>a.t("Haskell"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-haskell")]).then(e.t.bind(null,"0+DK",7))},haskell_literate:{mimeType:"text/x-literate-haskell",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("Literate Haskell"):"LHS"},loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-haskell-literate")]).then(e.t.bind(null,"INem",7))},haxe:{mimeType:"text/x-haxe",label:()=>a.t("Haxe"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-haxe")]).then(e.t.bind(null,"We/1",7))},html:{mimeType:"text/html",label:()=>a.t("HTML"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-htmlmixed")]).then(e.t.bind(null,"1p+/",7))},http:{mimeType:"message/http",label:()=>"HTTP",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-http")]).then(e.t.bind(null,"scEK",7))},idl:{mimeType:"text/x-idl",label:()=>"IDL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-idl")]).then(e.t.bind(null,"HqpV",7))},java:{mimeType:"text/x-java",label:()=>a.t("Java"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},javascript:{mimeType:"text/javascript",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("JavaScript"):"JavaScript"},loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-javascript")]).then(e.t.bind(null,"+dQi",7))},jinja2:{mimeType:"text/jinja2",label:()=>"Jinja2",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-jinja2")]).then(e.t.bind(null,"ToA7",7))},json:{mimeType:"application/json",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("JSON"):"JSON"},loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-javascript")]).then(e.t.bind(null,"+dQi",7))},json_ld:{mimeType:"application/ld+json",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?a.t("JSON for Linking Data"):"JSON-LD"},loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-javascript")]).then(e.t.bind(null,"+dQi",7))},jsp:{mimeType:"application/x-jsp",label:function(){let{featureSnippetModesI18n:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{featureSnippetModesI18n:!1};return f?"JavaServer Pages":"JSP"},loader:()=>n.a.all([Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-htmlembedded")]).then(e.t.bind(null,"dLt8",7)),s.java.loader()])},jsx:{mimeType:"text/jsx",label:()=>a.t("JSX"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-javascript")]).then(e.t.bind(null,"onn/",7))},julia:{mimeType:"text/x-julia",label:()=>a.t("Julia"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-julia")]).then(e.t.bind(null,"NGrM",7))},kotlin:{mimeType:"text/x-kotlin",label:()=>a.t("Kotlin"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},latex:{mimeType:"text/x-stex",label:()=>a.t("LaTeX/sTeX"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-stex")]).then(e.t.bind(null,"+NIl",7))},less:{mimeType:"text/x-less",label:()=>"LESS",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-css")]).then(e.t.bind(null,"ewDg",7))},lisp:{mimeType:"text/x-common-lisp",label:()=>a.t("Lisp"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-commonlisp")]).then(e.t.bind(null,"kmAK",7))},livescript:{mimeType:"text/x-livescript",label:()=>"LiveScript",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-livescript")]).then(e.t.bind(null,"5RX+",7))},lua:{mimeType:"text/x-lua",label:()=>a.t("Lua"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-lua")]).then(e.t.bind(null,"jrMQ",7))},markdown:{mimeType:"yaml-frontmatter",label:()=>a.t("Markdown (raw)"),loader:()=>n.a.all([Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-yaml-frontmatter")]).then(e.t.bind(null,"0gIM",7)),Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-markdown")]).then(e.t.bind(null,"RKCW",7))])},mathematica:{mimeType:"text/x-mathematica",label:()=>a.t("Mathematica"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mathematica")]).then(e.t.bind(null,"ztbM",7))},matlab:{mimeType:"text/x-octave",label:()=>a.t("MATLAB"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-octave")]).then(e.t.bind(null,"mybg",7))},mbox:{mimeType:"application/mbox",label:()=>"mbox",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mbox")]).then(e.t.bind(null,"6mA5",7))},mirc:{mimeType:"text/mirc",label:()=>"mIRC",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mirc")]).then(e.t.bind(null,"o5kb",7))},modelica:{mimeType:"modelica",label:()=>"Modelica",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-modelica")]).then(e.t.bind(null,"lQiH",7))},mscgen:{mimeType:"text/x-mscgen",label:()=>"MscGen",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mscgen")]).then(e.t.bind(null,"6gTk",7))},mumps:{mimeType:"text/x-mumps",label:()=>a.t("MUMPS"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mumps")]).then(e.t.bind(null,"Q7su",7))},mysql:{mimeType:"text/x-mysql",label:()=>"SQLite",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-sql")]).then(e.t.bind(null,"/9rB",7))},nginx:{mimeType:"text/x-nginx-conf",label:()=>"Nginx",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-nginx")]).then(e.t.bind(null,"srmC",7))},nsis:{mimeType:"text/x-nsis",label:()=>"NSIS",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-nsis")]).then(e.t.bind(null,"bYLO",7))},ntriples:{mimeType:"application/n-triples",label:()=>"NTriples",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-ntriples")]).then(e.t.bind(null,"PWBO",7))},objc:{mimeType:"text/x-objectivec",label:()=>a.t("Objective-C"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},ocaml:{mimeType:"text/x-ocaml",label:()=>a.t("OCaml"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-mllike")]).then(e.t.bind(null,"NU+Z",7))},oz:{mimeType:"text/x-oz",label:()=>"Oz",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-oz")]).then(e.t.bind(null,"yhmh",7))},pascal:{mimeType:"text/x-pascal",label:()=>a.t("Pascal"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-pascal")]).then(e.t.bind(null,"lB9V",7))},pegjs:{mimeType:"pegjs",label:()=>"PEG.js",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-pegjs")]).then(e.t.bind(null,"ZGb1",7))},perl:{mimeType:"text/x-perl",label:()=>a.t("Perl"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-perl")]).then(e.t.bind(null,"kG+r",7))},php:{mimeType:"application/x-httpd-php",label:()=>a.t("PHP"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba"),e.e("vendors~gantry-v2-async-codemirror-lang-php")]).then(e.t.bind(null,"RNWO",7))},pig:{mimeType:"text/x-pig",label:()=>a.t("Pig"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-pig")]).then(e.t.bind(null,"860+",7))},powershell:{mimeType:"application/x-powershell",label:()=>a.t("PowerShell"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-powershell")]).then(e.t.bind(null,"naPG",7))},properties:{mimeType:"text/x-ini",label:()=>"INI",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-properties")]).then(e.t.bind(null,"3Fvf",7))},protobuf:{mimeType:"text/x-protobuf",label:()=>"ProtoBuf",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-protobuf")]).then(e.t.bind(null,"cHwl",7))},pug:{mimeType:"text/x-pug",label:()=>"Pug/Jade",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-pug~gantry-v2-async-codemirror-lang-vue")]).then(e.t.bind(null,"W+/v",7))},puppet:{mimeType:"text/x-puppet",label:()=>a.t("Puppet"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-puppet")]).then(e.t.bind(null,"cwoo",7))},python:{mimeType:"text/x-python",label:()=>a.t("Python"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-python")]).then(e.t.bind(null,"25Eh",7))},q:{mimeType:"text/x-q",label:()=>"Q",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-q")]).then(e.t.bind(null,"MiqB",7))},r:{mimeType:"text/x-rsrc",label:()=>a.t("R"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-r")]).then(e.t.bind(null,"kD6b",7))},rpm:{mimeType:"text/x-rpm-spec",label:()=>"RPM",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-rpm")]).then(e.t.bind(null,"Qs4+",7))},rst:{mimeType:"text/x-rst",label:()=>"reStructuredText",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-rst")]).then(e.t.bind(null,"jIQM",7))},ruby:{mimeType:"text/x-ruby",label:()=>a.t("Ruby"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-ruby")]).then(e.t.bind(null,"hTYL",7))},rust:{mimeType:"text/x-rustsrc",label:()=>a.t("Rust"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-rust")]).then(e.t.bind(null,"sY4N",7))},sas:{mimeType:"text/x-sas",label:()=>"SAS",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-sas")]).then(e.t.bind(null,"Sh3j",7))},sass:{mimeType:"text/x-sass",label:()=>a.t("Sass"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-sass")]).then(e.t.bind(null,"G2Pi",7))},scala:{mimeType:"text/x-scala",label:()=>a.t("Scala"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-clike~gantry-v2-async-codemirror-lang-dart~gantry-v2-async-c~8a30d2ba")]).then(e.t.bind(null,"S6bl",7))},scheme:{mimeType:"text/x-scheme",label:()=>a.t("Scheme"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-scheme")]).then(e.t.bind(null,"8wdy",7))},scss:{mimeType:"text/x-scss",label:()=>"SCSS",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-css")]).then(e.t.bind(null,"ewDg",7))},shell:{mimeType:"text/x-sh",label:()=>a.t("Shell"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-shell")]).then(e.t.bind(null,"AvDn",7))},sieve:{mimeType:"application/sieve",label:()=>"Sieve",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-sieve")]).then(e.t.bind(null,"1dRh",7))},slim:{mimeType:"text/x-slim",label:()=>"Slim",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-slim")]).then(e.t.bind(null,"VI2i",7))},smalltalk:{mimeType:"text/x-stsrc",label:()=>a.t("Smalltalk"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-smalltalk")]).then(e.t.bind(null,"n4Nj",7))},smarty:{mimeType:"text/x-smarty",label:()=>"Smarty",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-smarty")]).then(e.t.bind(null,"QWhe",7))},solr:{mimeType:"text/x-solr",label:()=>"Solr",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-solr")]).then(e.t.bind(null,"xhF3",7))},soy:{mimeType:"text/x-soy",label:()=>"Soy",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-soy")]).then(e.t.bind(null,"vH+N",7))},sparql:{mimeType:"application/sparql-query",label:()=>"SPARQL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-sparql")]).then(e.t.bind(null,"++e5",7))},spreadsheet:{mimeType:"text/x-spreadsheet",label:()=>"Spreadsheet",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-spreadsheet")]).then(e.t.bind(null,"bEWP",7))},sql:{mimeType:"text/x-mysql",label:()=>a.t("SQL"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-sql")]).then(e.t.bind(null,"/9rB",7))},stylus:{mimeType:"text/x-styl",label:()=>"Stylus",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-stylus~gantry-v2-async-codemirror-lang-vue")]).then(e.t.bind(null,"dtKC",7))},swift:{mimeType:"text/x-swift",label:()=>a.t("Swift"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-swift")]).then(e.t.bind(null,"wOIU",7))},tcl:{mimeType:"text/x-tcl",label:()=>"Tcl",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-tcl")]).then(e.t.bind(null,"BEBj",7))},textile:{mimeType:"text/x-textile",label:()=>"Textile",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-textile")]).then(e.t.bind(null,"TD3l",7))},tiddlywiki:{mimeType:"text/x-tiddlywiki",label:()=>"TiddlyWiki ",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-tiddlywiki")]).then(e.t.bind(null,"9+NH",7))},tiki:{mimeType:"text/tiki",label:()=>"Tiki Wiki",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-tiki")]).then(e.t.bind(null,"Km7L",7))},toml:{mimeType:"text/x-toml",label:()=>"TOML",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-toml")]).then(e.t.bind(null,"0sou",7))},tornado:{mimeType:"text/x-tornado",label:()=>"Tornado",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-tornado")]).then(e.t.bind(null,"xbNY",7))},troff:{mimeType:"text/troff",label:()=>"Troff",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-troff")]).then(e.t.bind(null,"s1o1",7))},tsv:{mimeType:"text/tab-separated-values",label:()=>a.t("TSV")},tsx:{mimeType:"text/typescript-jsx",label:()=>a.t("TSX"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-javascript")]).then(e.t.bind(null,"onn/",7))},ttcn:{mimeType:"ttcn",label:()=>"TTCN",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-ttcn")]).then(e.t.bind(null,"TYrp",7))},ttcn_cfg:{mimeType:"ttcn-cfg",label:()=>"TTCN_CFG",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-ttcn-cfg")]).then(e.t.bind(null,"hmTv",7))},turtle:{mimeType:"text/turtle",label:()=>"Turtle",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-turtle")]).then(e.t.bind(null,"P3N9",7))},twig:{mimeType:"text/x-twig",label:()=>"Twig",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-twig")]).then(e.t.bind(null,"SII/",7))},typescript:{mimeType:"text/typescript",label:()=>a.t("TypeScript"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-javascript")]).then(e.t.bind(null,"+dQi",7))},vb:{mimeType:"text/x-vb",label:()=>a.t("VB.NET"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-vb")]).then(e.t.bind(null,"Kr55",7))},vbscript:{mimeType:"text/vbscript",label:()=>a.t("VBScript"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-vbscript")]).then(e.t.bind(null,"axah",7))},velocity:{mimeType:"text/velocity",label:()=>a.t("Velocity"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-velocity")]).then(e.t.bind(null,"/kYp",7))},verilog:{mimeType:"text/x-verilog",label:()=>a.t("Verilog"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-verilog")]).then(e.t.bind(null,"m2bc",7))},vhdl:{mimeType:"text/x-vhdl",label:()=>"VHDL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-vhdl")]).then(e.t.bind(null,"PP56",7))},vue:{mimeType:"script/x-vue",label:()=>"Vue.js",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-codemirror-lang-pug~gantry-v2-async-codemirror-lang-vue"),e.e("vendors~gantry-v2-async-codemirror-lang-stylus~gantry-v2-async-codemirror-lang-vue"),e.e("vendors~gantry-v2-async-codemirror-lang-vue")]).then(e.t.bind(null,"aT2M",7))},webidl:{mimeType:"text/x-webidl",label:()=>"Web IDL",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-webidl")]).then(e.t.bind(null,"PVgs",7))},xml:{mimeType:"text/xml",label:()=>a.t("XML"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-xml")]).then(e.t.bind(null,"1eCo",7))},xquery:{mimeType:"application/xquery",label:()=>"XQuery",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-xquery")]).then(e.t.bind(null,"bJEP",7))},yacas:{mimeType:"yacas",label:()=>"Yacas",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-yacas")]).then(e.t.bind(null,"WThJ",7))},yaml:{mimeType:"text/x-yaml",label:()=>a.t("YAML"),loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-yaml")]).then(e.t.bind(null,"ztCB",7))},z80:{mimeType:"text/x-z80",label:()=>"Z80",loader:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-codemirror-lang-z80")]).then(e.t.bind(null,"dRHf",7))}};i.c=s;const l="text",o="auto"},Wjm6:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("gSGL"),l=e("yIs4"),o=e("Cfcg"),f=e("mvFy"),r=e("QYtq"),m=e("mLC8"),c=e("T1zM"),u=e("TSwU"),d=e("nwIl");function p(){return p=Object.assign||function(y){for(var C=1;C<arguments.length;C++){var _=arguments[C];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(y[j]=_[j])}return y},p.apply(this,arguments)}h(p,"_extends");const v=15;let g=h(class extends n.Component{onEmojiSelected(C,_){this.props.onEmojiSelected&&this.props.onEmojiSelected(C,_)}onSkinToneChanged(C){this.props.setUserPrefByApi({pref:"preferred_skin_tone",value:C})}renderPopover(C){const{offsetX:_,offsetY:j,position:E,contentStyle:M,overlayStyle:T,showHandyReactions:P,shouldReturnFocusAfterClose:B,hideAddEmojiButton:R,enableSkinTonePicker:U,tryOppositePosition:K,enableGifPicker:V,experimentNativeGifPickerGroupOn:z,onGifSelected:N,openNativeGifPicker:A,openedBy:x}=this.props,k=m.d.isEnabled()?f.a:f.b;return t.a.createElement(r.a,p({shouldFade:!1,allowanceX:v,allowanceY:v,position:E,offsetX:_||0,tryOppositePosition:!!K,offsetY:j||0,contentStyle:M,overlayStyle:T,shouldReturnFocusAfterClose:!!B},C),t.a.createElement(t.a.Fragment,null,z&&V?t.a.createElement(u.a,{onSkinToneChanged:this.onSkinToneChanged,onEmojiSelected:this.onEmojiSelected,onGifSelected:N,onClosed:C.onClose,showHandyReactions:!!P,hideAddEmojiButton:!!R,enableSkinTonePicker:!!U,selectedTabId:A?u.b.GIFS:u.b.EMOJIS,openedBy:x}):t.a.createElement(k,{onSkinToneChanged:this.onSkinToneChanged,onSelected:this.onEmojiSelected,onClosed:C.onClose,showHandyReactions:!!P,hideAddEmojiButton:!!R,enableSkinTonePicker:!!U})))}render(){const{onClick:C,onClose:_,forceOpen:j,startsOpen:E,customTrigger:M,targetBounds:T,openNativeGifPicker:P}=this.props;return t.a.createElement(r.b,{onClick:C||a.a,onClose:_||a.a,customTrigger:!!M,forceOpen:!!j||P,startsOpen:!!E,targetBounds:T,renderPopover:this.renderPopover,shouldCloseOnOverlayMouseDown:!0},this.props.children)}constructor(C){if(super(C),!Object(s.a)(C.children)&&!Object(l.a)(C.children)&&C.children&&C.children.type&&C.children.type===t.a.Fragment)throw new Error("EmojiMenuTrigger component cannot contain React Fragment as outermost element from props.children");this.onEmojiSelected=this.onEmojiSelected.bind(this),this.onSkinToneChanged=this.onSkinToneChanged.bind(this),this.renderPopover=this.renderPopover.bind(this)}},"EmojiMenuTrigger");g.displayName="EmojiMenuTrigger",g.defaultProps={offsetX:0,offsetY:-6,position:"top-left",onClick:a.a,onClose:a.a,onEmojiSelected:a.a,showHandyReactions:!1,customTrigger:!1,forceOpen:!1,startsOpen:!1,contentStyle:void 0,overlayStyle:void 0,shouldReturnFocusAfterClose:!0,tryOppositePosition:!1,hideAddEmojiButton:!1,enableSkinTonePicker:!0,enableGifPicker:!1,openNativeGifPicker:!1};const O=h(y=>({experimentNativeGifPickerGroupOn:Object(d.f)(y)}),"mapStateToProps"),b={setUserPrefByApi:y=>Object(c.f)(y)};i.a=Object(o.a)(O,b)(g)},"Wya+":function(J,i,e){"use strict";e.d(i,"a",function(){return te});var n=e("q1tI"),t=e.n(n),a=e("n3tL"),s=e("SQ0V"),l=e("3l96"),o=e("9avG"),f=e("m8R6"),r=e("yIs4"),m=e("WIr4"),c=e("Cfcg"),u=e("mM05"),d=e.n(u),p=e("O86Y"),v=e("+kJ4"),g=e("5IZy"),O=e("Z44y"),b=e("ktUG"),y=e("mSgU"),C=e("3yyz"),_=e("dA19"),j=e("95ku"),E=e("3V+Q"),M=e("HOkk");function T(){return T=Object.assign||function(X){for(var q=1;q<arguments.length;q++){var Y=arguments[q];for(var ee in Y)Object.prototype.hasOwnProperty.call(Y,ee)&&(X[ee]=Y[ee])}return X},T.apply(this,arguments)}h(T,"_extends");const P={display:"none"};class B extends n.PureComponent{save(){const{isValid:q,onGo:Y,closeModal:ee}=this.props;if(!q)return;const w=Y();w&&w.then&&w.then(()=>{ee()})}submit(q){q.preventDefault(),this.save()}render(){const{children:q,isValid:Y,onGo:ee,...w}=this.props;return t.a.createElement(M.a,T({},w,{goButtonIsDisabled:!Y||w.goButtonIsDisabled,shouldCloseOnGo:!1,onGo:this.save}),t.a.createElement("form",{onSubmit:this.submit},q,t.a.createElement("button",{style:P,type:"submit"},"Submit")))}constructor(q){super(q),this.submit=this.submit.bind(this),this.save=this.save.bind(this)}}h(B,"form_dialog_FormDialog"),B.displayName="_FormDialog",B.defaultProps={isValid:!1};const R={closeModal:v.a},U=Object(c.a)(null,R)(B);var K=e("nNoG"),V=e("gSGL"),z=e("lhZz"),N=e("pu3F"),A=e("sxm7"),x=e("slMn"),k=e("yrot"),L=h((X,q)=>{if(!Object(V.a)(q))return null;const Y=X&&Object(z.getStateByTeamId)(X),ee=Object(A.b)(X);return q.replace(ee,(w,ne,ae,de)=>{if(de>0&&q.charAt(de-1)===N.fb)return w;const ge=Object(x.a)(w)||"",le=Object(k.i)(Y,ge);return le?`:${le}:`:w})},"replaceNativeEmojiWithText"),S=e("taA2"),I=e("OXvE");const W=new K.b("message-input");let D=h(class extends n.Component{onChange(q,Y){q==="text"?this.setState(()=>({text:Y,inputIsDirty:!0})):q==="url"&&this.setState(()=>({url:Y,inputIsDirty:!0}))}onSubmit(){const{initialText:q,teamId:Y}=this.props,{text:ee,url:w}=this.state;let ne=w?w.trim().replace(/ /g,"%20"):"";if(!ne.length){this.removeLink();return}const ae=Object(S.a)(ne);ae&&ae.length===1&&ae[0].text===ne?ne=`mailto:${ne}`:ne.match(/^[a-zA-Z]{0,63}:(\/\/)?.+/)||(ne=`${ne.substr(0,2)==="//"?"http:":"http://"}${ne}`);const ge=!ee||!ee.length||ee.match(/^\s+$/)?w:ee,le=L(Y,ge||"");this.saveLink({didTextChange:le!==q,text:le||"",url:ne})}saveLink(q){let{didTextChange:Y,text:ee,url:w}=q;var ne,ae,de,ge;const{quillRef:le,range:Q,source:ie,clogger:oe}=this.props;if(!Q)return;let me=Q.index+ee.length;const be=new d.a;if(Q.index>0&&be.retain(Q.index),!Y&&Q.length>0){var Se;le==null||(Se=le.current)===null||Se===void 0||Se.getContents(Q).forEach(Fe=>{const je=Object(C.a)(Fe);Object(_.a)(Fe)?be.retain(je):be.retain(je,{link:w,slackmention:!1,unlink:!1})})}else{var Pe;const Fe=Object(f.a)((le==null||(Pe=le.current)===null||Pe===void 0?void 0:Pe.getFormat(Q))||{},["slackmention","link"]);Q.length&&be.delete(Q.length),be.insert(ee,{...Fe,link:w,unlink:!1})}Q.length===0&&(be.insert(" "),me+=1);const Ue=le==null||(ne=le.current)===null||ne===void 0?void 0:ne.getModule("slacklink");Ue&&(Ue.skipNextTextChange=!0),le==null||(ae=le.current)===null||ae===void 0||ae.updateContents(be),le==null||(de=le.current)===null||de===void 0||de.setSelection(me,0),le==null||(ge=le.current)===null||ge===void 0||ge.focus(),Object(r.a)(ie)&&oe.track(b.EventId.MSG_FORMATTING_ADDED,{input_context:Object(O.a)()?b.MsgFormattingInputContext.POST:b.MsgFormattingInputContext.MESSAGE,input_source:ie,input_format:y.a.link,is_selection:Q.length>0})}removeLink(){var q,Y;const{quillRef:ee,range:w,source:ne,clogger:ae}=this.props;this.props.closeModal(),w&&(ee==null||(q=ee.current)===null||q===void 0||q.formatText(w.index,w.length,{link:!1,unlink:!0}),ae.track(b.EventId.MSG_FORMATTING_REMOVED,{input_context:Object(O.a)()?b.MsgFormattingInputContext.POST:b.MsgFormattingInputContext.MESSAGE,input_source:ne,input_format:y.a.link,is_selection:!0}),ee==null||(Y=ee.current)===null||Y===void 0||Y.setSelection(w.index+w.length,0))}isValid(){const{url:q}=this.state;return!(q&&q.trim().match(/^javascript:/gi)||q&&q.trim().match(/^about:/gi))}render(){const{quillRef:q,initialUrl:Y,initialBlocks:ee,textIsEditable:w,focusTextOnMount:ne,focusUrlOnMount:ae}=this.props,{text:de,url:ge,inputIsDirty:le}=this.state,Q=w?t.a.createElement(E.b,{text:W.t("Text"),htmlFor:"composer-link-modal-text",id:"composer-link-modal-text-1"},t.a.createElement(j.a,{name:"composer-link-modal-text",id:"composer-link-modal-text",onChange:ie=>this.onChange("text",ie),size:"medium",value:de,focusOnMount:ne})):t.a.createElement(t.a.Fragment,null,t.a.createElement(E.b,{text:W.t("Text")}),t.a.createElement("div",{className:"margin_bottom_125 half_opacity"},t.a.createElement(I.a,{richTextBlock:ee.blocks?ee.blocks[0]:null})));return t.a.createElement(U,{title:Y?W.t("Edit link"):W.t("Add link"),goButtonText:W.t("Save"),cancelText:W.t("Cancel"),onGo:this.onSubmit,onClose:()=>{var ie;q==null||(ie=q.current)===null||ie===void 0||ie.focus()},isValid:this.isValid(),goButtonIsDisabled:!le},Q,t.a.createElement(E.b,{text:W.t("Link"),htmlFor:"composer-link-modal-url",id:"composer-link-modal-url-1"},t.a.createElement(j.a,{name:"composer-link-modal-url",id:"composer-link-modal-url",onChange:ie=>this.onChange("url",ie),size:"medium",value:ge,focusOnMount:ae})))}constructor(q){super(q),this.state={text:q.initialText,url:q.initialUrl,inputIsDirty:!1},Object(m.a)(this,["onChange","onSubmit","isValid"])}},"ComposerLinkModal");D.displayName="ComposerLinkModal",D.defaultProps={quillRef:void 0,range:void 0,initialBlocks:void 0,initialText:void 0,initialUrl:void 0,textIsEditable:!0,focusTextOnMount:!1,focusUrlOnMount:!1,teamId:void 0,source:void 0};const H=h(X=>({teamId:Object(p.g)(X),clogger:Object(g.a)({state:X})}),"mapStateToProps"),Z=h(X=>({closeModal:function(){for(var q=arguments.length,Y=new Array(q),ee=0;ee<q;ee++)Y[ee]=arguments[ee];return X(Object(v.a)(...Y))}}),"mapDispatchToProps");var G=Object(c.a)(H,Z)(D);const te="composer_link_modal",se=Object(s.c)("Opens the Texty link form modal",(X,q,Y)=>{let{quill:ee,initialContents:w,initialText:ne,initialUrl:ae,textIsEditable:de,range:ge,source:le}=Y;const Q=de?null:Object(o.b)({delta:w,state:q()}),ie=t.a.createElement(G,{quillRef:{current:ee},initialBlocks:Q,initialText:ne,initialUrl:ae,textIsEditable:de,focusTextOnMount:!ne||!ne.length,focusUrlOnMount:!!(ne&&ne.length),range:ge,source:le});X(Object(l.a)({element:ie,name:te,isStackable:!0}))});se.meta={name:"createThunk",key:"createThunkopenTextyLinkFormModal",description:"Opens the Texty link form modal"},se.propTypes={quill:a.default.object.isRequired,initialBlocks:a.default.arrayOf(a.default.object),initialText:a.default.string,initialUrl:a.default.string,textIsEditable:a.default.bool.isRequired,range:a.default.object.isRequired,source:a.default.number.isRequired};var $=i.b=se},"X+Fw":function(J,i,e){"use strict";e.d(i,"b",function(){return C}),e.d(i,"a",function(){return E}),e.d(i,"c",function(){return M});var n=e("oTSI"),t=e("UXvI"),a=e("uAML"),s=e("lhZz"),l=e("aVws");function o(P){const[B,R]=P.split("_");return{fileId:B,sectionId:R}}h(o,"deserialize");function f(P,B){return`${P}_${B}`}h(f,"serialize");var r=e("SQ0V"),m=e("s4P+"),c=e("Lgge"),u=e("NKy9"),d=e("in8x");const p="CANVAS-SECTION-CFM",v=Object(r.c)("Fetches rich text representation of a canvas section",(P,B,R)=>{let{ids:U}=R;const K={};return U.forEach(V=>{const{fileId:z,sectionId:N}=o(V);K[z]=(K[z]||[]).concat(N)}),c.a.map(Object.keys(K),V=>{const z=K[V];return Object(m.a)({getState:B,label:p}).info(`Re-fetching sectionIds:${z} in fileId:${V}`),P(Object(u.a)({fileId:V,sectionIds:z,reason:"conditional-fetching"})).then(N=>{N.sections&&N.sections.forEach(A=>{P(Object(d.c)({fileId:V,sectionId:A.id,richText:A.blocks}))})}).catch(()=>{P(Object(d.b)({fileId:V}))})})});v.meta={name:"createThunk",key:"createThunkfetchAndUpsertCanvasSectionRichText",description:"Fetches rich text representation of a canvas section"};var g=e("P0Un");const O=30*1e3,b=new g.a(20),y=Object(n.a)(()=>new a.b({fetch:(P,B)=>Object(s.dispatchForTeamId)(P,v({ids:B})),isEnabled:()=>!0})),C=h((P,B,R)=>y().maybeRefetch(Object(l.b)(P,"canvasSectionRichText"),f(B,R)),"maybeRefetch"),_=h((P,B,R)=>y().markObjectsAsFresh(Object(l.b)(P,"canvasSectionRichText"),R.map(U=>f(B,U))),"markObjectsAsFresh"),j=h(P=>y().getFreshObjects(Object(l.b)(P,"canvasSectionRichText")).map(o),"getFreshObjects"),E=h((P,B)=>{const R=j(P);let U=[];return B.forEach(K=>{const V=R.filter(z=>z.fileId===K);U=U.concat(V.map(z=>{let{fileId:N,sectionId:A}=z;return f(N,A)}))}),y().markObjectsAsStale(Object(l.b)(P,"canvasSectionRichText"),U)},"markObjectsAsStale"),M=h((P,B)=>{const R=`${P}-${B}`;return b.readWithDefault(R,K=>Object(t.a)(E,O,{leading:!0,trailing:!0}))(P,[B])},"throttledMarkObjectsAsStale"),T=h((P,B,R)=>y().isObjectFresh(Object(l.b)(P,"canvasSectionRichText"),f(B,R)),"isObjectFresh")},"X7+j":function(J,i,e){"use strict";e.d(i,"d",function(){return P}),e.d(i,"c",function(){return B}),e.d(i,"b",function(){return R}),e.d(i,"a",function(){return U});var n=e("9oTK"),t=e("q1tI"),a=e.n(t),s=e("SQ0V"),l=e("oY18"),o=e("nNoG"),f=e("g3a/");const r=new o.b("slack_functions"),m=h(()=>a.a.createElement(f.a,{duration:6e3},a.a.createElement("span",null,r.rt("You successfully started a workflow"))),"SlackFunctionFormModalConfirmToast");m.displayName="SlackFunctionFormModalConfirmToast";var c=m,u=e("rAyg"),d=e("WAPM");const p=new o.b("slack_functions"),v=h(K=>{let{errorType:V,errorSubType:z}=K,N=p.rt("Oops, there was an error running that workflow");switch(V){case"access_denied":if(z){switch(z){case"unsupported_private_channel":N=p.rt("Unfortunately you can\u2019t run new workflows in private channels");break;case"unsupported_slack_connect_channel":N=p.rt("Unfortunately you can\u2019t run new workflows in Slack Connect");break;case"away_user_home_only_workflow":N=p.rt("People from external orgs can\u2019t use this workflow. <a>Learn more about workflow restrictions</a>.",{fallbackHash:"cc2bc8453df04b82213495de2b46006c48d23693"},A=>{let{text:x,tag:k}=A;return k==="a"?a.a.createElement(d.a,{articleId:0xd8057515213},x):null});break;default:break}break}N=p.rt("You don\u2019t have permissions to run this workflow");break;case"trigger_not_found":N=p.rt("This workflow no longer exists.");break;case"not_opted_into_overages":case"reached_upper_spend_limit":case"free_team_not_allowed":N=p.rt("<strong>Workflow currently unavailable.</strong> <br></br>Contact a workspace owner for help.");break;default:break}return a.a.createElement(u.a,null,a.a.createElement("span",null,N))},"SlackFunctionTriggerErrorToast");v.displayName="SlackFunctionTriggerErrorToast";var g=v;const O=new o.b("hermes_shortcuts"),b=h(()=>a.a.createElement(u.a,null,a.a.createElement("span",null,O.rt("You successfully copied the workflow"))),"HermesCopyWorkflowConfirmToast");b.displayName="HermesCopyWorkflowConfirmToast";var y=b,C=e("lqkv"),_=e("RVJP"),j=e("zxER");const E=new o.b("hermes_shortcuts"),M={name:"rocket"},T=h(K=>{let{workflowTitle:V}=K;const z=Object(j.c)(A=>Object(_.d)(A,"connector_ai_step_indicator")==="on");let N;return V?N=z?E.rt("<strong>You started {workflowTitle}.</strong> This workflow might take a little longer to run.",{workflowTitle:V}):"":N=z?E.t("<strong>You started a workflow.</strong> This workflow might take a little longer to run."):"",a.a.createElement(C.b,{svgIconProps:M},N)},"SlowWorkflowStartedToast");T.displayName="SlowWorkflowStartedToast";const P=Object(s.c)("eneuques a shortcut trigger run toast",function(){var K=Object(n.coroutine)(function*(V,z){return V(Object(l.a)({element:a.a.createElement(c,null)}))});return function(V,z){return K.apply(this,arguments)}}());P.meta={name:"createThunk",key:"createThunkenqueueTriggerSuccessToast",description:"eneuques a shortcut trigger run toast"};const B=Object(s.c)("eneuques a shortcut trigger run error toast",function(){var K=Object(n.coroutine)(function*(V,z,N){let{errorType:A,errorSubType:x}=N;return V(Object(l.a)({element:a.a.createElement(g,{errorType:A,errorSubType:x})}))});return function(V,z,N){return K.apply(this,arguments)}}());B.meta={name:"createThunk",key:"createThunkenqueueTriggerErrorToast",description:"eneuques a shortcut trigger run error toast"};const R=Object(s.c)("eneuques a shortcut trigger run toast",function(){var K=Object(n.coroutine)(function*(V,z,N){let{workflowTitle:A}=N;return V(Object(l.a)({element:a.a.createElement(T,{workflowTitle:A})}))});return function(V,z,N){return K.apply(this,arguments)}}());R.meta={name:"createThunk",key:"createThunkenqueueSlowWorkflowStartedToast",description:"eneuques a shortcut trigger run toast"};const U=Object(s.c)("eneuques a trigger copied toast",function(){var K=Object(n.coroutine)(function*(V,z){return V(Object(l.a)({element:a.a.createElement(y,null)}))});return function(V,z){return K.apply(this,arguments)}}());U.meta={name:"createThunk",key:"createThunkenqueueCopiedTriggerSuccessToast",description:"eneuques a trigger copied toast"}},XELS:function(J,i,e){"use strict";e.d(i,"a",function(){return _});var n=e("Lgge"),t=e("n3tL"),a=e("fujP"),s=e("WCk1"),l=e("2XU3"),o=e("AzV5"),f=e("jprL"),r=e("Sczb"),m=e("Kn+X"),c=e("BBdC"),u=e("62K+"),d=e("2XGx"),p=e("Cnv9"),v=e("9BpI"),g=e("WKVO"),O=e("rq8k"),b=e("nwIl"),y=e("D1F6"),C=e("z4V0");const _=Object(s.a)("Creates a draft",function(j,E){let{draft:M,reason:T,origClientDraftId:P,acknowledgedUnfurls:B}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var R;if(Object(a.a)(M))return n.a.reject(new Error("No draft provided"));const U=Object(m.e)(M),K=P??U,V=Object(m.n)(M),z=j(Object(o.a)({msgOps:V}))||O.a,N=Object(m.j)(M),A=Object(c.a)(M),x=E();let k=j(Object(v.a)({draftId:K,ops:V}));const F=Object(b.f)(x),L=Object(b.a)(x,{draftId:U}),S=(((R=Object(r.g)(x,K,[f.f]))===null||R===void 0?void 0:R.length)||0)>0;k||(k=S?JSON.stringify([]):void 0);const I=Object(p.b)(x)?j(Object(u.a)({draftId:U})):void 0;let W=I?Object(d.a)(I):[];if(F&&L){const H=Object(y.a)(x,{draftId:U,status:C.b.DRAFT});W=W.concat(H)}const D=j(Object(g.a)({draftId:U}));return j(Object(l.apiCall)({method:"drafts.create",args:{blocks:JSON.stringify(z),client_msg_id:Object(m.s)(M),attachments:W,destinations:JSON.stringify(N),file_ids:JSON.stringify(A),unfurl:B||k,is_from_composer:Object(m.z)(M),date_scheduled:Object(m.i)(M),file_permissions:D},reason:T}))});_.meta={name:"createFetcher",key:"createFetchercreateDraftApi",description:"Creates a draft"},_.propTypes={draft:t.default.object.isRequired,reason:t.default.string.isRequired}},XKGd:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("zxER"),t=e("4Vim"),a=e("kN6v");function s(l,o){const f=l==null?void 0:l.id.get(),r=Object(n.c)(m=>f&&Object(t.c)(m,f));return Object(a.a)(r?o:void 0)}h(s,"useQuipDocValueIfSubscribed")},XNO5:function(J,i,e){"use strict";e.d(i,"a",function(){return r}),e.d(i,"b",function(){return m});var n=e("up1q"),t=e("E3dU"),a=e("y/Pn"),s=e("x6tY"),l=e("gnJq"),o=e("OaiI"),f;(function(c){c.CAN_SHARE="can_share",c.SHARING_DISABLED="list_sharing_disabled"})(f||(f={}));const r=h((c,u)=>Object(o.isListsSlackConnectEnabled)(c)?Object(n.a)(c,"list_share_status",u)===f.SHARING_DISABLED:!1,"isSlackConnectListSharingDisabled"),m=h((c,u,d)=>{const p=Object(t.d)(c,u);return!Object(a.a)(p)||!d||Object(l.a)(d)||!Object(s.o)(d)?!1:!Object(o.isListsSlackConnectEnabled)(c)||r(c,u)},"shouldWarnSlackConnectListSharingDisabled")},"XZ+b":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("SQ0V"),l=e("3l96"),o=e("+kJ4"),f=e("Tevt"),r=e("YUBf"),m=e("qMw6"),c=e("RB1+"),u=e("nNoG"),d=e("vbTZ");const p=new u.b("message-input");function v(y){let{channelId:C,dateScheduled:_=void 0,urlString:j,onClose:E,onSend:M}=y;const T=p.t("This URL shouldn\u2019t be shared"),P=p.rt("The following URL contains login information that shouldn\u2019t be shared: {urlString}",{urlString:t.a.createElement(f.a,{href:j},j)}),B=p.t("Consider replacing or removing this URL before sending your message."),R=h(()=>{const U=Object(c.a)({viewContext:m.a.MESSAGE_PANE,channelId:C});U&&!_&&U.clear(),M(),E()},"sendMessage");return t.a.createElement(r.a,{closeModal:E},t.a.createElement(r.i,null,t.a.createElement(r.l,{title:T})),t.a.createElement(r.d,null,t.a.createElement(r.e,null,t.a.createElement("p",null,P),t.a.createElement("p",null,B))),t.a.createElement(r.g,null,t.a.createElement(r.h,null,t.a.createElement(r.c,{onClick:R,type:"outline"},_?p.t("Schedule Message"):p.t("Send Anyway")),t.a.createElement(r.c,{autoFocus:!0},p.t("Keep Editing")))))}h(v,"MessagePaneInputLinkWarning"),v.displayName="MessagePaneInputLinkWarning";var g=v;const O=Object(s.c)("Display warning when user attemps to share a URL with sensitive login info",(y,C,_)=>{let{channelId:j,dateScheduled:E,urlString:M,onSend:T,onClose:P=a.a}=_;const B=t.a.createElement(g,{channelId:j,dateScheduled:E,urlString:M,onClose:()=>{P(),y(Object(o.a)())},onSend:T});y(Object(l.a)({element:B}))});O.meta={name:"createThunk",key:"createThunkopenLoginInitiateRedirectLinkWarningDialog",description:"Display warning when user attemps to share a URL with sensitive login info"};var b=i.a=O},XayX:function(J,i,e){"use strict";e.d(i,"a",function(){return m});var n=e("nNoG"),t=e("A+oD"),a=e("kBpe"),s=e("x6tY"),l=e("drD8"),o=e("oq5T"),f=e("RVJP");const r=new n.b("files");function m(c,u,d){if(Object(f.d)(d,"file_consistency")==="treatment"){const v=Object(o.a)(d,u);let g;switch(c){case"detail":g=r.t("Click to view details");break;case"view":g=r.rt("View <strong>{fileType}</strong> in Slack",{fileType:v,fallbackHash:"4373df90f1ae5a82dd83d58a8fb61b1e705f1496"});break;case"download":g=r.rt("Download <strong>{fileType}</strong>",{fileType:v,fallbackHash:"30db38f6cca1027133585204ba5fe29e334abf8b"});break;case"window":if(Object(s.t)(u)){if(Object(l.a)(d,u).edit){g=r.t("Edit in new window");break}g=r.t("Open in new window");break}g=r.t("Click to open original");break;case"remote":g=r.rt("Open <strong>{fileType}</strong> in <strong>{appName}</strong>",{appName:Object(t.a)(d,u),fileType:v,fallbackHash:"fdf53377932b56896fbf2078ce736a6c00f4734a"});break;case"reveal":g=Object(a.p)()?r.t("Show in Finder"):r.t("Open containing folder");break;case"external":switch(u.external_type){case"gdrive":g=r.rt("Open <strong>{fileType}</strong> in browser",{fileType:v,fallbackHash:"2208430e3a61290ed957caf3f590606b07f487f0"});break;case"dropbox":g=r.rt("Open <strong>{fileType}</strong> in DropBox",{fileType:v,fallbackHash:"6734623f3dfad69099aaa81fa11ce19431b98c65"});break;case"box":g=r.rt("Open <strong>{fileType}</strong> in Box",{fileType:v,fallbackHash:"4b9a59eede692bac88605a693f6c946f1ed9fe43"});break;case"onedrive":g=r.rt("Open <strong>{fileType}</strong> in OneDrive",{fileType:v,fallbackHash:"84fd5fe3f6f647f10ed57c0b7cbaee8ee213c6ce"});break;default:g=r.t("Open file")}break;case"open":v==="Canvas"||v==="Template"?g=r.rt("Open {fileType}",{fileType:v.toLowerCase()}):g=r.t("Open file");break;default:g=r.t("Open file");break}return g}switch(c){case"detail":return r.t("Click to view details");case"view":return r.t("Click to view");case"download":return r.t("Click to download");case"window":return Object(s.t)(u)?Object(l.a)(d,u).edit?r.t("Edit in new window"):r.t("Open in new window"):r.t("Click to open original");case"remote":return r.t("Click to open in {appName}",{appName:Object(t.a)(d,u)||""});case"reveal":return Object(a.p)()?r.t("Show in Finder"):r.t("Open containing folder");case"external":switch(u.external_type){case"gdrive":return r.t("Click to open in Google\xA0Drive");case"dropbox":return r.t("Click to open in Dropbox");case"box":return r.t("Click to open in Box");case"onedrive":return r.t("Click to open in OneDrive");default:return r.t("Click to open in a\xA0web\xA0page")}case"open":default:return r.t("Click to open")}}h(m,"getActionText")},XpTY:function(J,i,e){"use strict";e.d(i,"a",function(){return a}),e.d(i,"c",function(){return s}),e.d(i,"b",function(){return l});var n=e("lCmp"),t=e("vFlG");function a(o){if(!o)return!1;const f=["code-block","blockquote","list"];return Object(n.a)(f,m=>Object(t.a)(o,m))}h(a,"doesAttributesContainBlockFormatting");function s(o){if(!o)return!1;const{insert:f,attributes:r}=o;return f!==`
`||!r?!1:a(r)}h(s,"isOpOnlyBlockFormatting");function l(o){if(!o)return!1;const f=o.ops;if(!f||f.length!==1)return!1;const r=o.ops[0];return r?s(r):!1}h(l,"isDeltaOnlyBlockFormatting")},Xstn:function(J,i,e){"use strict";var n=e("HSXp"),t=e("szr9"),a=e("d+k3"),s=e("4V1c");i.a=n.a},XzGp:function(J,i,e){"use strict";e.d(i,"a",function(){return _e}),e.d(i,"b",function(){return Ee});var n=e("9oTK"),t=e("Aqb/"),a=e("PLUl"),s=e("s4P+"),l=e("G5NC"),o=e("lhZz"),f=e("rIJ2"),r=e("7xYR");const m=Object(f.a)(50),c=Object(f.a)(1);function u(){var Oe,Ce;if(!Object(l.a)())return!1;const he=(Oe=Object(o.getClientStoreInstance)())===null||Oe===void 0||(Ce=Oe.getState)===null||Ce===void 0?void 0:Ce.call(Oe);return he&&Object(r.hasBootedSlackOwnedTeam)(he)&&m?!0:c}h(u,"shouldMeasureClientMetrics");var d=e("Z7Ay"),p=e("BEaa"),v=e("ykb+"),g=e("fF9N"),O=e("DKof"),b=e("jeQL"),y=e("1myf"),C=e("Z4nq"),_=e("okoL"),j=e("f8fv"),E=e("Lgge"),M=e("5NQM"),T=e("5MVR"),P=e("vLZU"),B=e("4hjS"),R=e("1Np4"),U=e("tHoN"),K=e("thso"),V=e("nRvL"),z=e("j77i");const N="CLIENT-METRICS:REDUX",A=Object(v.b)()?0:10*1e3,x=10,k=300;var F;(function(Oe){Oe.Inactive="inactive",Oe.Active="active"})(F||(F={}));function L(Oe){return S.apply(this,arguments)}h(L,"measureStoreSizes");function S(){return S=Object(n.coroutine)(function*(Oe){const Ce=Object(s.b)({label:N});let ce=F.Inactive;const he=Object(o.getStateForClientStore)(),Me=Object(r.getBootedWorkspaces)(he)||[],Ae=Object(r.getWorkspacesMeta)(he),xe=yield E.a.map(Me,function(){var ze=Object(n.coroutine)(function*(Ie){yield E.a.delay(A);const Ne=Object(o.getStateByTeamId)(Ie),Ke=Object(R.a)({state:Ne}),Ve=Object(s.a)({teamId:Ie,label:N});return Object(M.a)(()=>{const $e=Ke.createMetricsTrace({label:"workspace",samplingOptions:{sampleType:t.a.ALWAYS},traceId:Oe.getTraceId(),parentSpanId:Oe.getRootSpanId()}),tt={},qe=Object(B.f)(Ne,Ie);Object.keys(Ne).forEach(Nt=>{const Ft=(Nt==="messages"?V.c:K.b)(Ne[Nt]),_n=Object(T.a)(Ft);_n&&(tt[Nt]=_n)});const ut=Object(O.a)(Object.values(tt));let rt;const yt=Ae[Ie].enterprise_id;if(yt){const Nt={...Object(P.t)(yt),...Object(P.t)(Ie)},Ft=Object(b.a)(tt,(_n,cn)=>Object(P.B)({reducer:Nt[cn]}));rt=Object(O.a)(Object.values(Ft))}Ve.info("Redux total store size:",Object(U.c)(ut));const Mt=$e.store({name:"redux:workspace",label:"store_bytes",value:ut}),st={},Vt=Object(y.a)(Object(C.a)(tt),1),Wt=Object(_.a)(Vt,x);Wt.forEach(Nt=>{let[Ft,_n]=Nt;Ve.info(`Redux store size for ${Ft}:`,Object(U.c)(_n));const cn=Object(j.a)(Ft);$e.store({name:`redux:workspace:${cn}`,label:"store_bytes",value:_n})});const Xt=qe?(Date.now()-qe)/1e3:0;Xt>0&&Xt<k&&(ce=F.Active);const Ut=Wt.pop();if(st.largest_store_name=Ut&&Ut[0],st.largest_store_bytes=Ut&&Ut[1],st.team_activity_level=ce,st.last_cold_boot_ts=Object(z.f)("lastColdBootTs"),Mt.addTags(st),rt){const Nt=ut-rt;Ve.info("Redux store size shared by org:",Object(U.c)(Nt)),$e.store({name:"redux:workspace:org_shared_bytes",value:Nt})}return Ke.reportTrace($e),{teamId:Ie,totalSize:ut,sizes:tt,orgId:yt,orgSize:rt}})});return function(Ie){return ze.apply(this,arguments)}}(),{concurrency:1}),Re=[];let Ge=0;xe.forEach(function(){let{orgId:ze,orgSize:Ie,totalSize:Ne}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ze&&Re.includes(ze)?Ge+=Ie:(Ge+=Ne,ze&&Re.push(ze))}),Ce.info("Total Redux store size on client:",Object(U.c)(Ge));try{sessionStorage.setItem("client_metrics_client_redux_size",Ge.toString())}catch(ze){Ce.info("Error storing redux in local Storage",ze)}return Oe.store({name:"redux:all_workspaces_bytes",value:Ge}),Oe}),S.apply(this,arguments)}h(S,"_measureStoreSizes");var I=e("RmlA");const W="CLIENT-METRICS:STORAGE";function D(Oe){return H.apply(this,arguments)}h(D,"measuresessionStorageSize");function H(){return H=Object(n.coroutine)(function*(Oe){return yield Object(M.a)(()=>{const Ce=Object(s.b)({label:W}),ce=Object(a.a)();try{const he=ce.createMetricsTrace({label:"local_storage",traceId:Oe.getTraceId(),parentSpanId:Oe.getRootSpanId()}),Me=Object.entries(sessionStorage).sort((Ge,ze)=>{let[Ie,Ne]=Ge,[Ke,Ve]=ze;return Ve.length-Ne.length}),Ae=Me.reduce((Ge,ze)=>{let[Ie,Ne]=ze;const Ke=Z(Ne);return!isNaN(Ke)&&sessionStorage.hasOwnProperty(Ie)&&(Ge+=Ke),Ge},0);if(he.store({name:"local_storage_bytes",value:Ae}).setTag("total_entries",Me.length),Ce.info("sessionStorage total size:",Object(U.c)(Ae)),Ce.info("sessionStorage total entries:",Me.length),Me.length){const Ge=Me[0];Ce.info(`sessionStorage largest entry: ${Ge[0]} (${Object(U.c)(Z(Ge[1]))})`)}Me.slice(0,5).forEach(Ge=>{let[ze,Ie]=Ge;he.store({name:"local_storage:largest_entry_bytes",value:Z(Ie)}).addTags({entry_key:Object(I.b)(ze)})}),ce.reportTrace(he)}catch{}}),Oe}),H.apply(this,arguments)}h(H,"_measuresessionStorageSize");function Z(Oe){return Oe.length*2}h(Z,"getsessionStorageItemSize");var G=e("ektR");const te="CLIENT-METRICS:PERF",se=["JSHeapUsedSize","JSHeapTotalSize","JSEventListeners","Nodes"];function $(){return X.apply(this,arguments)}h($,"getMetrics");function X(){return X=Object(n.coroutine)(function*(){var Oe;const Ce={};yield Object(G.f)();const ce=yield Object(G.g)();return yield Object(G.e)(),ce==null||(Oe=ce.metrics)===null||Oe===void 0||Oe.forEach(he=>{let{name:Me,value:Ae}=he;se.includes(Me)&&(Ce[Me]=Ae)}),Ce}),X.apply(this,arguments)}h(X,"_getMetrics");function q(Oe){return Y.apply(this,arguments)}h(q,"performanceStats");function Y(){return Y=Object(n.coroutine)(function*(Oe){const Ce=Object(s.b)({label:te});let ce,he,Me,Ae,xe=!1;if(G.g.isAvailable()){const Re=yield $();ce=Re.JSHeapUsedSize,he=Re.JSHeapTotalSize,Me=Re.JSEventListeners,Ae=Re.Nodes}else Object(U.e)()&&(ce=Object(U.b)(),he=Object(U.a)(),xe=!0);if(ce&&he){Ce.info("Total memory usage:",Object(U.c)(ce),"out of",Object(U.c)(he));const Re=Oe.store({name:"memory_usage_bytes",value:ce}),Ge=Oe.store({name:"memory_total_bytes",value:he});if(xe){const ze={single_process:!0};Re.addTags(ze),Ge.addTags(ze)}}return Me&&(Ce.info("Total event listeners:",Me),Oe.store({name:"desktop:event_listeners",value:Me})),Ae&&(Ce.info("Total nodes:",Ae),Oe.store({name:"desktop:nodes",value:Ae})),Oe}),Y.apply(this,arguments)}h(Y,"_performanceStats");var ee=e("kiPk"),w=e("Uu/N"),ne=e("vfQU"),ae=e("xt0X"),de=e("kBpe");const ge="CLIENT-METRICS:APP",le=[["workingSetSize",""],["peakWorkingSetSize","peak"],["privateBytes","private"]];let Q;function ie(Oe){return oe.apply(this,arguments)}h(ie,"appStats");function oe(){return oe=Object(n.coroutine)(function*(Oe){if(!Object(de.i)())return Oe;const Ce=Object(s.b)({label:ge}),ce=ne.A.isAvailable()?(yield Object(ne.A)()).processMetrics:yield Object(ne.z)();if(!ce)return Oe;const he={},Me=me(Object(ee.a)(ce,Re=>{let{cpu:Ge}=Re;return Ge.percentCPUUsage}));if(Oe.store({name:"app:cpu_usage_percent_total",value:Me}),Ce.info("App CPU Usage % Total:",Me),he.cpu_usage_percent_delta_total=Me,navigator!=null&&navigator.hardwareConcurrency){const Re=Me*navigator.hardwareConcurrency;Oe.store({name:"app:cpu_usage",value:Re}),Ce.info("App CPU Usage:",Re)}ce==null||ce.forEach(Re=>{const{cpu:Ge,memory:ze,type:Ie,sandboxed:Ne,pid:Ke}=Re,Ve=Ie.toLowerCase();le.forEach(yt=>{let[Mt,st]=yt;if(Mt in ze){const Vt=Math.round(Object(ae.b)(ze[Mt]));Oe.count({name:`app:memory_${Ve}_process_mb`,label:st,value:Vt}).setTag("type",Ie),Ce.info(`App ${Ie} Process ${st&&`${Object(w.a)(st)} `}Memory Usage (MB):`,Vt)}}),he[`memory_${Ve}_working_set_size`]=ze.workingSetSize;const $e=me(Ge.percentCPUUsage),tt=Oe.store({name:`app:cpu_usage_${Ve}_percent`,value:$e});Ce.info(`App ${Ie} Process % CPU Usage:`,$e),he[`cpu_usage_percent_delta_${Ve}`]=$e;const qe=Ge.idleWakeupsPerSecond,ut=Oe.store({name:`app:cpu_idle_${Ve}_wakeups`,value:qe});Ce.info(`App ${Ie} Process Idle Wakeups per second:`,qe);const rt={type:Ie,sandboxed:Ne,pid:Ke};ut.addTags(rt),tt.addTags(rt)});const Ae=Object(U.d)(ce,"workingSetSize");if(Ce.info("App Total Memory (MB):",Ae),Oe.store({name:"app:memory_total_mb",value:Ae}),he.memory_total_working_set_size=Ae,Q){const Re=Ae-Q;Ce.info("App Memory Delta (MB):",Re),Oe.store({name:"app:memory_delta_mb",value:Re})}Q=Ae;const xe=Object(U.d)(ce,"peakWorkingSetSize");if(Ce.info("App Peak Memory (MB):",xe),Oe.store({name:"app:memory_peak_mb",value:xe}),Object(de.x)()){const Re=Object(U.d)(ce,"privateBytes");Ce.info("App Private Memory (B):",Re),Oe.store({name:"app:memory_private_mb",value:Re})}try{sessionStorage.setItem("client_metrics_app_stats",JSON.stringify(he))}catch(Re){Ce.warn("Error storing app stats in local Storage",Re)}return Oe}),oe.apply(this,arguments)}h(oe,"_appStats");function me(Oe){let Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return Number.parseFloat(Oe.toPrecision(Ce))}h(me,"convertToPrecision");var be=e("XO6L");const Se="CLIENT-METRICS",Pe=Object(v.b)()?0:3*60*1e3,Ue=60*60*1e3;let Fe=!1,je;function _e(){u()&&(je=window.setTimeout(pe,Pe))}h(_e,"reportClientMetricsOnAnInterval");function pe(){window.clearTimeout(je),Ee(),je=window.setTimeout(pe,Object(p.a)(Ue,-.1,.1))}h(pe,"runClientMetricsAndScheduleNext");let fe=!1;function Ee(){return ye.apply(this,arguments)}h(Ee,"runClientMetrics");function ye(){return ye=Object(n.coroutine)(function*(){const Oe=Object(s.b)({label:Se});if(Oe.info("Attempting to run client metrics"),Fe){Oe.info("Already running client metrics, skipping");return}Fe=!0;const Ce=Object(a.a)(),ce=Ce.createMetricsTrace({tags:{...Object(be.a)(),...Object(g.b)()},samplingOptions:{sampleType:t.a.ALWAYS}});return yield q(ce),yield L(ce),yield ie(ce),fe||(fe=!0,yield D(ce)),Ce.reportTrace(ce),Oe.info("Completed client metrics",{traceId:ce.getTraceId()}),Fe=!1,ce}),ye.apply(this,arguments)}h(ye,"_runClientMetrics"),Object(d.a)("clientMetrics",{isSampled:()=>u(),runClientMetrics:Ee}),Object.defineProperties({runClientMetrics:Ee,currentlyRunningClientMetrics:Fe},{currentlyRunningClientMetrics:{get:()=>Fe,set:Oe=>{Fe=Oe}}})},Y0qr:function(J,i,e){"use strict";e.d(i,"a",function(){return t});const n=h(a=>a==="1"?"true":a==="0"?"false":a,"coerceNumericBooleanToStringBoolean"),t=h(function(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(a&&"inputs"in a.root)return a.root.inputs.map(l=>{const[o,f,r,m]=Array.from(l.statement.matchAll(/'([^':]*?)(:([^']*?))?'/g))[0],c=s?n(m):m;return{field:f,value:c}});if(a&&"statement"in a.root){const[l,o,f,r]=Array.from(a.root.statement.matchAll(/'([^':]*?)(:([^']*?))?'/g))[0],m=s?n(r):r;return[{field:o,value:m}]}return[]},"readListRecordUpdatedFilter")},Y4Ot:function(J,i,e){"use strict";e.d(i,"a",function(){return C});var n=e("Lgge"),t=e("fujP"),a=e("WCk1"),s=e("2XU3"),l=e("jprL"),o=e("Sczb"),f=e("AzV5"),r=e("Kn+X"),m=e("BBdC"),c=e("62K+"),u=e("2XGx"),d=e("Cnv9"),p=e("9BpI"),v=e("WKVO"),g=e("rq8k"),O=e("nwIl"),b=e("D1F6"),y=e("z4V0");const C=Object(a.a)("Updates a draft",function(_,j){let{draft:E,reason:M,syncDateScheduled:T,origClientDraftId:P,acknowledgedUnfurls:B}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var R;if(Object(t.a)(E))return n.a.reject(new Error("No draft provided"));const U=E,K=Object(r.e)(U),V=j(),z=Object(O.f)(V),N=Object(O.a)(V,{draftId:K}),A=Object(r.o)(U);if(!A)return n.a.reject(new Error("Draft does not have a server generated ID"));const x=Object(r.n)(U),k=_(Object(f.a)({msgOps:x}))||g.a,F=Object(r.j)(U),L=Object(m.a)(U),S=P??K;let I=_(Object(p.a)({draftId:S,ops:x}));const W=(((R=Object(o.g)(V,S,[l.f]))===null||R===void 0?void 0:R.length)||0)>0;I||(I=W?JSON.stringify([]):void 0);const D=Object(d.b)(V)?_(Object(c.a)({draftId:K})):void 0;let H=D?Object(u.a)(D):[];if(z&&N){const G=Object(b.a)(V,{draftId:K,status:y.b.DRAFT});H=H.concat(G)}const Z=_(Object(v.a)({draftId:K}));return _(Object(s.apiCall)({method:"drafts.update",args:{blocks:JSON.stringify(k),client_last_updated_ts:Object(r.l)(U).toString(),attachments:H,destinations:JSON.stringify(F),draft_id:A,file_ids:JSON.stringify(L),unfurl:B||I,date_scheduled:T?Object(r.i)(U):void 0,is_from_composer:Object(r.z)(U),file_permissions:Z},reason:M}))});C.meta={name:"createFetcher",key:"createFetcherupdateDraftApi",description:"Updates a draft"}},YCzX:function(J,i,e){"use strict";e.d(i,"f",function(){return C}),e.d(i,"a",function(){return M}),e.d(i,"e",function(){return T}),e.d(i,"d",function(){return P}),e.d(i,"b",function(){return B}),e.d(i,"c",function(){return U});var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("fujP"),l=e("BHdc"),o=e("nNoG"),f=e("Tevt"),r=e("8HWa"),m=e("wBgp"),c=e("wnwS"),u=e("m5Yc"),d=e("R+hq"),p=e("vIgB"),v=e("2IlT"),g=e("by95"),O=e("uOwe"),b=e("a7YP"),y=e("zxER");const C=Object(n.createContext)(null),_=new o.b("workflow_builder"),j=h(V=>{V.preventDefault()},"preventDefault"),E=h(V=>{let{variable:z,defaultLabel:N,prependText:A}=V;return z!=null&&z.label?`${A??""}${z==null?void 0:z.label}`:N},"buildLabel"),M=h(V=>{let{style:z}=V;return t.a.createElement(c.a,{style:z},t.a.createElement("span",{className:"p-workflowtoken--error"},_.t("Missing Data")))},"MissingData"),T=h(V=>{let{style:z,variable:N,showError:A=!1}=V;return t.a.createElement("span",{className:"p-workflowtoken__text"},t.a.createElement(f.a,{href:"#",className:Object(l.default)("c-member_slug c-member_slug--link",{"p-workflowtoken--error":A}),onClick:j,tabIndex:-1,"aria-hidden":!0,disabled:!0},t.a.createElement(d.a,{type:u.b.TEXT,text:E({variable:N,defaultLabel:_.t("Variable text")}),style:z})))},"PreviewText"),P=h(V=>{let{style:z,variable:N,showError:A=!1}=V;return t.a.createElement("span",{className:"p-workflowtoken__user"},t.a.createElement(c.a,{style:z},t.a.createElement(r.a,{id:"preview-user",className:Object(l.default)("c-link--disabled",{"p-workflowtoken--error":A}),tabIndex:-1,ariaHidden:!0,name:E({variable:N,defaultLabel:(N==null?void 0:N.type)===p.d.SlackTypesUsergroupId?_.t("Variable User group",{fallbackHash:"8c94d32b4b7aa138343157046fa53de39e68f6d9",fallbackHashNs:"user_groups"}):_.t("Variable User")}),showTooltip:!1,onClick:a.a,isUnknown:!1})))},"PreviewMember"),B=h(V=>{let{style:z,variable:N,showError:A=!1}=V;return t.a.createElement("span",{className:"p-workflowtoken__channel"},t.a.createElement(c.a,{style:z},t.a.createElement(f.a,{href:"#",className:Object(l.default)("c-member_slug c-member_slug--link",{"p-workflowtoken--error":A}),onClick:j,tabIndex:-1,"aria-hidden":!0,disabled:!0},E({variable:N,defaultLabel:_.t("#variable-channel"),prependText:"#"}))))},"PreviewChannel");B.displayName="PreviewChannel";var R;const U=h(V=>{let{style:z,variable:N,showError:A}=V;return t.a.createElement(c.a,{style:z},t.a.createElement("span",{className:Object(l.default)({"p-workflowtoken--error":A})},(R=N==null?void 0:N.label)!==null&&R!==void 0?R:_.t("Variable emoji")))},"PreviewEmoji"),K=h(V=>{let{id:z,dataType:N,property:A,style:x}=V;const k=Object(n.useContext)(C),F=Object(y.c)(b.J),L=Object(n.useMemo)(()=>{if(k)return Object(v.a)(k,z)},[k,z]);if(!z||!N||!k||Object(s.a)(k))return null;if(!L||L.isTombstone)return t.a.createElement(M,{style:x});let S=null,I=N,W=!L.isAvailable;switch(Object(g.b)(L)&&(F&&(W=!L.isAvailable||!Object(O.a)({id:z,type:N},L)),I=L.type),I){case m.j:case p.d.SlackTypesUserId:case p.d.SlackTypesUsergroupId:A&&[m.b,m.a].includes(A)?S=t.a.createElement(T,{style:x,variable:L,showError:W}):S=t.a.createElement(P,{style:x,variable:L,showError:W});break;case m.c:case p.d.SlackTypesChannelId:S=t.a.createElement(B,{style:x,variable:L,showError:W});break;case m.e:S=t.a.createElement(U,{style:x,variable:L,showError:W});break;case m.i:default:S=t.a.createElement(T,{style:x,variable:L,showError:W})}return S},"WorkflowToken");K.displayName="WorkflowToken",i.g=K},YGCq:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("HOkk"),l=e("AwEi"),o=e("nNoG");function f(){return f=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(c[p]=d[p])}return c},f.apply(this,arguments)}h(f,"_extends");const r=new o.b("attachment_actions");function m(c){let{dangerGoButton:u=!1,dismissText:d,isMrkdwnText:p=!0,okText:v,onCancel:g=a.a,onGo:O,text:b="",title:y="",confirmTextProps:C,autoClogProps:_}=c,j;return!b&&!y?j=r.t("Are you sure?"):p?j=t.a.createElement(l.a,f({},C,{text:b})):j=b,t.a.createElement(s.a,{cancelText:d||r.t("Cancel"),goButtonText:v||r.t("OK"),goButtonType:u?"danger":void 0,onCancel:g,onGo:O,title:y,autoClogProps:_},j)}h(m,"AttachmentActionConfirmDialog"),m.displayName="AttachmentActionConfirmDialog",i.a=t.a.memo(m)},YHfO:function(J,i,e){"use strict";e.d(i,"b",function(){return n}),e.d(i,"a",function(){return t});const n=5e3,t="share_dialog"},YJrJ:function(J,i,e){"use strict";e.d(i,"a",function(){return a}),e.d(i,"b",function(){return s});var n=e("q1tI"),t=e.n(n);const a=t.a.createContext({highlightFirstSearchResult:!1,setHighlightFirstSearchResult:()=>!1,highlightOnMultiPickerEscape:!1,setHighlightOnMultiPickerEscape:()=>!1,showHandyReactions:!1,enableSkinTonePicker:!0,keyboardIntoPicker:!1,setKeyboardIntoPicker:()=>!1}),s=h(l=>{let{children:o,showHandyReactions:f,enableSkinTonePicker:r}=l;const[m,c]=Object(n.useState)(!1),[u,d]=Object(n.useState)(!1),[p,v]=Object(n.useState)(!1),g=Object(n.useMemo)(()=>({highlightFirstSearchResult:m,setHighlightFirstSearchResult:c,highlightOnMultiPickerEscape:u,setHighlightOnMultiPickerEscape:d,showHandyReactions:f,enableSkinTonePicker:r,keyboardIntoPicker:p,setKeyboardIntoPicker:v}),[m,u,f,r,p]);return t.a.createElement(a.Provider,{value:g},o)},"EmojiPickerContextProvider");s.displayName="EmojiPickerContextProvider"},YKBt:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("WSQ4"),s=e("khnw"),l=e("/Mil"),o=e("LK2A");const f=h(r=>{let{value:m,max:c,tick:u,jump:d,onChange:p,renderContainer:v,renderTrack:g,renderInner:O,onMouseDown:b,onMouseUp:y,"aria-label":C,"aria-valuetext":_,vertical:j,autoFocus:E}=r;const M=Object(n.useRef)(null),{embeddedUiData:T}=Object(n.useContext)(l.a),{window:P}=Object(n.useContext)(a.a),B=Object(n.useCallback)(k=>{let{pageX:F,pageY:L}=k;const S=M.current;if(!S)return;const I=S.getBoundingClientRect(),W=j?I.y:I.x,D=Math.max(0,(j?L:F)-W),H=j?I.height:I.width,G=(j?1-Math.min(1,D/H):Math.min(1,D/H))*c;p(G)},[c,p,j]),R=Object(n.useCallback)(k=>{B(k)},[B]),U=Object(n.useCallback)(k=>{P.document.removeEventListener("mousemove",R),P.document.removeEventListener("mouseup",U),y==null||y(k)},[R,y,P]),K=Object(n.useCallback)(k=>{k.button!==0||k.ctrlKey||(B(k),k.preventDefault(),P.document.addEventListener("mousemove",R),P.document.addEventListener("mouseup",U),b==null||b(k))},[R,U,B,b,P]),V=Object(n.useCallback)(k=>{switch(k.which){case s.o:case s.r:p(m+(u??1));break;case s.k:case s.c:p(m-(u??1));break;case s.n:p(m+(d??c*.1));break;case s.m:p(m-(d??c*.1));break;case s.g:p(0);break;case s.d:p(c);break;default:return}k.preventDefault()},[m,c,u,d,p]);Object(n.useEffect)(()=>{var k;return M==null||(k=M.current)===null||k===void 0||k.toggleAttribute(o.EmbeddedUIAttributes.NO_DRAG_ON_MOUSE_MOVE,!!T),()=>{P.document.removeEventListener("mousemove",R),P.document.removeEventListener("mouseup",U)}},[T,R,U,P]),Object(n.useEffect)(()=>{E&&M.current&&M.current.focus()},[E]);const z=`${((c>0?m/c:0)*100).toFixed(2)}%`,N=O({style:j?{height:z}:{width:z}}),A=g({children:N,tabIndex:0,role:"slider","aria-label":C,"aria-valuemin":0,"aria-valuemax":c,"aria-valuenow":Math.floor(m),"aria-valuetext":_,onKeyDown:V,ref:M});return v({children:A,onMouseDown:K})},"CustomizableSlider");i.a=f},YOgf:function(J,i,e){"use strict";e.d(i,"a",function(){return q});var n=e("mM05"),t=e.n(n),a=e("m5Yc"),s=e("mdQV"),l=e("ECHX"),o=e("6je6"),f=e("FFYQ"),r=e("6YLm"),m=e("WXix"),c=e("7HXw"),u=e("/ZHS"),d=e("RNBp");const{WORKFLOWTOKEN:p}=a.b,v=h(ae=>{var de;return((de=ae)===null||de===void 0?void 0:de.type)===p},"isRichTextWorkflowtokenElement");var g=e("EbWi"),O=e("5f4c"),b=e("59NB"),y=e("895Y"),C=e("gSGL"),_=e("TGBA");const j=h(ae=>{var de,ge;return Object(C.a)((de=ae)===null||de===void 0?void 0:de.text)&&!Object(_.a)(a.b).includes((ge=ae)===null||ge===void 0?void 0:ge.type)},"isRichTextUnknownElementWithText"),{HEADER:E}=a.b,M=h(ae=>{var de;return((de=ae)===null||de===void 0?void 0:de.type)===E},"isRichTextHeaderElement"),{DIVIDER:T}=a.b,P=h(ae=>{var de;return((de=ae)===null||de===void 0?void 0:de.type)===T},"isRichTextDividerElement");var B=e("xwCZ"),R=e("GhjL"),U=e("E3dU"),K=e("JnIm"),V=e("2oNE"),z=e("/+/u"),N=e("pTwU"),A=e("MvaT"),x=e("iomZ"),k=e("yrot"),F=e("HJKc"),L=e("52Wj"),S=e("DQNL"),I=e("Yauy"),W=e("jlKB"),D=e("dS/7"),H=e("Ar8P");function Z(ae){var de;return ae?ae.length===1&&(ae==null||(de=ae[0])===null||de===void 0?void 0:de.type)===a.b.EXPANDED_RICH_TEXT:!1}h(Z,"isExpandedRichText");var G=e("oNuo"),te=e("6kKm");const{ORDERED:se,UNCHECKED:$,CHECKED:X}=a.a;function q(ae,de){const ge=Object(K.a)(ae);let le=new t.a;return!de||!Object(H.a)(de)&&!Z(de)||(de[0].elements.forEach(Q=>{const ie=(Q==null?void 0:Q.border)>0?1:void 0;Object(g.a)(Q)?le=le.concat(w(ae,Q.elements,ge)):Object(O.a)(Q)?(le=le.concat(w(ae,Q.elements,ge,{blockquote:!0,border:ie})),le.insert(`
`,{blockquote:!0,border:ie})):Object(b.a)(Q)?(le=le.concat(w(ae,Q.elements,ge,{"code-block":!0,border:ie})),le.insert(`
`,{"code-block":!0,border:ie})):Object(y.a)(Q)?le=le.concat(Y(ae,Q,ge)):M(Q)?le=le.concat(ee(ae,Q,ge)):P(Q)?le.insert({slackhorizontalrule:!0},{slackhorizontalrule:!0}):v(Q)&&le.insert({workflowtoken:{id:Q.id,property:Q.property,type:Q.data_type}},{...ne(Q.style)})}),Object(A.a)(le)||le.insert(`
`)),le}h(q,"convertBlocksToDelta");function Y(ae,de,ge){let le=new t.a,Q={list:"bullet"};return de.style===se?Q={list:"ordered"}:de.style===$?Q={list:"unchecked"}:de.style===X&&(Q={list:"checked"}),de.indent&&(Q.indent=de.indent),de.border&&(Q.border=de.border),de&&de.elements&&de.elements.forEach(ie=>{le=le.concat(w(ae,ie.elements,ge,Q)),le.insert(`
`,Q)}),le}h(Y,"convertList");function ee(ae,de,ge){let le=new t.a;const Q={header:de.level};return de&&de.elements&&(le=le.concat(w(ae,de.elements,ge)),le.insert(`
`,Q)),le}h(ee,"convertHeader");function w(ae,de,ge,le){const Q=new t.a,ie=Object(W.a)(ae);return(de||[]).forEach(oe=>{let me,be,Se,Pe,Ue,Fe,je,_e;if(Object(s.a)(oe)||j(oe))if(le&&le.list)Q.insert(oe.text.replace(/\n/g,""),ne(oe.style));else if(le){me=oe.text.split(`
`);for(let pe=0;pe<me.length;pe++)oe.text&&Q.insert(me[pe],ne(oe.style)),pe<me.length-1&&Q.insert(`
`,le)}else Q.insert(oe.text,ne(oe.style));else if(Object(l.a)(oe))be=Object(B.g)(ae,oe.user_id),Q.insert(`@${Object(L.b)(be)}`,{slackmention:Object(z.a)(be,ge),...ne(oe.style)});else if(Object(o.a)(oe))Se=Object(R.d)(ae,oe.usergroup_id),Q.insert(Object(S.g)(Se),{slackmention:Object(N.a)(Se,ge),...ne(oe.style)});else if(Object(f.a)(oe))Pe=Object(U.d)(ae,oe.channel_id),_e=`#${Object(I.t)(ae,Pe,{publicChannelIncludeHashSign:!1})}`,Q.insert(_e,{slackmention:Object(V.a)((Pe==null?void 0:Pe.id)||"",_e),...ne(oe.style)});else if(Object(r.a)(oe))Ue=Object(G.a)(`BK${oe.range}`),Q.insert(`@${Object(te.a)(Ue)}`,{slackmention:Object(V.a)(`BK${oe.range}`,`@${Object(te.a)(Ue)}`,ge),...ne(oe.style)});else if(Object(m.a)(oe))if(ie)Q.insert(Object(D.a)(oe,{state:ae,localize:!0}),{...ne(oe.style)});else{Fe=`:${oe.name}:`,oe.skin_tone&&(Fe+=`:skin-tone-${oe.skin_tone}:`);const pe={...ne(oe.style)},fe=h(Ee=>{Q.insert({slackemoji:{text:Ee}},pe)},"addToDelta");if(oe.unicode&&Object(F.a)(oe.unicode)){const Ee=Object(k.i)(ae,oe.unicode);if(Ee)fe(`:${Ee}:`);else{const ye=Object(x.a)({codePointLikeString:oe.unicode});Q.insert(ye||"",pe)}}else fe(Fe)}else Object(c.a)(oe)?(je=ne(oe.style),je.code||le&&le["code-block"]||(je.link=oe.url),Q.insert(oe.text||oe.url,je)):Object(u.a)(oe)?Q.insert(oe.value,{...ne(oe.style)}):Object(d.a)(oe)?oe.fallback&&Q.insert(oe.fallback,{...ne(oe.style)}):v(oe)&&Q.insert({workflowtoken:{id:oe.id,property:oe.property,type:oe.data_type}},{...ne(oe.style)})}),Q}h(w,"convertTextChunks");function ne(ae){const de={};return ae&&(ae.bold&&(de.bold=!0),ae.italic&&(de.italic=!0),ae.strike&&(de.strike=!0),ae.code&&(de.code=!0),ae.unlink&&(de.unlink=!0)),de}h(ne,"styleToDeltaAttributes")},YVQY:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("ifKl"),l=e("6R8Z"),o=e("oEDn"),f=e("nNoG");const r=new f.b("play_pause_animations"),m=h(u=>{let{containerClassname:d,src:p,animatedSrc:v,title:g="animated gif",children:O,tabIndex:b=0,onlyEnablePlayPauseButton:y=!1}=u;const[C,_]=Object(n.useState)(!1),[j,E]=Object(n.useState)(!1),[M,T]=Object(n.useState)(!1),P=Object(n.useCallback)(A=>{A.preventDefault(),_(!C)},[C]),B=Object(n.useCallback)(A=>{const{key:x}=A;(x==="Enter"||x===" ")&&(A.preventDefault(),_(!C))},[C]),R=Object(n.useCallback)(()=>{E(!1)},[]),U=Object(n.useCallback)(()=>{E(!0)},[]),K=Object(n.useCallback)(()=>{T(!0)},[]),V=Object(n.useCallback)(()=>{T(!1)},[]),z=Object(a.default)("p-play_pause_animations__container",{"p-play_pause_animations__container--has-focus":j&&C&&!M},d),N=Object(a.default)("p-play_pause_animations__btn",{"p-play_pause_animations__btn--hidden":C});return t.a.createElement("div",{role:"group","aria-label":g,className:z,onMouseDown:y?s.a:P,onMouseEnter:K,onMouseLeave:V,onBlur:R,onFocus:U,onKeyDown:y?s.a:B},O({source:C?v:p}),t.a.createElement(l.a,{className:N,"aria-label":r.t("Play animation"),"aria-pressed":C,tabIndex:b,onMouseDown:y?P:s.a,onKeyDown:y?B:s.a},t.a.createElement(o.a,{type:C?"pause":"play-filled",className:"p-play_pause_animations__icon",size:"inherit"})))},"PlayPauseAnimations");m.displayName="PlayPauseAnimations";var c=i.a=m},Yg60:function(J,i,e){"use strict";e.d(i,"a",function(){return n}),e.d(i,"b",function(){return t});var n;(function(a){a.SAME_LOCATION="Same location",a.SELF_DM="Self DM",a.DM="DM",a.MPDM="MPDM",a.SC_DM="Slack Connect DM",a.SC_MPDM="Slack Connect MPDM",a.PRIVATE_CHANNEL="Private Channel",a.SC_PRIVATE_CHANNEL="Slack Connect Private Channel",a.PUBLIC_CHANNEL="Public Channel",a.SC_PUBLIC_CHANNEL="Slack Connect Public Channel",a.UNKNOWN="unknown"})(n||(n={}));var t;(function(a){a[a.DEFAULT=0]="DEFAULT",a[a.DM=1]="DM",a[a.MPDM=2]="MPDM",a[a.FORWARDING_TO_SC_DM=3]="FORWARDING_TO_SC_DM",a[a.FORWARDING_TO_SC_MPDM=4]="FORWARDING_TO_SC_MPDM",a[a.FORWARDING_TO_PRIVATE_CHANNELS=5]="FORWARDING_TO_PRIVATE_CHANNELS",a[a.FORWARDING_TO_SC_PRIVATE_CHANNELS=6]="FORWARDING_TO_SC_PRIVATE_CHANNELS",a[a.FORWARDING_TO_PUBLIC_CHANNELS=7]="FORWARDING_TO_PUBLIC_CHANNELS",a[a.FORWARDING_TO_SC_PUBLIC_CHANNELS=8]="FORWARDING_TO_SC_PUBLIC_CHANNELS"})(t||(t={}))},YnUV:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Tell the app whether the Composer formatting bar is visible in this window");t.meta={name:"createAction",key:"createActionsetComposerVisibility",description:"Tell the app whether the Composer formatting bar is visible in this window"}},Yp7W:function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a});var n=e("QXUO"),t;(function(s){s.FileUploadsDisabled="file_uploads_disabled",s.FileUploadsExceptImagesDisabled="file_uploads_except_images_disabled",s.SlackConnectFileLinkSharingBlocked="slack_connect_file_link_sharing_blocked",s.SlackConnectBlockedFileType="slack_connect_blocked_file_type",s.SlackConnectFileUploadSharingBlocked="slack_connect_file_upload_sharing_blocked",s.MalwareDetected="malware_detected",s.FilesUploadHasExceededLimit="files_upload_has_exceeded_limit",s.SlackConnectCanvasContainFileSharingBlocked="slack_connect_canvas_contain_file_sharing_blocked",s.FileNotFoundOnDevice="file_not_found_on_device",s.ProcessingTimeout="processing_timeout",s.DlpUserWarning="dlp_user_warning",s.BlockedFileType="blocked_file_type",s.CanvasHeaderImageUnsupportedFileType="canvas_header_image_unsupported_file_type"})(t||(t={}));function a(s){return s===t.ProcessingTimeout?!0:!(Object.values(t).includes(s)||[n.a.FilestoreAuthError,n.a.FilestoreDisabled,n.a.FilestoreMisconfigured].includes(s))}h(a,"canRetry")},"Yu+/":function(J,i,e){"use strict";e.d(i,"a",function(){return t});const n=["bullet","ordered","unchecked","checked"];function t(a){var s,l;return!!(a&&a.attributes&&(!((s=a.attributes)===null||s===void 0)&&s.list)&&n.includes((l=a.attributes)===null||l===void 0?void 0:l.list))}h(t,"isOpListItem")},YxAP:function(J,i,e){"use strict";e.d(i,"a",function(){return n});var n;(function(t){t.About="about",t.Members="members",t.Integrations="integrations",t.Insights="Insights",t.Settings="settings"})(n||(n={}))},Z2IC:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("q1tI"),t=e.n(n);function a(s){const l=Object(n.useRef)();return l.current===void 0&&(l.current=s()),l.current}h(a,"useRefCreator")},Z4OJ:function(J,i,e){"use strict"},Z4Ux:function(J,i,e){"use strict";e.d(i,"a",function(){return u});var n=e("SQ0V"),t=e("IA19"),a=e("3mmX"),s=e("qMw6"),l=e("Q+NC"),o=e("PiXb"),f=e("xcHN"),r=e("PIf0"),m=e("2VFn"),c=e("HPAj");const u=Object(n.c)("collapse a file and ensure it is still in view",(d,p,v,g)=>{let{fileId:O,ts:b,channelId:y,threadTs:C,viewContext:_}=v;const{windowId:j=m.c}=g(r.a);if(d(Object(t.a)({fileId:O,ts:b,channelId:y,viewContext:_})),!_)d(Object(a.a)({ts:b,highlightLazy:!0}));else if(_===s.a.THREAD)if(Object(c.a)(p())){const E=Object(f.c)(y,C);d(Object(o.g)({windowId:j,threadKey:E,ts:b})),d(Object(o.b)({windowId:j,threadKey:E}))}else d(Object(l.d)(b)),d(Object(l.b)())});u.meta={name:"createThunk",key:"createThunkcollapseAndEnsureInView",description:"collapse a file and ensure it is still in view"}},ZBdd:function(J,i,e){"use strict"},ZFGU:function(J,i,e){"use strict";e.d(i,"i",function(){return f}),e.d(i,"g",function(){return r}),e.d(i,"c",function(){return m}),e.d(i,"d",function(){return c}),e.d(i,"a",function(){return u}),e.d(i,"b",function(){return d}),e.d(i,"k",function(){return p}),e.d(i,"l",function(){return v}),e.d(i,"e",function(){return g}),e.d(i,"f",function(){return O}),e.d(i,"h",function(){return b}),e.d(i,"n",function(){return y}),e.d(i,"m",function(){return C}),e.d(i,"j",function(){return _});var n=e("ktUG"),t=e("FWtP");function a(j){return{eventId:n.EventId.NEWXP_JOIN_TEAM,uiStep:n.UiStep.SETUP_JOINER_LAUNCHPAD_STEP_TEAMMATES,elementName:"joiner_launchpad_people_picker",stepVariant:j}}h(a,"getJoinerLaunchpadStepTeammatesPageImpressionAutoClogProps");function s(j){return{contexts:{ui_context:{action:n.UiAction.SEARCH,step:n.UiStep.SETUP_JOINER_LAUNCHPAD_STEP_TEAMMATES,step_variant:j,ui_properties:{element_name:"joiner_launchpad_people_picker"}}}}}h(s,"getJoinerLaunchpadStepTeammatesSearchActionClog");function l(j,E){return{contexts:{ui_context:{action:E?n.UiAction.ERROR:n.UiAction.SKIP,step:n.UiStep.SETUP_JOINER_LAUNCHPAD_STEP_TEAMMATES,step_variant:j,ui_properties:{element_name:"joiner_launchpad_people_picker"}}}}}h(l,"getJoinerLaunchpadStepTeammatesSkipActionClog");function o(j){let{stepVariant:E,searchSelectedUsers:M,totalSelectedUsers:T,inviterSelected:P}=j;return{contexts:{ui_context:{action:n.UiAction.NEXT,step:n.UiStep.SETUP_JOINER_LAUNCHPAD_STEP_TEAMMATES,step_variant:E,ui_properties:{element_name:"joiner_launchpad_people_picker",element_type:M,element_index:T},entry_point:P?"inviter_selected":"inviter_not_selected"}}}}h(o,"getJoinerLaunchpadStepTeammatesNextActionClog");function f(j){return{eventId:n.EventId.NEWXP_JOIN_TEAM,uiStep:n.UiStep.JOINER_LAUNCHPAD,elementName:n.UiStep.JOINER_LAUNCHPAD,stepVariant:j}}h(f,"getJoinerLaunchpadPageImpressionAutoClogProps");function r(j){return{eventId:n.EventId.NEWXP_JOIN_TEAM,uiStep:n.UiStep.JOINER_LAUNCHPAD,elementName:"joiner_launchpad_api_error_screen",stepVariant:j}}h(r,"getJoinerLaunchpadErrorPageImpressionAutoClogProps");function m(j,E){return{contexts:{ui_context:{action:n.UiAction.CLICK,step:n.UiStep.JOINER_LAUNCHPAD,step_variant:j,ui_properties:{element_name:`suggested_channel_click_${E?"join":"view"}`,element_type:n.ElementType.BUTTON}}}}}h(m,"getChannelClickClog");function c(j){return{contexts:{ui_context:{action:n.UiAction.CLICK,step:n.UiStep.JOINER_LAUNCHPAD,step_variant:j,ui_properties:{element_name:"suggested_dm_click",element_type:n.ElementType.BUTTON}}}}}h(c,"getDMClickClog");function u(j){return{contexts:{ui_context:{action:n.UiAction.CLICK,step:n.UiStep.JOINER_LAUNCHPAD,step_variant:j,ui_properties:{element_name:"view_all_channels_click",element_type:n.ElementType.BUTTON}}}}}h(u,"getAllChannelsClickedClog");function d(j){return{contexts:{ui_context:{action:n.UiAction.CLICK,step:n.UiStep.JOINER_LAUNCHPAD,step_variant:j,ui_properties:{element_name:"view_everyone_click",element_type:n.ElementType.LINK}}}}}h(d,"getAllDMsClickedClog");const p=Object(t.a)(j=>({uiStep:n.UiStep.JOINER_LAUNCHPAD,elementName:"joiner_launchpad_sidebar_link",elementType:n.ElementType.LINK,stepVariant:j})),v=Object(t.a)(j=>({link:{eventId:n.EventId.NEWXP_JOIN_TEAM},onClick:{onClick:{enableClogAction:!0},...j}}));function g(j){return{contexts:{ui_context:{action:n.UiAction.CLICK,ui_step:n.UiStep.JOINER_LAUNCHPAD,step:n.UiStep.JOINER_LAUNCHPAD,step_variant:j,ui_properties:{element_name:"dismiss_joiner_launchpad",element_type:n.ElementType.X}}}}}h(g,"getJoinerLaunchpadDismissClog");function O(j){return{eventId:n.EventId.NEWXP_JOIN_TEAM,elementName:"dismiss_joiner_launchpad_coachmark",uiComponentName:`dismiss_joiner_launchpad_coachmark_${j}`}}h(O,"getJoinerLaunchpadDismissCoachmarkImpressionAutoClogProps");function b(j){return{eventId:n.EventId.NEWXP_JOIN_TEAM,uiStep:n.UiStep.JOINER_LAUNCHPAD,elementName:"suggested_channel_preview",stepVariant:j}}h(b,"getJoinerLaunchpadJoinChannelPaneAutoClogProps");const y={elementName:"suggested_channel_preview_join_channel",onClick:{enableClogAction:!0}},C={elementName:"suggested_channel_preview_dismiss",onClick:{enableClogAction:!0}};function _(j){return{contexts:{ui_context:{action:n.UiAction.SEND,ui_step:n.UiStep.JOINER_LAUNCHPAD,step:n.UiStep.JOINER_LAUNCHPAD,step_variant:j,ui_properties:{element_name:"joiner_launchpad_recommended_dm_message_sent"}}}}}h(_,"getJoinerLaunchpadRecommendedDMSentClog")},ZXTy:function(J,i,e){"use strict";e.d(i,"a",function(){return f}),e.d(i,"b",function(){return r});var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),s=e("Sl1j"),l=e("dmHe"),o=e("ksz/");const f=Object(a.c)("Fetch and upsert channel pref data",function(){var m=Object(n.coroutine)(function*(c,u,d){let{channelId:p,prefName:v,reason:g}=d;if(v==="enable_at_channel"&&!Object(l.a)(u(),p))return;const O=yield c(Object(s.n)({channelId:p,prefName:v,reason:g||"fetch-channel-pref"}));c(Object(o.b)({channelId:p,pref:v,value:O==null?void 0:O.pref_value}))});return function(c,u,d){return m.apply(this,arguments)}}());f.meta={name:"createThunk",key:"createThunkgetChannelPref",description:"Fetch and upsert channel pref data"};const r=Object(a.c)("Set and upsert channel pref data",function(){var m=Object(n.coroutine)(function*(c,u,d){let{channelId:p,newPrefs:v,reason:g}=d;const O=yield c(Object(s.u)({channelId:p,newPrefs:v,reason:g||"set-channel-prefs"})),b={[p]:O.prefs};c(Object(o.a)(b))});return function(c,u,d){return m.apply(this,arguments)}}());r.meta={name:"createThunk",key:"createThunksetChannelPrefs",description:"Set and upsert channel pref data"}},ZaGd:function(J,i,e){"use strict";var n=e("mM05"),t=e.n(n);e.d(i,"a",function(){return t.a});var a=e("nTNk"),s=e("VO/D"),l=e("anFg"),o=e("gcam"),f=e("NHkt"),r=e("d0Vf"),m=e("pfyn");const c=Object(a.a)();i.b=s.a},ZerW:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),s=e("beVI"),l=e("Yauy"),o=e("M1/X"),f=e("XXd4"),r=e("G0eX"),m=e("uxpt"),c=e("hUMe"),u=e("nNoG"),d=e("mY0L"),p=e("iBXr");const v=new u.b("channel_invite"),{CannotRequestSharedChannels:g,DisallowedWorkspace:O}=p.a,b=h(y=>{let{processingOrgMembers:C=!1,canConvertToExternalSharedChannel:_,channel:j}=y;var E,M;const T=Object(a.c)(s.g),P=Object(r.h)(T),B=Object(a.c)(s.i),R=Object(r.h)(B),U=Object(a.c)(D=>Object(l.t)(D,j)),K=Object(a.c)(D=>!Object(m.b)(D,[T.id])),V=Object(a.c)(D=>Object(f.a)(D,j)),z=Object(a.c)(D=>Object(o.d)(D,j)),N=Object(a.c)(D=>Object(p.b)(D,j)),A=N==null||(E=N.reasons)===null||E===void 0?void 0:E.includes(O),x=N==null||(M=N.reasons)===null||M===void 0?void 0:M.includes(g),{renderLink:k,shouldDisplayGuidelines:F}=Object(d.a)({type:"INVITE",dataQa:"slack-connect-instructions-disabled-slack-connect-copy",stepVariant:"disabled-slack-connect-copy",modalHeaderSuffix:"instructions",showCopyButton:!0,className:"instructions-link--button"}),L=F&&N.ok;if(C)return t.a.createElement(t.a.Fragment,null,v.rt("They are already a full member of {teamName}.",{teamName:t.a.createElement(c.a,{id:B.id,team:B})}));if(V)return t.a.createElement(t.a.Fragment,null,v.rt("Email invitations to external people can\u2019t be sent for this channel."));if(_)return null;if(x&&L)return v.rt("Your admins haven\u2019t shared the permission required to invite external people to this channel. Read the <link>instructions they created</link> for details.",{"<link>":k,fallbackHash:"36301f08849ebff17b014f40f279704b95295b98"});if(A&&L)return v.rt("Slack Connect isn\u2019t enabled for this workspace, but your admins <link>created instructions</link> to help you add the right people to the right workspaces.",{"<link>":k});if(K)return v.rt("Slack Connect has been disabled for <strong>{teamName}</strong> workspace.",{teamName:P,currentTeamName:P,fallbackHash:"684d8220b193d9ee29436f74bc2decc1cc3caf89"});const S=o.a.InvalidChannel,I=z.reason===S;return!z.ok&&!I?v.rt("You\u2019re not allowed to add people outside <strong>{teamName}</strong>.",{teamName:R,fallbackHash:"da6e41b91161beac54d86bdd0edf8e5139bf12a8",fallbackHashNs:"slack_connect_hub"}):v.rt("You\u2019re not allowed to add people outside <strong>{teamName}</strong> to this channel.",{teamName:R,channelName:U,fallbackHash:"fafe1a508d8f9576a675a8421a7f66691a86c491"})},"DisabledSlackConnectCopy");b.displayName="DisabledSlackConnectCopy",i.a=b},ZgSn:function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n="identity_links_prefs"},Zp1r:function(J,i,e){"use strict";var n=e("Dpjh"),t=e("q1tI"),a=e.n(t),s=e("Cfcg"),l=e("mM05"),o=e.n(l),f=e("FWtP"),r=e("O86Y"),m=e("/XFw"),c=e("pu3F"),u=e("qMw6"),d=e("FZE2"),p=e("eUIW"),v=e("gPPH"),g=e("mjhc"),O=e("SvP2"),b=e("4oy+"),y=e("BUaB");function C(){return C=Object.assign||function(M){for(var T=1;T<arguments.length;T++){var P=arguments[T];for(var B in P)Object.prototype.hasOwnProperty.call(P,B)&&(M[B]=P[B])}return M},C.apply(this,arguments)}h(C,"_extends");let _=h(class extends t.PureComponent{onEnter(T){return T&&T.shiftKey?!0:this.props.onEnter?this.props.onEnter():void 0}onTextChange(){const{numCharsOverLimit:T}=this.state,P=this.getTextContents(),B=this.countCharsOverLimit(),R=B>0||T>0;R&&this.setState(()=>({numCharsOverLimit:B})),this.props.onTextChange&&this.props.onTextChange({msgOps:P,overLimit:R})}getTextContents(){const{initialContents:T}=this.props;if(!this.texty)return T&&T.contents;const P=this.texty.getContents();return P&&P.contents}setTextyRef(T){this.texty=T}countCharsOverLimit(){const T=this.getTextContents(),P=Object(d.a)(new o.a(T));return Math.max(0,P-c.C)}focus(){this.texty&&this.texty.focus()}renderContextBar(){if(!this.props.enabled)return null;const{channelId:T}=this.props;return a.a.createElement("div",{className:"p-share_dialog_message_input__context_bar_wrapper"},a.a.createElement(O.a,{channelId:Object(p.a)(T)?void 0:T,memberIds:Object(p.a)(T)?this.getMemberIdArray(T):void 0,viewContext:u.a.SHARED_MESSAGE_DIALOG,ariaId:this.contextBarAriaId,inputHasFiles:!1}))}render(){const T=this.props["data-qa"],P={enabled:this.props.enabled},B=a.a.createElement(y.a,C({completeOnMembers:!0,completeOnChannels:!0,completeOnEmoji:!0,completeOnLinks:!0,completeOnLists:!0,channelId:this.props.channelId,shouldCompleteOnTab:!0,position:"bottom"},P,{id:"share-dialog-message-input",ref:this.setTextyRef,ariaLabel:this.props.ariaLabel||"",initialText:this.props.initialContents,placeholder:Object(n.a)(this.props.placeholder),enableBroadcastKeywords:this.props.enableBroadcastKeywords,enableJumbomoji:this.props.useJumbomoji,onEnter:this.onEnter,onEscape:this.props.onEscape,onTextChange:this.onTextChange,isDisabled:!this.props.enabled,focusOnMount:this.props.focusOnMount,maxLines:this.props.maxLines,minLines:3,maxLength:c.C,useWysiwyg:!0,ariaDescribedBy:this.contextBarAriaId}));return a.a.createElement("div",{"data-qa":T},this.renderContextBar(),a.a.createElement(b.a,{channelId:this.props.channelId||"",enableEmojiButton:!0,enableMentionButton:!0,enableComposerButton:!0,numMaxLines:this.props.maxLines||3,numMinLines:3,className:"p-share_dialog_message_input",withBasicContainerBorder:!0},B))}constructor(T){super(T),this.setTextyRef=this.setTextyRef.bind(this),this.onTextChange=this.onTextChange.bind(this),this.onEnter=this.onEnter.bind(this),this.renderContextBar=this.renderContextBar.bind(this),this.state={numCharsOverLimit:this.countCharsOverLimit()},this.contextBarAriaId=g.b.concat(Object(v.a)().slice(-8)),this.getMemberIdArray=Object(f.a)(B=>[B||""]);const P=T.initialContents&&T.initialContents.contents;P!==void 0&&P.length>0&&this.onTextChange()}},"ShareDialogMessageInput");_.displayName="ShareDialogMessageInput",_.defaultProps={enabled:!0,enableBroadcastKeywords:!0,maxLines:3};function j(M){return{useJumbomoji:Object(m.a)(M),teamId:Object(r.g)(M)}}h(j,"mapStateToProps");var E=i.a=Object(s.a)(j,null,null,{forwardRef:!0})(_)},ZpEY:function(J,i,e){"use strict";e.d(i,"c",function(){return l}),e.d(i,"a",function(){return o}),e.d(i,"b",function(){return f}),e.d(i,"d",function(){return r});var n=e("wd/R"),t=e.n(n),a=e("A/mR");const s=h((m,c,u)=>{const d=t()("2020-01-01").hour(m).minute(c),p=Object(a.g)(d.unix(),"{time}",{do24hrTime:u});return{value:d.format("HH:mm"),label:p}},"getOption"),l=h((m,c)=>{const[u,d]=m.split(":");return s(parseInt(u,10),parseInt(d,10),c)},"getOptionFromHHmm"),o=h(m=>{const c=[];for(let u=0;u<24;u++)c.push(s(u,0,m));return c},"getFullHourOptions"),f=h(m=>{const c=[];for(let u=0;u<24;u++)c.push(s(u,0,m)),c.push(s(u,30,m));return c},"getHalfHourOptions"),r=h(m=>{const c=[];for(let u=0;u<24;u++)c.push(s(u,0,m)),c.push(s(u,15,m)),c.push(s(u,30,m)),c.push(s(u,45,m));return c},"getQuarterHourOptions")},ZqJU:function(J,i,e){"use strict";e.d(i,"a",function(){return m});var n=e("CpTu"),t=e("lhZz"),a=e("G5NC"),s=e("vfQU"),l=e("O86Y"),o=e("beVI"),f=e("UIWO"),r=e("7xYR");function m(){let{teamId:c,subdomain:u}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(a.a)()){const d=Object(t.getStateForClientStore)(),p=Object(r.getWorkspacesMeta)(d),v=Object(r.getBootedWorkspaces)(d);return v&&v.find(O=>{const b=p[O];if(c&&O===c||u&&b&&b.url&&b.url.startsWith(`https://${u}.`))return O;if(Object(f.b)()){const y=Object(t.getStateByTeamId)(O),C=Object(l.a)(y);if(c&&(C!=null&&C.includes(c))||u&&C&&C.find(_=>{const j=Object(o.s)(y,_);return j&&j.url&&j.url.startsWith(`https://${u}.`)}))return O}return null})||null}if(Object(s.eb)()){const d=Object(s.xb)();if(c&&d[c])return c;if(u){const p=Object(n.a)(d,v=>v.team_url&&v.team_url.startsWith(`https://${u}.`));if(p)return p.team_id}}return null}h(m,"findDesktopTeamByIdOrSubdomain")},ZtOl:function(J,i,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("mM05"),s=e.n(a),l=e("n3tL"),o=e("Lgge"),f=e("s4P+"),r=e("Kn+X"),m=e("BBdC"),c=e("vUys"),u=e("5IZy"),d=e("ktUG"),p=e("Yauy"),v=e("SQ0V"),g=e("b+Ip"),O=e("m5fH"),b=e("fPvm"),y=e("E3dU"),C=e("zcRq"),_=e("kDB5"),j=e("BtdC"),E=e("f7Y4"),M=e("OJZy"),T=e("AcWU"),P=e("ohbk"),B=e("ZXTy"),R=e("RV0M"),U=e("I0j/"),K=e("37+L"),V=e("KcWJ"),z=e("nwIl"),N=e("KVhq");const A=Object(v.c)("Send channel or Composer draft message",function(){var x=Object(n.coroutine)(function*(k,F,L,S){let{draft:I,isFromModal:W=!1,isFromBulkModal:D=!1,isFromDraftsPageAndExternallySharedChannel:H=!1,isFromScheduledPage:Z=!1,skipDlpUserWarning:G=!1,isFromDraftsPage:te=!1}=L;const{shouldUseNavigate:se}=S(R.a),$=Object(r.d)(I);if($&&$[0]&&(yield o.a.all([k(Object(B.a)({channelId:$[0],prefName:"enable_at_channel",reason:"send-draft-message"}))])),Object(r.z)(I))return k(Object(g.a)({draft:I,isFromModal:W,isFromDraftsPageAndExternallySharedChannel:H,isFromScheduledPage:Z,skipDlpUserWarning:G,isFromDraftsPage:te}));const X=Object(f.a)({getState:F,label:"COMPOSER"}),{channelId:q,isBroadcast:Y,threadTs:ee}=Object(r.b)(I)||{},w=Object(r.n)(I),ne=Object(r.e)(I),ae=Object(u.a)({getState:F}),de=Object(M.a)(I),ge=Object(m.a)(I),le=k(Object(C.a)({draftId:ne,ops:w})),Q=k(Object(_.a)({unfurls:le,draftId:ne}));k(Object(b.a)({ids:[ne],syncDelete:!1,reason:"sendDraftMessage",disableGifUnfurlClearing:!0}));const ie=Object(y.d)(F(),q),oe=Object(p.Fb)(F(),ie),me=Object(c.a)(F(),ne),be=Object(z.f)(F()),Se=Object(z.a)(F(),{draftId:ne});if(be&&Se&&k(Object(N.b)({draftId:ne})),ee){const Pe=q?Object(j.a)(q,ee):null;if(Pe&&Pe.clear(),!D){if(H)return k(Object(V.a)({channelId:q||"",threadTs:ee})).then(()=>k(Object(E.c)({channelId:q||"",delta:new s.a(w),fileIds:ge,includeBroadcastKeywordWarning:!0,includePrivateFileReshareWarning:!0,includeLoginInitiateRedirectLinkWarning:!0,replyToTs:ee,shouldBroadcast:Y,pendingFileIds:me,xArgs:de,draftId:ne,isFromDraftsPageAndExternallySharedChannel:H,unfurls:le,unfurlsWithData:Q})).tap(()=>{X.info(`Composer message successfuly sent. Removing the draft (${ne})`)}).then(()=>{Object(N.a)({draftIds:[ne]})}).catch(Ue=>{throw k(Object(O.h)(I)),Ue}));k(Object(V.a)({channelId:q||"",threadTs:ee}))}}else if(yield k(Object(T.a)({channelId:q})),!D)try{se&&q?yield k(Object(U.a)(Object(K.k)(q))):yield k(Object(P.a)({id:q||"",teamId:oe}))}catch(Pe){throw X.error("Failed to navigate to primary view",Pe),Pe}return ae.track(d.EventId.COMPOSE_FLOW,{draft_action_source:W?"modal":"input",draft_id:ne,draft_type:"channel",contexts:{ui_context:{action:d.UiAction.CLICK,step:d.UiStep.COMPOSE_FLOW_SEND}}}),k(Object(E.c)({channelId:q||"",delta:new s.a(w),fileIds:ge,includeBroadcastKeywordWarning:!0,includePrivateFileReshareWarning:!0,includeLoginInitiateRedirectLinkWarning:!0,replyToTs:ee,shouldBroadcast:Y,pendingFileIds:me,xArgs:de,draftId:ne,isFromDraftsPageAndExternallySharedChannel:H,unfurls:le,unfurlsWithData:Q})).tap(()=>{X.info(`Composer message successfuly sent. Removing the draft (${ne})`)}).then(()=>{Object(N.a)({draftIds:[ne]})}).catch(Pe=>{throw k(Object(O.h)(I)),Pe})});return function(k,F,L,S){return x.apply(this,arguments)}}());A.meta={name:"createThunk",key:"createThunksendDraftMessage",description:"Send channel or Composer draft message"},A.propTypes={draft:l.default.object.isRequired},i.a=A},ZvCj:function(J,i,e){"use strict";e.d(i,"a",function(){return C});var n=e("fujP"),t=e("SQ0V"),a=e("s4P+"),s=e("m5fH"),l=e("gCYc"),o=e("gMIi"),f=e("238b"),r=e("CpTu"),m=e("Muja"),c=e("gPPH"),u=e("EyYJ"),d=e("ZLCL"),p=e("LTE6"),v=e("Kn+X"),g=e("BBdC");const O=Object(t.c)("Recover from attached_draft_exists error",(_,j,E)=>{let{draft:M,draftId:T,syncImmediately:P,reason:B}=E;if(Object(n.a)(M))return;const{error:R,info:U}=Object(a.a)({getState:j,label:"DRAFTS"});U(`The drafts.create call failed with attached_draft_exists - ${T} - attempting to recover by moving existing draft`),_(Object(d.a)({reason:"attached_draft_exists:recovery",limit:100,isActive:!0})).then(K=>{const V=(K==null?void 0:K.drafts)||[],z=Object(r.a)(V,N=>{const A=Object(v.b)(N);return A?Object(m.a)(A,Object(v.b)(M)):!1});if(z){_(Object(u.a)({draftId:Object(v.o)(z),clientLastUpdatedTs:Date.now().toString(),reason:"attached_draft_exists:recovery"})).then(()=>{_(Object(o.a)({draft:M,reason:B,syncImmediately:P}))});const{threadTs:N}=Object(v.b)(z)||{};N||_(Object(p.b)({blocks:JSON.stringify(Object(v.v)(z)),clientMsgId:Object(c.a)(),destinations:Object(v.j)(z),fileIds:JSON.stringify(Object(g.a)(z)||[]),isFromComposer:!0,attachments:JSON.stringify(Object(v.c)(z)),reason:"attached_draft_exists:recovery"}))}else R(`The drafts.create call failed due to attached_draft_exists and the existing draft could not be found - ${T}`)})});O.meta={name:"createThunk",key:"createThunkhandleExistingAttachedDraft",description:"Recover from attached_draft_exists error"};var b=O,y=e("nwIl");const C=Object(t.c)("Stores and syncs draft changes",(_,j,E)=>{let{draft:M,reason:T,sync:P=!0,syncImmediately:B=!1,skipEqualityCheck:R=!1}=E;const U=j(),K=Object(v.e)(M),V=Object(y.a)(U,{draftId:K}),z=Object(y.f)(U);if(z&&Object(n.a)(M)&&!V||!z&&Object(n.a)(M))return;const{error:N,info:A}=Object(a.a)({getState:j,label:"DRAFTS"});if(!K){N("Draft does not have an id - an id is required to create or update a draft");return}let x=Object(l.k)(j(),K);if(!x&&Object(v.z)(M)){const F=Object(v.s)(M);F&&(x=Object(l.e)(j(),F))}const k={...x,...M};if(!(!R&&Object(v.A)(k,x))&&(A(`Storing draft changes locally - ${K}`),_(Object(s.h)({...k,last_updated:Date.now(),skipEqualityCheck:R})),P)){const F=Object(l.k)(j(),K),L=Object(v.o)(F);_(L?Object(f.a)({draft:F,reason:T,syncImmediately:B}):Object(o.a)({draft:F,reason:T,syncImmediately:B,handleExistingAttachedDraft:(S,I)=>_(b({draftId:S,draft:I,syncImmediately:B,reason:T}))}))}});C.meta={name:"createThunk",key:"createThunksetDraft",description:"Stores and syncs draft changes"}},Zxte:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("zxER"),l=e("nNoG"),o=e("ktUG"),f=e("/0Xg"),r=e("s9Q6"),m=e("stkM"),c=e("sK3r"),u=e("Trx9"),d=e("/cL/"),p=e("GR6R"),v=e("Tevt");const g=new l.b("files"),O={elementName:"pricing",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},b={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},y=h(C=>{let{context:_}=C;const j=Object(a.useDispatch)(),E=f.q.PaidFeatureTrial,M=f.p.MessageLimit,[T,P]=Object(n.useState)(!0),B=Object(s.c)(K=>Object(r.c)(K,E,M)),R=Object(n.useCallback)(()=>{j(Object(p.a)({uiComponentVariant:o.UiComponentVariant.FILE_STORAGE_WARNING}))},[j]);if(Object(n.useEffect)(()=>{j(Object(m.a)({context:c.b.fileStorageWarning,campaignType:E,campaignSubType:M,reason:"file_storage_warning"})).then(()=>{P(!1)})},[j,E,M]),T)return null;const U=B?g.rt("This file is hidden because it was uploaded more than {limitInDays} days ago. <a>Start a free trial</a> to view.",{limitInDays:f.h,"<a>":K=>{let{text:V}=K;return t.a.createElement(v.a,{autoClogProps:b,"data-qa":"file-storage-warning_start-trial-link",onClick:R},V)}}):g.rt("This file is hidden because it was uploaded more than {limitInDays} days ago. <a>Upgrade to a paid plan</a> to view.",{limitInDays:f.h,"<a>":K=>{let{text:V}=K;return t.a.createElement(d.a,{autoClogProps:O,"data-qa":"file-storage-warning_pricing-link",feature:f.j.UNLIMITED_MESSAGES,useLink:!0},V)}});return t.a.createElement(u.a,{eventId:o.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:o.UiComponentName.FILE_STORAGE_WARNING,uiComponentVariant:_},t.a.createElement("span",{"data-qa":"file_storage_warning"},U))},"FileStorageWarning");y.displayName="FileStorageWarning",i.a=y},"a/x4":function(J,i,e){"use strict";e.d(i,"a",function(){return H});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("zxER"),l=e("n3tL"),o=e("pCgU"),f=e("ASdn"),r=e("HzpC"),m=e("S8QM"),c=e("sGXp"),u=e("oEDn"),d=e("JoR1"),p=e("n7Bo"),v=e("x6tY"),g=e("8aVz"),O=e("se5Z"),b=e("We5+");const y=new Set(["text","markdown"]);function C(Z){return Z&&Z in b.c&&!y.has(Z)}h(C,"isCodeFileType");function _(Z){if(Z instanceof File){if(Object(O.a)(Z))return"audio";if(Object(g.a)(Z))return"video";const se=Object(v.S)(Z.type);return se&&Object(p.c)({fileTypeDescription:se})?se:"generic"}const G=Z.filetype||Z.highlight_type;if(G&&Object(p.c)({fileTypeDescription:G}))return G;if(C(G))return"code";const te=Object(v.R)(Z);return te==="snippet"&&!(G&&y.has(G))?"code":te}h(_,"getSVGIconType");var j=e("ZobM"),E=e("gnJq"),M=e("yPgC"),T=e("zm5I"),P=e("rZ8V"),B=e("RVJP"),R=e("2R1f");const U=3/4,K=9/16,V=3/4,z=1/4,N=5/4,A={className:l.default.string,file:M.a.File().isRequired,width:l.default.number.isRequired,height:l.default.number,cover:l.default.bool,suppressAnimations:l.default.bool,forceIconThumbnail:l.default.bool,forceIconThumbnailForDocument:l.default.bool,presentationOnly:l.default.bool,hasNotification:l.default.bool,"data-qa":l.default.string},x={className:void 0,height:null,cover:!1,suppressAnimations:null,forceIconThumbnail:!1,forceIconThumbnailForDocument:!1,presentationOnly:!1,hasNotification:!1,"data-qa":null};function k(Z){let{className:G,containerHeight:te,containerWidth:se,file:$,cover:X,suppressAnimations:q}=Z;const[Y,ee]=Object(n.useState)(!1),[w,ne]=Object(n.useState)(!1),ae=Object(s.c)(Ue=>!Object(d.u)(Ue,"a11y_animations")),de=Object(a.default)(G,"p-file_thumbnail__img"),{src:ge,height:le,width:Q}=Object(v.eb)($,{containerHeight:te,containerWidth:se,cover:X,suppressAnimations:q||ae}),ie=Object(o.a)(ge);let oe,me;if(le&&Q){const Ue=le/Q,Fe=te/se,je=Ue>Fe;X&&je||!X&&!je?(me=Math.min(se,Q),oe=Ue*me):(oe=Math.min(te,le),me=oe/Ue)}const be=Object(n.useCallback)(()=>ee(!0),[]),Se=Object(n.useCallback)(()=>ne(!0),[]);if(Y)return t.a.createElement("div",{className:"p-file_thumbnail__broken_img",style:{height:te,width:se}});const Pe=t.a.createElement("img",{key:$.id,className:de,alt:Object(v.E)($),src:ie,height:oe,width:me,onError:be,onLoad:Se,"data-qa":"file_thumbnail_img"});return Object(v.jb)($)&&oe&&me?t.a.createElement("div",{className:"p-file_thumbnail__tiny_thumb_wrapper",style:{backgroundImage:w?void 0:`url(${Object(v.gb)($)})`,filter:w?void 0:"blur(6px)",height:oe,width:me}},Pe):Pe}h(k,"ThumbnailImg"),k.displayName="ThumbnailImg",k.propTypes={className:l.default.string,containerHeight:l.default.number.isRequired,containerWidth:l.default.number.isRequired,file:M.a.File().isRequired,cover:l.default.bool,suppressAnimations:l.default.bool},k.defaultProps={className:void 0,cover:!1,suppressAnimations:!1};function F(Z){let{containerHeight:G,containerWidth:te,cover:se,file:$,suppressAnimations:X}=Z;return t.a.createElement(k,{key:$==null?void 0:$.id,className:"p-file_thumbnail__image",file:$,containerHeight:G,containerWidth:te,cover:se,suppressAnimations:X})}h(F,"ImageThumbnail"),F.displayName="ImageThumbnail",F.propTypes={containerHeight:l.default.number.isRequired,containerWidth:l.default.number.isRequired,cover:l.default.bool.isRequired,file:M.a.File().isRequired,suppressAnimations:l.default.bool},F.defaultProps={suppressAnimations:!1};function L(Z){let{containerHeight:G,containerWidth:te,file:se}=Z;return t.a.createElement("div",{className:"p-file_thumbnail__document_container",style:{maxHeight:G},"data-qa":"file_thumbnail_doc"},t.a.createElement(k,{className:"p-file_thumbnail__document_img",file:se,containerHeight:G,containerWidth:te,cover:!0}))}h(L,"DocumentThumbnail"),L.displayName="DocumentThumbnail",L.propTypes={containerHeight:l.default.number.isRequired,containerWidth:l.default.number.isRequired,file:M.a.File().isRequired};function S(Z){let{className:G,file:te,size:se,hasNotification:$}=Z;const X=Object(s.c)(P.n),q=Object(a.default)("c-icon__file","p-file_thumbnail__file_icon",G);if(te&&Object(v.u)(te)||Object(v.h)(te))return t.a.createElement(r.a,{iconClassName:q,file:te,size:se,hasNotification:$,useIa4Icon:X});if(Object(v.o)(te))return t.a.createElement(m.a,{iconClassName:Object(a.default)("p-file_thumbnail__file_icon",G),file:te});if(Object(v.w)(te))return t.a.createElement(u.a,{className:Object(a.default)("p-file_thumbnail__file_icon","p-file_thumbnail__slides",G),type:"all-files-alt"});const Y=_(te);return t.a.createElement(u.a,{className:q,"data-qa":"file_thumbnail_icon",file:"svgicon",type:Y})}h(S,"IconThumbnail"),S.displayName="IconThumbnail",S.propTypes={className:l.default.string,file:M.a.File().isRequired,size:l.default.number,hasNotification:l.default.bool},S.defaultProps={className:null,size:void 0,hasNotification:!1};function I(Z){const{file:G,forceIconThumbnail:te,forceIconThumbnailForDocument:se,presentationOnly:$,hasNotification:X}=Z,{original_h:q,original_w:Y}=G,ee=Object(v.n)(G),w=Object(s.c)(T.a),ne=Object(s.c)(Se=>Object(B.d)(Se,"native_dlp_canvas")==="on");let ae=U;Z.height&&Z.width?ae=Z.height/Z.width:q&&Y&&(ae=q/Y,ae=Math.min(ae,ee?N:V),ae=Math.max(ae,ee?z:K));const de=Z.width,ge=Z.height||ae*Z.width;let le,Q;if(Object(E.a)(G))Q="exception",le=t.a.createElement("span",null);else if(Object(v.Tb)(G))Q="exception",le=t.a.createElement(u.a,{type:"trash"});else if(ne&&Object(v.nb)(G))Q="exception",le=t.a.createElement(j.a,{name:"lock",size:"20"});else if(Object(v.Fb)(G))Q="exception",le=t.a.createElement(u.a,{type:"question"});else if(Object(v.tb)(G)||Object(v.kb)(G)||Object(v.lb)(G))Q="exception",le=t.a.createElement(j.a,{name:"lock",variation:"filled"});else if(Object(v.Db)(G))Q="exception",le=t.a.createElement(j.a,{name:"info"});else if(Object(v.Gb)(G))Q="exception",le=t.a.createElement(u.a,{type:"lock"});else if(ee&&!te)Q="image",le=t.a.createElement(F,{containerWidth:de,containerHeight:ge,cover:Z.cover,file:G,suppressAnimations:Z.suppressAnimations});else if((Object(v.r)(G)||Object(v.s)(G))&&!te){var ie,oe,me;Q="video";const Se=Object(O.a)(G)?(ie=G.transcription_hl)===null||ie===void 0||(oe=ie.lines)===null||oe===void 0||(me=oe[0])===null||me===void 0?void 0:me.start_time_ms:null;le=t.a.createElement(f.a,{className:"p-file_thumbnail__media",file:G,useUserAvatarAudioThumb:ge>c.a.xlarge,jumpToTimeMs:Se,"data-qa":"file_thumbnail_video"})}else(G.thumb_pdf||G.thumb_360)&&!te&&!se?(Q="document",le=t.a.createElement(L,{containerWidth:de,containerHeight:ge,file:G})):(Q="other",le=t.a.createElement(S,{file:G,size:Math.min(ge,c.a.xlarge),hasNotification:X}));const be=Object(a.default)("p-file_thumbnail__container",`p-file_thumbnail__container--${Q}`,Z.className,{"p-file_thumbnail__container--dark-theme":w==="dark"});return t.a.createElement("div",{className:be,style:{width:de,height:ge},"aria-hidden":$,"data-qa":Z["data-qa"]},le)}h(I,"FileThumbnail"),I.displayName="FileThumbnail",I.propTypes=A,I.defaultProps=x;var W=I,D=e("ZBdd");function H(Z){let{className:G,file:te,forceIconThumbnail:se,size:$=c.a.medium,"data-qa":X,hasNotification:q}=Z;const Y=Object(a.default)("c-file_entity_thumbnail_icon",G,{"c-file_entity_thumbnail_icon--img-border":!se&&(Object(v.n)(te)||Object(v.s)(te)||Object(v.r)(te)),"c-file_entity_thumbnail_icon_with_notification":q});return t.a.createElement(W,{className:Y,file:te,width:$,height:$,forceIconThumbnail:se,forceIconThumbnailForDocument:!0,cover:!0,suppressAnimations:!0,hasNotification:q,"data-qa":X})}h(H,"FileEntityThumbnailIcon")},"a8/Y":function(J,i,e){"use strict";e.d(i,"c",function(){return o}),e.d(i,"a",function(){return f}),e.d(i,"b",function(){return m});var n=e("CpTu"),t=e("zmn3"),a=e("ZKjC"),s=e("4gSQ"),l=e("N2b9");const o=Object(a.b)(function(c){let{channelId:u,threadTs:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const p=Object(l.c)({channelId:u,threadTs:d});return c&&c.pendingFiles&&c.pendingFiles[p]});o.meta={name:"createSelector",key:"createSelectorgetPendingFilesforInput",description:function(c){let{channelId:u,threadTs:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const p=Object(l.c)({channelId:u,threadTs:d});return c&&c.pendingFiles&&c.pendingFiles[p]}};const f=Object(a.b)(function(c){let{fileId:u,channelId:d,threadTs:p}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!u||!d)return null;const v=o(c,{channelId:d,threadTs:p});return Object(n.a)(v,{id:u})});f.meta={name:"createSelector",key:"createSelectorgetPendingFileById",description:function(c){let{fileId:u,channelId:d,threadTs:p}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!u||!d)return null;const v=o(c,{channelId:d,threadTs:p});return Object(n.a)(v,{id:u})}};const r=Object(a.b)(c=>o(c,{channelId:l.a}));r.meta={name:"createSelector",key:"createSelectorgetPendingFilesforDialog",description:c=>o(c,{channelId:l.a})};const m=Object(a.b)(function(c){let{channelId:u,threadTs:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const p=o(c,{channelId:u,threadTs:d});return Object(t.a)(p,v=>Object(s.c)(v))});m.meta={name:"createSelector",key:"createSelectorgetPendingFilesWithUploadStatus",description:function(c){let{channelId:u,threadTs:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const p=o(c,{channelId:u,threadTs:d});return Object(t.a)(p,v=>Object(s.c)(v))}}},aANC:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Mark the time when highlights have been dismissed");t.meta={name:"createAction",key:"createActionupdateLastHighlightDismissedTs",description:"Mark the time when highlights have been dismissed"}},aCzs:function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a});var n=e("fujP"),t;(function(s){s.CAN_UDPATE="can_update",s.CANNOT_DOWNGRADE_CHANNEL="cannot_downgrade_channel_edit",s.CANNOT_DOWNGRADE_ORG_EDIT="cannot_downgrade_org_edit"})(t||(t={}));const a=h(s=>{let{modifiedPermissions:l,modifiedOrgSharingSetting:o,modifiedOrgTemplateSetting:f,isOrgWideTemplate:r}=s;return!Object(n.a)(l)||!r&&!!o||f!==void 0},"hasUnsavedChanges")},aV5m:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("kBpe"),s=e("nNoG"),l=e("qDEp"),o=e("oEDn"),f=e("QYtq"),r=e("zHTW"),m=e("9oTK"),c=e("BHdc"),u=e("dG8s"),d=e("6R8Z"),p=e("nFQW");const v=new s.b("stories_av");function g(j){let{onSelected:E,onScreenSelected:M,onClose:T,className:P}=j;const[B,R]=Object(n.useState)([]);if(Object(n.useEffect)(()=>{const K=function(){var V=Object(m.coroutine)(function*(){const z=yield Object(u.c)({width:320,height:240},["window","screen"]);R(z)});return h(function(){return V.apply(this,arguments)},"getThumbnails")}();try{K()}catch(V){throw new Error(V)}},[]),!B)return null;const U=h(K=>{E&&E(K.id),M&&M(K)},"onClick");return t.a.createElement("div",{className:Object(c.default)("c-menu p-screen_picker",P),role:"dialog","aria-label":v.t("Screens")},t.a.createElement(p.a,{icon:"times","aria-label":v.t("Close"),className:"p-screen_picker__close_button",onClick:T}),t.a.createElement("div",{className:"p-screen_picker__options"},B.map(K=>t.a.createElement(d.a,{key:K.id,className:"p-screen_picker__screen",onClick:()=>U(K),"data-qa":"screen_picker_item_button"},K.thumbnail&&t.a.createElement("img",{className:"p-screen_picker__thumb",src:K.thumbnail.dataURL,alt:""}),t.a.createElement("div",{className:"p-screen_picker__title"},K.name)))))}h(g,"ScreenPicker");var O=e("vaRI");function b(){return b=Object.assign||function(j){for(var E=1;E<arguments.length;E++){var M=arguments[E];for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(j[T]=M[T])}return j},b.apply(this,arguments)}h(b,"_extends");const y=new s.b("stories_av");function C(j){let{screenCaptureOn:E,startScreenCapture:M,stopScreenCapture:T,clogButton:P}=j;const[B,R]=Object(n.useState)(!0);Object(n.useEffect)(()=>{Object(O.a)("screen").then(N=>{R(N)})},[]);const U=Object(n.useCallback)(N=>{E?T():M(N),P("share_screen","recording",{state:N||!E?"on":"off"})},[P,E,M,T]),K=Object(n.useCallback)(()=>{U()},[U]),V=Object(n.useCallback)(N=>t.a.createElement(r.b,b({},N),t.a.createElement(g,{onScreenSelected:U,onClose:N.onClose,className:"p-video_recorder__screen_picker"})),[U]),z=t.a.createElement(l.f,{type:"outline",onClick:K,className:"p-video_recorder__borderless_button p-video_recorder_screen_share_button","aria-pressed":E,disabled:!B},t.a.createElement(o.a,{type:E?"stop-screen-sharing-alt":"share-screen"}),t.a.createElement("span",{className:"p-video_recorder_screen_share_button__label"},E?y.t("Stop Sharing"):y.t("Share Screen")));return Object(a.i)()&&!E?t.a.createElement(f.b,{position:"top",renderPopover:V},z):z}h(C,"VideoRecorderScreenShareButton"),C.displayName="VideoRecorderScreenShareButton";var _=i.a=C},aVxC:function(J,i,e){"use strict";e.d(i,"a",function(){return A});var n=e("mM05"),t=e.n(n),a=e("VJ6u"),s=e("3Hq1"),l=e("pu3F"),o=e("jmOL"),f=e("m5Yc"),r=e("Ms05");const m=["*","-"];function c(x){return m.includes(x)?f.a.BULLET:x.match(o.o)?f.a.ORDERED:""}h(c,"determineListTypeFromListSymbol");var u=e("wr1M");const d=4;function p(x,k){let F=k;const L=x&&x.ops;if(!L)return[new t.a,F];let S=new t.a,I=-1,W="",D=0,H=!1,Z={};const G=Object(r.a)(L),te=[...G.matchAll(o.m)],se=[],$=G.match(u.e)||G.match(u.d);$!=null&&$[0]&&(H=!0,F=!0);const X=o.p.test(G);return G.replace(o.q,(Y,ee,w,ne,ae,de,ge,le)=>{const Q=le,ie=Q+ee.length+w.length+ne.length+ae.length,oe=c(ne);if((te||[]).some(pe=>le>((pe==null?void 0:pe.index)||0)&&ie+de.length<=((pe==null?void 0:pe.index)||0)+pe[0].length))return;let be=w.length?Math.floor(w.length/d):0;be=Math.min(l.D-1,be);const Se=G.substring(G.indexOf(Y)),Pe=G.substring(G.indexOf(Y)-2,G.indexOf(Y));if(oe===f.a.ORDERED){if(!X||be===0&&Z[be]===void 0&&ne===o.b&&!o.n.test(Se))return;if(/\n\n/.test(Pe)&&ne!==o.b){Z={};return}if(Object(s.a)(Z[be])&&ne!==o.b)return}let Ue={list:oe||!1,indent:be,border:void 0};(ee.length||H)&&(!$||le>(($==null?void 0:$.index)||0))&&(Ue={...Ue,border:1});const Fe=D+W.length===le,je=I!==-1&&I<be;(!Fe||je)&&(Z[be]=0),I!==-1&&Fe&&be!==I&&Z[be]>0&&(Ue={...Ue,offset:Z[be]}),Object(s.a)(Z[be])&&(Z[be]=0),Z[be]+=1,I=be,W=Y,D=le;const _e=new t.a;ge?_e.retain(le).retain(Y.length-1).retain(1,Ue):_e.retain(le).retain(Y.length).insert(`
`,Ue),S=S.compose(_e);for(let pe=Q;pe<ie;pe++)se.push(pe)}),se.sort((Y,ee)=>ee-Y).forEach(Y=>{S=S.compose(new t.a().retain(Y).delete(1))}),[S,F]}h(p,"buildMarkdownChangeDeltaForLists");var v=e("BlE4"),g=e("fujP"),O=e("lCmp"),b=e("XpTY"),y=e("MvaT"),C=e("/0zS"),_=e("Fx35"),j=e("ltDl");const E="mailto:";function M(x,k){const{protocol:F,pathname:L}=Object(j.a)(k);return F===E&&L===x?!0:x===k}h(M,"isValidLinkForMrkdwn");const T={link:[o.k],bold:[o.c,o.g],italic:[o.e,o.a],code:[o.d,o.h],strike:[o.f]};function P(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!x||!x.ops)return[new t.a,L];let S="";k&&k.ops&&(S=Object(r.a)(k.ops));let I=new t.a,W=0;const D=[],H={},Z=[];if(x.eachLine((se,$)=>{Z.push({line:se,attributes:$})}),!Z.length)return[I,L];let G=!1;return Z.forEach(function(se){let{line:$,attributes:X}=se,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;var Y,ee,w,ne,ae;const de=$&&$.ops;let ge=!1,le=!1,Q=Object(r.a)(de);if(Object(b.a)(X))G=!1;else if(G){if(ge=!0,Q.match(u.c)&&!(Q.match(u.e)||Q.match(u.d))){var ie;le=!0;const ye=((ie=Q.match(u.c))===null||ie===void 0?void 0:ie[0])||"";for(let Te=0;Te<ye.length;Te++)D.push(W+Te);Q=Q.substring(ye.length),W+=ye.length}}else if(q!==0||!S||Object(v.a)(S,`
`)){const ye=Q.match(u.e)||Q.match(u.d),Te=Q.match(u.c),Oe=ye||Te;if(q===0&&Te&&(Te==null?void 0:Te.index)===0&&((Te==null?void 0:Te.input)===">"||(Te==null?void 0:Te.input)==="\uFF1E"||(Te==null?void 0:Te.input)==="> "||(Te==null?void 0:Te.input)==="\uFF1E "))return;if(!ye&&L&&Te&&(le=!0),Oe){ge=!0;const Ce=Oe[0];for(let he=0;he<Ce.length;he++)D.push(W+he);if(Q=Q.substring(Ce.length),W+=Ce.length,ye&&(G=!0,L||(L=!0),Q==="")){const he=new t.a().retain(W+Q.length);he.delete(1),I=I.compose(he);return}const ce=Q.match(u.c);if(ce){le=!0;const he=ce[0];for(let Me=0;Me<he.length;Me++)D.push(W+Me);Q=Q.substring(he.length),W+=he.length}}}const oe=Z[q-1],me=Z[q+1],be=Z[q],Se=(oe==null||(Y=oe.attributes)===null||Y===void 0?void 0:Y.border)||0,Pe=(me==null||(ee=me.attributes)===null||ee===void 0?void 0:ee.border)||0;if((Se>=1&&Pe>=1||Se>=1&&u.c.test(me==null||(w=me.line)===null||w===void 0||(ne=w.ops)===null||ne===void 0||(ae=ne[0])===null||ae===void 0?void 0:ae.insert)&&L)&&(Q!=null&&Q.length)&&Object(g.a)(be==null?void 0:be.attributes)&&(ge=!0),Se>=1&&Object(g.a)(be==null?void 0:be.attributes)&&me!==Z[Z.length-1]&&L&&(ge=!0),ge){const Ee=le?1:void 0,ye=new t.a().retain(W+Q.length),Te={blockquote:!0};Ee&&(Te.border=Ee),!Object(y.a)(x)&&q===Z.length-1?ye.insert(`
`,Te):ye.retain(1,Te),I=I.compose(ye)}const Ue=X["code-block"],{code:Fe,...je}=T,_e=[["code",Fe],...Object.entries(je)],pe=[],fe=[];_e.forEach(Ee=>{let[ye,Te]=Ee;Te.forEach(Oe=>{if(!(!Q||Ue)){if(ye==="link"){Q.replace(Oe,(Ce,ce,he,Me)=>{const Ae=Object(_.a)(Ce),xe=Object(_.a)(he),Re=Object(C.a)({input:xe,ignorePhoneMatches:!1,ignoreEmailMatches:!1,includePhoneMatchesWithTelPrefix:!0}),Ge=Re.length===1&&M(Re[0].text,xe);if(Re.length===0||!Ge)return;const ze=W+Me+1,Ie=ce.length,Ne=ze+ce.length,Ke=W+Me+Ae.length,Ve=Re[0].url,$e=new t.a().retain(ze).retain(Ie,{link:Ve});I=I.compose($e),D.push(ze-1);for(let tt=Ne;tt<Ke;tt++)D.push(tt);fe.push({linkStart:ze,linkEnd:Ke}),H[ye]=!0});return}Q.replace(Oe,(Ce,ce,he,Me)=>{const Ae=W+Me+ce.length,xe=he.length,Re=Ae+xe;if(Object(O.a)(fe,Ie=>{let{linkStart:Ne,linkEnd:Ke}=Ie;return Ae>=Ne&&Re<=Ke})||ye==="italic"&&he==="(\u30C4)")return;if(ye==="code")pe.push({codeStart:Ae,codeEnd:Re});else if(Object(O.a)(pe,Ne=>{let{codeStart:Ke,codeEnd:Ve}=Ne;const $e=Ae>=Ke&&Ae<=Ve,tt=Re>=Ke&&Re<=Ve;return $e||tt}))return;const ze=new t.a().retain(Ae).retain(xe,{[ye]:!0});I=I.compose(ze),D.push(Ae-1),D.push(Ae+xe),H[ye]=!0})}})}),W+=(Q?Q.length:0)+1}),D.sort((se,$)=>$-se).forEach(se=>{I=I.compose(new t.a().retain(se).delete(1))}),[I,L]}h(P,"buildMarkdownChangeDeltaForSingleLineFormatting");var B=e("1myf"),R=e("owWc"),U=e("qAkX"),K=e("Yk7g"),V=e("X6iR");function z(x,k){for(let F=0;F<x.length;F++){const L=x[F];L==="`"||L==="\uFF40"||L.match(/\s/)||L.match(">")||L.match("\uFF1E")?k.delete(1):k.retain(1)}return k}h(z,"deleteBackticksAndWhitespace");function N(x,k){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const S=x&&x.ops;if(!S)return[new t.a,L];let I=new t.a,W=!1;const D=Object(r.a)(S),H=D.match(u.e)||D.match(u.d),Z=D.match(/```|\uFF40\uFF40\uFF40/);H!=null&&H[0]&&((H==null?void 0:H.index)||0)<((Z==null?void 0:Z.index)||0)?W=!0:L=!1;let G="";k&&k.ops&&(G=Object(r.a)(k.ops));const te=[];[o.m,o.i].forEach(X=>{D.replace(X,(q,Y,ee,w,ne)=>{if(!ee||!ee.length)return;const ae=D[ne+q.length],de=ae&&ae.match(/\s/)?`${w}${ae}`:w;te.push({phraseToFormatPrefix:Y,phraseToFormat:ee,phraseToFormatSuffix:de,matchOffset:ne,backTicksStart:ne+Y.length-3,backTicksEnd:ne+Y.length+ee.length+3})})});const se=Object(B.a)(te,"matchOffset"),$=Object(R.a)(se,(X,q)=>{const Y=Object(U.a)(X);return(!Y||Y.backTicksEnd<=q.backTicksStart)&&X.push(q),X},[]);return Object(K.a)($).forEach((X,q)=>{let{phraseToFormatPrefix:Y,phraseToFormat:ee,phraseToFormatSuffix:w,matchOffset:ne}=X,ae=new t.a;ae.retain(ne);const ge=u.c.test(Y)||W||L?1:void 0,le=Object(V.a)(Y,`
`);le?(ae.retain(1),ae=z(Y.substring(1),ae)):ae=z(Y,ae),!le&&(ne>0||G&&!Object(v.a)(G,`
`))&&ae.insert(`
`);const Q=$[q+1];Q&&ne===Q.backTicksEnd&&ae.insert(`
`);const ie=ee.split(`
`);if(ie.forEach((oe,me)=>{if(ae.retain(oe.length),me===0&&oe.length===0)ae.delete(1);else if(me!==ie.length-1){const be={"code-block":!0};ge&&(be.border=ge),ae.retain(1,be)}}),Object(U.a)(ie)!==""){const oe={"code-block":!0};ge&&(oe.border=ge),ae.insert(`
`,oe)}z(w,ae),I=I.compose(ae)}),[I,L]}h(N,"buildMarkdownChangeDeltaForCodeBlocks");function A(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,L=!1;if(!x||!x.ops)return new t.a;const S=F;let I=new t.a,W=new t.a;if(S){const[q,Y]=p(x,L);I=q,L=Y,W=x.compose(I)}const[D,H]=N(S?W:x,k||new t.a,L);L=H;const Z=x.compose(D),G=S?W.compose(D):Z,[te,se]=P(G,k,L);L=se;const $=S?I.compose(D).compose(te):D.compose(te),X=Object(a.a)(x.compose($));return $.compose(X)}h(A,"buildMarkdownChangeDelta")},aZWb:function(J,i,e){"use strict";e.d(i,"a",function(){return P});var n=e("BHdc"),t=e("q1tI"),a=e.n(t),s=e("/MKj"),l=e("ZobM"),o=e("Trx9"),f=e("vS+A"),r=e("zxER"),m=e("4YJR"),c=e("v5z3"),u=e("qDEp"),d=e("ktUG"),p=e("nNoG"),v=e("zonX"),g=e("eWGC"),O=e("uVZW"),b=e("rZ8V"),y=e("Iu7c");function C(){return C=Object.assign||function(R){for(var U=1;U<arguments.length;U++){var K=arguments[U];for(var V in K)Object.prototype.hasOwnProperty.call(K,V)&&(R[V]=K[V])}return R},C.apply(this,arguments)}h(C,"_extends");const _=new p.b("setup_page"),j={onClick:{enableClogAction:!0}},E={FlagTip:"flag_tip",FlagTipIcon:"flag_tip_icon",FlagTipText:"flag_tip_text",OptOut:"opt_out_button"},M=[c.f.AtMention,c.f.Reacji],T=[c.f.AtMention],P=h(R=>{let{children:U,className:K,forwardedRef:V,handleClick:z,isEmptyState:N,tip:A,...x}=R;const k={[c.f.AtMention]:_.t("Next, try this"),[c.f.CompletedAll]:_.t("Need extra help?"),[c.f.Reacji]:_.t("Try me!")},F={[c.f.AtMention]:"mentions",[c.f.CompletedAll]:"help",[c.f.Reacji]:"add-reaction"},L=k[A],S=F[A],I=Object(r.c)(b.n);return a.a.createElement(o.a,{clogImpression:!0,elementName:c.g.Flag,elementValue:N?"empty_state":void 0,eventId:d.EventId.NEWXP_TEAM_CREATE,stepVariant:A,uiStep:d.UiStep.PROG_DISC_TIP},a.a.createElement("div",{className:"p-setup_prog_disc_icon_action_wrapper"},a.a.createElement(u.d,C({"aria-label":L,autoClogProps:j,className:Object(n.default)("p-setup_prog_disc_icon_action",`p-setup_prog_disc_icon_action--${A}`,{"p-setup_prog_disc_icon_action__icon--custom-border-radius":A===c.f.Reacji,"p-setup_prog_disc_icon_action--ia4":I},K),"data-qa":`${E.FlagTip}--${A}`,onClick:z,ref:V},x),U||a.a.createElement("div",{className:Object(n.default)("p-setup_prog_disc_icon_action__icon",{"p-setup_prog_disc_icon_action__icon--ia4":I}),"data-qa":E.FlagTipIcon},a.a.createElement(l.a,{"data-qa":`${E.FlagTipIcon}_svg_${S}`,name:S})),a.a.createElement("div",{className:"p-setup_prog_disc_icon_action__text","data-qa":E.FlagTipText},L)),M.includes(A)&&a.a.createElement(f.a,C({tipState:c.g.Flag},T.includes(A)&&{optOutIconClass:`p-opt_out_button_icon--${A}`}))))},"ProgressiveDisclosureIconAction");P.displayName="ProgressiveDisclosureIconAction";const B=h(R=>{let{onClick:U,tip:K,...V}=R;const z=Object(s.useDispatch)();Object(t.useEffect)(()=>{c.A[K]&&z(Object(m.H)(""))},[K,z]);const N=Object(t.useCallback)(A=>{c.w.includes(K)&&c.h[K]&&z(Object(g.a)({notificationName:c.h[K],action:O.f.CLICK,step:c.g.Flag})),typeof U=="function"&&U(A)},[z,U,K]);return Object(v.a)(K,c.g.Flag),a.a.createElement(P,C({},V,{handleClick:N,tip:K}))},"ConnectedProgressiveDisclosureIconAction");B.displayName="ConnectedProgressiveDisclosureIconAction",i.b=Object(t.memo)(Object(t.forwardRef)((R,U)=>a.a.createElement(B,C({},R,{forwardedRef:U}))))},afXM:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("YHfO"),s=e("lqkv");const l={name:"check"},o=h(f=>{let{message:r,svgIconProps:m=l}=f;return t.a.createElement(s.b,{"data-qa":"canvas-toast",duration:a.b,svgIconProps:m},r)},"CanvasToast");o.displayName="CanvasToast",i.a=o},anFg:function(J,i,e){"use strict";e.d(i,"a",function(){return x});var n=e("6KId"),t=e("0LZ2"),a=e("atJn"),s=e("NHkt"),l=e("d0Vf"),o=e("pfyn"),f=e("0YPf"),r=e("Nyfb"),m=e("RgTj"),c=e("eagO"),u=e("nHWZ"),d=e("eodU"),p=e("FENE"),v=e("KHUB"),g=e("v7hc"),O=e("ob13"),b=e("MAfL"),y=e("WLde"),C=e("53Jr"),_=e("bvgm"),j=e("cGkz"),E=e("vhgo"),M=e("uYNn"),T=e("bXvw"),P=e("4pJt"),B=e("8r3k"),R=e("Cepj"),U=e("PsTs"),K=e("7tu/");const V=new WeakMap,z=h(k=>!!V.get(k),"isQuillInitialized"),N=h(k=>{V.set(k,!0)},"setQuillInitialized");function A(k){const F=Object(t.a)(k);if(z(F))return F;F.register({"modules/tabcomplete":Object(s.a)(k),"modules/textsubstitutions":Object(f.a)(k),"modules/cleanembedsincode":Object(_.a)(k),"modules/cleanemptyinput":Object(j.a)(k),"modules/clipboard":Object(l.a)(k),"modules/keyboard":Object(o.a)(k),"modules/slackmention":Object(u.a)(k),"modules/slackemoji":Object(v.a)(k),"modules/textchangequeue":Object(y.a)(k),"modules/textsanitization":Object(C.a)(k),"modules/autoslug":Object(a.a)(k),"modules/slacklink":Object(r.a)(k),"modules/slackmarkdown":Object(E.a)(k),"modules/slackhorizontalrule":Object(b.a)(k),"modules/workflowtoken":Object(M.a)(k),"modules/cleanworkflowtokens":Object(T.a)(k),"modules/slackdocslist":K.a,"formats/slacksearchtokenmodifier":Object(m.a)(k),"formats/slacksearchtokenvalue":Object(c.a)(k),"formats/slackmention":Object(d.a)(k),"formats/slackemoji":Object(g.a)(k),"formats/unlink":Object(p.a)(k),"formats/slackhorizontalrule":Object(O.a)(k),"formats/workflowtoken":Object(P.f)(k),"formats/strike":Object(B.a)(k),"formats/border":Object(R.a)(k)},!0);const{CodeBlock:L}=Object(U.a)(k),S=F.import("blots/inline"),I=F.import("formats/bold"),W=F.import("formats/italic"),D=F.import("formats/strike"),H=F.import("formats/code"),Z=F.import("formats/link"),G=F.import("formats/unlink"),te=F.import("formats/slackemoji"),se=F.import("formats/slackmention"),$=F.import("formats/workflowtoken");return L.allowedChildren.push(S),L.allowedChildren.push(I),L.allowedChildren.push(W),L.allowedChildren.push(D),L.allowedChildren.push(H),L.allowedChildren.push(Z),L.allowedChildren.push(G),L.allowedChildren.push(te),L.allowedChildren.push(se),L.allowedChildren.push($),F.register({"formats/code":L},!0),N(F),F}h(A,"initQuill");let x=h(class extends n.a{constructor(F,L){super(F,L,A)}},"TextyClass")},aqlM:function(J,i,e){"use strict"},at8L:function(J,i,e){"use strict";e.d(i,"b",function(){return u}),e.d(i,"a",function(){return d});var n=e("mYQK"),t=e.n(n),a=e("AFNo"),s=e("nzWX"),l=e("kBpe"),o=e("JoR1"),f=e("beVI"),r=e("G0eX"),m=e("7+Lm"),c=e("uVZW");const u=Object(a.c)(p=>Object(m.c)(p,c.g.CLIENT_FOOTER)===c.h.SSB_LITE_BANNER);u.meta={name:"createSelector",key:"createSelectorshouldShowDownloadSsbBannerBasedOnMegaphone",description:p=>Object(m.c)(p,c.g.CLIENT_FOOTER)===c.h.SSB_LITE_BANNER};const d=Object(a.c)(p=>{if(u(p))return!0;const v=Object(f.g)(p),g=Object(s.f)(),O=Object(o.u)(p,"dismissed_banner_download_ssb_prompt");return!Object(r.J)(v)&&!O&&!Object(l.i)()&&!t.a.chromeBook&&g.no_download_banner!=="1"&&g.defer_download_banner!=="1"&&g.show_download_ssb_banner==="1"&&g.no_download_ssb_banner!=="1"&&g.defer_download_ssb_banner!=="1"&&g.shown_ssb_redirect_page==="1"});d.meta={name:"createSelector",key:"createSelectorshouldShowDownloadSsbBanner",description:p=>{if(u(p))return!0;const v=Object(f.g)(p),g=Object(s.f)(),O=Object(o.u)(p,"dismissed_banner_download_ssb_prompt");return!Object(r.J)(v)&&!O&&!Object(l.i)()&&!t.a.chromeBook&&g.no_download_banner!=="1"&&g.defer_download_banner!=="1"&&g.show_download_ssb_banner==="1"&&g.no_download_ssb_banner!=="1"&&g.defer_download_ssb_banner!=="1"&&g.shown_ssb_redirect_page==="1"}}},atJn:function(J,i,e){"use strict";e.d(i,"a",function(){return P});var n=e("lE2N"),t=e("pHS2"),a=e("bPB8"),s=e("OtLZ"),l=e("hbEN"),o=e("0LZ2"),f=e("mNiN"),r=e("Yauy"),m=e("lhZz"),c=e("9wgI"),u=e("od0p"),d=e("7AiH"),p=e("fnDJ"),v=e("vRwa"),g=e("0SZ4"),O=e("9h7U"),b=e("0f4s"),y=e("Z5O3"),C=e("pbCm"),_=e("pWPO"),j=e("p7YC");const M=["'",".","_","-","\u2018","\u2019"].map(B=>`\\${B}`).join(""),T=new RegExp(`^[${M}]+$`,"g");function P(B){const U=Object(o.a)(B).import("core/module");return h(class extends U{unload(){this.processPotentionalMentionsDebounced.cancel()}afterTextChangeQueue(){this.processPotentionalMentionsDebounced(this.quill)}processPotentialMentions(){if(this.options.isAutocompleteOpen())return;const z=this.quill.getContents(),N=this.quill.getSelection(),A=N?N.index:0;if(z.length()<=1)return;let x=[];if(this.options.enableBroadcastKeywords){if(this.options.includeAllBroadcastKeywords)x=Object(u.a)();else if(this.options.getTeamId()&&this.options.getChannelId()){const I=Object(m.getStateByTeamId)(this.options.getTeamId());x=Object(c.a)(I,this.options.getChannelId())}}const k=[],F=[];Object(d.a)(z,{useChannelTagging:this.options.useChannelTagging}).forEach(I=>{const W=I.labelWithoutPrefix;if(!W.length)return;const D=this.options.useWysiwyg&&!this.options.usePlainTextMode,H=D?!1:Object(j.a)(Object(b.a)(z,0,I.globalIndex)),Z=D?[]:Object(y.a)(Object(_.a)({contents:z.ops}));if(!((D?!1:Object(C.a)(I.globalIndex,Z))&&I.type==="emoji")&&(I.type==="emoji"||!(A>I.globalIndex&&A<=I.globalIndex+I.matchLength)&&W.search(T)===-1&&!H)){const se=I.type==="member"&&Object(f.a)(x,W);if(se){const $=this.quill.getFormat(I.globalIndex,I.matchLength);if($.slackmention&&delete $.slackmention,$.code||$["code-block"]||$.link)return;const X=Object(p.a)({results:[se],formats:$,...I});k.push(X)}else F.push({type:I.type,label:I.label,labelWithoutPrefix:W})}});const L=F.filter(I=>!(this.searchesInFlight.indexOf(I.label)!==-1||this.searchesWithoutResults.indexOf(I.label)!==-1)),S=Object(n.a)(L,"label");this.asyncResultCount=S.length,this.replacePotentialMentions({replacements:k,hasPendingReplacements:this.asyncResultCount>0||k.length>1}),this.searchAndReplaceMentions(S)}replacePotentialMentions(z){let{replacements:N,hasPendingReplacements:A}=z;if(!N.length)return;const x=this.options.getUserHighlightWords(),k=!this.options.inlineEmojiIsEnabled(),F=Object(O.a)(N,x,k);this.quill.updateContents(F),this.options.onMentionReplace({replacements:N,isLastReplacement:this.asyncResultCount===1&&!A})}clearSearchCache(){this.searchesInFlight=[],this.searchesWithoutResults=[]}searchAndReplaceMentions(z){if(!z||!z.length)return;const N=Object(t.a)(z,"type");N.member&&N.member.forEach(A=>{this.searchesInFlight.push(A.label),this.options.promiseToSearchMembers(A.label).then(x=>{this.processSearchResults(A,x)})}),N.emoji&&N.emoji.forEach(A=>{this.searchesInFlight.push(A.label),this.options.promiseToSearchEmoji(A.label,!1).then(x=>{x.promise&&x.promise.then(F=>{const L=F.filter(S=>S.isEmojiExactMatch);this.processSearchResults(A,L)});const k=x.filter(F=>F.isEmojiExactMatch);this.processSearchResults(A,k)})}),this.options.useChannelTagging&&N.channel&&N.channel.forEach(A=>{this.searchesInFlight.push(A.label),this.options.promiseToSearchChannels(A.label).then(x=>{const k=x.filter(F=>Object(r.K)(F)===A.labelWithoutPrefix);this.processSearchResults(A,k)})})}processSearchResults(z,N){if(!N.length){this.searchesWithoutResults.push(z.label);return}const A=N.map(I=>I.item),x=this.quill.getContents(),k=this.quill.getSelection(),F=k?k.index:0;if(x.length()<=1)return;const L=Object(d.a)(x,{useChannelTagging:this.options.useChannelTagging}).map(I=>{if(I.label!==z.label||!z.labelWithoutPrefix.length||!(this.options.useWysiwyg&&!this.options.usePlainTextMode)&&Object(j.a)(Object(b.a)(x,0,I.globalIndex))||I.type!=="emoji"&&F>I.globalIndex&&F<=I.globalIndex+I.matchLength)return null;const D=this.quill.getFormat(I.globalIndex,I.matchLength);return D.slackmention&&delete D.slackmention,D.code||D["code-block"]||D.link?null:z.type==="channel"?Object(v.a)({results:A,formats:D,...I}):z.type==="emoji"?Object(g.a)({results:A,formats:D,...I}):Object(p.a)({results:A,formats:D,...I})}),S=!(this.searchesInFlight.length===1&&this.searchesInFlight.indexOf(z.label)!==-1);this.replacePotentialMentions({replacements:Object(a.a)(L),hasPendingReplacements:S}),this.searchesInFlight=Object(s.a)(this.searchesInFlight,z.label),S||(this.asyncResultCount=0)}constructor(z,N){super(z,N),this.options=N,this.quill=z,this.processPotentionalMentionsDebounced=Object(l.a)(this.processPotentialMentions,100),this.asyncResultCount=0,this.searchesInFlight=[],this.searchesWithoutResults=[]}},"SlackAutoSlugModule")}h(P,"getSlackAutoSlugModule")},awTC:function(J,i,e){"use strict";e.d(i,"c",function(){return n}),e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a}),e.d(i,"d",function(){return s});const n=["c","cc","cmake","cpp","csharp","css","csv","diff","erb","groovy","h","haml","htm","html","java","javascript","json","less","log","matlab","markdown","ocaml","php","perl","properties","py","rb","rst","sass","scala","scheme","shell","sql","text","xlsb","xml","yaml"],t=["doc","docx","gdoc","gsheet","numbers","ods","odt","pages","pdf","rtf","xls","xlsm","xlsx","key","odp","ppt","pptx"],a=["ai","bmp","gif","eps","heic","jpeg","jpg","png","psd","svg","tif","tiff"],s=h(l=>{const o=(l.filetype||"").toLowerCase();return n.concat(t,a).includes(o)},"isFileTypeSupportedForPreview")},"b+Ip":function(J,i,e){"use strict";e.d(i,"a",function(){return Tt});var n=e("9oTK"),t=e("q1tI"),a=e.n(t),s=e("Lgge"),l=e("mM05"),o=e.n(l),f=e("n3tL"),r=e("fujP"),m=e("zmn3"),c=e("ifKl"),u=e("OZf9"),d=e("CpTu"),p=e("ktUG"),v=e("s4P+"),g=e("5IZy"),O=e("zZFv"),b=e("o2tK"),y=e("pu3F"),C=e("Kn+X"),_=e("BBdC"),j=e("EzPs"),E=e("7YN0"),M=e("KTal"),T=e("Yauy"),P=e("iheS"),B=e("SQ0V"),R=e("fPvm"),U=e("hD77"),K=e("AcWU"),V=e("AzV5"),z=e("OmVA"),N=e("Cwwo"),A=e("F8ux"),x=e("5icM"),k=e("3l96"),F=e("/MKj"),L=e("zxER"),S=e("Fsnq"),I=e("T1zM"),W=e("O86Y"),D=e("beVI"),H=e("G0eX"),Z=e("nNoG"),G=e("YUBf"),te=e("3V+Q"),se=e("Ws5+"),$=e("qDEp"),X=e("T1/z");const q=new Z.b("drafts"),Y="suppress_external_invites_from_compose_warning";function ee(Qt){let{draftId:dt,onClose:zt,sendMessage:At}=Qt;const Qe=Object(F.useDispatch)(),nt=Object(L.c)(In=>Object(X.c)(In,{draftId:dt})),_t=Object(L.c)(In=>{const ha=Object(W.g)(In),Dt=ha?Object(D.s)(In,ha):null;return Object(H.h)(Dt)}),[Et,kt]=Object(t.useState)(!1),jn=Object(S.a)(nt),pn=q.t("Add {emailCount, plural, =1 {a member} other {members}} to your workspace",{emailCount:jn}),An=Object(Z.h)(nt,{strong:!0,react:!0}),lt=q.rt("By adding {emailAddressesString}, you\u2019re giving them access to the channels and conversations in the {workspaceName} workspace.",{emailAddressesString:An,workspaceName:_t}),Dn=q.t("Cancel"),fn=q.t("Add {emailCount, plural, =1 {Member} other {Members}}",{emailCount:jn}),kn=q.t("Don\u2019t ask me again"),wn="p-composer_page__external_email_warning_modal_dont_ask_again";function fa(){Et&&Qe(Object(I.f)({pref:Y,value:!0})),At&&At()}return h(fa,"onSendMessagee"),a.a.createElement(G.a,{closeModal:zt||c.a},a.a.createElement(G.i,null,a.a.createElement(G.l,{title:pn})),a.a.createElement(G.d,null,a.a.createElement(G.e,null,a.a.createElement("p",null,lt))),a.a.createElement(G.g,null,a.a.createElement(te.b,{type:"inline",cursor:"pointer",className:"p-composer_page__external_email_warning_modal_dont_ask_again_label",htmlFor:wn,text:kn},a.a.createElement(se.a,{id:wn,checked:Et,onChange:In=>{var ha;kt(In==null||(ha=In.target)===null||ha===void 0?void 0:ha.checked)},"data-qa":"external_email_warning_modal_dont_ask_again_checkbox"})),a.a.createElement(G.h,null,a.a.createElement(G.c,{onClick:zt||c.a,type:"outline"},Dn),a.a.createElement($.f,{className:"p-composer_page__external_email_warning_modal_send_message","data-qa":"button_send_message",onClick:fa,autoFocus:!0},fn))))}h(ee,"ComposerExternalEmailWarningModal"),ee.displayName="ComposerExternalEmailWarningModal";var w=ee;const ne=Object(B.c)("Opens the external email warning modal when sending composer message",function(Qt,dt){let{draftId:zt,onClose:At,sendMessage:Qe}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Qt(Object(k.a)({element:a.a.createElement(w,{draftId:zt||"",onClose:At,sendMessage:Qe})}))});ne.meta={name:"createThunk",key:"createThunkopenComposerExternalEmailWarningModal",description:"Opens the external email warning modal when sending composer message"},ne.propTypes={draftId:f.default.string.isRequired,onClose:f.default.func,sendMessage:f.default.func};var ae=ne,de=e("XZ+b"),ge=e("1ao7"),le=e("62K+"),Q=e("kDB5"),ie=e("FezJ"),oe=e("kMME"),me=e("nRFS"),be=e("nwIl"),Se=e("1LR9"),Pe=e("I27i"),Ue=e("Wn1n"),Fe=e("ohbk"),je=e("8yCK"),_e=e("O2qk"),pe=e("E3dU"),fe=e("TZwK"),Ee=e("7XZu"),ye=e("ku/f"),Te=e("+kJ4"),Oe=e("3tUm"),Ce=e("vUys"),ce=e("DPzB"),he=e("b8Xe"),Me=e("3Tbp"),Ae=e("HxoY"),xe=e("6CnZ"),Re=e("jBIF"),Ge=e("WMzb"),ze=e("I0j/"),Ie=e("37+L"),Ne=e("mQiU"),Ke=e("UmHn"),Ve=e("9WS/"),$e=e("oy9Z");const tt=new Z.b("drafts");function qe(Qt){let{channelId:dt,draftId:zt,onSend:At,onClose:Qe}=Qt;const nt=Object(F.useDispatch)(),_t=Object(L.c)(fn=>Object(pe.d)(fn,dt)),Et=Object(Ge.a)(),{shouldUseNavigate:kt}=Object(t.useContext)(Ne.a),jn=Object(t.useCallback)(()=>{nt(kt?Object(ze.a)(Object(Ie.T)(Ke.a.ScheduledMessages)):Object(Fe.a)({id:"Pscheduled-messages"})),Et.info("COMPOSER",`${zt} scheduled from send scheduled message immedietly speedbump, redirecting to scheduled messages page`)},[nt,zt,Et,kt]);function pn(fn){let{didSend:kn}=fn;Qe({didSend:kn}),nt(Object(Te.a)())}h(pn,"handleCloseModal");function An(){At(),pn({didSend:!0})}h(An,"handleSendNowClick");function lt(){pn({didSend:!1}),nt(Object($e.a)({draftId:zt,onMessageScheduled:jn}))}h(lt,"handleSendLaterClick");const Dn=a.a.createElement(Ve.a,{channel:_t,includeChannelPrefix:!0,displayFormerNames:!1});return a.a.createElement(G.a,{closeModal:()=>pn({didSend:!1})},a.a.createElement(G.i,null,a.a.createElement(G.l,{title:tt.t("Send now?")})),a.a.createElement(G.d,null,a.a.createElement(G.e,null,tt.rt("Are you sure you want to send this message to {channel_name} now?",{channel_name:Dn}))),a.a.createElement(G.g,null,a.a.createElement($.f,{type:"outline","data-qa":"drafts_page_confirm_send_scheduled_draft_later",onClick:lt},tt.t("Send Later")),a.a.createElement(G.h,null,a.a.createElement(G.c,{type:"outline","data-qa":"drafts_page_confirm_send_scheduled_draft_cancel",onClick:()=>pn({didSend:!1})},tt.t("Cancel")),a.a.createElement($.f,{"data-qa":"drafts_page_confirm_send_scheduled_draft_now",onClick:An,autoFocus:!0,type:"primary"},tt.t("Send Now")))))}h(qe,"ConfirmSendScheduledMessageImmediatelyModal");var ut=e("dtWQ"),rt=e("ixSl"),yt=e("zcRq"),Mt=e("oY18"),st=e("rAyg"),Vt=e("oEDn");function Wt(Qt){let{errorText:dt}=Qt;return a.a.createElement(st.a,{position:"bottom-right",shouldAutoFade:!1},a.a.createElement(Vt.a,{type:"exclamation-circle",className:"margin_right_50"}),a.a.createElement("span",null,dt))}h(Wt,"MessageSendErrorToast"),Wt.displayName="MessageSendErrorToast";var Xt=Wt;const Ut=Object(B.c)("Displays a message send error toast",function(Qt,dt){let{errorText:zt}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};zt&&Qt(Object(Mt.a)({element:a.a.createElement(Xt,{errorText:zt})}))});Ut.meta={name:"createThunk",key:"createThunkdisplayMessageSendErrorToast",description:"Displays a message send error toast"},Ut.propTypes={errorText:f.default.oneOfType([f.default.string,f.default.object]).isRequired};var Nt=Ut,Ft=e("f7Y4"),_n=e("OJZy"),cn=e("lCmp"),Rn=e("/92K"),Vn=e("JoR1"),ea=e("6ysl");const Lt="suppress_external_invites_from_compose_warning";var Wn=h(function(Qt){let{draftId:dt}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object(Vn.u)(Qt,Lt))return!1;const At=Object(X.b)(Qt,{draftId:dt});return Object(cn.a)(At,Qe=>Object(ea.c)(Qe)&&Object(ea.a)(Qe)!==Rn.a.Internal)},"shouldShowExternalEmailWarning"),Nn=e("Gnyr"),ia=e("ExKK"),Ea=e("XcN5"),bn=e("2VFn"),Xn=e("RV0M"),vt=e("v7mh"),Je=e("E97Y"),et=e("KVhq"),mt=e("D1F6");const Pt=new Z.b("client"),Tt=Object(B.c)("Sends a composer message",function(){var Qt=Object(n.coroutine)(function*(dt,zt,At,Qe){let{draft:nt,fromKeyboardShortcut:_t,isFromModal:Et,bypassExternalEmailWarning:kt,isFromDraftsPageAndExternallySharedChannel:jn,isFromScheduledPage:pn,skipDlpUserWarning:An,isFromDraftsPage:lt}=At;const{shouldUseNavigate:Dn,getSiblingView:fn,windowId:kn}=(Qe==null?void 0:Qe(Xn.a))||{};if(!Object(M.a)(zt(),nt))return s.a.reject(new Error("Composer message is not sendable. This may be due to a missing destination, missing text, or posting restrictions"));if(!Object(Pe.d)(zt()))return s.a.reject(new Error("Composer message is not sendable. Client is offline"));const wn=Object(v.a)({getState:zt,label:"COMPOSER"}),fa=Object(g.a)({getState:zt}),In=Object(C.e)(nt),ha=Object(C.n)(nt),Dt=nt?Object(_n.a)(nt):{},jt=dt(Object(yt.a)({draftId:In,ops:ha})),$t=dt(Object(Q.a)({unfurls:jt,draftId:In})),Tn=zt(),dn=Object(be.f)(Tn),Un=Object(be.a)(Tn,{draftId:In});if(!In||!nt)return s.a.reject(new Error("Composer message is not sendable. Draft is not provided or draft does not have draftId"));if(Object(_e.b)(zt(),{draftId:In}))return wn.info(`Already sending draft (draftId: ${In})`),s.a.resolve();if(Object(_e.e)(Tn,{draftId:In}))return wn.info("Already sending email invites for draft, skip sending message -- we will send when all invites complete"),s.a.resolve();if(!kt&&Wn(Tn,{draftId:In}))return dt(ae({draftId:In,onClose:()=>dt(Object(Te.a)()),sendMessage:()=>{dt(Object(Te.a)()),dt(Tt({draft:nt,fromKeyboardShortcut:_t,isFromModal:Et,bypassExternalEmailWarning:!0}))}})),s.a.reject(new Error("Composer external email warning in effect"));const Bn=Object(X.c)(Tn,{draftId:In});if(!Object(r.a)(Bn)){dt(Object(Se.g)({draftId:In,isSendingInvites:!0,shouldSendMessageAfterInvites:!0}));const Zt=Object(m.a)(Bn,qn=>({email:qn,type:N.a.Member}));return dt(Object(z.h)({invites:Zt})),wn.info("Kick off sending email invites for draft, skip sending message until all emails resolve"),fa.track(p.EventId.COMPOSE_FLOW,{draft_id:In,draft_num_selected_emails:Zt.length,contexts:{ui_context:{ui_step:p.UiStep.COMPOSE_FLOW_SEND_EMAIL_INVITES}}}),setTimeout(()=>{Object(_e.e)(zt(),{draftId:In})&&(dt(Object(Se.c)({draftId:In})),wn.error("Failed to resolve emails to memberIds in a reasonable time -- cancel draft send"),dt(Nt({errorText:Pt.rt("<b>Something went wrong.</b> Try typing the email again.")})))},y.T),s.a.resolve()}dt(Object(Se.e)({draftId:In,isSending:!0})),Object(U.a)(In);let Kt;try{({channelId:Kt}=yield dt(Object(ge.a)({draft:nt})))}catch(Zt){var Kn;return dt(Object(Se.e)({draftId:In,isSending:!1})),!(Zt==null||(Kn=Zt.message)===null||Kn===void 0)&&Kn.includes(y.S.INVALID_USER_COMBINATION)?s.a.reject(new Error("invalid_user_combination")):s.a.reject(Zt)}wn.info(`Preparing to send a composer message to ${Kt}`),fa.track(p.EventId.COMPOSE_FLOW,{draft_action_source:Et?"modal":"input",draft_type:"composer",draft_id:In,contexts:{ui_context:{action:_t?p.UiAction.KEYDOWN:p.UiAction.CLICK,step:p.UiStep.COMPOSE_FLOW_SEND}}});function aa(){return ln.apply(this,arguments)}h(aa,"sendMessage");function ln(){return ln=Object(n.coroutine)(function*(){let{acknowledgedUnfurls:Zt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var qn;if(yield dt(Object(K.a)({channelId:Kt})),Dn)if(kn===bn.c){const Qn=Object(vt.a)(Tn),Zn=Object(pe.d)(Tn,Kt),Hn=!(Object(Je.i)(Zn)||Object(Je.g)(Zn)),Sa=Qn===bn.d.DMs;Hn&&Sa&&dt(Object(ze.a)(Object(Ie.a)(Object(Ie.o)({tab:bn.d.DMs})))),dt(Object(ze.a)(Object(Ie.k)(Kt)))}else dt(Object(ze.a)(Object(Ie.a)(Object(Ie.k)(Kt))));const ta=Object(je.a)(zt());if((Dn?fn==null||(qn=fn(Tn,{container:bn.i.Primary}))===null||qn===void 0?void 0:qn.id:Object(Ue.a)(zt()))==="Pcomposer"&&ta===In){let Qn;const Zn=Object(C.d)(nt);if(Zn.length===1){const Hn=Object(pe.d)(zt(),Zn[0]);Qn=Object(T.Fb)(zt(),Hn)}Dn?dt(Object(ze.a)(Object(Ie.k)(Kt))):dt(Object(Fe.a)({id:Kt,teamId:Qn})).catch(c.a)}if(dn&&Un&&dt(Object(et.b)({draftId:In})),Object(j.a)(zt(),nt)){const Qn=dt(Object(V.a)({msgOps:ha,channelId:Kt}));let Zn;if(dn&&Un){const Ct=Object(mt.a)(Tn,{draftId:In});Ct.length&&(Zn=Ct)}dt(Object(Oe.a)({draftId:In||"",pendingFileIds:Object(Ce.a)(Tn,In||"")}));const Hn=Object(E.c)(In||"")||[];Object(E.b)(In||"");const Sa=Object(fe.c)(zt(),In||"");Object(u.a)(Sa,Ct=>{dt(Object(Ee.f)({pendingFileId:Ct,isSending:!0}))});const Ca=Object(Ae.a)(Object(xe.i)(Tn,Kt)),La=dt(Object(ce.a)({msgParams:{channel:Kt,ts:Ca,type:"message",blocks:Qn},channelId:Kt,fileIds:Object(_.a)(nt),pendingFileIds:Object(Ce.a)(Tn,In||"")}));La&&dt(Object(he.a)({channelId:Kt,ts:La.ts,promises:Hn}));const Gt=dt(Object(Re.a)({draftId:In}));return yield s.a.all(Hn).then(Ct=>{const It=Object(_.a)(nt)||[];return Object(u.a)(Ct,on=>{on.fileIds?It.push(on.fileIds[0]):on.file&&It.push(on.file.id)}),dt(Object(A.a)({fileIds:It,channelId:Kt,blocks:Qn,attachments:Zn,xArgs:Dt,skipDlpUserWarning:An,reason:"send_composer_message",clientMsgId:La?La.client_msg_id:void 0,permissions:Gt}))}).then(en).finally(xt).catch(Ct=>{(Ct==null?void 0:Ct.name)===Ea.a.DlpUserWarning?dt(Object(ye.a)({error:Ct==null?void 0:Ct.name,draftId:In})):dt(Object(ye.a)({error:Ct==null?void 0:Ct.name,goToDrafts:!0})),Object(u.a)(Sa,It=>{dt(Object(Ee.f)({pendingFileId:It,isSending:!1}))}),dt(Object(Se.e)({draftId:In||"",isSending:!1})),La&&dt(Object(Me.a)({clientMsgId:La.client_msg_id,channelId:Kt,ts:La.ts}))}),null}const Yn=dt(Object(le.a)({draftId:In})),Jt=dt(Object(Re.a)({draftId:In}));return dt(Object(Ft.c)({draftUniqueId:Object(C.s)(nt),detachedDraftId:In,channelId:Kt,unfurls:Zt||jt,contactUnfurls:Yn,filePermissions:Jt,delta:new o.a(ha),xArgs:Dt,includeExternalMembersSpeedBump:!1,includeExternalQuipFileSpeedBump:!1,includePrivateMessageForwardingSpeedBump:!1})).catch(Qn=>{if(nt){const Zn=dt(Object(rt.b)({draft:nt}));dt(Object(ut.a)({draft:Zn}))}throw Qn}).then(en).finally(xt)}),ln.apply(this,arguments)}h(ln,"_sendMessage");function en(){wn.info(`Composer message successfuly sent. Removing the draft (${In})`),dt(Object(R.a)({ids:[In||""],syncDelete:!1,reason:"sendComposerMessage"}))}h(en,"onSendSuccess");function xt(){dt(Object(Se.b)({draftId:In||""}))}h(xt,"onSendComplete");const sn=Object(b.a)(new o.a(ha)),nn=Object(d.a)(sn,function(Zt){return Zt.includes("slack.com/openid/connect/login_initiate_redirect")});if(nn)return dt(Object(de.a)({channelId:Kt,dateScheduled:Object(C.i)(nt),urlString:nn,onSend:()=>{aa()},onClose:()=>{dt(Object(Se.b)({draftId:In}))}})),s.a.reject(new Error("Link warning in effect"));const Ln=Object(O.a)({contents:ha});return Object(P.a)(zt(),Kt,Ln)?(dt(Object(x.a)({channelId:Kt,keywordsInUse:Ln,onClose:function(){let{didSend:Zt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Zt||dt(Object(Se.b)({draftId:In}))},onSend:()=>{aa()}})),s.a.reject(new Error("Shouty rooster in effect"))):dt(Object(Nn.a)({fileIds:Object(_.a)(nt),entityId:Kt,onSend:()=>{aa()},onClose:()=>{dt(Object(Se.b)({draftId:In}))},onSendLater:()=>{dt(Object($e.a)({draftId:In,isFromScheduledPage:pn}))},isFromDraftsPageAndExternallySharedChannel:jn,isFromScheduledPage:pn})).didOpen?s.a.reject(new Error(Ft.b.ExternalMembersSpeedBump)):Object(C.i)(nt)&&!An?(dt(Object(k.a)({element:a.a.createElement(qe,{channelId:Kt,draftId:In,onClose:function(){let{didSend:Zt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Zt||dt(Object(Se.b)({draftId:In}))},onSend:()=>{aa()}})})),s.a.reject(new Error("Send scheduled message immediately speedbump in effect"))):dt(Object(ia.a)({delta:new o.a(ha),fileIds:Object(_.a)(nt),onSend:()=>{aa()}})).didOpen?s.a.reject(new Error(Ft.b.ExternalQuipFileSpeedBump)):Object(me.a)(Tn)&&dt(Object(oe.a)({channelId:Kt,isScheduledSend:!!Object(C.i)(nt),unfurls:jt,unfurlsWithData:$t,isFromDraftsPage:lt,onSend:()=>{const qn=Object(ie.a)(jt,$t);aa({acknowledgedUnfurls:qn})},onClose:()=>{dt(Object(Se.b)({draftId:In}))}})).didOpen?s.a.reject(new Error(Ft.b.PrivateMessageForwardingSpeedBump)):aa()});return function(dt,zt,At,Qe){return Qt.apply(this,arguments)}}());Tt.meta={name:"createThunk",key:"createThunksendComposerMessage",description:"Sends a composer message"},Tt.propTypes={draft:f.default.object.isRequired}},b8Xe:function(J,i,e){"use strict";e.d(i,"a",function(){return r});var n=e("OZf9"),t=e("F294"),a=e("zmn3"),s=e("n3tL"),l=e("SQ0V"),o=e("Jhy3"),f=e("UIhb");const r=Object(l.c)("Swap pending file IDs with real file IDs when uploading finishes",(m,c,u)=>{let{channelId:d,ts:p,promises:v}=u;Object(n.a)(v,g=>{g.then(O=>{let{fileIds:b,pendingFileId:y}=O;const C=Object(f.b)(c(),d,p);if(!C)return;const _=Object(t.a)(b);if(!_)return;const j=Object(a.a)(C.pendingFiles,M=>M===y?_:M),E={...C,pendingFiles:j};m(Object(o.a)([E]))})})});r.meta={name:"createThunk",key:"createThunksyncPlaceholderWithUploads",description:"Swap pending file IDs with real file IDs when uploading finishes"},r.propTypes={channelId:s.default.string.isRequired,ts:s.default.string.isRequired,promises:s.default.array.isRequired}},bCCa:function(J,i,e){"use strict";var n=e("SQ0V"),t=e("x6tY"),a=e("QoUg"),s=e("VfoO"),l=e("Lgge"),o=e("FH+Z");function f(d){const p=URL.createObjectURL(d),v=document.createElement("video");return new l.a((g,O)=>{var b;v.preload="metadata",v.onloadedmetadata=()=>{v.currentTime=.1},v.onseeked=()=>{const C=document.createElement("canvas");if(!v.videoHeight||!v.videoWidth){O(new Error("could not load video thumbnail"));return}C.height=v.videoHeight,C.width=v.videoWidth;const _=C.getContext("2d");if(!_){O(new Error("could not get canvas context"));return}_.drawImage(v,0,0,C.width,C.height),g({dataUrl:C.toDataURL("image/jpeg"),orientation:1,width:v.videoWidth,height:v.videoHeight})};const y=document.createElement("source");d.subtype===o.j&&(!((b=d.type)===null||b===void 0)&&b.includes("mp4"))&&(y.type="video/mp4"),y.src=p,v.appendChild(y)}).timeout(1e4,"Timeout generating video thumbnail").finally(()=>{v.src="",v.firstChild&&v.removeChild(v.firstChild),URL.revokeObjectURL(p)})}h(f,"getVideoThumbnailData");var r=f,m=e("7XZu");const c=Object(n.c)("Load data for thumbnails",(d,p,v)=>{let{file:g}=v;if(!Object(a.a)(p(),g)){if(Object(t.Kb)(g)){Object(s.a)(g).then(O=>{d(Object(m.e)({previewData:O,pendingFileId:g.id}))});return}Object(t.Lb)(g)&&r(g).then(O=>{d(Object(m.e)({previewData:O,pendingFileId:g.id}))})}});c.meta={name:"createThunk",key:"createThunkpreloadPreviewData",description:"Load data for thumbnails"};var u=i.a=c},bECL:function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("XxnT"),t=e("HBMi"),a=e("gpSK"),s=e("3kjJ"),l=e("4Kys"),o=e("WhMD"),f=e("hOHP"),r=e("rsVu");const m=h((u,d,p,v)=>p?Object(o.a)(u,{excludeYear:!0}):d.replace(/%1/,Object(l.a)(u)).replace(/%2/,Object(o.a)(u,{shortenMonth:!1,excludeYear:!0})).replace(/%3/,`at ${Object(r.a)(u,{includeMeridiem:!v,do24hrTime:v})}`),"formatOooDatePreview"),c=h((u,d,p)=>{const v=Object(t.a)(u,{returnMoment:!0}),g=n.a.localeData(n.a.locale()),b=g.dateLong().format,y=Object(n.a)(),C=g.dateTime().format;if(v.hour()===23&&v.minutes()===59){const j=Object(a.a)(5),E=y.clone().day(j),M=v.clone().add(3,"day");if(Object(s.a)(v.toDate(),E.toDate()))return b.replace(/%1/,Object(l.a)(M,{shortenDay:!0})).replace(/%2/,Object(o.a)(M,{shortenMonth:!0,shortenDay:!0,excludeYear:!0}));const T=v.clone().add(1,"day");if(Object(s.a)(v.toDate(),y.toDate())){const P=Object(f.a)(T,{uncapitalized:!0});if(P)return P}}return Object(s.a)(v.toDate(),y.toDate())?Object(r.a)(v,{includeMeridiem:!d,do24hrTime:d}):v.isSameOrAfter(y.add(7,"days"))?p?m(v,C,!1,d):b.replace(/%1/,Object(l.a)(v,{shortenDay:!0})).replace(/%2/,Object(o.a)(v,{shortenMonth:!0,shortenDay:!0,excludeYear:!0})):p?m(v,C,!0,d):C.replace(/%1/,Object(r.a)(v,{includeMeridiem:!d,do24hrTime:d})).replace(/%2/,Object(l.a)(v,{shortenDay:!0})).replace(/%3/,Object(o.a)(v,{shortenMonth:!0,shortenDay:!0,excludeYear:!0}))},"formatOooDate")},"bHB/":function(J,i,e){"use strict";var n=e("n3tL"),t=e("SQ0V"),a=e("NV6F"),s=e("8f+r"),l=e("e33t"),o=e("O5bS"),f=e("ltL2"),r=e("F294"),m=e("mM05"),c=e.n(m),u=e("yLDf"),d=e("mlNA");const p=Object(t.c)("Parses slash command args from delta",($,X,q)=>{const Y=Object(d.a)(q),ee=Object(r.a)(Y),w=ee&&ee.type==="string"?Y[0].value:null;if(!ee||!w)return{cmd:"",disp:null,userParams:[],deltaWithoutCmd:new c.a};const ne=w.toLowerCase().replace(/\u2019/g,"'"),ae=new c.a().delete(ne.length),de=q.compose(ae),ge=Object(u.a)({delta:de,trimEnd:!1});return{cmd:ne,disp:w,userParams:Y.slice(1),deltaWithoutCmd:ge}});p.meta={name:"createThunk",key:"createThunkparseSlashCmdArgsFromDelta",description:"Parses slash command args from delta"},p.propTypes=n.default.object;var v=p,g=e("NFsq"),O=e("0qhH");const b=/^\/s\/([^/]+)\/([^/]*)(?:\/([a-z]+)?)?$/i;function y($){if(!$)return null;const X=Object(u.a)({delta:$,trimStart:!1});if(!X)return null;const q=X.ops;if(!q||q.length!==1)return null;const Y=Object(r.a)(q);if(!Y||!Object(O.a)(Y))return null;const ee=Object(O.b)(Y);if(!ee)return null;const w=ee.replace(/\uFF0F/g,"/"),[,ne,ae,de]=w.match(b)||[];if(!ne)return null;const ge=Object(g.a)(de,"g"),le=Object(g.a)(de,"i");return{prev:ne,next:ae,replaceAll:ge,ignoreCase:le}}h(y,"parseEditLastMessageCommand");var C=e("Lgge"),_=e("JJ34"),j=e("PjBX"),E=e("pguY");const M=`[\\s\\n\\r\\t.,'"+!?\\-_|]`;var T=h(function($,X){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",{ignoreCase:Y,replaceAll:ee}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!$||!X)return null;let w="";Y&&(w+="i"),ee&&(w+="g");const ne=Object(E.a)(X),ae=new RegExp(`(^|${M}+)(?:${ne})(?=${M}+|$)`,w);return $.replace(ae,`$1${q}`)},"replace_word"),P=e("YOgf"),B=e("W8kP");const R=Object(t.c)('Attempt to edit the previous message via the "/s" shortcut',function($,X){let{channelId:q,threadTs:Y,prev:ee,next:w,ignoreCase:ne,replaceAll:ae}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const de=X(),ge=Object(_.a)(de,{channelId:q,threadTs:Y});if(!ge||!ge.blocks)return C.a.reject(new Error("Message not found"));const le=Object(P.a)(de,ge.blocks);if(!le)return C.a.reject(new Error("Message not found"));let Q=!1;const ie=le.map(me=>{if(!ae&&Q)return me;if(Object(O.a)(me)){const be=Object(O.b)(me),Se=T(be,ee||"",w||"",{ignoreCase:!!ne,replaceAll:!!ae});return be!==Se&&(Q=!0),{...me,insert:Se||""}}return me}),oe=Object(u.a)({delta:new c.a(ie)});return Object(B.a)(oe)?C.a.reject(new Error("No message text")):$(Object(j.a)({channelId:q,ts:ge.ts,delta:oe}))});R.meta={name:"createThunk",key:"createThunkeditLastUserMessageText",description:'Attempt to edit the previous message via the "/s" shortcut'};var U=R,K=e("pu3F"),V=e("qMw6"),z=e("s4P+"),N=e("nNoG"),A=e("NX5n"),x=e("VKiV"),k=e("CpTu"),F=e("9tyN"),L=e("bPOb"),S=e("B8JY");const{RESTRICTED_COMMAND:I,UNKNOWN_API_ERROR:W,UNKNOWN_COMMAND:D,UNSUPPORTED_IN_THREAD:H,CUSTOM_ERROR:Z}=K.bb,G=new N.b("client"),te=Object(t.c)("Intercept and handle a slash commands when sending a message",($,X,q)=>{let{delta:Y,channelId:ee,threadTs:w,draftId:ne,slashCommandApplicableTeamId:ae,slashCommandAppId:de,viewContext:ge,windowId:le}=q;if(!Y||!ee&&!ne||!Object(f.a)(Y))return null;const ie=Object(z.a)({getState:X});ie.info("SLASH-COMMAND","Looks like a slash command; attempt to parse and execute");const oe=y(Y);if(oe)return ie.info("SLASH-COMMAND",'Command "search/replace" is PENDING'),$(U({channelId:ee,threadTs:w,...oe})).then(()=>{ie.info("SLASH-COMMAND",'Command "search/replace" RESOLVED')}).catch(Ue=>{throw ie.info("SLASH-COMMAND",`Command "search/replace" FAILED (error "${Ue.message}")`),Ue});const me=$(v(Y)),be=w?o.a.threadsTempSlashCmdFeedback:o.a.tempSlashCmdFeedback;$(Object(l.a)({ephemeralType:be}));const Se=h(Ue=>$(Object(a.c)({args:me,channelId:ee,draftId:ne,threadTs:w,delta:Y,slashCommandApplicableTeamId:Ue,slashCommandAppId:de,viewContext:ge,windowId:le})).tap(function(){let{response:Fe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fe&&$(Object(s.b)({message:{text:Fe,channel:ee,thread_ts:w}}))}).catch(Fe=>{let je;throw Fe.message===I?je=G.t("*{command}* failed because you are not allowed to perform that action. Talk to your Workspace Owner.",{command:me.cmd}):Fe.message===D?je=G.t(`*{command}* is not a valid command. In Slack, all messages that start with the "/" character are interpreted as commands.

If you are trying to send a message and not run a command, try preceding the "/" with an empty space.`,{command:me.cmd}):Fe.message===H?je=G.t("*{command}* is not supported in threads. Sorry!",{command:me.cmd}):Fe.message===W&&Fe.feedback?je=G.t('*{command}* failed with the error "{reason}"',{command:me.cmd,reason:Fe.feedback}):Fe.message===Z&&Fe.feedback?je=Fe.feedback:je=G.t("*{command}* failed with an unknown error.",{command:me.cmd}),$(Object(s.b)({ephemeralType:be,message:{text:je,channel:ee,slackbot_feels:s.a.sadSurprise,thread_ts:w}})),Fe}),"executeSlashCommandCallback"),Pe=X();if(Object(A.a)(Pe)){const Ue=Object(L.a)(Pe);let Fe=Object(k.a)(Object.values(Ue),je=>Object(F.a)(je,me.cmd));if(Fe)return Fe=Object(S.a)(Pe,Fe),$(Object(x.a)({action:Fe,channelId:ee,onConfirm:Se,isSlashCommand:!0}))}return Se(ae)});te.meta={name:"createThunk",key:"createThunkhandleSlashCommand",description:"Intercept and handle a slash commands when sending a message"},te.propTypes={delta:n.default.object.isRequired,channelId:n.default.string.isRequired,threadTs:n.default.string,viewContext:n.default.oneOf(Object.values(V.a))};var se=i.a=te},bLbp:function(J,i,e){"use strict";e.d(i,"b",function(){return n}),e.d(i,"c",function(){return t}),e.d(i,"a",function(){return a});var n;(function(s){s.MODAL_HEADER="share-dialog-header-name",s.MODAL_HEADER_TITLE="share-dialog-title-and-subtitle-bar",s.MODAL_ALERT_SECTION="share-dialog-alert-section",s.MODAL_HEADER_SECTION="share-dialog-header-section",s.CHANNEL_PICKER="share_dialog_channel_picker"})(n||(n={}));var t;(function(s){s.CLOSE_DIALOG="close_dialog_speedbump"})(t||(t={}));var a;(function(s){s.GO="dialog_go"})(a||(a={}))},bPOb:function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n=h(t=>{var a;return(t==null||(a=t.slashCommand)===null||a===void 0?void 0:a.commands)||{}},"getServerSlashCommands")},bQRJ:function(J,i,e){"use strict";e.d(i,"a",function(){return u});var n=e("ZKjC"),t=e("UIhb"),a=e("6CnZ"),s=e("+l5E"),l=e("JQ3U"),o=e("ssje"),f=e("JMq3"),r=e("rebY"),m=e("s8RM");const c=Object(n.b)(function(d,p){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3;const g=Object(a.h)(d,p),b=(g?g.timestamps:[]).map(y=>Object(t.b)(d,p,y)).filter(y=>!Object(m.a)(y.subtype)&&!Object(s.bb)(y)&&!Object(s.fb)(y)&&!Object(f.a)(d,y)&&!Object(l.l)(y)&&!Object(r.a)(y)&&!Object(o.a)(y)).slice(-1*Math.abs(v));return{slice:g,messages:b}});c.meta={name:"createSelector",key:"createSelectorgetLastHumanMessages",description:function(d,p){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3;const g=Object(a.h)(d,p),b=(g?g.timestamps:[]).map(y=>Object(t.b)(d,p,y)).filter(y=>!Object(m.a)(y.subtype)&&!Object(s.bb)(y)&&!Object(s.fb)(y)&&!Object(f.a)(d,y)&&!Object(l.l)(y)&&!Object(r.a)(y)&&!Object(o.a)(y)).slice(-1*Math.abs(v));return{slice:g,messages:b}}};const u=Object(n.b)((d,p)=>c(d,p,1).messages.length>0);u.meta={name:"createSelector",key:"createSelectordoesChannelHaveMessages",description:(d,p)=>c(d,p,1).messages.length>0}},bTgy:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("x6tY");const t=h(s=>!!(s!=null&&s.is_org_visible),"isFileOrgVisible"),a=h((s,l)=>Object(n.yb)(l,s)&&t(l)&&!Object(n.xb)(l,s),"isTemplateOrgVisible")},bUGr:function(J,i,e){"use strict";e.d(i,"a",function(){return r});var n=e("x6tY"),t=e("SQ0V"),a=e("Lgge"),s=e("dmdh"),l=e("tRZ0"),o=e("5IZy"),f=e("ktUG");const r=Object(t.c)("Calls quip.removeCanvasCollection and remove canvas as collection/favorites",(m,c,u)=>{let{fileId:d,userId:p}=u;const v=c(),g=Object(s.e)(v,d);return!Object(n.u)(g)&&!Object(n.h)(g)?a.a.reject(new Error("fileId missing while calling removeCanvasFromFavorites")):(Object(o.a)({state:v}).track(f.EventId.CANVAS_UNSTARRED,{contexts:{core:{quip_file_id:d,file_id:d,is_channel_canvas:Object(n.h)(g)}}}),m(Object(l.a)({fileId:d,userId:p,reason:"canvas_organization_collections_proto"})))});r.meta={name:"createThunk",key:"createThunkremoveCanvasFromFavorites",description:"Calls quip.removeCanvasCollection and remove canvas as collection/favorites"}},bXvw:function(J,i,e){"use strict";e.d(i,"a",function(){return g});var n=e("mM05"),t=e.n(n),a=e("0LZ2"),s=e("5SjC"),l=e("k2bd"),o=e("Yu+/"),f=e("IOc2"),r=e("Awek"),m=e("3yyz"),c=e("fujP"),u=e("x4bu"),d=e("vIgB");const p=`
`;function v(b){return{...b.attributes||{},bold:!1,italic:!1,strike:!1,link:!1,underline:!1,code:!1,"code-block":!1}}h(v,"getCleanedAttributes");function g(b){const C=Object(a.a)(b).import("core/module");return h(class extends C{buildTextChangeDelta(E){const M=E.ops;if(!M||M.length===0)return new t.a;let T=!0,P=null;const B=new t.a,R=[];Object(s.a)(E,(K,V)=>{const z=Object(m.a)(K),N=Object(l.e)(K);if(Object(l.a)(K)&&(N===d.d.SlackTypesRichText||N===d.d.SlackTypesExpandedRichText)){const x=v(K);Object(o.a)(V)||Object(f.a)(V)||Object(r.a)(V)?(T=!1,B.delete(z),R.push({...K,attributes:x})):(P&&!Object(u.a)(P).includes(p)&&(T=!1,B.insert(p)),B.retain(z,x)),P=K;return}if(P&&Object(l.a)(P)&&(Object(l.e)(P)===d.d.SlackTypesRichText||Object(l.e)(P)===d.d.SlackTypesExpandedRichText)&&Object(u.a)(K)!==p&&(T=!1,B.insert(p)),R.length&&K.insert===p&&Object(c.a)(K.attributes)&&U(),z){var A;B.retain(z,(A=K.attributes)!==null&&A!==void 0?A:{})}P=K}),U();function U(){for(;R.length;){const V=R.shift();if(V!=null&&V.insert){T=!1;var K;B.insert(V==null?void 0:V.insert,(K=V==null?void 0:V.attributes)!==null&&K!==void 0?K:{})}}}return h(U,"reinsertTokens"),T?new t.a:B}},"CleanWorkflowTokensModule")}h(g,"getCleanWorkflowTokensModule");const O=g(window)},bdcb:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("CpTu");function t(a){const s=["composer_edit_link_popover","composer_link_modal"];return!!Object(n.a)(a,l=>s.includes(l))}h(t,"isTextyModalOpen")},"bi++":function(J,i,e){"use strict";e.d(i,"d",function(){return t}),e.d(i,"e",function(){return a}),e.d(i,"a",function(){return s}),e.d(i,"c",function(){return l}),e.d(i,"b",function(){return o});var n=e("DwFS");const t=Object(n.a)("Set document editing info");t.meta={name:"createAction",key:"createActionupdatePresenceEditingInfo",description:"Set document editing info"};const a=Object(n.a)("Set document viewing info");a.meta={name:"createAction",key:"createActionupdatePresenceViewingInfo",description:"Set document viewing info"};const s=Object(n.a)("Add viewers");s.meta={name:"createAction",key:"createActionaddViewingPresence",description:"Add viewers"};const l=Object(n.a)("Remove viewers");l.meta={name:"createAction",key:"createActionremoveViewingPresence",description:"Remove viewers"};const o=Object(n.a)("Clear all viewers");o.meta={name:"createAction",key:"createActionclearPresence",description:"Clear all viewers"}},blUj:function(J,i,e){"use strict";e.d(i,"b",function(){return n}),e.d(i,"a",function(){return t});const n={EVERYONE:"everyone",CHANNEL_MANAGERS:"channel_managers",MEMBERS:"members",GUESTS:"guests",EXTERNAL_TEAMS:"external_teams",EXTERNAL_TEAM:"external_teams",SELF_ORGANIZATION:"self_organization"},t=n.EVERYONE},bp2J:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),s=e("nNoG"),l=e("C3vN"),o=e("djjd"),f=e("E3dU"),r=e("Zbwg"),m=e("mzsf");const c=new s.b("drafts");function u(d){let{entity:p,id:v,isEmail:g,isActive:O,isDisabled:b,matchData:y}=d;const C=Object(a.c)(M=>Object(f.d)(M,v)),_=Object(a.c)(f.a);if(g)return t.a.createElement("span",{className:"p-composer_page__destination_select_email_suggestion"},v);let j;Object(l.db)(p)&&b&&(j=c.t("From another organization"));let E;return Object(r.a)(v)&&C&&(E=Object(o.a)(_,C)),t.a.createElement(m.b,{model:p,isActive:O,isDisabled:b,secondaryContent:j,matchData:y,showTeamForLocalChannel:E})}h(u,"ComposerDestinationSelectOption"),u.displayName="ComposerDestinationSelectOption",i.a=u},bryr:function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("0VB0"),t=e("j77i"),a=e("m5HF"),s=e("mNau");function l(o,f){var r,m,c,u;const d=Object(a.b)(f),p=f==null||(r=f.clientTheme)===null||r===void 0?void 0:r.clientTheme,v=Object(s.a)(f==null||(m=f.prefs)===null||m===void 0?void 0:m.iaTheme),g=f==null||(c=f.prefs)===null||c===void 0||(u=c.user)===null||u===void 0?void 0:u.window_background_gradients;if(d&&d.column_bg&&(Object(t.v)(o,"channelSidebarBackground",d.column_bg),Object(t.v)(o,"teamSwitcherBackground",Object(n.f)(d.column_bg,20)),Object(t.v)(o,"textColor",d.text_color)),v!=null&&v.useCustomHex?Object(t.v)(o,"customTheme",!0):Object(t.v)(o,"customTheme",!1),g?Object(t.v)(o,"windowGradient",!0):Object(t.v)(o,"windowGradient",!1),d&&p&&d.top_nav_bg){let O="#FFFFFF";if(p==="dark"&&(O="#1A1D21"),v){const b={...v,mode:p};Object(t.v)(o,"iaTheming",b)}else{const b=Object(n.m)(d.top_nav_bg,O,.125);Object(t.v)(o,"channelSidebarBackground",b),Object(t.v)(o,"iaTheming",void 0)}}d&&d.top_nav_bg&&Object(t.v)(o,"topNavBackground",d.top_nav_bg),d&&d.top_nav_text&&Object(t.v)(o,"topNavTextColor",d.top_nav_text)}h(l,"saveColorsToLocalConfig")},buun:function(J,i,e){"use strict"},bvgm:function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("mM05"),t=e.n(n),a=e("0LZ2"),s=e("VJ6u"),l=e("lnVG");function o(r){const c=Object(a.a)(r).import("core/module");return h(class extends c{buildTextChangeDelta(p){const v=Object(s.a)(p,{removeEmbedsFromCode:!0,stripAllInlineFormatting:!1,stripInlineFormattingFromCodeBlock:!0});return v.ops.length===1&&Object(l.a)(v.ops[0])&&!v.ops[0].attributes?new t.a:v}},"CleanEmbedsInCodeModule")}h(o,"getCleanEmbedsInCodeModule");const f=o(window)},c07z:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("i5Ig"),l=e("vd/O"),o=e("Pewd"),f=e("9ADk"),r=e("vfQU");function m(){return m=Object.assign||function(d){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(d[g]=v[g])}return d},m.apply(this,arguments)}h(m,"_extends");function c(d){let{children:p,className:v,hideBorder:g=!1,isDisabled:O=!1,isInvalid:b=!1,numMaxLines:y,numMinLines:C,refToForward:_,renderPrefix:j,renderSuffix:E,size:M="medium",hints:T=[],errors:P=s.a,dataQa:B}=d;const R=j==null?void 0:j(),U=E==null?void 0:E(),K=Object(l.a)(P),V=Object(r.Y)();return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:Object(a.default)(v,"c-basic_container",`c-basic_container--size_${M}`,{"c-basic_container--bordered":!g,"c-basic_container--disabled":O,"c-basic_container--invalid":K||b,"c-basic_container--prefixed":!!R,"c-basic_container--suffixed":!!U}),"data-max-lines":y,"data-min-lines":C,ref:_,"data-qa":B},t.a.createElement("div",{className:Object(a.default)("c-basic_container__body",{"c-basic_container__body--zoom-adjustment":V>2})},R,p,U)),t.a.createElement(o.a,{className:"c-basic_container__subtext margin_bottom_0",errors:P}),T.map(z=>{let{id:N,message:A}=z;return A&&t.a.createElement(f.a,{className:"c-basic_container__subtext",key:N,id:N},A)}))}h(c,"BasicContainer"),c.displayName="BasicContainer";var u=i.a=t.a.forwardRef((d,p)=>t.a.createElement(c,m({refToForward:p},d)))},c15m:function(J,i,e){"use strict"},cGkz:function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("mM05"),t=e.n(n),a=e("0LZ2"),s=e("XpTY");function l(f){const m=Object(a.a)(f).import("core/module");return h(class extends m{buildTextChangeDelta(d,p){let{initialTextChangeDelta:v=void 0,useWysiwyg:g=!1,formattingOnly:O=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!g||O)return new t.a;const b=v&&v.ops;if(!b||b.length!==1)return new t.a;const y=b[0];return!y||!y.delete||y.delete<=1?new t.a:Object(s.b)(d)?new t.a().delete(1):new t.a}},"CleanEmptyInputModule")}h(l,"getCleanEmptyInputModule");const o=l(window)},cJlm:function(J,i,e){"use strict";e.d(i,"b",function(){return f}),e.d(i,"a",function(){return r});var n=e("CpTu"),t=e("k400"),a=e("VfSx"),s=e("LvEQ"),l=e("JoR1"),o=e("q0lC");const f=h(m=>{const c=Object(l.u)(m,"emoji_packs_clicked_picker_cta"),u=Object(s.h)(m),d=Object(s.e)(m);return!(!Object(o.f)(m)||d&&Object(a.a)(d)||!u||c)},"shouldShowEmojiPacksClickedPreInstallPickerCTA"),r=h((m,c)=>{const u=Object(l.u)(m,"emoji_packs_clicked_picker_post_install_cta"),d=Object(s.h)(m),p=Object(s.e)(m);if(!p||!Object(a.a)(p)||!d||u)return!1;const v=p?Object(t.a)(p):"";return!!Object(n.a)(c,O=>O.name===v)},"shouldShowEmojiPacksClickedPostInstallPickerCTA")},"cQ/D":function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("yIs4"),t=e("s4P+"),a=e("M+5u"),s=e("C3vN");const l=22,o=8;function f(r,m){const c=Object(t.b)();try{const d=Object(a.a)(r,{timeZone:Object(s.D)(m)||void 0,timeZoneOffset:Object(s.E)(m),do24hrTime:!0,returnMoment:!0,noTzFallback:!0}).hour();return Object(n.a)(d)&&(d>=l||d<o)}catch(u){return c.error("isDuringMemberNighttime invalid timezone error: ",u),!1}}h(f,"isDuringMemberNighttime")},cQoj:function(J,i,e){"use strict";e.d(i,"b",function(){return m}),e.d(i,"a",function(){return c});var n=e("9oTK"),t=e.n(n),a=e("Lgge"),s=e("dmdh"),l=e("x6tY"),o=e("B1w/"),f=e("lhZz"),r=e("twB+");const m=new r.a;let c=h(class $s{static getOrCreate(d){return m.get(d,(p,v)=>new $s({teamId:p}))}getSectionAnchorLink(d,p){var v=this;return Object(n.coroutine)(function*(){const g=Object(f.getStateByTeamId)(v.teamId),O=Object(o.a)(g,d);let b="";if(O){const y=Object(s.e)(g,O);b=Object(l.N)(y,v.teamId,"",p)}return a.a.resolve({url:b})})()}constructor({teamId:d}){this.teamId=d}},"QuipAnchorLinkProvider")},cfe2:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl");i.a=Object(n.createContext)({blocks:void 0,setBlocksStateGeneric:a.a,containerId:"",containerContext:void 0})},csgs:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("YUBf");function l(f){let{showBottomBorder:r,children:m}=f;return t.a.createElement(s.i,{className:Object(a.default)("p-video_recorder_header",{"p-video_recorder_header--bottom_border":r})},m)}h(l,"VideoRecorderHeader"),l.displayName="VideoRecorderHeader";var o=i.a=l},"ct/k":function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("SQ0V"),t=e("G5NC"),a=e("lhZz"),s=e("7xYR"),l=e("bryr");const o=Object(n.c)("Loops through all booted workspaces to update the localConfig sidebar color in each",()=>{if(!Object(t.a)())return;const f=Object(a.getStateForClientStore)();Object(s.getBootedWorkspaces)(f).forEach(m=>{const c=Object(a.getStateByTeamId)(m);Object(l.a)(m,c)})});o.meta={name:"createThunk",key:"createThunksaveColorsToLocalConfigForAllWorkspaces",description:"Loops through all booted workspaces to update the localConfig sidebar color in each"},o.propTypes=null},"d+k3":function(J,i,e){"use strict";e.r(i),e.d(i,"EMOJI_MATCH_RX",function(){return v}),e.d(i,"getInsertData",function(){return b}),e.d(i,"getMatch",function(){return y}),e.d(i,"getResultFrecencyId",function(){return C}),e.d(i,"recordSelection",function(){return _});var n=e("gSGL"),t=e("BXkk"),a=e("EJqq"),s=e("nNoG"),l=e("TyLq"),o=e("y//8");const f=h((j,E)=>{if(!j)return null;const M=j.emojiBestNameMatchLocalized;if(!M)return"";const T=`:${M}:`;if(Object(l.a)(E)&&Object(o.a)(j.item)){const P=`skin-tone-${E}`,B=Object(a.m)({locale:Object(s.m)(),name:P});return`${T}:${B}:`}return T},"getLocalizedTextFromEmojiResult");var r=e("ntGM"),m=e("5IZy"),c=e("I8Au"),u=e("coh6"),d=e("GS6c"),p=e("ktUG");const v=/(^|\s|\S)([:|\uFF1A][^~@#$%^&*()=[\]{}\\|!?`;:\uFF1A",.<>/\s]*)$/i,g=h(j=>j==="+"||j==="-","isReactionPrefix"),O=h(j=>g(j)||!Object(c.a)(j),"isAllowedPrefix"),b=h(function(j){let{userSkinTone:E,shouldRenderEmojiAsText:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!j||!j.item)return null;Object(m.a)().track(p.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"emoji"}}});const T=Object(t.a)(j,E);return M?{text:f(j,E)}:{text:"",slackemoji:{text:T}}},"getInsertData"),y=h(function(j){let{isUserSolicited:E,locale:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Object(n.a)(j))return null;let T="",P=0;if(j.replace(v,(B,R,U,K)=>{O(R)&&(P=K+R.length,T=j.substr(P,U.length))}),!T||Object(r.a)().test(T))return null;if(!E){const B=P===1&&g(j[0]),R=M==="ja-JP"||B?2:3;if(T.length<R)return null}return{match:T,index:P}},"getMatch"),C=h(j=>j&&j.item&&j.item.id,"getResultFrecencyId"),_=h(j=>{let{clogger:E,query:M,result:T,results:P,teamId:B,useSearcherSessions:R}=j;const U={query:M,results:P,selectedItemId:T.item.id,source:"texty-autocomplete"};R?Object(d.a)({teamId:B,key:"texty-autocomplete"}).clogSearcherAccept({clogger:E,data:U}):Object(u.c)({clogger:E,data:U})},"recordSelection")},d0Vf:function(J,i,e){"use strict";e.d(i,"a",function(){return _e});var n=e("OZf9"),t=e("ifKl"),a=e("Muja"),s=e("TSHB"),l=e("NZ+B"),o=e("gSGL"),f=e("IzLi"),r=e("CpTu"),m=e("pguY"),c=e("Dpjh"),u=e("HA5h"),d=e("HJ27"),p=e("WIr4"),v=e("mM05"),g=e.n(v),O=e("lhZz"),b=e("NFsq"),y=e("lCmp"),C=e("SQ0V"),_=e("xwCZ"),j=e("E3dU"),E=e("GhjL"),M=e("KENN"),T=e("9wgI"),P=e("C3vN"),B=e("E97Y"),R=e("DQNL");const U=Object(C.c)("Determine whether a mention id (member, broadcast, user group) is valid",function(fe,Ee){let{id:ye,channelId:Te,threadTs:Oe,useChannelTagging:Ce}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!ye)return!1;const ce=Ee(),he=!1,Me=Object(_.g)(ce,ye,{preferNonExistentToNull:!1,fetchIfMissing:he});if(Me&&!Object(P.qb)(Me))return!0;if(Ce){const Re=Object(j.d)(ce,ye,!1);if(Re&&!Object(B.r)(Re))return!0}const Ae=Object(E.d)(ce,ye);if(Ae&&!Object(R.w)(Ae))return!0;if(Object(b.a)(Object(M.a)(),ye)){if(Oe)return!1;const xe=Object(T.a)(ce,Te||"");return Object(y.a)(xe,{id:ye})}return!1});U.meta={name:"createThunk",key:"createThunkgetIsValidMentionId",description:"Determine whether a mention id (member, broadcast, user group) is valid"};var K=U,V=e("WBOM"),z=e("Yauy"),N=e("52Wj"),A=e("s4P+"),x=e("zb/F"),k=e("MO4o"),F=e("pWPO"),L=e("2oNE"),S=e("/+/u"),I=e("Bw5p"),W=e("fujP"),D=e("yIs4"),H=e("pu3F");function Z(fe){return fe?new g.a(fe.map(Ee=>{if(Ee.attributes){var ye,Te;const Oe=Object(I.a)(Ee.attributes,["bold","italic","strike","code","link","underline","code-block","list","blockquote","slackmention","indent"]);let Ce={...Ee,attributes:Object(W.a)(Oe)?void 0:Oe};return Object(D.a)((ye=Ce.attributes)===null||ye===void 0?void 0:ye.indent)&&((Te=Ce.attributes)===null||Te===void 0?void 0:Te.indent)>=H.D&&(Ce={...Ce,attributes:{...Ce.attributes,indent:H.D-1}}),Ce}return Ee})):new g.a}h(Z,"cleanStyleFromHtmlDelta");var G=e("yLDf"),te=e("zmn3"),se=e("dYt1"),$=e("F294"),X=e("qAkX"),q=e("H0/5");function Y(fe,Ee){var ye,Te,Oe;const Ce=Object(te.a)(Ee==null?void 0:Ee.ops,se.a),ce=Object($.a)(Ce),he=Object(X.a)(Ce);if(!(ce!=null&&ce.insert)||!(he!=null&&he.insert)||typeof(ce==null?void 0:ce.insert)!="string")return Ee;ce.insert=Object(q.a)(ce==null?void 0:ce.insert);const Me=ce.insert.match(/^(\S+?)\s+?/);if(!Me)return Ee;ce.insert=Object(q.a)(ce.insert.substring(Me[0].length,ce.insert.length));const xe=Me[1].match(/\S+?\./)?"ordered":"bullet",Re=(ye=fe==null?void 0:fe.getAttribute("style"))===null||ye===void 0?void 0:ye.replace(/\n+?/g,""),Ge=(Te=Re==null?void 0:Re.match(/level(\d+?)/))===null||Te===void 0?void 0:Te[1],ze=(Oe=Re==null?void 0:Re.match(/margin:\s\din\s\din\s\din\s(\d[.]?([\d]+?)?)?in;/))===null||Oe===void 0?void 0:Oe[1];let Ie;return Ie=Ge?parseInt(Ge,10)-1:Ie,!Ie&&ze&&he.insert.slice(-1)===`
`&&(he.insert=he.insert.substring(0,he.insert.length-1)),!Ie&&ze&&(ze==="0.25"||ze==="0.5"?Ie=0:ze==="0.75"||ze==="1"?Ie=1:ze==="1.25"||ze==="1.5"?Ie=2:ze==="1.75"||ze==="2"?Ie=3:ze==="2.25"||ze==="2.5"?Ie=4:(ze>="2.75"||ze==="3")&&(Ie=5)),Ie=Ie&&Ie>=H.D?H.D:Ie,Ce.push({insert:`
`,attributes:{list:xe,indent:Ie}}),new g.a(Ce)}h(Y,"matchMicrosoftWordContents");var ee=e("aVxC"),w=e("BBys"),ne=e("XpTY");function ae(fe){if(!fe||!fe.clipboardData)return null;const Ee=fe.clipboardData.getData("slack/texty");if(Ee)try{return{type:"slack/texty",contents:JSON.parse(Ee).ops}}catch{Object(A.b)().error("PASTE",`found ${Ee.length} chars in "slack/texty", but couldn't parse it`)}const ye=fe.clipboardData.getData("text/plain")?"text/plain":"Text",Te=fe.clipboardData.getData(ye);return Te?{type:ye,contents:[{insert:Te}]}:null}h(ae,"getContentsFromClipboard");var de=e("dA19"),ge=e("0qhH"),le=e("fR2/"),Q=e("htTJ"),ie=e("W8kP"),oe=e("0LZ2"),me=e("/0zS"),be=e("Y/OQ"),Se=e("25Vh");function Pe(fe){const ye="	",Te=(fe||"").split(`
`,5),Oe=[];for(let ce=0;ce<5&&Te[ce]!==void 0;ce++){const he=Te[ce].split(ye);Oe.push(he.length)}const Ce=new Set(Oe);return Oe.length>0&&Ce.size===1&&Oe[0]>1}h(Pe,"isTsv");function Ue(fe){return fe.nodeType===Node.ELEMENT_NODE&&fe.hasAttribute("data-stringify-type")}h(Ue,"hasStringifyTransforms");function Fe(fe){let Ee=0;return Ue(fe)?Ee+=1:fe.hasChildNodes()?Object(n.a)(fe.childNodes,ye=>{Ee+=Fe(ye)}):fe.textContent.trim()&&(Ee+=1),Ee}h(Fe,"getNumContentfulChildren");const je={getChannelId:t.a,getThreadTs:t.a,getUserHighlightWords:t.a,logger:{info:t.a},onPaste:t.a,onPasted:t.a,onPasteLimit:t.a,shouldFocusOnPaste:t.a,getCsvTsvPastingEnabled:t.a};function _e(fe){const Ee=Object(oe.a)(fe),ye=fe||window,Te=Ee.import("modules/clipboard");return h(class extends Te{unload(){this.quill.container.removeEventListener("copy",this.onCopy),this.quill.container.removeEventListener("cut",this.onCopy),ye.removeEventListener("paste",this.onGlobalPaste)}isPastingMultipleNodes(){return Fe(this.quill.clipboard.container)>1}onCopy(ce){if(this.options.logger.info("COPY",`handling "${ce.type}" event`),ce.type==="cut"&&!this.quill.isEnabled()){ce.preventDefault(),ce.stopPropagation();return}const he=this.quill.getSelection();if(!he||he.length===0){this.options.logger.info("COPY","no selection");return}ce.preventDefault(),ce.stopPropagation();const Me=this.correctCopyRange(he),Ae=this.quill.getContents(Me),xe=Object(F.a)({contents:Ae.ops});if(this.options.logger.info("COPY",`found ${xe.length} chars`),Object(x.f)(ce,{"text/plain":xe,text:xe,"public.utf8-plain-text":xe,"slack/texty":JSON.stringify(Ae)}),this.options.logger.info("COPY",`copied ${xe.length} chars`),ce.type==="cut"){const Re=this.options.texty.getBlockFormat(he.index),Ge=this.options.texty.getBlockFormat(he.index+he.length-1);this.quill.deleteText(he.index,he.length),this.quill.setSelection(he.index),Ge&&!Object(a.a)(Re,Ge)&&(Re?this.quill.formatLine(he.index,1,Re):this.quill.formatLine(he.index,1,Object(s.a)(Ge,()=>!1))),this.options.logger.info("COPY","deleted selection")}}onGlobalPaste(ce){this.options.shouldFocusOnPaste()&&(Object(k.a)(ye.document.activeElement)||this.quill.hasFocus()||ce.defaultPrevented||(this.quill.focus(),this.onPaste(ce)))}onPaste(ce){if(!(ce.defaultPrevented||!this.quill.isEnabled()||!this.quill.getSelection())){this.hasFixedPastedNodes=!1;try{if(this.options.onPaste(ce))return;this.handleOnPaste(ce)}catch(Me){const Ae=Me instanceof Error?Me.message||Me.description:JSON.stringify(Me);Object(A.b)().error(`Error on paste: ${Ae}`)}}}shouldSkipOnPaste(ce){if(!ce||!ce.clipboardData||ce.defaultPrevented||!this.quill.isEnabled())return!0;const he=ce.clipboardData.getData("text/plain")?"text/plain":"Text";return!ce.clipboardData.getData(he)&&!this.options.useCustomMatchers?(ce&&ce.preventDefault&&ce.preventDefault(),!0):!1}handleOnPaste(ce){if(!ce)return;function he(rt){return rt.map(yt=>{const Mt=yt.attributes?Object(s.a)(yt.attributes,Vt=>Object(l.a)(Vt)?Vt:!!Vt):{};if(!yt.insert)return{...yt,attributes:{...Mt}};let st;return Object(o.a)(yt.insert)?st=yt.insert.length:Object(f.a)(yt.insert)&&(st=Object.keys(yt.insert).join(",")),{insert:st,attributes:{...Mt}}})}if(h(he,"redactDelta"),this.shouldSkipOnPaste(ce))return;const Me=ce.clipboardData.getData("slack/texty");if(this.options.useCustomMatchers&&!Me){super.onPaste(ce),setTimeout(this.options.onPasted,0);return}const Ae=this.options.texty,xe=Ae&&Ae.getSelection(),Re=xe?Ae&&Ae.getFormats(xe.index):{},Ge=Ae.getLineAtCursor(),ze=this.options.useWysiwyg&&!this.options.usePlainTextMode&&!Re["code-block"],Ie=this.quill.getContents(xe),Ne=Object(r.a)(Ie.ops,rt=>Object(de.a)(rt)||Object(le.a)(rt)),Ke=Object(be.a)(Ie.ops),Ve=Object(me.a)({input:Ke}),$e=Ve&&Ve.length===1&&Ve[0].url===Ve[0].text&&Ve[0].text===Ke,{pastedDelta:tt,type:qe,hasExternalHtml:ut}=this.getPastedDelta(ce,{acceptExternalHtml:ze,acceptSingleUrl:this.options.useWysiwyg&&this.options.supportsAnchorText&&!this.options.usePlainTextMode&&xe.length>0&&!Re.code&&!Re["code-block"]&&!Ne&&!$e});if(!ut&&(!tt||!(tt!=null&&tt.length()))){ce.preventDefault();return}if(ut||ce.preventDefault(),!Me&&ut)this.container.focus(),setTimeout(()=>{this.convertActionIsExternalHtml=!0;const rt=this.convert();let yt;try{yt=Z(rt)}catch{Object(A.b)().error(new Error("External HTML cleaning error.").stack),yt=rt}const Mt=Object(G.a)({delta:yt});this.convertActionIsExternalHtml=!1;const st=this.preparePastedDelta({pastedDelta:Mt,type:qe,formats:Re,lineAtCursor:Ge});if(st&&!this.options.onPasteLimit(ce,st)){try{this.insertPastedDelta(st)}catch(Vt){throw Object(A.b)().error(`External HTML paste error (redacted). HTML delta: ${JSON.stringify(he(Mt))}; Prepared delta: ${JSON.stringify(he(st))}`),Vt}this.maybeShowMarkdownToast({preparedDelta:st,clipboardHasTextyContents:Me}),setTimeout(this.options.onPasted,0)}},1);else{const rt=this.quill.getContents(),yt=this.preparePastedDelta({pastedDelta:tt,type:qe,formats:Re,lineAtCursor:Ge});if(!yt||this.options.onPasteLimit(ce,yt))return;const Mt=yt.ops[0];if(qe==="text/uri-list"&&Mt&&Object(ge.a)(Mt)?this.quill.formatText(xe.index,xe.length,"link",yt.ops[0].insert):this.insertPastedDelta(yt),this.options.getCsvTsvPastingEnabled()){const st=Object(be.a)(tt.ops);if(Pe(st)){const Wt=rt.compose(new g.a().retain(xe.index).delete(xe.length));this.mayBeShowCsvTsvToast(st,Wt),setTimeout(this.options.onPasted,0);return}}this.maybeShowMarkdownToast({preparedDelta:yt,clipboardHasTextyContents:Me}),setTimeout(this.options.onPasted,0)}}mayBeShowCsvTsvToast(ce,he){const{showCsvTsvPasteToast:Me}=this.options;Me&&Me({contentType:"tsv",openCsvTsvSnippetDialog:()=>this.options.openCsvTsvSnippetDialog(ce,he),clearText:()=>this.quill.setContents(new g.a().insert(`
`))})}getPastedDelta(ce){let he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{acceptExternalHtml:!0,acceptSingleUrl:!1};if(!ce)return{pastedDelta:new g.a,type:"text/plain",hasExternalHtml:!1};const Me=he.acceptExternalHtml,Ae=he.acceptSingleUrl,{type:xe,contents:Re}=ae(ce)||{};if(!Re||!Re.length)return{pastedDelta:new g.a,type:"text/plain",hasExternalHtml:!1};let Ge=new g.a(Re),ze=xe;const Ie=ze==="text/plain"||ze==="Text"||ze==="slack/texty";let Ne=!1;if(Ae&&Ie)if(ze==="slack/texty"){if(Re&&Re.length===1&&Object(Q.a)(Re[0])&&Re[0].insert===Re[0].attributes.link)return{pastedDelta:Ge,type:"text/uri-list",hasExternalHtml:Ne}}else{const tt=Object(me.a)({input:Re[0].insert});if(tt.length===1&&tt[0].url===tt[0].text&&tt[0].text===Re[0].insert)return{pastedDelta:Ge,type:"text/uri-list",hasExternalHtml:Ne}}if(ze==="slack/texty")return{pastedDelta:Ge,type:ze,hasExternalHtml:Ne};const Ke=ce.clipboardData.getData("text/html"),Ve=Ke&&Ke.indexOf("data-stringify-")!==-1,$e=Ke&&Ke.match(/<\/table>(?:\s*<\/body>\s*<\/html>)?\s*$/);if(Me&&Ke&&!Ve&&!$e){const tt=Object(me.a)({input:Re[0].insert});if(Ie&&tt.length===1&&tt[0].url===tt[0].text&&tt[0].text===Re[0].insert&&RegExp(`^<html>\\s*<body>\\s*<!--StartFragment--><a href=("|')${Object(m.a)(Object(c.a)(Re[0].insert))}("|')>.+<\\/a><!--EndFragment-->\\s*<\\/body>\\s*<\\/html>\\s*$`).test(Ke))return{pastedDelta:Ge,type:ze,hasExternalHtml:!1};Ne=!0,ze="text/html",Ge=new g.a}else if(Ve){const tt=this.convert(Ke);tt&&(Ge=Object(G.a)({delta:tt}),ze="text/html")}return{pastedDelta:Ge,type:ze,hasExternalHtml:Ne}}preparePastedDelta(){let{pastedDelta:ce,type:he="",formats:Me={},lineAtCursor:Ae}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object(Se.a)(ce,he,Me,Ae,this.options,this.getIsValidMentionIdDispatched,xe=>{this.blockquote=xe},this.quill)}insertPastedDelta(ce){const he={contents:ce.ops},Me=!0,Ae="user",xe=this.options.useWysiwyg&&!this.options.usePlainTextMode&&this.matchBlockFormat;this.options.texty.insertContentsAtCursor(he,Me,Ae,{matchBlockFormat:xe})}maybeShowMarkdownToast(ce){let{preparedDelta:he,clipboardHasTextyContents:Me}=ce;!this.options.showMarkdownPasteToast||this.options.usePlainTextMode||Me||Object(ee.a)(he).length()===0||this.options.showMarkdownPasteToast({applyFormatting:()=>{[w.a,ee.a].forEach(xe=>{const Re=this.quill.getContents(),Ge=xe(Re);this.quill.updateContents(Ge)})}})}correctCopyRange(ce){if(!ce||!this.options.useWysiwyg)return ce;const he=ce.index+ce.length,Me=this.quill.getContents(he,1);if(Object(ne.b)(Me)){this.options.logger.info("COPY","extending selection range to include block formatting char");const Ae=ce.length+1;return{index:ce.index,length:Ae}}return ce}constructor(ce,he){super(ce,he),this.options=Object(u.a)({},je,he),this.hasFixedPastedNodes=!1;const Me=this.options.teamId,Ae=Object(O.getStoreInstanceByTeamId)(Me);this.convertActionIsExternalHtml=!1,this.matchBlockFormat=!0,this.addMatcherSafely=(xe,Re)=>{let Ge;if(Object(o.a)(xe))try{ye.document.querySelectorAll(xe)}catch(ze){Ge=ze,this.options.logger.error("QUILL MATCHERS",`You have an unsafe matcher in PlainClipboardModule: "${xe}"`)}Ge||this.addMatcher(xe,Re)},this.getIsValidMentionIdDispatched=xe=>{let{id:Re}=xe;return Object(O.dispatchForTeamId)(Me,K({id:Re,channelId:this.options.getChannelId(),threadTs:this.options.getThreadTs(),useChannelTagging:this.options.useChannelTagging}))},Object(p.a)(this,["onCopy","onGlobalPaste"]),ce.container.addEventListener("copy",this.onCopy),ce.container.addEventListener("cut",this.onCopy),ye.addEventListener("paste",this.onGlobalPaste),this.addMatcherSafely("p.MsoListParagraphCxSpFirst",Y),this.addMatcherSafely("p.MsoListParagraphCxSpMiddle",Y),this.addMatcherSafely("p.MsoListParagraphCxSpLast",Y),this.addMatcherSafely("*",(xe,Re)=>{if(this.hasFixedPastedNodes)return Re;this.hasFixedPastedNodes=!0,Object(d.a)(this.quill.clipboard.container.childNodes,Ie=>Fe(Ie)?!1:(this.quill.clipboard.container.removeChild(Ie),!0));const Ge=this.quill.clipboard.container.querySelectorAll('[data-stringify-type="replace"]'),ze=this.isPastingMultipleNodes();return Object(n.a)(Ge,Ie=>{if(Ie.hasAttribute("data-stringify-requires-siblings")&&!ze)return;const Ne=Ie.getAttribute("data-stringify-text");let Ke;Ie.classList.contains("c-message__sender")?(Ke=ye.document.createElement("b"),Ke.appendChild(ye.document.createTextNode(Ne))):Ke=ye.document.createTextNode(Ne),Ie.parentNode.replaceChild(Ke,Ie)}),Re}),this.addMatcherSafely("img",()=>new g.a),this.addMatcherSafely("[data-stringify-ignore]",()=>new g.a),this.addMatcherSafely("[data-stringify-link]",(xe,Re)=>{if(this.convertActionIsExternalHtml||!this.options.supportsAnchorText)return Re;const Ge=new g.a().insert(xe.textContent,{link:xe.getAttribute("data-stringify-link")});return this.options.usePlainTextMode&&Object(Q.c)(Ge.ops[0])?new g.a().insert(xe.getAttribute("data-stringify-link")):Ge}),this.addMatcherSafely(Node.TEXT_NODE,(xe,Re)=>this.convertActionIsExternalHtml||this.options.useCustomMatchers?Re:new g.a().insert(xe.textContent)),this.addMatcherSafely("span",(xe,Re)=>!(xe!=null&&xe.style)||!this.convertActionIsExternalHtml?Re:xe.style.textDecorationLine==="line-through"||xe.style.textDecoration==="line-through"?Re.compose(new g.a().retain(Re.length(),{strike:!0})):Re),this.options.useWysiwyg&&this.addMatcherSafely("span.inline-code",(xe,Re)=>this.convertActionIsExternalHtml?Re.compose(new g.a().retain(Re.length(),{code:!0})):Re),this.addMatcherSafely("[data-stringify-indent], li[data-stringify-border]",(xe,Re)=>{if(Object(ie.a)(Re))return Re;const Ge=xe.getAttribute("data-stringify-indent"),ze=parseInt(Ge,10)||0;let Ie=0;const Ne=xe.getAttribute("data-stringify-border");Ie=parseInt(Ne,10)||0;const Ke=this.quill.getSelection(),Ve=Ke&&this.quill.getFormat(Ke);return Ve!=null&&Ve.blockquote&&(Ie=1),Re.compose(new g.a().retain(Re.length()-1).retain(1,{indent:ze,border:Ie}))}),this.addMatcherSafely('[data-stringify-type="pre"]',(xe,Re)=>{if(Object(ie.a)(Re))return Re;let Ge=0;const ze=xe.getAttribute("data-stringify-border");Ge=parseInt(ze,10)||0;let Ie=new g.a;return Re.forEach(Ne=>{Ie=Ie.insert(Ne.insert||"",{...Ne.attributes,border:Ge})}),Ie}),this.addMatcherSafely('blockquote[data-stringify-border="1"]',(xe,Re)=>{if(Object(ie.a)(Re))return Re;let Ge=0;const ze=xe.getAttribute("data-stringify-border");Ge=parseInt(ze,10)||0;let Ie=new g.a;return Re.forEach(Ne=>{Ie=Ie.insert(Ne.insert||"",{...Ne.attributes,border:Ge})}),Ie}),this.addMatcherSafely('blockquote[type="cite"]',(xe,Re)=>{if(Object(ie.a)(Re))return Re;const Ge=this.quill.getSelection(),ze=Ge&&this.quill.getFormat(Ge);let Ie=new g.a;return ze!=null&&ze.blockquote&&!(ze!=null&&ze.border)?(this.quill.format("blockquote",!1,"silent"),Re.forEach(Ne=>{Ie=Ie.insert(Ne.insert||"",{...Ne.attributes,border:1})}),Ie):Re}),this.addMatcherSafely('[data-stringify-type="emoji"]',xe=>{const Re=xe.getAttribute("data-stringify-emoji");return new g.a().insert({slackemoji:{text:Re}})}),this.addMatcherSafely(".c-message_kit__gutter__left",(xe,Re)=>xe.querySelector(".p-message_pane_message__compact_timestamp--adjacent")?new g.a().insert(`${xe.textContent} `):Re),this.addMatcherSafely(".c-message_kit__message",(xe,Re)=>xe.querySelector(".p-message_pane_message__compact_timestamp--adjacent")?Re:new g.a().insert(`
`).concat(Re)),this.addMatcherSafely(".c-message_actions__container",()=>new g.a),this.addMatcherSafely("#unreadDivider",()=>new g.a),this.addMatcherSafely('[data-stringify-type="paragraph-break"]',()=>new g.a().insert(`

`)),this.addMatcherSafely('[data-stringify-type="pre"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new g.a().insert(`
`)),this.addMatcherSafely('[data-stringify-type="unordered-list"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new g.a().insert(`
`)),this.addMatcherSafely('[data-stringify-type="ordered-list"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new g.a().insert(`
`)),this.addMatcherSafely('[data-stringify-type="quote"] + .p-rich_text_section [data-stringify-type="paragraph-break"]:first-of-type',()=>new g.a().insert(`
`)),this.addMatcherSafely('[data-stringify-type="mention"]',xe=>{const Re=xe.getAttribute("data-stringify-id"),Ge=xe.getAttribute("data-stringify-label");return new g.a().insert(Ge,{slackmention:Object(L.a)(Re,Ge,this.options.getUserHighlightWords())})}),this.addMatcherSafely('a[data-stringify-type="channel"]',xe=>{if(this.options.useChannelTagging){const Re=xe.getAttribute("data-channel-id"),Ge=xe.getAttribute("data-channel-name");return Ge?new g.a().insert(Ge,{slackmention:Object(L.a)(Re,Ge)}):new g.a().insert(xe.textContent)}return new g.a().insert(xe.textContent)}),this.addMatcherSafely("a",(xe,Re)=>{if(!this.options.supportsAnchorText)return Re;const Ge=xe.getAttribute("data-stringify-type"),ze=xe.textContent;if(Ge==="mention"||Ge==="channel")return Re;const Ie=xe.getAttribute("href");if(this.convertActionIsExternalHtml){let Ke;try{Ke=new URL(Ie)}catch{}if(!Ke||!Ke.protocol||Ke.protocol.toLowerCase()==="javascript:")return new g.a().insert(ze)}const Ne=Ae&&Ae.getState();if(ze.match(/^[#\uFF03][^~`!@#\uFF03$%^&*()+=[\]{}\\|;:'",.<>/?\s]*$/i)){const Ke=Object(V.e)(Ne,Ie);if(Ke&&Ke.type==="message"&&!Ke.ts){const Ve=Object(j.d)(Ne,Ke.channelId);if(Ve&&Object(z.s)(Ve)===ze.substr(1))return new g.a().insert(ze)}}if(ze.match(/^(?:@|\uFF20)[^\n@\uFF20]*$/)){const Ke=Object(V.e)(Ne,Ie);if(Ke&&Ke.type==="member"){const Ve=Object(_.g)(Ne,Ke.memberId),$e=Object(N.b)(Ve);return Ve&&$e===ze.substr(1)?new g.a().insert(ze,{slackmention:Object(S.a)(Ve,this.options.getUserHighlightWords())}):new g.a().insert(ze)}}return Re})}},"PlainClipboard")}h(_e,"getPlainClipboardModule");const pe=_e(window)},"dA+b":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("ifKl"),l=e("WIr4"),o=e("qDEp"),f=e("ZobM");function r(){return r=Object.assign||function(u){for(var d=1;d<arguments.length;d++){var p=arguments[d];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(u[v]=p[v])}return u},r.apply(this,arguments)}h(r,"_extends");let m=h(class extends n.Component{setTitleRef(d){this.titleRef=d}focus(){this.titleRef&&this.titleRef.focus()}renderButton(d){let{icon:p,className:v,...g}=d;const O=Object(a.default)("c-calendar_view_header__stepper_btn",v);return t.a.createElement(o.d,r({className:O},g),t.a.createElement(f.a,{name:p,size:"20"}))}renderLeftArrow(){return this.props.onLeftArrowClick?this.renderButton({icon:"caret-left-full",onClick:this.props.onLeftArrowClick,className:"c-calendar_view_header__left_stepper_btn","aria-label":this.props.leftArrowLabel,"data-qa":"cal_header_prev_btn",disabled:this.props.leftArrowIsDisabled}):null}renderRightArrow(){return this.props.onRightArrowClick?this.renderButton({icon:"caret-right-full",onClick:this.props.onRightArrowClick,className:"c-calendar_view_header__right_stepper_btn","aria-label":this.props.rightArrowLabel,"data-qa":"cal_header_next_btn",disabled:this.props.rightArrowIsDisabled}):null}renderTitle(){const{title:d,titleLabel:p,onTitleClick:v}=this.props;return v?t.a.createElement(o.d,{className:"c-button-unstyled c-calendar_view_header__title_btn","data-qa":"cal_header_title",onClick:v,"aria-label":p||d,ref:this.setTitleRef},d,t.a.createElement(f.a,{name:"caret-down",size:"20"})):d}render(){return t.a.createElement("div",{className:"c-calendar_view_header",onFocus:this.props.onFocus,onBlur:this.props.onBlur},this.renderLeftArrow(),t.a.createElement("span",{className:"c-calendar_view_header__title","data-qa":"calendar_view_header_title"},this.renderTitle()),this.renderRightArrow())}constructor(d){super(d),this.titleRef=null,Object(l.a)(this,["setTitleRef"])}},"ViewHeader");m.displayName="ViewHeader",m.defaultProps={rightArrowIsDisabled:!1,leftArrowIsDisabled:!1,onFocus:s.a,onBlur:s.a};var c=i.a=m},dLAD:function(J,i,e){"use strict";e.d(i,"a",function(){return m}),e.d(i,"b",function(){return c});var n=e("q1tI"),t=e.n(n),a=e("qDEp"),s=e("9L5H"),l=e("rAyg"),o=e("nNoG"),f=e("AArn");const r=new o.b("toast");var m;(function(u){u.Error="Error",u.Information="Information",u.Warning="Warning"})(m||(m={}));const c=Object(n.forwardRef)((u,d)=>{let{children:p,duration:v=6e3,buttonText:g,buttonType:O=s.b.outline,buttonIcon:b,onButtonClick:y,type:C,svgIconProps:_,toastClasses:j,offsetY:E,onCloseComplete:M,shouldSkipToastDismissal:T,svgIconClassName:P,closeButtonClasses:B,customButton:R,forceFocusAfterRender:U=!1}=u;const K=Object(n.useContext)(f.a),V={[m.Error]:r.t("Error"),[m.Information]:r.t("Information"),[m.Warning]:r.t("Warning")},z=C&&V[C];return t.a.createElement(l.a,{forceFocusAfterRender:K||U,fadeDelay:v,role:"dialog","aria-label":z,shouldSkipToastDismissal:T,svgIconClassName:P,svgIconProps:_,toastClasses:j,offsetY:E,onCloseComplete:M,closeButtonClasses:B,ref:d},t.a.createElement("div",null,p),R||t.a.createElement(a.f,{type:O,icon:b,onClick:y,size:"small"},g))})},"dS/7":function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("m5Yc"),t=e("EJqq"),a=e("nNoG"),s=e("yrot"),l=e("HJKc");function o(f,r){let{state:m,localize:c}=r;if(!f||f.type!==n.b.EMOJI)return"";const u=f.skinTone||f.skin_tone,d=f.unicode;let p;return!d&&u?p=`:${f.name}::skin-tone-${u}:`:!u&&!d?p=`:${f.name}:`:d&&Object(l.a)(d)&&(p=`:${Object(s.i)(m,d)}:`),c?Object(t.i)({state:m,locale:Object(a.m)(),name:p})||"":p}h(o,"getEmojiElementAsText")},dSGR:function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n="canAccessClientV2"},dYsn:function(J,i,e){"use strict";e.d(i,"c",function(){return m}),e.d(i,"b",function(){return c}),e.d(i,"a",function(){return u});var n=e("ZKjC"),t=e("UIhb"),a=e("6CnZ"),s=e("E3dU"),l=e("9Gfp"),o=e("xcHN"),f=e("+l5E"),r=e("UOL+");const m=Object(n.b)(d=>{var p,v;return(p=Object(r.a)(d))===null||p===void 0||(v=p.undoSendMessage)===null||v===void 0?void 0:v.messagesToDelete});m.meta={name:"createSelector",key:"createSelectorgetMessagesToDelete",description:d=>{var p,v;return(p=Object(r.a)(d))===null||p===void 0||(v=p.undoSendMessage)===null||v===void 0?void 0:v.messagesToDelete}};const c=Object(n.b)(d=>{var p,v;return(p=Object(r.a)(d))===null||p===void 0||(v=p.undoSendMessage)===null||v===void 0?void 0:v.messageEligibleForUnsending});c.meta={name:"createSelector",key:"createSelectorgetMessageEligibleForUnsending",description:d=>{var p,v;return(p=Object(r.a)(d))===null||p===void 0||(v=p.undoSendMessage)===null||v===void 0?void 0:v.messageEligibleForUnsending}};const u=Object(n.b)((d,p)=>{let{channelId:v,threadTs:g}=p;if(!d||!v)return null;const O=Object(l.a)(d);if(!Object(s.d)(d,v))return null;const y=g?Object(o.c)(v,g):v,{timestamps:C}=Object(a.j)(d,y,null),_=C.map(E=>Object(t.b)(d,v,E)).filter(E=>g?!Object(f.gb)(E):!Object(f.fb)(E)),j=Object(f.r)(_,O);return j||null});u.meta={name:"createSelector",key:"createSelectorgetLastMessageInChannelByCurrentUser",description:(d,p)=>{let{channelId:v,threadTs:g}=p;if(!d||!v)return null;const O=Object(l.a)(d);if(!Object(s.d)(d,v))return null;const y=g?Object(o.c)(v,g):v,{timestamps:C}=Object(a.j)(d,y,null),_=C.map(E=>Object(t.b)(d,v,E)).filter(E=>g?!Object(f.gb)(E):!Object(f.fb)(E)),j=Object(f.r)(_,O);return j||null}}},dZlw:function(J,i,e){"use strict";e.d(i,"a",function(){return g});var n=e("/1FC"),t=e("BeL+"),a=e("xWuZ"),s=e("ktUG"),l=e("4WY+"),o=e("eHe6"),f=e("oonp"),r;(function(O){O.QUOTED="QUOTED",O.LIST_ITEM="LIST_ITEM",O.CODE_BLOCK="CODE_BLOCK"})(r||(r={}));function m(O){const b=[];return Object(l.b)(O)&&b.push({format:r.LIST_ITEM,formatQualities:Object(l.a)(O)}),Object(o.a)(O)&&b.push({format:r.CODE_BLOCK,formatQualities:{}}),Object(f.b)(O)&&b.push({format:r.QUOTED,formatQualities:{}}),b}h(m,"getBlockFormatsOfLine");function c(O){return O.map(b=>m(b))}h(c,"getBlockFormatsOfLines");var u=e("kiyg");function d(O){var b,y;return O.format===r.CODE_BLOCK?s.MsgFormattingInputFormat.CODE_BLOCK:O.format===r.QUOTED?s.MsgFormattingInputFormat.BLOCKQUOTE:O.format===r.LIST_ITEM&&(!((b=O.formatQualities)===null||b===void 0)&&b.isOrdered)?s.MsgFormattingInputFormat.ORDERED_LIST:O.format===r.LIST_ITEM&&!(!((y=O.formatQualities)===null||y===void 0)&&y.isOrdered)?s.MsgFormattingInputFormat.BULLET_LIST:null}h(d,"getClogBlockFormatFromLineFormat");function p(O){return c(O).map(C=>{const _=[];return C.forEach(j=>{const E=d(j);E&&_.push(E)}),_})}h(p,"getClogBlockFormatsForLines");function v(O){return!O||!Object(n.a)(O)||(O==null?void 0:O.length)===0?[]:Object(t.a)(Object(a.a)(p(O)))}h(v,"getDistinctClogBlockFormatsForLines");function g(O,b){if(!O||!b)return[];const y=Object(u.a)(O,b);return v(y)}h(g,"getDistinctClogBlockFormatsForRange")},daiH:function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("q1tI"),t=e.n(n),a=e("ny0b");let s=null;var o=h(()=>(s===null&&(s=document&&document.documentElement&&document.documentElement.hasAttribute("data-primer")),s),"isPrimer"),f=e("F0YV"),r=e("pFNT"),m=e("Grbt");class c extends n.PureComponent{render(){var d,p;const{className:v,team:g,user:O,size:b,allowDefaultProfileImage:y,fallbackUserIcon:C,fallbackUserIcon2x:_,isInteractive:j,hideUserIcon:E}=this.props,M=!!(!((d=O.profile)===null||d===void 0)&&d.is_custom_image),T=!!C||!!_,P=!(!((p=g.icon)===null||p===void 0)&&p.image_default),{imageUrl:B,imageUrl2x:R}=this.getProfileImages();if((M||y||T)&&!E){const U=O.profile.real_name;return t.a.createElement(r.b,{className:v,imageUrl:M||y?B:C,imageUrl2x:M||y?R:_,memberOrBotName:U,size:b,teamId:g.id,team:g,isInteractive:j&&!o()&&!!O.id,renderCustomBadge:this.renderTeamBadge,showCard:!0,userId:O.id,profileCardProps:{allowOutsideOfSonic:!0,maybeAllowInteract:!1,...m.a}})}return P?t.a.createElement(f.a,{teamName:g.name,icon:g.icon,size:b,className:v}):null}constructor(d){super(d),this.renderTeamBadge=()=>null,this.getProfileImages=()=>{var b;const{team:y,user:C,size:_}=this.props,j=Object(a.a)({size:_,teamOrEnterpriseId:y.id,memberId:C.id,avatarHash:(b=C.profile)===null||b===void 0?void 0:b.avatar_hash}),E=(j==null?void 0:j.imageUrl)||"",M=j!=null&&j.imageUrl2x?`${j.imageUrl2x} 2x`:"";return{imageUrl:E,imageUrl2x:M}};const{team:p,allowTeamInitials:v,shouldRenderTeamBadge:g,teamIconSize:O}=d;g&&(this.renderTeamBadge=Object(r.d)({isExternal:!0,team:p,teamId:p.id,allowTeamInitials:v,teamIconSize:O}))}}h(c,"user_icon_UserIcon"),c.displayName="UserIcon",c.defaultProps={shouldRenderTeamBadge:!1,allowTeamInitials:!1,allowDefaultProfileImage:!1,className:"p-shared_channel_invite_header__avatar",isInteractive:!0,hideUserIcon:!1}},dmHe:function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("beVI"),t=e("E3dU"),a=e("E97Y"),s=e("miM7"),l=e("G0eX"),o=e("Zbwg");const f=h((r,m)=>{if(!m||!Object(o.a)(m))return!1;const c=Object(n.g)(r),u=Object(t.d)(r,m),d=Object(a.h)(u),p=Object(s.a)(u),v=Object(l.J)(c);return!(d||!v&&!p)},"doBroadcastKeywordPrefsApplyForChannel")},dq9a:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc");function s(){return s=Object.assign||function(f){for(var r=1;r<arguments.length;r++){var m=arguments[r];for(var c in m)Object.prototype.hasOwnProperty.call(m,c)&&(f[c]=m[c])}return f},s.apply(this,arguments)}h(s,"_extends");const l=t.a.forwardRef(h(function(r,m){let{className:c="",children:u,id:d,...p}=r;const v=Object(a.default)("c-legend",c);return t.a.createElement("legend",s({id:d},p,{className:v,ref:m}),u)},"Legend"));l.displayName="Legend";var o=i.a=l},"dqj/":function(J,i,e){"use strict";e.d(i,"m",function(){return _}),e.d(i,"n",function(){return j}),e.d(i,"k",function(){return E}),e.d(i,"c",function(){return M}),e.d(i,"j",function(){return T}),e.d(i,"l",function(){return P}),e.d(i,"g",function(){return B}),e.d(i,"h",function(){return R}),e.d(i,"e",function(){return U}),e.d(i,"b",function(){return K}),e.d(i,"f",function(){return V}),e.d(i,"d",function(){return N}),e.d(i,"i",function(){return A}),e.d(i,"r",function(){return x}),e.d(i,"q",function(){return k}),e.d(i,"p",function(){return F}),e.d(i,"o",function(){return L}),e.d(i,"a",function(){return S}),e.d(i,"s",function(){return I}),e.d(i,"t",function(){return W});var n=e("F294"),t=e("fujP"),a=e("lCmp"),s=e("JoR1"),l=e("RVJP"),o=e("BBdC"),f=e("gCYc"),r=e("E97Y"),m=e("z4V0"),c=e("Ar8P"),u=e("Sczb"),d=e("nwIl"),p=e("QE0t");function v(D){return D==null?void 0:D.service_name}h(v,"getServiceName");function g(D){return D==null?void 0:D.service_url}h(g,"getServiceLink");function O(D){return D==null?void 0:D.service_icon}h(O,"getServiceIcon");function b(D){return D==null?void 0:D.author_name}h(b,"getAuthorName");function y(D){return D==null?void 0:D.author_link}h(y,"getAuthorLink");function C(D){return D==null?void 0:D.author_icon}h(C,"getAuthorIcon");function _(D){return D==null?void 0:D.title}h(_,"getTitle");function j(D){return D==null?void 0:D.title_link}h(j,"getTitleLink");function E(D){return D==null?void 0:D.text}h(E,"getText");function M(D){if(x(D)){var H,Z;return(H=Object(n.a)(D==null?void 0:D.message_blocks))===null||H===void 0||(Z=H.message)===null||Z===void 0?void 0:Z.blocks}return D==null?void 0:D.blocks}h(M,"getBlocks");function T(D){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const Z=M(D);return Object(c.a)(Z,H)?H?Object(p.a)(Z)?Z==null?void 0:Z[0]:null:Z==null?void 0:Z[0]:null}h(T,"getRichTextBlocks");function P(D){return D==null?void 0:D.thumb_url}h(P,"getThumbUrl");function B(D){return D==null?void 0:D.image_url}h(B,"getImageUrl");function R(D){return D==null?void 0:D.original_url}h(R,"getOriginalUrl");function U(D){return D==null?void 0:D.file_id}h(U,"getFileId");function K(D){return D==null?void 0:D.app_unfurl_url}h(K,"getAppUnfurlUrl");function V(D){return D==null?void 0:D.from_url}h(V,"getFromUrl");function z(D){return D==null?void 0:D.channel_name}h(z,"getChannelName");function N(D){return D==null?void 0:D.fallback}h(N,"getFallback");function A(D){return D==null?void 0:D.preview}h(A,"getPreview");function x(D){return!!(D!=null&&D.is_msg_unfurl)}h(x,"isMsgUnfurl");function k(D){const H=!!(P(D)||B(D)),Z=!(v(D)||b(D));return H&&Z}h(k,"isGraphicUnfurl");const F=h(D=>{const H=k(D),Z=(D==null?void 0:D.type)===m.a;return H&&Z},"isGifUnfurl");function L(D,H){if(!D)return null;const Z=R(D);let G,te,se,$;const X=b(D),q=C(D),Y=y(D);X&&q?(G=X,te=Y,se=q):(G=v(D)||X,te=g(D)||Y,se=O(D)||q),G||(G=Z,te=Z);const w=z(D),ne=D.private_channel_prompt;return w&&Object(r.h)(H)?$=`${w}`:w&&Object(r.k)(H)&&ne?$=`${w}`:w?$=`#${w}`:X&&G!==X&&($=X),{name:G,nameLink:te,iconLink:se,subheader:$}}h(L,"getUnfurlHeaderProps");function S(D){if(!D)return!1;const H=!!R(D)||!!K(D),G=!!(!!T(D)||_(D)||E(D)||N(D)||A(D));var te;return H&&G||k(D)||((te=D==null?void 0:D.user_auth_required)!==null&&te!==void 0?te:!1)}h(S,"canRenderUnfurl");function I(D){let{draftId:H}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!H)return!1;const Z=Object(u.d)(D,H);return!Object(t.a)(Z)&&Object(a.a)(Z,te=>(te==null?void 0:te.filetype)==="quip")}h(I,"shouldRenderCanvasUnfurls");function W(D){let{draftId:H}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var Z;if(!H)return!1;const G=Object(f.k)(D,H),te=Object(u.d)(D,H),se=Object(s.u)(D,"expand_non_media_attachments"),X=Object(l.d)(D,"hide_unfurls_with_files")==="treatment"&&((Z=Object(o.a)(G))===null||Z===void 0?void 0:Z.length),Y=Object(d.f)(D)&&Object(d.a)(D,{draftId:H});return!!se&&(!Object(t.a)(te)||Y)&&!Object(u.j)(D,H)&&!X}h(W,"shouldRenderDraftUnfurls")},drD8:function(J,i,e){"use strict";e.d(i,"a",function(){return A}),e.d(i,"b",function(){return x}),e.d(i,"c",function(){return k});var n=e("q1tI"),t=e.n(n),a=e("AFNo"),s=e("zxER"),l=e("5jHt"),o=e("G0eX"),f=e("beVI"),r=e("E3dU"),m=e("ZOzc"),c=e("9Gfp"),u=e("Wn1n"),d=e("kBpe"),p=e("QLS9"),v=e("1VCh"),g=e("x6tY"),O=e("rWqD"),b=e("2VFn");const y=h((F,L,S,I)=>{var W;if(!L||Object(g.zb)(L))return!1;const D=S&&I?(W=I(F,{container:b.i.Primary}))===null||W===void 0?void 0:W.id:Object(u.a)(F),H=Object(r.d)(F,D);return H?Object(O.a)(F,H):!1},"canAddFile");var C=e("i9jZ"),_=e("O0Iw"),j=e("ByMX"),E=e("zb/F"),M=e("3yS5"),T=e("i5Ig"),P=e("Fb72"),B=e("3TE0"),R=e("mQiU"),U=e("6inW"),K=e("NNLN");function V(){return V=Object.assign||function(F){for(var L=1;L<arguments.length;L++){var S=arguments[L];for(var I in S)Object.prototype.hasOwnProperty.call(S,I)&&(F[I]=S[I])}return F},V.apply(this,arguments)}h(V,"_extends");const z={remove_download:!0};Object.freeze(z);const N=Object(a.c)((F,L,S,I,W,D,H)=>{var Z;if(!L||Object(g.h)(L)&&!H)return T.b;const G=Object(c.h)(F),te=Object(c.l)(F),se=S&&I?(Z=I(F,{container:b.i.Primary}))===null||Z===void 0?void 0:Z.id:Object(u.a)(F),$=Object(r.d)(F,se),X=Object(c.a)(F),q=Object(j.b)(F),Y=Object(_.c)(F),ee=Object(f.g)(F),w=!!(L&&L.user&&Object(M.a)(F,L.user)),ne=Object(m.a)(F,"disallow_public_file_urls"),ae=Object(m.a)(F,"disable_file_deleting"),de=Object(m.a)(F,"disable_file_editing"),ge=Object(l.a)(F,L),le=Object(l.b)(F,L),Q=Object(p.a)(F,L),ie=Object(v.a)(F,L),oe=y(F,L,S,I),me=Object(l.n)(L);if(L.downloadPath)return z;const be=L.user===X,Se=L.is_public||be,Pe=!Se,Ue=!0,Fe=!L.public_url_shared&&L.mode!=="external"&&!q&&!ne&&(L.is_public||be)&&!(Object(g.y)(L)&&Object(o.H)(ee)),je=L.public_url_shared&&!q&&!ne&&(Y||be),_e=Object(P.a)(F,L),pe=Object(g.n)(L)||L.filetype==="pdf"||Object(g.i)(L)||Object(g.y)(L),fe=(!me||le)&&(pe&&L.mode!=="external"||L.mode==="snippet"||L.mode==="email"),Ee=Object(d.i)()&&pe&&(!me||ge),ye=L.mode!==void 0&&te&&["post","snippet","space","email","docs"].includes(L.mode),Te=L.mode==="space"&&!(L.user==="USLACKBOT"&&L.name==="Getting_Started_with_Posts"),Oe=D&&Object(U.b)(D.toString()),Ce=Object(C.a)(F)&&Object(C.b)()&&(W||Oe)&&(L.mode==="space"||L.mode==="docs"||Object(g.g)(L)),ce=(!me||le)&&Ce,he=(be||Y&&!w)&&!ae&&!L.is_tombstoned&&!Object(g.xb)(L,F),Me=!be,Ae=L.mode!==void 0&&["snippet","space","docs"].includes(L.mode)&&(be||L.mode==="space"&&L.state!=="locked"||L.mode==="docs"&&L.non_owner_editable)&&!de&&!L.is_tombstoned,xe=Object(B.a)(F,L),Re=Object(E.a)(),Ge=Object(g.v)(L)&&(be||Y),ze=!0,Ie=Object(g.i)(L)&&be;return{share:Se,share_private_file:Pe,comment:Ue,create_public_link:Fe,revoke_public_link:!!je,download:_e,open_original:fe,open_in_browser:Ee,print:ye,learn_more:Te,new_window:ce,delete_file:he,report_file:Me,edit:!!Ae,edit_file:xe,copy_file_link:Re,refresh:Ge,unpin_file:!1,pin_file:!1,rxn_file:ze,remove_pdf_preview:Ie,open_remote_file:Q||ie,add_file:!!($&&G&&oe)}});N.meta={name:"createSelector",key:"createSelectorgetFileActions",description:(F,L,S,I,W,D,H)=>{var Z;if(!L||Object(g.h)(L)&&!H)return T.b;const G=Object(c.h)(F),te=Object(c.l)(F),se=S&&I?(Z=I(F,{container:b.i.Primary}))===null||Z===void 0?void 0:Z.id:Object(u.a)(F),$=Object(r.d)(F,se),X=Object(c.a)(F),q=Object(j.b)(F),Y=Object(_.c)(F),ee=Object(f.g)(F),w=!!(L&&L.user&&Object(M.a)(F,L.user)),ne=Object(m.a)(F,"disallow_public_file_urls"),ae=Object(m.a)(F,"disable_file_deleting"),de=Object(m.a)(F,"disable_file_editing"),ge=Object(l.a)(F,L),le=Object(l.b)(F,L),Q=Object(p.a)(F,L),ie=Object(v.a)(F,L),oe=y(F,L,S,I),me=Object(l.n)(L);if(L.downloadPath)return z;const be=L.user===X,Se=L.is_public||be,Pe=!Se,Ue=!0,Fe=!L.public_url_shared&&L.mode!=="external"&&!q&&!ne&&(L.is_public||be)&&!(Object(g.y)(L)&&Object(o.H)(ee)),je=L.public_url_shared&&!q&&!ne&&(Y||be),_e=Object(P.a)(F,L),pe=Object(g.n)(L)||L.filetype==="pdf"||Object(g.i)(L)||Object(g.y)(L),fe=(!me||le)&&(pe&&L.mode!=="external"||L.mode==="snippet"||L.mode==="email"),Ee=Object(d.i)()&&pe&&(!me||ge),ye=L.mode!==void 0&&te&&["post","snippet","space","email","docs"].includes(L.mode),Te=L.mode==="space"&&!(L.user==="USLACKBOT"&&L.name==="Getting_Started_with_Posts"),Oe=D&&Object(U.b)(D.toString()),Ce=Object(C.a)(F)&&Object(C.b)()&&(W||Oe)&&(L.mode==="space"||L.mode==="docs"||Object(g.g)(L)),ce=(!me||le)&&Ce,he=(be||Y&&!w)&&!ae&&!L.is_tombstoned&&!Object(g.xb)(L,F),Me=!be,Ae=L.mode!==void 0&&["snippet","space","docs"].includes(L.mode)&&(be||L.mode==="space"&&L.state!=="locked"||L.mode==="docs"&&L.non_owner_editable)&&!de&&!L.is_tombstoned,xe=Object(B.a)(F,L),Re=Object(E.a)(),Ge=Object(g.v)(L)&&(be||Y),ze=!0,Ie=Object(g.i)(L)&&be;return{share:Se,share_private_file:Pe,comment:Ue,create_public_link:Fe,revoke_public_link:!!je,download:_e,open_original:fe,open_in_browser:Ee,print:ye,learn_more:Te,new_window:ce,delete_file:he,report_file:Me,edit:!!Ae,edit_file:xe,copy_file_link:Re,refresh:Ge,unpin_file:!1,pin_file:!1,rxn_file:ze,remove_pdf_preview:Ie,open_remote_file:Q||ie,add_file:!!($&&G&&oe)}}};const A=N;function x(F){const{shouldUseNavigate:L,getSiblingView:S,isMainWindow:I,windowId:W}=Object(n.useContext)(R.a),D=Object(n.useContext)(K.a);return Object(s.f)(H=>N(H,F,L,S,I,W,!!(D!=null&&D.ts)))}h(x,"useFileActions");function k(F){const L=F,S=t.a.forwardRef((I,W)=>{const D={...I,fileActions:x(I.file)};return t.a.createElement(L,V({ref:W},D))});return S.defaultProps=F.defaultProps,S.displayName=`withFileActions(${L.displayName})`,S}h(k,"withFileActions"),k.displayName="withFileActions"},dtWQ:function(J,i,e){"use strict";var n=e("Lgge"),t=e("fujP"),a=e("n3tL"),s=e("Kn+X"),l=e("Yauy"),o=e("BtdC"),f=e("ohbk"),r=e("E3dU"),m=e("EHXP"),c=e("qcoW"),u=e("SQ0V"),d=e("RV0M"),p=e("I0j/"),v=e("37+L");let g;function O(y,C){clearInterval(g);const _=Object(o.a)(y,C);return _?n.a.resolve(_):new n.a(j=>{g=window.setInterval(()=>{const E=Object(o.a)(y,C);E&&(clearInterval(g),j(E))},50)}).timeout(1e4)}h(O,"waitForDraftInput");const b=Object(u.c)("View a channel, thread, or composer draft",(y,C,_,j)=>{let{draft:E}=_;const{shouldUseNavigate:M}=j(d.a);if(!Object(t.a)(E))if(Object(s.z)(E)){const T=Object(s.e)(E);y(Object(c.a)({draftId:T}))}else{const{channelId:T,threadTs:P}=Object(s.b)(E)||{},B=Object(r.d)(C(),T),R=Object(l.Fb)(C(),B);T&&(P?(y(Object(m.a)({channelId:T,teamId:R,threadTs:P})),O(T,P).then(U=>{U.scrollIntoView(),U.focus()})):y(M?Object(p.a)(Object(v.k)(T)):Object(f.a)({id:T,teamId:R})))}});b.meta={name:"createThunk",key:"createThunkjumpToDraft",description:"View a channel, thread, or composer draft"},b.propTypes={draft:a.default.object.isRequired},i.a=b},dz36:function(J,i,e){"use strict";e.d(i,"a",function(){return o}),e.d(i,"d",function(){return r}),e.d(i,"e",function(){return u}),e.d(i,"c",function(){return d}),e.d(i,"f",function(){return p}),e.d(i,"b",function(){return v});var n=e("Yauy");const t=/^IS\d{19}$/,a=/-instant-\d{5}$/,s=/^[A-Za-z0-9._%+-]+?@slack-corp\.com$/,l="instantSlackSessionData",o="save_instant_slack_conversation";var f;const r=h(g=>t.test((f=g==null?void 0:g.name)!==null&&f!==void 0?f:""),"looksLikeInstantSlackTeam");var m;const c=h(g=>a.test((m=Object(n.s)(g))!==null&&m!==void 0?m:""),"looksLikeInstantSlackChannel"),u=h(g=>s.test(g??""),"looksLikeSlackEmail"),d=h(()=>{try{const g=sessionStorage.getItem(l);return g?JSON.parse(g):{}}catch{return{}}},"getInstantSlackSessionData"),p=h(g=>{try{return sessionStorage.setItem(l,JSON.stringify(g)),!0}catch{return!1}},"setInstantSlackSessionData"),v=h(()=>{sessionStorage.removeItem(l)},"clearInstantSlackSessionData")},eHe6:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("c8Bs");function t(s){var l;return!!((s==null||(l=s.statics)===null||l===void 0?void 0:l.blotName)==="code-block")}h(t,"lineIsCodeBlock");function a(s){return!!((s==null?void 0:s.length)>0&&Object(n.a)(s,o=>{var f;return(o==null||(f=o.statics)===null||f===void 0?void 0:f.blotName)==="code-block"}))}h(a,"everyLineIsCodeBlock")},eJPC:function(J,i,e){"use strict";e.d(i,"a",function(){return n});var n;(function(t){t.BOOKMARK_BAR="bookmark_bar",t.COMPOSE_BUTTON="compose_button",t.SIDEBAR_CANVAS_CMD_CLICK="sidebar_canvas_cmd_click",t.SIDEBAR_ADD_BUTTON="sidebar_add_button",t.SIDEBAR_CONTEXT_MENU="sidebar_context_menu",t.QUIP_FILE_BROWSER_NUX_CREATE_DOC="quip_file_browser_nux_create_doc",t.SHORTCUT_MENU="shortcut_menu",t.QUIP_SHORTCUT_MENU="quip_shortcut_menu",t.HEADER_OVERFLOW_MENU="header_overflow_menu",t.QUIP_CANVAS_CABINET_CREATE_DOC="quip_canvas_cabinet_create_doc",t.SHORTCUT="shortcut",t.CANVAS_PAGE_EMPTY_STATE_FREEMIUM="canvas_page_empty_state_freemium",t.TRIAL_OFFER_MODAL="trial_offer_modal",t.HUDDLE_ATTACHMENTS_CREATE="huddle_attachments_create",t.QUIP_FILE_BROWSER_CREATE_DOC="quip_file_browser_create_doc",t.BOOKMARKS_BAR_CREATE="bookmarks_bar_create",t.CREATE_CHANNEL_SPACE="create-channel-space",t.QUICKSWITCHER="quickswitcher",t.FILE_MENU="file_menu",t.CREATE_MENU="create_menu",t.MORE_CANVASES_SIDEBAR="more_canvases_sidebar",t.CALL_ATTACHMENTS_CREATE="call_attachments_create",t.INSERT_CANVAS_MODAL_CREATE="insert_canvas_modal_create",t.CREATE_HUDDLE_NOTES_DOC="create_huddles_notes_doc",t.CREATE_SIDECAR_NOTES="create_sidecar_notes",t.QUIP_BOOT_HOOKS="quip_boot_hooks",t.INSERT_CANVAS_SHORTCUTS_MENU="insert_canvas_shortcuts_menu",t.SHORTCUTS_MENU_V2_ITEM_CLICK="shortcuts_menu_v2_item_click",t.INTERNAL_TEST="internal_test",t.CANVASES_PEEK_VIEW="canvases_peek_view",t.RESURRECTED_USER_WELCOME="resurrected_user_welcome",t.SLASH_COMMAND="slash_command",t.CREATE_DOC_FROM_LIST="create_doc_from_list"})(n||(n={}))},eJek:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("SQ0V"),t=e("uEJH"),a=e("TNCj");const s=Object(n.c)("upsert reactions for a reaction key",(l,o,f)=>{const{key:r,reactions:m,fromUserAction:c}=f||{};if(!c){const u=Object(t.a)(r);if(u)return u.then(()=>l(s({key:r,reactions:m}))),!1}return l(Object(a.a)({objects:[{key:r,reactions:m}]})),!0});s.meta={name:"createThunk",key:"createThunkupsertReactions",description:"upsert reactions for a reaction key"}},eagO:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("0LZ2");function t(a){const l=Object(n.a)(a).import("blots/inline");let o=h(class extends l{static create(r){const m=super.create(r);return m.setAttribute("data-text",r.text),m.setAttribute("data-ghost",r.ghost),m}static formats(r){return{text:r.getAttribute("data-text"),ghost:r.getAttribute("data-ghost")}}},"SlackSearchTokenValue");return o.blotName="slacksearchtokenvalue",o.tagName="ts-searchtoken-value",o}h(t,"getSlackSearchTokenValueFormat")},ekM3:function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("x6tY"),t=e("QLS9"),a=e("8z04"),s=e("1VCh");function l(o,f){if(Object(s.a)(o,f)&&f.has_rich_preview||Object(t.a)(o,f))return a.b.View;if(Object(n.Mb)(f))return a.b.Remote;if(Object(n.n)(f)||Object(n.Zb)(f)||Object(n.A)(f))return a.b.View;if(Object(n.m)(f))return a.b.Detail;if(Object(n.u)(f)||Object(n.h)(f)||Object(n.o)(f))return a.b.Open;const r=Object(n.R)(f);return r==="snippet"||r==="post"||r==="email"?a.b.Detail:Object(n.M)(f)}h(l,"getMainFileAction")},eodU:function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("BHdc"),t=e("nNoG"),a=e("haNl"),s=e("0LZ2");const l=new t.b("texty");function o(f){const m=Object(s.a)(f).import("blots/inline");let c=h(class extends m{static create(d){const p=super.create(d);p.setAttribute("data-id",d.id),p.setAttribute("data-label",d.label),p.setAttribute("spellcheck","false"),d.unverified&&p.setAttribute("data-title",l.t("Several matches for {name}",{name:d.label}));const v=Object(n.default)("c-member_slug","c-member_slug--link","ts_tip_texty",{"c-member_slug--mention":d.mention,"c-member_slug--unverified":d.unverified});return p.setAttribute("class",v),p.setAttribute("dir","ltr"),Object(a.h)(d==null?void 0:d.id),p}static formats(d){return{id:d.getAttribute("data-id"),label:d.getAttribute("data-label"),mention:d.classList.contains("c-member_slug--mention"),unverified:d.classList.contains("c-member_slug--unverified")}}},"SlackMention");return c.blotName="slackmention",c.tagName="ts-mention",c}h(o,"getSlackMentionFormat")},"f+33":function(J,i,e){"use strict";e.d(i,"a",function(){return r}),e.d(i,"b",function(){return y}),e.d(i,"c",function(){return C});var n=e("nNoG"),t=e("mM05"),a=e.n(t),s=e("JvzI");const l=new n.b("champion_welcome_dm"),o=`https://${window.location.hostname}/slackhelp/${Object(s.a)()}/115005506003`,f=`https://${window.location.hostname}/downloads`,r=[o,f],m=`
`,c=" ",u=h((_,j,E)=>{const M=new a.a,T=_.split(j);return T.splice(1,0,j),T.forEach((P,B)=>{B===1?M.insert(P,{link:E}):M.insert(P)}),M},"buildDeltaWithLink"),d=h(function(_,j,E){let M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const T=new a.a,P=_.split(j);return P.splice(1,0,j),P.forEach((B,R)=>{R===1?T.insert(B,{slackmention:{id:E,label:B,mention:M,unverified:!1}}):T.insert(B)}),T},"buildDeltaWithChannelLink"),p=h((_,j)=>{const E=new a.a;if(_&&j){const T=`@${j}`,P=l.t("Welcome {linkText}! Here are some tips for getting started with Slack:",{linkText:T});return d(P,T,_,!0).insert(m).insert(m)}const M=l.t("Welcome! Here are some tips for getting started with Slack:");return E.insert(M).insert(m).insert(m)},"getWelcomeDelta"),v=h(()=>{const _=l.t("profile photo"),j=l.t("Update your {linkText}",{linkText:_});return u(j,_,o).insert(c).insert({slackemoji:{text:":sun_with_face:"}}).insert(m,{list:"ordered"})},"getTipOneDelta"),g=h(()=>{const _=l.t("Download the Slack apps"),j=l.t("{linkText} to stay connected",{linkText:_});return u(j,_,f).insert(c).insert({slackemoji:{text:":computer:"}}).insert(m,{list:"ordered"})},"getTipTwoDelta"),O=h(_=>{if(!_)return new a.a;const j="#general",E=l.t("Say hello to everyone in the {linkText} channel",{linkText:j});return d(E,j,_).insert(c).insert({slackemoji:{text:":wave:"}}).insert(m,{list:"ordered"})},"getTipThreeDelta"),b=h(()=>{const _=new a.a,j=l.t("Let me know if you have any questions!");return _.insert(m).insert(j).insert(m)},"getLastLineDelta"),y=h((_,j,E)=>{const M=p(j,E),T=v(),P=g(),B=O(_),R=b();return{contents:M.concat(T).concat(P).concat(B).concat(R)}},"constructWelcomeDm"),C=h(_=>{let j=!1,E=!1;if(_&&_.ops)try{const M=JSON.stringify(_),T=r;M.toLowerCase().includes("#general")&&(j=!0),T.some(P=>M.includes(P))&&(E=!0)}catch{}return j&&E},"parseIsWelcomeDmTemplate")},f0LB:function(J,i,e){"use strict";var n=e("9oTK"),t=e("SQ0V"),a=e("APfK"),s=e("hRxb"),l=e("q1tI"),o=e.n(l),f=e("n3tL"),r=e("3l96"),m=e("/MKj"),c=e("+kJ4"),u=e("YUBf"),d=e("Trx9"),p=e("ktUG"),v=e("nNoG"),g=e("qDEp"),O=e("EyGR"),b=e("2Wdf");const y=new v.b("request_access_done"),C={uiComponentName:p.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_close",elementName:"quip_permissions_request_button_close",onClick:{enableClogAction:!0}},_={uiComponentName:p.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_send",elementName:"quip_permissions_request_button_send",onClick:{enableClogAction:!0}},j=h(R=>{let{fileId:U}=R;const[K,V]=Object(l.useState)(!1),[z,N]=Object(l.useState)(!1),A=Object(m.useDispatch)(),x=Object(l.useCallback)(()=>(A(Object(c.a)()),!1),[A]),k=Object(l.useCallback)(()=>{N(!1),A(Object(a.a)({fileId:U,requestType:"access",reason:"CustomizedRequestAccessModal"})).then(()=>A(Object(O.a)())).catch(()=>{A(Object(b.a)())}),V(!0)},[A,U]),F=y.t("You don\u2019t have access"),L=y.t("Collaborators can grant you access"),S=y.t("Cancel"),I=y.t("Request access");return o.a.createElement(d.a,{eventId:p.EventId.QUIP_PERMISSIONS_REQUEST,elementType:p.ElementType.MODAL},o.a.createElement(u.a,{closeModal:x,"data-qa":"canvas_customized_request_access_modal",centered:!0,shouldCloseOnOverlayClick:!0},o.a.createElement(u.i,null,o.a.createElement(u.l,null,o.a.createElement("h2",null,F))),o.a.createElement(u.d,null,o.a.createElement(u.e,null,L)),o.a.createElement(u.g,null,o.a.createElement(u.h,null,o.a.createElement(u.c,{type:"outline",onClick:x,"data-qa":"canvas_request_cancel_button",autoClogProps:C},S),o.a.createElement(g.c,{type:"primary",onClick:k,loading:z,"data-qa":"canvas_request_access_button",disabled:K,autoClogProps:_},I)))))},"CustomizedRequestAccessModal");j.displayName="CustomizedRequestAccessModal";var E=j;const M=Object(t.c)("Opens the Request Access Done confirmation modal in client",(R,U,K)=>{let{fileId:V}=K;R(Object(r.a)({element:o.a.createElement(E,{fileId:V})}))});M.meta={name:"createThunk",key:"createThunkopenCustomizedRequestAccessModal",description:"Opens the Request Access Done confirmation modal in client"},M.propTypes={fileId:f.default.string};var T=M;const P=Object(t.c)('Opens the "Request Access" modal',function(){var R=Object(n.coroutine)(function*(U,K,V){let{fileId:z,url:N,skipConfirmation:A,skipDoneDialog:x}=V,k;!z&&N?k=Object(s.a)(K(),N):z&&(k=z),k&&(A?U(Object(a.a)({fileId:k,requestType:"access",reason:"DirectRequestAccessModal"})).then(()=>{x||U(Object(O.a)())}).catch(()=>{U(Object(b.a)())}):U(T({fileId:k})))});return function(U,K,V){return R.apply(this,arguments)}}());P.meta={name:"createThunk",key:"createThunkrequestAccessModalThunk",description:'Opens the "Request Access" modal'};var B=i.a=P},f2qs:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),s=e("/MKj"),l=e("BHdc"),o=e("nNoG"),f=e("RVJP"),r=e("OXvE"),m=e("dmdh"),c=e("x6tY"),u=e("Tevt"),d=e("m5Yc"),p=e("wnwS"),v=e("CD4m"),g=e("lqu/"),O=e("ZobM"),b=e("ZKjC"),y=e("X+Fw"),C=e("O86Y");const _=Object(b.b)((V,z,N)=>{var A,x;const k=Object(C.h)(V);return k&&Object(y.b)(k,N,z),(A=V.canvasSectionRichText)===null||A===void 0||(x=A[N])===null||x===void 0?void 0:x[z]});_.meta={name:"createSelector",key:"createSelectorgetRichTextBlocksForCanvasSection",description:(V,z,N)=>{var A,x;const k=Object(C.h)(V);return k&&Object(y.b)(k,N,z),(A=V.canvasSectionRichText)===null||A===void 0||(x=A[N])===null||x===void 0?void 0:x[z]}};var j=e("FcR8"),E=e("oUrV");const M=new o.b("canvas"),{_CANVAS_MENTION:T,CANVAS:P}=d.b,B={DELETED:"deleted",NO_ACCESS:"locked",DEFAULT:"default"},R=h(()=>t.a.createElement("svg",{viewBox:"0 0 20 20",preserveAspectRatio:"xMidYMid",width:"13"},t.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4.34 15.66c1.216 1.219 2.825 2.046 4.62 2.276l0.040 0.004v-7.94h-4v-2h4v-2.17c-1.175-0.424-2-1.53-2-2.828 0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.298-0.825 2.404-1.979 2.822l-0.021 0.007v2.17h4v2h-4v7.94c1.835-0.234 3.444-1.061 4.66-2.28l0-0-1.42-1.42h5.66l-2.83 2.83c-1.81 1.809-4.309 2.928-7.070 2.928s-5.26-1.119-7.070-2.928l-2.83-2.83h5.66l-1.42 1.42zM10 4c0.552 0 1-0.448 1-1s-0.448-1-1-1v0c-0.552 0-1 0.448-1 1s0.448 1 1 1v0z"})),"AnchorFilled"),U=h(V=>{let{fileId:z,type:N,style:A,sectionId:x,hideTitle:k}=V;const F=Object(s.useDispatch)(),L=Object(a.c)(X=>Object(f.d)(X,"canvas_anchor_link_previews"))==="on",S=Object(a.c)(X=>Object(m.e)(X,z)),I=Object(n.useMemo)(()=>Object(c.zb)(S)||Object(c.Tb)(S)?B.DELETED:Object(c.Db)(S)||Object(c.tb)(S)||Object(c.kb)(S)||!Object(c.ac)(S)?B.NO_ACCESS:B.DEFAULT,[S]),W=Object(a.c)(X=>L&&z&&x?_(X,x,z):void 0),{icon:D,fileName:H,sectionPreview:Z}=Object(n.useMemo)(()=>{let X,q,Y;const ee={type:d.b.RICH_TEXT,elements:W};switch(I){case B.DELETED:X=t.a.createElement(O.a,{name:"trash",variation:"filled",inline:!0}),q=M.rt("Deleted canvas",{fallbackHash:"cdb3a88ae788613f136fcde15ce8cef2075049a4"}),Y=M.rt("Deleted content",{fallbackHash:"7d045b38f2b5efed68fc7580173cf31924d8c0fd"});break;case B.NO_ACCESS:X=t.a.createElement(O.a,{name:"lock",variation:"filled",inline:!0}),q=M.rt("Private canvas",{fallbackHash:"b5b59d56ad74690ee79cacca3c2e76e58cebdedd"}),Y=M.rt("Private content",{fallbackHash:"f9271d5392672e8181867ecbed9130ac76ca7b95"});break;default:X=t.a.createElement(O.a,{name:"canvas-content",variation:"filled",inline:!0}),q=t.a.createElement(g.a,{file:S}),L?Y=W!=null&&W.length?t.a.createElement(r.a,{richTextBlock:ee,truncateLength:25}):"\u2026":Y=M.rt("anchor link");break}return{icon:X,fileName:q,sectionPreview:Y}},[W,L,S,I]),G=Object(n.useCallback)(()=>k?null:D,[D,k]),te=Object(n.useMemo)(()=>t.a.createElement(v.c,null,!k&&H,x&&t.a.createElement(t.a.Fragment,null,!k&&": ",t.a.createElement(R,null),Z)),[k,H,x,Z]),se=Object(n.useCallback)(X=>{X.preventDefault(),I===B.DEFAULT&&F(Object(j.a)({fileId:z,sectionId:x,source:E.a.RICH_TEXT_CANVAS_ELEMENT}))},[F,z,I,x]),$=Object(n.useMemo)(()=>t.a.createElement(p.a,{style:A},t.a.createElement(v.d,{size:"small",className:Object(l.default)("p-rich_text_canvas",{"p-rich_text_canvas--disabled":I!==B.DEFAULT}),"data-id":S.id,"data-qa":"rich_text_canvas_element",avatar:G,text:te})),[S.id,I,G,te,A]);return N!==T&&N!==P||!z||!S||(S.mode||S.filetype)&&!Object(c.g)(S)?null:I===B.DEFAULT?t.a.createElement(u.a,{onClick:se},$):$},"Canvas");U.displayName="Canvas";var K=i.a=U},f3d1:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("ZBlo"),l=e("XIp8"),o=e("BeL+"),f=e("9Gfp"),r=e("nNoG"),m=e("EJqq"),c=e("JvzI"),u=e("jlKB"),d=e("UnpP"),p=e("VSuV"),v=e("O86Y"),g=e("yrot"),O=e("9BZl");const b=new r.b("reactions"),y=8,C=50,_=10;function j(P){let{users:B,emojiName:R,selfUserId:U,isOverflow:K,showClickToRemove:V}=P;const z=B.includes(U);if(B.length===1)return z?V?b.rt('You (click to remove) <span className="c-tooltip__subtitle">reacted with {emoji}</span>',{emoji:R}):b.rt('You <span className="c-tooltip__subtitle">reacted with {emoji}</span>',{emoji:R,fallbackHash:"21789028a9fbf819663c98109deba7ea61553021"}):b.rt('{user} <span className="c-tooltip__subtitle">reacted with {emoji}</span>',{user:t.a.createElement(p.a,{userId:B[0],isFirst:!0,isSelf:!1}),emoji:R});const N=B.map((x,k)=>t.a.createElement(p.a,{key:x,userId:x,isFirst:k===0,isSelf:U===x}));K&&N.push(b.rt("others"));const A=Object(r.h)(N,{react:!0});return z?b.rt('{users_and_you} <span className="c-tooltip__subtitle">reacted with {emoji}</span>',{users_and_you:A,emoji:R}):b.rt('{users} <span className="c-tooltip__subtitle">reacted with {emoji}</span>',{users:A,emoji:R})}h(j,"getTip"),j.displayName="getTip";const E=h(P=>{let{count:B=0,dispatchConvertEmojiInStringToLocalizedThunk:R,shouldRenderEmoji:U=!1,reactions:K=[],isMultiSkintone:V=!1,showClickToRemove:z=!0,selfUserId:N,showImportTip:A}=P;var x,k;const F=Object(s.a)(K,y).map(D=>t.a.createElement("div",{key:K.map(H=>H.name).join("-"),className:"c-reaction__tip--emoji"},D.map(H=>t.a.createElement(d.b,{text:H.name,key:H.name,emojiSize:K.length===1?d.a.LARGER:d.a.LARGE,url:H.url,shouldFallbackOnLoadError:!0}))));let L=K;V&&(L=Object(l.a)(K.slice(0,1)),L[0].users=Object(o.a)(K.map(D=>D.users||[]).flat()),L[0].name=L[0].baseName);const S=B>C&&K.length>1,I=t.a.createElement("div",{className:"c-reaction__tip_group_container"},L.map(D=>{const H=R({locale:Object(c.a)(),text:`:${D.name}:`}),Z=S?(D.users||[]).slice(0,_):D.users||[],G=S?D.count>_:D.count>C;return t.a.createElement("div",{className:"c-reaction__tip_group",key:D.name},j({emojiName:H,users:Z,selfUserId:N,isOverflow:G,showClickToRemove:z}))})),W=U?t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"c-reaction__tip--emoji_wrapper"},F),I):I;return t.a.createElement("div",{className:"c-reaction__tip"},W,A&&t.a.createElement(O.a,{emojiName:K==null||(x=K[0])===null||x===void 0?void 0:x.name,emojiUrl:K==null||(k=K[0])===null||k===void 0?void 0:k.url}))},"ReactionTip");E.displayName="ReactionTip";const M=h((P,B)=>{let{reactions:R}=B;var U;return{selfUserId:Object(f.a)(P),shouldRenderEmoji:!Object(u.a)(P),isMultiSkintone:!!Object(g.p)(P,{text:(U=R[0])===null||U===void 0?void 0:U.baseName,teamId:Object(v.g)(P)||""})}},"mapStateToProps"),T={dispatchConvertEmojiInStringToLocalizedThunk:P=>Object(m.f)(P)};i.a=Object(a.a)(M,T)(E)},f7Y4:function(J,i,e){"use strict";e.d(i,"b",function(){return un}),e.d(i,"a",function(){return va});var n=e("9oTK"),t=e("Lgge"),a=e("fujP"),s=e("CpTu"),l=e("ifKl"),o=e("bPB8"),f=e("q1tI"),r=e.n(f),m=e("iheS"),c=e("Yauy"),u=e("pOmS"),d=e("+l5E"),p=e("Ep1z"),v=e("gnJq"),g=e("ohbk"),O=e("fuYn"),b=e("Cnv9"),y=e("xwCZ"),C=e("dmdh"),_=e("6CnZ"),j=e("O86Y"),E=e("SQ0V"),M=e("gCYc"),T=e("1LR9"),P=e("s4P+"),B=e("HxoY"),R=e("nNoG"),U=e("NPWB"),K=e("zZFv"),V=e("9avG"),z=e("o2tK"),N=e("1Np4"),A=e("haNl"),x=e("RVJP");const k=1e3*60*60*4,F="user_expectations_survey",L="control",S={treatment:k};function I(Xe){return Object.keys(S).includes(Xe)}h(I,"isGroupATreatmentGroupForUserExpectationsSurveyToggle");function W(Xe){if(!Xe)return!1;const ct=Object(x.d)(Xe,F);return ct?!!I(ct):!1}h(W,"isUserExpectationsSurveyEnabled");function D(Xe){if(!W(Xe))return null;const ct=new URLSearchParams(window.location.search),qt=parseInt(ct.get("force_user_expectations_survey_interval_ms")||"",10);if(qt>0)return qt;const tn=Object(x.d)(Xe,F);return tn&&S[tn]||null}h(D,"getUserExpectationSurveyIntervalFromToggle");const H={isGroupATreatmentGroupForUserExpectationsSurveyToggle:I};var Z=e("NgZ7"),G=e("83nZ"),te=e("OZf9"),se=e("zmn3"),$=e("n3tL"),X=e("7YN0"),q=e("v+CX"),Y=e("mEPG"),ee=e("ku/f"),w=e("7XZu"),ne=e("AyK6"),ae=e("F8ux"),de=e("f80L"),ge=e("m5fH"),le=e("B+Mk"),Q=e("Kn+X"),ie=e("XcN5"),oe=e("DPzB"),me=e("b8Xe"),be=e("3Tbp"),Se=e("3tUm");const Pe=Object(E.c)("Sends draft files and handles errors",(Xe,ct,qt)=>{let{fileIds:tn,channelId:On,threadTs:Ht,msgParams:hn,shouldBroadcast:Fn,delta:$n,pendingFileIds:Jn,xArgs:sa,draftId:oa,trace:pa}=qt;const Ta=Object(N.a)({getState:ct}),$a=Object(P.a)({getState:ct});Xe(Object(Se.a)({draftId:oa,pendingFileIds:Jn}));const Na=[...tn],ls=new Set,Ha=Object(X.c)(oa)||[];Object(te.a)(Jn,ba=>{Xe(Object(w.f)({pendingFileId:ba,isSending:!0}))}),Object(X.b)(oa),Xe(Object(T.e)({draftId:oa,isSending:!0}));const cs=Xe(Object(oe.a)({msgParams:hn,channelId:On,threadTs:Ht,fileIds:tn,pendingFileIds:Jn}));if(cs&&Xe(Object(me.a)({channelId:On,ts:cs.ts,promises:Ha})),pa==null||pa.addTags({media_threads_enabled:!0}),pa){const ba=Object(se.a)(tn,Ia=>Object(C.e)(ct(),Ia)),Ga=Object(se.a)(ba,"mimetype"),Fa=Object(se.a)(Jn,Ia=>{const Ms=Object(ne.b)(ct(),{pendingFileId:Ia}),js=Object(le.a)(Ms);return js==null?void 0:js.type}),Ra=[...Ga,...Fa],ra=Object(o.a)(Object(se.a)(Ra,Ia=>Ia?Ia.startsWith("video")?"video":Ia.startsWith("audio")?"audio":Ia.startsWith("image")?"image":"other":null)).sort().join("|");pa.addTags({contents:ra})}const Da=pa==null?void 0:pa.startSpan("file_message_send_attempt:upload");return Ha.forEach(ba=>{ba.tap(function(){let{fileIds:Ga=[],pendingFileId:Fa}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ga.forEach(Ra=>Na.push(Ra)),Fa&&ls.add(Fa)})}),t.a.all(Ha).then(ba=>{const Ga=tn||[];return Object(te.a)(ba,Fa=>{Fa.fileIds?Ga.push(Fa.fileIds[0]):Fa.file&&Ga.push(Fa.file.id)}),Da==null||Da.close(),Xe(Object(ae.a)({fileIds:Ga,channelId:On,threadTs:Ht,broadcast:Fn,blocks:hn.blocks,attachments:hn.attachments,reason:"send_message_with_files",clientMsgId:cs?cs.client_msg_id:void 0,xArgs:sa,unfurls:hn.unfurl,permissions:hn.file_permissions}))}).then(()=>{pa&&(pa.addTags({success:!0}),Ta.reportTrace(pa))}).finally(()=>{Xe(Object(T.b)({draftId:oa}))}).catch(ba=>{const Ga=(ba==null?void 0:ba.name)===ie.a.DlpUserWarning;return Ga||Xe(Object(ee.a)({error:ba==null?void 0:ba.name,goToDrafts:!0})),Xe(Object(de.a)()).then(Fa=>{Ga&&Xe(Object(ee.a)({error:ba==null?void 0:ba.name,draftId:Fa}));const Ra=[];Object(te.a)(Jn,Ia=>{if(ls.has(Ia))return;const Ms=Object(ne.b)(ct(),{pendingFileId:Ia}),js=Object(le.a)(Ms);js&&Ra.push(js),Xe(Object(w.d)({pendingFileId:Ia})),Xe(Object(Y.c)({draftId:oa,pendingFileId:Ia}))}),Xe(Object(q.a)({draftId:Fa,files:Ra}));const ra={client_draft_id:Fa,ops:$n?$n.ops:[],destinations:Object(Q.a)({channelIds:[On]}),file_ids:[...Na]};Xe(Object(ge.h)(ra))}),cs&&Xe(Object(be.a)({clientMsgId:cs.client_msg_id,channelId:On,ts:cs.ts})),pa&&(pa.addTags({success:!1}),Ta.reportTrace(pa)),$a.error("SEND-DRAFT-FILES",ba),t.a.reject(ba)})});Pe.meta={name:"createThunk",key:"createThunksendDraftFiles",description:"Sends draft files and handles errors"},Pe.propTypes={fileIds:$.default.array,channelId:$.default.string.isRequired,threadTs:$.default.string,msgParams:$.default.object.isRequired,shouldBroadcast:$.default.bool.isRequired,delta:$.default.object.isRequired,pendingFileIds:$.default.array,xArgs:$.default.object,draftId:$.default.string.isRequired,trace:$.default.object};var Ue=e("tiWk"),Fe=e("E3dU"),je=e("E97Y"),_e=e("2XL1"),pe=e("9Gfp"),fe=e("XZo2"),Ee=e("FUEd"),ye=e("gVOt"),Te=e("g3FH"),Oe=e("at8L"),Ce=e("1Wxh"),ce=e("uVZW"),he=e("7+Lm");const Me=Object(E.c)("Potentially show the mobile awareness DM promo",function(){var Xe=Object(n.coroutine)(function*(ct,qt,tn){let{channelId:On}=tn;const Ht=qt();if(Object(fe.n)(Ht))return;const Fn=Object(Fe.d)(Ht,On);if(Fn&&!Object(je.g)(Fn))return;const $n=Object(ye.a)(Fn);if(!(Object(pe.a)(Ht)===$n||Object(Ee.c)(Ht,$n)!==Te.b||Object(Oe.a)(Ht)||Object(Ce.b)(Ht)||Object(he.c)(Ht,ce.g.MESSAGE_PANE)!==ce.h.MOBILE_AWARENESS_DIRECT_MESSAGE_PROMO))return ct(Object(_e.r)(On))});return function(ct,qt,tn){return Xe.apply(this,arguments)}}());Me.meta={name:"createThunk",key:"createThunkmaybeShowMobileAwarenessDmPromo",description:"Potentially show the mobile awareness DM promo"};var Ae=e("gSGL"),xe=e("Ja/R"),Re=e("wFOH"),Ge=e("B+uu"),ze=e("kJif"),Ie=e("yrot"),Ne=e("EJqq"),Ke=e("YBS9"),Ve=e("z9VZ"),$e=e("wsJ+");let tt;var qe=h(()=>{if(tt)return tt;const ct=Object($e.a)().source;return tt=new RegExp(`^(\\+|\uFF0B|-|\uFF0D) {0,1}(${ct})\\s*$`),tt},"get_rxns_colons_rx"),ut=e("Oy0v"),rt=e("IOc2"),yt=e("fR2/"),Mt=e("TQ9f"),st=e("0qhH"),Vt=e("5SjC");const Wt=Object(E.c)("Check if messages matches the +:emoji: pattern and handle it if so",(Xe,ct,qt)=>{let{delta:tn,channelId:On,threadTs:Ht}=qt;const hn=ct(),Fn=Object(R.m)(),$n=Ht?Object(xe.a)(hn,On,Ht):Object(Re.a)(hn,On);if(!$n)return{didHandle:!1,didAddOrRemove:!1};let Jn=!0,sa="";if(Object(Vt.a)(tn,(Ia,Ms)=>{Jn&&(Object(a.a)(Ms.attributes)?Object(rt.a)(Ia)||Object(yt.a)(Ia)?Jn=!1:Object(Mt.a)(Ia)?sa+=Object(Mt.c)(Ia):Object(st.a)(Ia)?sa+=Object(Ae.a)(Ia.insert)?Ia.insert:"":Jn=!1:Jn=!1)}),!Jn)return{didHandle:!1,didAddOrRemove:!1};const oa=(sa||"").match(/:/g);if(!oa||oa.length<2)return{didHandle:!1,didAddOrRemove:!1};const Ta=(Object(Ne.c)({state:hn,text:sa,locale:Fn})||"").match(qe());if(!Ta)return{didHandle:!1,didAddOrRemove:!1};const $a=Ta[1],Na=Ta[2],ls=$a==="+"||$a==="\uFF0B",Ha=Object(ut.a)(Na);if(!Ha)return{didHandle:!1,didAddOrRemove:!1};const cs=Object(Ge.a)($n);if(!cs)return{didHandle:!0,didAddOrRemove:!1};const Da=Ha.skinTone?`${Ha.name}::skin-tone-${Ha.skinTone}`:Ha.name,ba=Object(ze.a)(hn,cs,Da),Ga=Object(pe.a)(hn),Fa=Object(Ke.b)(hn,cs,ba),Ra=Fa&&Fa.users.indexOf(Ga)!==-1;if(!Ra&&!ls)return{didHandle:!1,didAddOrRemove:!1};if(ls&&Ra)return{didHandle:!0,didAddOrRemove:!1};const ra=Object(j.g)(hn);return Object(Ie.q)(hn,{text:Ha.name,teamId:ra})?(Xe(Object(Ve.b)({key:cs,name:Da})),{didHandle:!0,didAddOrRemove:!0}):{didHandle:!0,didAddOrRemove:!1}});Wt.meta={name:"createThunk",key:"createThunkmaybeReactToLastMessageInChannel",description:"Check if messages matches the +:emoji: pattern and handle it if so"};const Xt={maybeReactToLastMessageInChannel:Wt};var Ut=Wt,Nt=e("5icM"),Ft=e("Z0Cl"),_n=e("c8Bs"),cn=e("3Hq1");function Rn(Xe,ct){return!!(Xe&&Object(Ae.a)(Xe.insert)&&ct.test(Xe.insert))}h(Rn,"isOpRegexMatch");const Vn=/^[\s,]+$/;function ea(Xe){if(Object(cn.a)(Xe)||Object(cn.a)(Xe.ops))return!1;let ct=!1;for(let qt=0;qt<Xe.ops.length;qt++){const tn=Xe.ops[qt],On=Object(yt.j)(tn);if(!(On||Rn(tn,Vn)))return!1;On&&(ct=!0)}return ct}h(ea,"didUserWriteOnlyMentions");function Lt(Xe){return Xe.ops.filter(qt=>Object(yt.a)(qt)&&!Object(yt.e)(qt)).map(qt=>Object(yt.b)(qt))}h(Lt,"getMentionsUserIdsFromContents");var vn=e("y6S6"),Wn=e("dlm8"),Nn=e("beVI"),ia=e("3l96"),Ea=e("+kJ4"),bn=e("C3vN"),Xn=e("Awbm"),vt=e("ehcD"),Je=e("bjy1"),et=e("WIr4"),mt=e("Cfcg"),Pt=e("8f+r"),Tt=e("Sl1j"),Qt=e("yhu1"),dt=e("YUBf"),zt=e("qMw6"),At=e("RB1+"),Qe=e("8HWa"),nt=e("Ccc1"),_t=e("Tevt");const Et=new R.b("message-input");let kt=h(class extends f.Component{inviteMentionedUsers(){const{submitInvite:ct,channelId:qt,atMentionedUsers:tn,addEphemeralFeedbackMessage:On,channelName:Ht}=this.props,hn=Object(At.a)({viewContext:zt.a.MESSAGE_PANE,channelId:qt});hn&&hn.clear(),ct({channelId:qt,users:tn==null?void 0:tn.join(","),reason:"submit-invite-at-mention-invite-warning"}).catch(Fn=>{let{data:$n}=Fn;var Jn,sa;const oa=$n==null||(Jn=$n.errors)===null||Jn===void 0||(sa=Jn[0])===null||sa===void 0?void 0:sa.error;if(!oa)return;const pa=Object(Qt.a)({inviteeType:"member",channelName:Ht,errorKey:oa});On({temporary:!1,message:{text:pa,channel:qt}})}).finally(()=>this.props.onClose())}sendMessage(){const{channelId:ct}=this.props,qt=Object(At.a)({viewContext:zt.a.MESSAGE_PANE,channelId:ct});qt&&qt.clear(),this.props.onSend(),this.props.onClose()}renderInviteEducationMessage(){return Et.rt("Learn more about adding people to channels by visiting our <link>Help Center</link>.",null,ct=>{let{key:qt,text:tn}=ct;return r.a.createElement(_t.a,{key:qt,href:"https://get.slack.help/hc/en-us/articles/201980108-Add-people-to-a-channel"},tn)})}renderMessage(){const{atMentionedUsers:ct,channelId:qt}=this.props,tn=r.a.createElement("strong",null,r.a.createElement(nt.a,{channelId:qt}));return(ct==null?void 0:ct.length)===1?Et.rt("{user} isn\u2019t in {channelName} yet \u2014 you can add them now instead of sending this message to the whole channel.",{user:r.a.createElement(Qe.b,{id:ct==null?void 0:ct[0]}),channelName:tn,fallbackHash:"cadec3268b7cc12b8cc751d6f00398ebe4c4ce2a"}):(ct==null?void 0:ct.length)===2?Et.rt("{user1} and {user2} aren't in {channelName} yet \u2014 you can add them now instead of sending this message to the whole channel.",{user1:r.a.createElement(Qe.b,{id:ct==null?void 0:ct[0]}),user2:r.a.createElement(Qe.b,{id:ct==null?void 0:ct[1]}),channelName:tn,fallbackHash:"d443232f36fd8912444ee8fa4038e2443ed3c54b"}):(ct==null?void 0:ct.length)===3?Et.rt("{user1}, {user2}, and {user3} aren't in {channelName} yet \u2014 you can add them now instead of sending this message to the whole channel.",{user1:r.a.createElement(Qe.b,{id:ct==null?void 0:ct[0]}),user2:r.a.createElement(Qe.b,{id:ct==null?void 0:ct[1]}),user3:r.a.createElement(Qe.b,{id:ct==null?void 0:ct[2]}),channelName:tn,fallbackHash:"81d4aa53308a23ac396767ff068bcb547f072b42"}):Et.rt("{user1} and <strong>{remainingUsersCount} other people</strong> aren't in {channelName} yet \u2014 you can add them now instead of sending this message to the whole channel.",{user1:r.a.createElement(Qe.b,{id:ct==null?void 0:ct[0]}),remainingUsersCount:(ct==null?void 0:ct.length)&&ct.length-1,channelName:tn,fallbackHash:"b23c23dd511e8fad166511789c97e5aa29488f71"})}render(){const ct="message-pane-input-at-mention-invite-warning";return r.a.createElement(dt.a,{closeModal:this.props.onClose,labelledby:ct},r.a.createElement(dt.i,null,r.a.createElement(dt.l,{title:Et.t("Want to add this person instead?",{fallbackHash:"a7191c3760760579ba5fb9b033173a6635d8559b",fallbackHashNs:"admin"}),id:ct})),r.a.createElement(dt.d,null,r.a.createElement(dt.e,null,r.a.createElement("p",{className:"margin_top_125"},this.renderMessage()),this.renderInviteEducationMessage())),r.a.createElement(dt.g,null,r.a.createElement(dt.h,null,r.a.createElement(dt.c,{type:"outline",onClick:this.sendMessage,"data-qa":"at_mention_invite_warning__send_button"},Et.t("Send This Message",{fallbackHash:"6dcd151222c0c288e39811b96a54d91e50f9c4a8"})),r.a.createElement(dt.c,{autoFocus:!0,onClick:this.inviteMentionedUsers,"data-qa":"at_mention_invite_warning__invite_button"},Et.t("Add to Channel")))))}constructor(ct){super(ct),Object(et.a)(this,["sendMessage","inviteMentionedUsers"])}},"MessagePaneInputAtMentionInviteWarning");kt.displayName="MessagePaneInputAtMentionInviteWarning",kt.defaultProps={atMentionedUsers:[]};const jn=h((Xe,ct)=>{let{channelId:qt}=ct;const tn=Object(Fe.d)(Xe,qt);return{channelName:Object(c.t)(Xe,tn,{publicChannelIncludeHashSign:!1})}},"mapStateToProps"),pn={submitInvite:Xe=>Object(Tt.B)(Xe),addEphemeralFeedbackMessage:Xe=>Object(Pt.b)(Xe)};var An=Object(mt.a)(jn,pn)(kt),lt=e("3yS5");const Dn=Object(E.c)("Display broadcast warning (@mention invites)",(Xe,ct,qt)=>{let{delta:tn,channelId:On,onSend:Ht}=qt;const hn=ct();if(!tn)return{didOpen:!1};if(Object(K.a)({contents:tn.ops}).length!==0)return{didOpen:!1};const $n=Object(Fe.d)(hn,On);if(Object(je.h)($n))return{didOpen:!1};if(Object(je.k)($n))return{didOpen:!1};if(Object(Wn.d)(hn,On)===1)return{didOpen:!1};const sa=Object(Nn.g)(hn);if(!sa)return{didOpen:!1};if(ea(tn)){const oa=Lt(tn),pa=Object(Ft.a)(oa,Na=>{const ls=Object(y.g)(hn,Na,{preferNonExistentToNull:!1,fetchIfMissing:!1});return!Object(bn.ib)(ls)});if(!pa||!pa.length)return{didOpen:!1};if(pa.some(Na=>Object(Je.a)(Na)))return{didOpen:!1};const Ta=h(Na=>{const ls=Object(y.g)(hn,Na,{preferNonExistentToNull:!1,fetchIfMissing:!1}),Ha=Object(vn.c)(hn,On,Na);return!!(Ha.isKnown&&!Ha.isMember&&!Object(lt.a)(hn,Na)&&!Object(Xn.b)(ls)&&Object(vt.h)(ls,sa.id))},"isValidUserToInvite");if(Object(_n.a)(pa,Ta)){const Na=r.a.createElement(An,{channelId:On,onClose:()=>{Xe(Object(Ea.a)())},onSend:Ht,atMentionedUsers:pa});return Xe(Object(ia.a)({element:Na})),{didOpen:!0}}}return{didOpen:!1}});Dn.meta={name:"createThunk",key:"createThunkmaybeOpenAtMentionInviteWarningDialog",description:"Display broadcast warning (@mention invites)"};var fn=Dn,kn=e("BeL+"),wn=e("G0eX"),fa=e("ZobM");function In(){return r.a.createElement("div",{className:"p-thread_mention_warning__illustration"},r.a.createElement("svg",{width:"394",height:"112",viewBox:"0 0 394 112",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{clipPath:"url(#clip0_666_42803)"},r.a.createElement("path",{d:"M1.36615e-07 55.8137C-0.0008384 44.8087 3.85852 34.0505 11.09 24.8998C18.3215 15.749 28.6003 8.61671 40.6267 4.40476C52.653 0.192801 65.8866 -0.909606 78.654 1.23694C91.4214 3.3835 103.149 8.68259 112.354 16.4641C121.559 24.2456 127.828 34.1601 130.368 44.9536C132.908 55.7472 131.605 66.9351 126.623 77.1026C121.642 87.27 113.206 95.9603 102.383 102.074C91.559 108.189 78.8339 111.452 65.8165 111.452H1.36615e-07V55.8137Z",fill:"#4A154B"}),r.a.createElement("path",{d:"M394 56.8246C394 46.0203 390.21 35.4586 383.11 26.4752C376.01 17.4917 365.918 10.49 354.111 6.35532C342.304 2.22069 329.312 1.13888 316.777 3.2467C304.243 5.35452 292.729 10.5573 283.693 18.1971C274.656 25.8369 268.502 35.5706 266.008 46.1673C263.515 56.764 264.795 67.7478 269.685 77.7297C274.576 87.7116 282.858 96.2432 293.484 102.246C304.11 108.248 316.603 111.452 329.383 111.452H394V56.8246Z",fill:"#4A154B"}),r.a.createElement("path",{d:"M79.5573 63.434H79.6336L79.481 61.3479C79.4134 61.1135 79.3834 60.8723 79.392 60.6311C79.3878 60.5702 79.3878 60.5092 79.392 60.4483C79.4069 60.2675 79.4439 60.0886 79.5022 59.9142C79.5022 59.8676 79.5319 59.8211 79.5531 59.7745C79.7362 59.3247 80.053 58.9224 80.4731 58.606C80.9546 58.2392 81.5562 58.0043 82.1986 57.9321L85.8744 57.5271C87.3061 57.3696 88.7152 57.0898 90.0801 56.692L104.516 52.4733C105.317 52.2404 112.652 56.416 112.652 56.416C113.208 56.8491 113.842 57.2048 114.53 57.4698L115.823 57.9716C116.388 58.186 117.01 58.2701 117.626 58.2153C118.242 58.1605 118.83 57.9689 119.33 57.6597C110.102 43.9109 95.8362 33.0719 78.6839 26.7778L58.9695 37.6489C54.034 40.3687 50.3165 44.4061 48.4085 49.1185L46.5049 53.8748C45.7375 55.7745 45.2755 57.7528 45.1313 59.7565L41.447 111.452H65.8166C71.0174 111.455 76.2003 110.937 81.2574 109.911L79.5573 63.434Z",fill:"#250B26"}),r.a.createElement("path",{d:"M387.149 61.9429L331.262 57.5737L296.619 61.4806L293.995 64.3444L294.504 66.6096L289.378 66.8677L275.277 73.8283L293.287 74.6419L302.826 89.2263L334.53 79.7137L335.616 81.2585L387.149 61.9429Z",fill:"#250B26"}),r.a.createElement("path",{d:"M279.118 51.6417L326.946 53.7922L391.588 41.9821C391.147 40.6607 390.651 39.3596 390.099 38.0789L297.081 42.7635L279.118 51.6417Z",fill:"white"}),r.a.createElement("path",{d:"M388.031 33.8675L350.45 30.9355L306.311 35.9069L302.966 39.5557L389.756 37.3191C389.228 36.1482 388.652 34.9977 388.031 33.8675Z",fill:"white"}),r.a.createElement("path",{d:"M389.756 37.3191L302.966 39.5557L303.615 42.4446L390.104 38.0861L389.756 37.3191Z",fill:"#A7A9AC"}),r.a.createElement("path",{d:"M358.667 48.0037L326.946 53.7994L302.063 52.6775L314.218 71.2583L364.42 56.1973L358.667 48.0037Z",fill:"#A7A9AC"}),r.a.createElement("path",{d:"M391.588 41.9893L348.144 49.932L355.996 61.1112L393.008 47.2402C392.635 45.4505 392.161 43.7001 391.588 41.9893Z",fill:"#CCCCCC"}),r.a.createElement("path",{d:"M82.3257 22.6271L83.2711 32.0501L93.8703 30.5555L96.961 30.5268C98.1898 30.5138 99.4125 30.6761 100.577 31.0071L107.001 32.8351C107.37 32.9427 107.729 33.0757 108.073 33.2329L108.01 33.1218L101.527 24.1612C101.349 23.9222 101.158 23.6833 100.955 23.4443L92.8994 20.2185L87.0741 21.2938C85.8192 21.5483 82.7242 21.663 82.3257 22.6271Z",fill:"#745943"}),r.a.createElement("path",{d:"M128.928 12.1684L106.661 8.89955C105.298 8.69842 103.91 8.64902 102.532 8.7526L76.3648 10.6917C74.3993 10.8327 72.5058 11.3832 70.8533 12.2938L45.0804 26.5126C40.1458 29.2333 36.4285 33.2704 34.5194 37.9822L32.5988 42.7349C31.8274 44.6337 31.3652 46.6124 31.2252 48.6166L26.8414 110.108C26.8073 110.56 26.7365 111.009 26.6294 111.452H67.8346L65.5961 50.1973C65.4818 49.8201 65.4635 49.4268 65.5424 49.0432C65.6212 48.6596 65.7954 48.2945 66.0534 47.972C66.3115 47.6495 66.6475 47.377 67.0393 47.1724C67.4311 46.9678 67.8698 46.8358 68.3264 46.7851L72.0065 46.3801C73.4381 46.2222 74.8472 45.9424 76.2122 45.5449L90.627 41.3263C92.2874 40.8412 94.0607 40.6987 95.7994 40.9105L107.781 42.3729C108.233 42.4276 108.694 42.4022 109.134 42.2983C109.574 42.1943 109.984 42.0141 110.337 41.769C110.691 41.5239 110.98 41.2194 111.186 40.8747C111.393 40.5301 111.512 40.1529 111.537 39.7671L111.609 38.5915C111.692 37.3369 111.285 36.0941 110.451 35.0541C109.616 34.0141 108.401 33.2345 106.992 32.8352L100.569 31.0072C99.4041 30.6762 98.1815 30.5139 96.9526 30.5269L88.7701 30.6094C87.9447 30.6177 87.1411 30.3858 86.4941 29.9524C85.8471 29.519 85.3963 28.9106 85.2172 28.2294L84.3693 24.9427C84.2662 24.5524 84.2552 24.1488 84.3368 23.755C84.4185 23.3611 84.5914 22.9848 84.8454 22.6475C85.0994 22.3102 85.4297 22.0186 85.8172 21.7894C86.2048 21.5602 86.642 21.3979 87.1039 21.3118L102.981 18.3512C104.379 18.0901 105.812 17.9889 107.242 18.0501L125.346 18.8387C126.637 18.8932 127.913 18.5814 128.971 17.9528C130.028 17.3242 130.807 16.4148 131.184 15.3691L131.213 15.2867C131.334 14.9546 131.369 14.6045 131.316 14.26C131.263 13.9155 131.124 13.5845 130.907 13.2893C130.691 12.994 130.403 12.7412 130.061 12.5479C129.72 12.3546 129.333 12.2252 128.928 12.1684V12.1684Z",fill:"#E69E6C"}),r.a.createElement("path",{d:"M106.992 32.8351L100.569 31.0071C99.404 30.6761 98.1814 30.5137 96.9525 30.5268L88.77 30.6092C87.866 30.6185 86.991 30.3395 86.3195 29.8279C86.6078 30.3687 87.0769 30.8264 87.6689 31.1448C88.261 31.4632 88.9502 31.6284 89.6518 31.62L97.8344 31.5376C99.0631 31.5261 100.285 31.6885 101.451 32.0179L107.874 33.8458C108.975 34.16 109.962 34.708 110.74 35.4372C109.913 34.209 108.578 33.2824 106.992 32.8351Z",fill:"#F3C4A5"}),r.a.createElement("path",{d:"M27.7232 111.137L32.107 49.6452C32.2553 47.641 32.7216 45.6627 33.4934 43.7635L35.414 39.0143C37.3225 34.3023 41.0399 30.265 45.975 27.5447L71.769 13.326C73.4156 12.4187 75.3014 11.8684 77.2594 11.7239L103.414 9.78836C104.794 9.68837 106.183 9.73775 107.548 9.93531L129.81 13.2041C130.294 13.2752 130.748 13.4505 131.129 13.7131C130.952 13.3168 130.656 12.9664 130.27 12.6966C129.884 12.4269 129.422 12.2472 128.928 12.1755L106.661 8.90663C105.298 8.7055 103.91 8.6561 102.532 8.75968L76.3648 10.6988C74.3993 10.8398 72.5058 11.3903 70.8533 12.3009L45.0804 26.5125C40.1458 29.2332 36.4285 33.2703 34.5194 37.9821L32.5988 42.7348C31.8274 44.6336 31.3652 46.6124 31.2252 48.6166L26.8414 110.108C26.8073 110.56 26.7365 111.009 26.6294 111.452H27.6851C27.6978 111.348 27.7147 111.244 27.7232 111.137Z",fill:"#F3C4A5"}),r.a.createElement("path",{d:"M132.277 17.0035L130.378 16.7275C129.818 17.4138 129.06 17.9676 128.175 18.3365C127.291 18.7053 126.309 18.8769 125.324 18.8351L107.221 18.0501C105.791 17.9888 104.358 18.0901 102.96 18.3512L92.9078 20.2258L100.963 23.4516L110.714 22.896L128.814 23.681C130.102 23.7373 131.376 23.4283 132.434 22.803C133.491 22.1778 134.272 21.272 134.652 20.2294V20.2294C134.775 19.8852 134.81 19.5227 134.754 19.1661C134.699 18.8095 134.553 18.4671 134.329 18.1618C134.104 17.8564 133.805 17.5951 133.451 17.3954C133.097 17.1956 132.697 17.062 132.277 17.0035Z",fill:"#9B7659"}),r.a.createElement("path",{d:"M111.609 38.5915L111.537 39.7671C111.512 40.1529 111.393 40.5301 111.186 40.8748C110.98 41.2194 110.69 41.5239 110.337 41.769C109.984 42.0141 109.574 42.1943 109.134 42.2983C108.694 42.4023 108.233 42.4277 107.781 42.3729L104.889 42.0145L106.67 43.5951C107.476 44.3118 108.488 44.8392 109.608 45.1256L113.453 46.1077C113.959 46.2375 114.498 46.2441 115.008 46.1268C115.518 46.0095 115.978 45.7731 116.336 45.4446L117.019 44.8174C117.524 44.3529 117.79 43.7379 117.759 43.1074C117.728 42.4769 117.403 41.8827 116.853 41.4553L111.503 37.3083C111.596 37.7312 111.632 38.1618 111.609 38.5915Z",fill:"#745943"}),r.a.createElement("path",{d:"M95.8162 40.9106C94.9199 40.8043 94.0115 40.7911 93.1113 40.8711L98.784 45.2726C99.3395 45.7046 99.9719 46.0602 100.658 46.3264L101.955 46.8282C102.635 47.0905 103.395 47.1646 104.128 47.0397C104.86 46.9148 105.527 46.5974 106.034 46.1328L107.823 44.4912L105.114 42.0468L95.8162 40.9106Z",fill:"#745943"}),r.a.createElement("path",{d:"M65.7146 52.2834L65.5662 50.1974C65.4185 49.7067 65.4346 49.191 65.6127 48.7075C65.7909 48.2241 66.124 47.7919 66.5752 47.459V47.459L55.9634 53.2296L65.7146 52.2834Z",fill:"#9B7659"}),r.a.createElement("path",{d:"M218.118 66.0935C217.52 66.0935 216.914 66.0684 216.307 66.0254C209.426 65.5021 204.564 63.8247 201.142 61.8713C196.275 63.4448 190.323 64.0577 183.793 63.5595C175.056 62.9 169.671 58.563 163.969 53.9752C157.698 48.9286 151.22 43.7135 139.557 42.8282L139.671 41.7529C151.776 42.6669 158.419 48.0146 164.842 53.1866C170.383 57.6455 175.611 61.8534 183.921 62.4806C189.907 62.9358 195.368 62.4376 199.917 61.1078C197.439 59.52 195.442 57.4574 194.092 55.0899C192.086 51.4268 192.235 47.4733 194.486 44.7672C196.466 42.3873 199.773 41.2439 203.783 41.5414C208.108 41.8676 211.296 43.5235 212.767 46.2009C214.306 49.0146 213.679 52.5558 211.071 55.6741C209.066 58.0863 206.153 60.0039 202.571 61.3623C205.785 63.0541 210.253 64.4735 216.422 64.9466C224.901 65.5917 232.927 61.2261 240.694 57.011C247.503 53.3121 253.926 49.8246 259.955 50.2762L259.84 51.3515C254.252 50.9286 248.003 54.3229 241.381 57.9179C233.978 61.943 226.334 66.0899 218.118 66.0935ZM202.533 42.5844C199.501 42.5844 197.021 43.5629 195.516 45.3909C193.524 47.7852 193.396 51.33 195.232 54.6454C196.619 57.0579 198.713 59.1297 201.316 60.6634C205.026 59.3731 208.023 57.4842 210.033 55.0648C212.365 52.2655 212.95 49.1257 211.597 46.6669C210.325 44.3515 207.51 42.9178 203.661 42.6274C203.275 42.5988 202.902 42.5844 202.533 42.5844Z",fill:"#696969"})),r.a.createElement("defs",null,r.a.createElement("clipPath",{id:"clip0_666_42803"},r.a.createElement("rect",{width:"394",height:"111.28",fill:"white",transform:"translate(0 0.171875)"})))))}h(In,"ThreadMentionWarningIllustration"),In.displayName="ThreadMentionWarningIllustration";var ha=r.a.memo(In);const Dt=new R.b("message-input");let jt=h(class extends f.Component{clearInput(){const ct=Object(At.a)({viewContext:this.props.viewContext||"",channelId:this.props.channelId,threadTs:this.props.replyToTs});ct&&ct.clear()}sendMessage(){this.clearInput(),this.props.onSend(),this.props.onClose()}shareMessage(){this.setState(()=>({loading:!0})),this.clearInput(),this.props.onShare()}render(){const{experimentThreadMentionSpeedbumpGroupOn:ct,atMentionedUsers:qt,onClose:tn}=this.props;if(!ct)return null;let On=Dt.rt("If you want <b>{user}</b> to see this thread, try sharing it as a direct message instead.",{user:r.a.createElement(Qe.b,{id:qt[0],noLinking:!1})});return qt.length===2&&(On=Dt.rt("If you want <b>{userA}</b> and <b>{userB}</b> to see this thread, try sharing it as a direct message instead.",{userA:r.a.createElement(Qe.b,{id:qt[0],noLinking:!1}),userB:r.a.createElement(Qe.b,{id:qt[1],noLinking:!1})})),qt.length>2&&(On=Dt.rt("If you want <b>{user} and the {otherCount} other people you mentioned</b> to see this thread, try sharing it as a direct message instead.",{user:r.a.createElement(Qe.b,{id:qt[0],noLinking:!1}),otherCount:qt.length-1})),r.a.createElement(dt.a,{closeModal:tn},r.a.createElement(ha,null),r.a.createElement(dt.d,null,r.a.createElement(dt.e,null,r.a.createElement("h3",{className:"p-thread_mention_warning__title margin_bottom_100 margin_top_125"},Dt.t("Just want to make sure someone sees this?")),r.a.createElement("p",null,On))),r.a.createElement(dt.g,null,r.a.createElement(dt.h,null,r.a.createElement("div",{className:"flex_none"},r.a.createElement(dt.c,{type:"outline",className:"margin_right_75",onClick:this.sendMessage,"data-qa":"thread_mention_warning__send_button"},Dt.t("Reply Anyway")),r.a.createElement(dt.c,{autoFocus:!0,onClick:this.shareMessage,"data-qa":"thread_mention_warning__share_button",loading:this.state.loading},r.a.createElement("span",null,r.a.createElement(fa.a,{name:"share-message",inline:!0})),r.a.createElement("span",{className:"margin_left_25"},Dt.t("Share thread\u2026")))))))}constructor(ct){super(ct),Object(et.a)(this,["sendMessage","shareMessage","clearInput"]),this.state={loading:!1}}},"ThreadMentionWarningDialog");jt.displayName="ThreadMentionWarningDialog";var $t=jt,Tn=e("i3RS"),dn=e("CMT/"),Un=e("0SKT"),Bn=e("xueD");const Kt=Object(E.c)("Display broadcast warning (@mention in a thread)",(Xe,ct,qt)=>{let{delta:tn,channelId:On,replyToTs:Ht,onSend:hn,viewContext:Fn}=qt;const $n=ct();if(Fn===zt.a.HUDDLE_THREADS)return{didOpen:!1};if(!tn)return{didOpen:!1};if(!Ht)return{didOpen:!1};const Jn=Object(Fe.d)($n,On);if(Object(je.h)(Jn))return{didOpen:!1};if(!Object(Un.a)($n)&&!Object(je.l)(Jn))return{didOpen:!1};if(Object(wn.H)(Object(Nn.g)($n)))return{didOpen:!1};if(Object(K.a)({contents:tn.ops}).length!==0)return{didOpen:!1};if(!ea(tn))return{didOpen:!1};const pa=Lt(tn),Ta=Object(kn.a)(Object(Ft.a)(pa,$a=>{const Na=Object(y.g)($n,$a,{preferNonExistentToNull:!1,fetchIfMissing:!1});return!Object(bn.ib)(Na)}));if(!Ta||!Ta.length)return{didOpen:!1};if(Ta.some($a=>Object(Je.a)($a)))return{didOpen:!1};if(Ta.length<=Object(Tn.a)($n)){const $a=r.a.createElement($t,{experimentThreadMentionSpeedbumpGroupOn:Object(x.d)($n,"thread_mention_speedbump")==="on",channelId:On,replyToTs:Ht,atMentionedUsers:Ta,viewContext:Fn,onClose:()=>{Xe(Object(Ea.a)())},onSend:hn,onShare:()=>{Xe(Object(dn.a)({isQuiet:!0,memberIds:Ta,shouldNavigateToChannel:!1})).then(Na=>{Xe(Object(Bn.a)({channelId:On,ts:Ht,initialChannelId:Na?Na.id:void 0,viewContext:Fn,initialFocusOnText:!0}))})}});return Xe(Object(ia.a)({element:$a})),{didOpen:!0}}return{didOpen:!1}});Kt.meta={name:"createThunk",key:"createThunkmaybeOpenThreadMentionWarningDialog",description:"Display broadcast warning (@mention in a thread)"};var Kn=Kt,aa=e("Gnyr"),ln=e("HOkk"),en=e("yxNq"),xt=e("y/Pn"),sn=e("FdVR"),nn=e("Enx8"),Ln=e("x6tY");const Pn=new R.b("message-input");let yn=h(class extends f.Component{componentDidMount(){this.inputProxy=Object(At.a)({viewContext:zt.a.MESSAGE_PANE,channelId:this.props.channelId})}sendMessage(){const{channelId:ct,delta:qt,draftId:tn,dateScheduled:On}=this.props;if(!On){var Ht;(Ht=this.inputProxy)===null||Ht===void 0||Ht.clear()}this.props.prepareAndSendMessage({channelId:ct,delta:qt,draftId:tn,dateScheduled:On,includePrivateFileReshareWarning:!1}),this.props.onClose()}render(){const{channel:ct,connectedTeamNames:qt,files:tn,onClose:On,fileOwners:Ht,channelDisplayName:hn}=this.props;let Fn="",$n="";const Jn=tn?tn.length:0,sa=Ht.length!==0&&Ht[0]===void 0,oa=Pn.rt("{file_count, plural, =1 {This file was} other {These files were}} shared with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by anyone in <strong>{channel_name}</strong>.",{channel_name:hn,file_count:Jn}),pa=Pn.rt("{file_count, plural, =1 {This file was} other {These files were}} shared with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by <strong>{recipient_name}</strong>.",{recipient_name:hn,file_count:Jn}),Ta=Pn.rt("{file_count, plural, =1 {This file was} other {These files were}} shared with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by everyone in this conversation.",{file_count:Jn});return Object(xt.a)(ct)&&(Object(je.g)(ct)||Object(je.i)(ct)||Object(je.k)(ct))?(Fn=Pn.t("Share private {file_count, plural, =1 {file} other {files}}?",{file_count:Jn}),$n=sa?oa:Pn.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, {file_count, plural, =1 {the file} other {they}} could be shared with anyone from <strong>{workspace_name}</strong>.",{user_names:Object(R.h)(Ht).join(""),workspace_name:Object(R.h)(qt||[],{noEscape:!0}).join(""),file_owners_count:Ht.length,file_count:Jn})):Object(xt.a)(ct)&&Object(je.l)(ct)?(Fn=Pn.t("Share private {file_count, plural, =1 {file} other {files}}?",{file_count:Jn}),$n=sa?oa:Pn.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, {file_count, plural, =1 {the file} other {they}} will be viewable by anyone from <strong>{workspace_names}</strong>.",{user_names:Object(R.h)(Ht).join(""),workspace_names:Object(R.h)(qt||[],{noEscape:!0}).join(""),file_owners_count:Ht.length,file_count:Jn})):Object(je.g)(ct)?(Fn=Pn.t("Share private {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments?",{file_count:Jn}),$n=sa?pa:Pn.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by <strong>{recipient_name}</strong>.",{user_names:Object(R.h)(Ht).join(""),recipient_name:hn,file_owners_count:Ht.length,file_count:Jn})):Object(je.i)(ct)?(Fn=Pn.t("Share private {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments?",{file_count:Jn}),$n=sa?Ta:Pn.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by everyone in this conversation.",{user_names:Object(R.h)(Ht).join(""),file_owners_count:Ht.length,file_count:Jn})):(Fn=Pn.t("Share private {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments?",{file_count:Jn}),$n=sa?oa:Pn.rt("<strong>{user_names}</strong> {file_owners_count, plural, =1 {originally shared} other {originally shared}} {file_count, plural, =1 {this file} other {these files}} with you privately. If you share {file_count, plural, =1 {it} other {them}} here, both the {file_count, plural, =1 {file} other {files}} and {file_count, plural, =1 {its} other {their}} comments will be viewable by anyone in <strong>{channel_name}</strong>.",{user_names:Object(R.h)(Ht).join(""),channel_name:hn,file_owners_count:Ht.length,file_count:Jn})),r.a.createElement(ln.a,{isOpen:!0,onClose:On,title:Fn,goButtonText:Pn.t("Share {file_count, plural, =1 {File} other {Files}}",{file_count:Jn,fallbackHash:"a0ddcef14890cf697038778a296afa7de9d50abd"}),onGo:this.sendMessage},$n)}constructor(ct){super(ct),Object(et.a)(this,["sendMessage"])}},"MessageInputPrivateReshareWarning");yn.displayName="MessageInputPrivateReshareWarning";const Zt=h((Xe,ct)=>{let{channelId:qt,files:tn}=ct;const On=Object(Fe.d)(Xe,qt),Ht=(tn||[]).map($n=>Object(Ln.H)($n).userId),hn=Object(kn.a)(Ht).map($n=>Object(nn.a)(Xe,$n||""));let Fn;return Object(xt.a)(On)&&(Fn=Object(sn.a)(Xe,On).map(sa=>Object(Nn.s)(Xe,sa)).map(sa=>Object(wn.h)(sa))),{channel:On,channelDisplayName:Object(c.t)(Xe,On)||"",fileOwners:hn,connectedTeamNames:Fn}},"message_input_private_reshare_warning_mapStateToProps"),qn={prepareAndSendMessage:Xe=>ya(Xe)};var ta=Object(mt.a)(Zt,qn,null,{areStatePropsEqual:(Xe,ct)=>Object(en.a)(Xe,ct,2)})(yn);const la=Object(E.c)("Display private file reshare warning",(Xe,ct,qt)=>{let{channelId:tn,delta:On,files:Ht,draftId:hn,dateScheduled:Fn}=qt;const $n=r.a.createElement(ta,{channelId:tn,delta:On,files:Ht,draftId:hn,dateScheduled:Fn,onClose:()=>{Xe(Object(Ea.a)())}});Xe(Object(ia.a)({element:$n}))});la.meta={name:"createThunk",key:"createThunkopenPrivateFileReshareWarningDialog",description:"Display private file reshare warning"};var Yn=la,Jt=e("XZ+b"),Qn=e("ExKK"),Zn=e("hRxb"),Hn=e("Os2i"),Sa=e("zxER"),Ca=e("ktUG"),La=e("hUMe"),Gt=e("Trx9");const Ct=new R.b("drafts"),It={elementName:"message_input_slack_connect_canvas_sharing_disabled_speed_bump",elementType:Ca.ElementType.MODAL},on={elementName:"cancel",elementType:Ca.ElementType.BUTTON,action:Ca.UiAction.CLICK,onClick:{enableClogAction:!0}},Sn={elementName:"share",elementType:Ca.ElementType.BUTTON,action:Ca.UiAction.CLICK,onClick:{enableClogAction:!0}};function He(Xe){let{onClose:ct,onSend:qt,fileCount:tn}=Xe;const On=Object(Sa.c)(j.i),Ht=Object(f.useCallback)(()=>{qt(),ct()},[qt,ct]),hn=r.a.createElement(La.a,{id:On,bold:!1,className:"no_wrap"});return r.a.createElement(Gt.a,{eventId:Ca.EventId.QUIP_EXTERNAL_FILE_SPEED_BUMP},r.a.createElement(dt.a,{closeModal:ct,autoClogProps:It},r.a.createElement(dt.l,{title:Ct.rt("Some people can\u2019t view {count, plural, =1 {this canvas} other {these canvases}}",{count:tn,fallbackHash:"fc2e280aa90def9698cc07a6365fe4860dabf27f"})}),r.a.createElement(dt.d,null,r.a.createElement(dt.e,null,r.a.createElement("p",null,Ct.rt("Your admins turned off external sharing so only people from <strong>{currentTeam}</strong> will be able to open it.",{currentTeam:hn,fallbackHash:"46a2f09a71c9e98f07554c55ece3c46345deed71"})))),r.a.createElement(dt.g,null,r.a.createElement(dt.h,null,r.a.createElement(dt.c,{type:"outline",autoFocus:!0,onClick:ct,autoClogProps:on},Ct.t("Cancel")),r.a.createElement(dt.c,{type:"primary",onClick:Ht,autoClogProps:Sn},Ct.t("Send Anyway"))))))}h(He,"MessagePaneInputSlackConnectCanvasSharingDisabledSpeedBump"),He.displayName="MessagePaneInputSlackConnectCanvasSharingDisabledSpeedBump";var re=He;const ue=Object(E.c)("Show external quip doc reshare warning",(Xe,ct,qt)=>{let{delta:tn,fileIds:On=[],channelId:Ht,onSend:hn}=qt;const Fn=ct(),$n=Object(z.a)(tn),Jn=Object(o.a)($n.map(pa=>Object(Zn.a)(Fn,pa))),sa=[];[...On,...Jn].forEach(pa=>{const Ta=Object(C.e)(Fn,pa);Ta&&Object(Ln.u)(Ta)&&sa.push(Ta)});const oa=Object(Hn.b)(Fn,Ht,sa[0]);if(sa.length>0&&oa){const pa=r.a.createElement(re,{fileCount:sa.length,onClose:()=>{Xe(Object(Ea.a)())},onSend:hn});return Xe(Object(ia.a)({element:pa})),{didOpen:!0}}return{didOpen:!1}});ue.meta={name:"createThunk",key:"createThunkmaybeOpenSlackConnectCanvasSharingDisabledSpeedBump",description:"Show external quip doc reshare warning"};var ve=ue,De=e("kMME"),We=e("rAyg"),we=e("oY18"),Be=e("fPvm"),ke=e("BBdC"),Le=e("vUys"),Ze=e("RMWS"),ot=e("28Q5"),bt=e("q6Tz"),ht=e("IaLB"),Bt=e("4YJR"),Yt=e("v5z3"),Cn=e("rZ8V");const an=5,Mn=Object(E.c)("Handle the send message event and maybe show progressive disclosure tip",function(){var Xe=Object(n.coroutine)(function*(ct,qt,tn){let{hasMentions:On,isInThread:Ht}=tn;var hn;const Fn={[Yt.f.FirstMessage]:ce.e.PD_FIRST_MESSAGE_SENT,[Yt.f.AtMention]:ce.e.MENTION,[Yt.f.Threads]:ce.e.THREAD_REPLY_SENT},$n={[Yt.f.FirstMessage]:()=>!0,[Yt.f.AtMention]:()=>On,[Yt.f.Threads]:()=>Ht},Jn=Object(ht.jb)(qt()),sa=Jn&&(Object(ht.qb)(qt(),{tip:Jn})||Object(ht.pb)(qt(),{tip:Jn})),oa=Jn&&$n[Jn]&&((hn=$n[Jn])===null||hn===void 0?void 0:hn.call($n));if(sa&&oa){const pa=Fn[Jn];pa&&(ct(Object(Bt.H)("")),ct(Object(bt.b)({event:{type:pa,current_notification:Object(he.c)(qt(),ce.g.PROGRESSIVE_DISCLOSURE),...pa===ce.e.PD_FIRST_MESSAGE_SENT&&{iaVersion:Object(Cn.n)(qt())?4:3}}})))}});return function(ct,qt,tn){return Xe.apply(this,arguments)}}());Mn.meta={name:"createThunk",key:"createThunkhandleSendMessageForProgressiveDisclosure",description:"Handle the send message event and maybe show progressive disclosure tip"};const rn={PROGRESSIVE_DISCLOSURE_SENT_MESSAGE_TRIGGER_MAX:an};var xn=e("Rw2D"),gt=e("4+qf"),Rt=e("JoR1"),mn=e("T1zM");const ca=7,da="attempt-to-trigger-user-expectations-survey",_a=h((Xe,ct)=>{let{lastAttempt:qt,currentTime:tn}=ct;const On=D(Xe);return On?tn-qt>On:!1},"sufficientTimeHasPassedSinceLastSurveyTrigger"),zn=Object(E.c)("Maybe Trigger user expectations survey to be delivered to this client",function(){var Xe=Object(n.coroutine)(function*(ct,qt){const tn=qt();if(!W(tn)||!_a(tn,{lastAttempt:Object(Rt.t)(tn)||0,currentTime:Date.now()}))return!1;const Ht=yield ct(Object(gt.a)({id:ca,payload:{},reason:da}));return Ht!=null&&Ht.ok?(ct(Object(mn.f)({pref:"user_expectations_survey_last_trigger_attempt",value:Date.now()})),!0):!1});return function(ct,qt){return Xe.apply(this,arguments)}}());zn.meta={name:"createThunk",key:"createThunkmaybeTriggerUserExpectationsSurvey",description:"Maybe Trigger user expectations survey to be delivered to this client"};var na=zn,ga=e("w5j6"),ma=e("yMyB"),Oa=e("2XGx"),ka=e("bHB/"),Ua=e("l/Qw"),Va=e("g0EK"),qa=e("hD2y"),ja=e("ByMX"),xa=e("9wgI"),Wa=e("gTpg"),es=e("6kKm"),Pa=e("oNuo"),ss=e("O5bS");const Ma=new R.b("client");function os(Xe,ct,qt){let{channelId:tn,replyToTs:On,delta:Ht}=qt;const hn=Xe(),Fn=Object(Wa.a)(hn,tn),$n=On||!Fn?[]:Object(se.a)(Object(xa.a)(hn,tn),"id"),Jn=Ht.filter(sa=>Object(yt.b)(sa).substr(0,2)==="BK").map(sa=>Object(yt.b)(sa));if(Jn.includes("BKhere")&&!$n.includes("BKhere")||Jn.includes("BKchannel")&&!$n.includes("BKchannel")){let sa;const oa=Jn.includes("BKhere")?Object(es.a)(Object(Pa.a)("BKhere")):Object(es.a)(Object(Pa.a)("BKchannel"));return Fn?Object(Va.a)(hn,tn)?sa=Ma.t("Usage of *{key_word}* is restricted to Workspace Admins in this large channel.",{key_word:`@${oa}`}):sa=Ma.t("A Workspace Owner has restricted the use of *{key_word}* messages.",{key_word:`@${oa}`}):sa=Ma.t("*{key_word}* has been disabled in this channel, so your message cannot be sent.",{key_word:`@${oa}`,fallbackHash:"aee9a551962ffe54c8895c5c343bf148282e4d20",fallbackHashNs:"client"}),ct(Object(Pt.b)({temporary:!0,ephemeralType:ss.a.genericPostingRestricted,message:{text:sa,channel:tn,thread_ts:On}})),!0}if(Jn.includes("BKeveryone")&&!$n.includes("BKeveryone")){const sa=Object(es.a)(Object(Pa.a)("BKeveryone"));let oa=Ma.t("A Workspace Owner has restricted the use of *{everyone}* messages.",{everyone:`@${sa}`});return Fn?Object(ja.b)(hn)?oa=Ma.t("Your account is restricted, and you cannot send *{everyone}* messages.",{everyone:`@${sa}`}):Object(qa.a)(hn,tn)&&(oa=Ma.t("Usage of *{everyone}* is restricted to Workspace Admins in the large general channel.",{everyone:`@${sa}`})):oa=Ma.t("*{everyone}* has been disabled in this channel, so your message cannot be sent.",{everyone:`@${sa}`,fallbackHash:"6b9b037da332eea6189a4ce55f2eaf212bbf8e50",fallbackHashNs:"client"}),ct(Object(Pt.b)({temporary:!0,ephemeralType:ss.a.genericPostingRestricted,message:{text:oa,channel:tn,thread_ts:On}})),!0}return!1}h(os,"hasProhibitedKeywords");var za=e("mzZe"),Ka=e("nnVK"),Za=e("ISSR"),ds=e("pZC0"),ts=e("miM7");const us=new R.b("client");function is(Xe,ct,qt){let{channelId:tn,replyToTs:On,isScheduledSend:Ht}=qt;const hn=Xe(),Fn=Object(Fe.d)(hn,tn);if(On)return Object(je.r)(Fn)||Object(c.bb)(hn,Fn)||!Object(c.b)(hn,Fn)||Object(Za.a)(Fn)||Fn&&!Object(c.db)(Fn)&&!Object(ds.a)(Fn)||Object(Ka.a)(hn,{threadTs:On,channelId:tn})?(Object(P.b)().warn("userCanPostToChannel false for threads"),!1):!0;if(!Object(za.b)(hn,tn)&&Object(ts.a)(Fn)){const $n=us.t("A Workspace Owner has restricted posting to the *{channel_name}* channel.",{channel_name:Object(c.t)(hn,Fn)||""});return ct(Object(Pt.b)({temporary:!0,ephemeralType:ss.a.generalPostingRestricted,message:{text:$n,channel:tn,thread_ts:On}})),Object(P.b)().warn("userCanPostToChannel false for general channels"),!1}if(Fn&&Object(c.w)(hn,Fn)){const $n=us.t("Posting to *{channel_name}* has been restricted to select members.",{channel_name:Object(c.t)(hn,Fn)||""});return ct(Object(Pt.b)({temporary:!0,ephemeralType:ss.a.generalPostingRestricted,message:{text:$n,channel:tn,thread_ts:On}})),Object(P.b)().warn("userCanPostToChannel false for readOnlyDraft"),!1}return!Object(za.b)(hn,tn)||Object(Za.a)(Fn)||!Ht&&!Object(c.db)(Fn)?(Object(P.b)().warn(`userCanPostToChannel false for generic error, canPostInChannel ${Object(za.b)(hn,tn)}, isArchived ${Object(Za.a)(Fn)}, isScheduledSend ${Ht}, isMemberOfChannel ${Object(c.db)(Fn)}`),!1):!0}h(is,"userCanPostToChannel");var Ya=e("5IZy"),fs=e("tvJC"),gs=e("htTJ"),vs=e("Pw4T"),Qa=e("rIJ2");function hs(Xe,ct){let qt=0,tn=0;const On=[],Ht=Object(Qa.a)(10);if(ct.forEach(hn=>{var Fn;if(Object(yt.a)(hn)&&(Object(fs.a)(Object(yt.b)(hn))?tn+=1:Object(yt.e)(hn)||(qt+=1)),Ht&&Object(gs.a)(hn)&&hn.insert===((Fn=hn.attributes)===null||Fn===void 0?void 0:Fn.link)){var $n;On.push((($n=hn.attributes)===null||$n===void 0?void 0:$n.link)||"")}}),(qt||tn)&&Object(Ya.a)({state:Xe}).track(Ca.EventId.MSG_SUBMITTED_MENTIONS,{num_mentions:qt,num_unverified_mentions:tn}),On.length){const hn=Object(vs.d)({state:Xe});On.forEach(Fn=>hn.count("messaging_link_length",Fn.length))}}h(hs,"countAndClogMentionsAndUrls");var rs=e("lLIM"),ms=e("f+33");const ns=Object(E.c)("Parse message to determine if its the Welcome DM then clog and mark as sent",(Xe,ct,qt)=>{let{delta:tn,channelId:On}=qt;const Ht=Object(ms.c)(tn);Ht&&Xe(Object(Bt.Y)(On)),Object(Ya.a)({state:ct()}).track(Ca.EventId.NEWXP_TEAM_CREATE,{contexts:{ui_context:{action:Ca.UiAction.CLICK,step:Ca.UiStep.CHAMPION_SUGGESTION_MESSAGE,ui_properties:{element_name:"champion_suggestion_message_sent",element_value:Ht?"template":"custom"}}}})});ns.meta={name:"createThunk",key:"createThunkparseAndClogWelcomeDmMessage",description:"Parse message to determine if its the Welcome DM then clog and mark as sent"};var ps=e("FezJ"),Ja=e("p/ji"),Cs=e("bQRJ"),at=e("B4kw");const Ye=Object(E.c)("clog a message send to a recommended user and remove the recommendation from the newxp_suggested_channels pref for sidebar suggestions. For the launchpad, call the custom clogging utility",(Xe,ct,qt)=>{let{channelId:tn}=qt;const On=ct();if(Object(Ja.i)(On)){const Ht=Object(ye.a)(Object(Fe.d)(On,tn));Object(Cs.a)(On,tn)||Xe(Object(at.b)(Ht))}});Ye.meta={name:"createThunk",key:"createThunkclogAndRemoveRecommendedDm",description:"clog a message send to a recommended user and remove the recommendation from the newxp_suggested_channels pref for sidebar suggestions. For the launchpad, call the custom clogging utility"};var it=e("v7mh"),ft=e("2VFn"),Ot=e("D1F6"),pt=e("KVhq"),St=e("8gWv"),wt=e("Vk8Z"),En=e("nwIl");const Gn=new R.b("client"),gn={name:"warning"},un=Object.freeze({ShoutyRooster:"Shouty rooster in effect",AtMentionInviteCoachmark:"At Mention invite coachmark in effect",ThreadMentionWarning:"Thread mention warning in effect",PrivateFileReshare:"Showing private file re-share",AddRemoveReactionFailed:"Could not add/remove reaction",PostingRestrictionInEffect:"Posting restrictions in effect",ProhibitedBroadcastKeywordInEffect:"Broadcast keyword restrictions in effect",ExternalMembersSpeedBump:"Sharing to external members speed bump in effect",LinkWarning:"Link warning in effect",ExternalQuipFileSpeedBump:"Sharing externally owned quip doc speed bump in effect",SlackConnectCanvasSharingDisabledSpeedBump:"Sharing canvas when Slack Connect canvas sharing is disabled speed bump in effect",PrivateMessageForwardingSpeedBump:"Private message forwarding speed bump in effect"}),va=Object.freeze([un.ShoutyRooster,un.AtMentionInviteCoachmark,un.PrivateFileReshare,un.AddRemoveReactionFailed,un.PostingRestrictionInEffect,un.ProhibitedBroadcastKeywordInEffect,un.ExternalMembersSpeedBump,un.LinkWarning,un.ExternalQuipFileSpeedBump,un.PrivateMessageForwardingSpeedBump]),ua=Object(E.c)("Prepare a message and dispatch the `sendMessage` thunk",(Xe,ct,qt)=>{var tn,On;const{channelId:Ht,delta:hn,fileIds:Fn,unfurlsWithData:$n,contactUnfurls:Jn,filePermissions:sa,replyToTs:oa,shouldBroadcast:pa=!1,includeBroadcastKeywordWarning:Ta=!1,includeAtMentionInviteWarning:$a=!1,includeThreadMentionWarning:Na=!1,includePrivateFileReshareWarning:ls=!1,includeExternalMembersSpeedBump:Ha=!0,includeLoginInitiateRedirectLinkWarning:cs=!1,includeExternalQuipFileSpeedBump:Da=!0,includeSlackConnectCanvasSharingDisabledSpeedBump:ba=!0,includePrivateMessageForwardingSpeedBump:Ga=!0,xArgs:Fa,pendingFileIds:Ra,draftId:ra,draftUniqueId:Ia,detachedDraftId:Ms,notificationTracePassthroughData:js,dateScheduled:Os,shouldProcessEventForProgressiveDisclosure:Ns,fileAnnotation:Fs,inputRef:Es,isFromDraftsPageAndExternallySharedChannel:Xs,viewContext:Ws,windowId:ws,channelSetBlocks:Ks,experimentShareableSectionsGroupTreatment:qs,slashCommandApplicableTeamId:eo,slashCommandAppId:to,unfurls:Ds}=qt,Ba=ct(),no=Object(j.g)(Ba)||"",Ls=Object(En.f)(Ba),ao=Object(St.b)(Ba),xs=Object(N.a)({state:Ba}),_s=!!Os,Rs=!Object(a.a)(Fn)||!Object(a.a)(Ra),Ps=Rs?xs.createTrace({traceName:"file_message_send_attempt"}):xs.createTrace({traceName:"message_send_attempt",tags:{endpoint:"chat.postMessage",channel_id:Ht,has_blocks:!!hn}}),Hs=Object(B.a)(Object(_.i)(Ba,Ht)),Gs=Object(P.a)({getState:ct});Object(A.e)(Hs,no);const{processedDelta:ys}=Ps.traceFn({name:"message_send_attempt:prepare"},xn.a.bind(void 0,Ba,{channelId:Ht,delta:hn,inThread:!!oa}));if(ao&&oa&&Object(it.a)(Ba)===ft.d.Assistant&&Xe(Object(wt.a)({threadTs:oa})),cs){const Aa=Object(z.a)(ys),Xa=Object(s.a)(Aa,wa=>wa.includes("slack.com/openid/connect/login_initiate_redirect"));if(Xa)return Xe(Object(Jt.a)({channelId:Ht,dateScheduled:Os,urlString:Xa,onClose:l.a,onSend:Object(n.coroutine)(function*(){const wa=Object(ke.a)(Object(M.k)(ct(),ra||"")),bs=Object(Le.a)(ct(),ra||"");yield Xe(ua({draftId:ra,draftUniqueId:Ia,channelId:Ht,delta:hn,includeLoginInitiateRedirectLinkWarning:!1,fileIds:wa,pendingFileIds:bs,dateScheduled:Os})),!_s&&ra&&Xe(Object(Be.a)({ids:[ra],reason:"PrepareAndSendMessage:openLoginInitiateRedirectLinkWarningDialog"}))})})),t.a.reject(new Error(un.LinkWarning))}if(Ga&&Xe(Object(De.a)({channelId:Ht,unfurls:Ds,unfurlsWithData:$n,isScheduledSend:_s,onSend:Object(n.coroutine)(function*(){const Xa=Object(ps.a)(Ds,$n);if(_s&&ra)Xe(Object(Ue.a)({draftId:ra,dateScheduled:Os,acknowledgedUnfurls:Xa})).then(()=>{Xe(Object(g.a)({id:Ht})).catch(wa=>{Xe(Object(g.a)({id:"Pscheduled-messages"})),Gs.info("SCHEDULE-SEND",`failed to redirect to ${Ht}, redirecting to schedule send page; error: ${wa==null?void 0:wa.message}`)})});else{const wa=Object(ke.a)(Object(M.k)(ct(),ra||"")),bs=Object(Le.a)(ct(),ra||"");Es==null||Es.clear(),yield Xe(ua({draftId:ra,draftUniqueId:Ia,channelId:Ht,replyToTs:oa,shouldBroadcast:pa,delta:hn,includePrivateMessageForwardingSpeedBump:!1,includeExternalMembersSpeedBump:!1,fileIds:wa,pendingFileIds:bs,filePermissions:sa,dateScheduled:Os,unfurls:Xa})),ra&&Xe(Object(Be.a)({ids:[ra],reason:"PrepareAndSendMessage:openPrivateMessageForwardingSpeedBump"}))}})})).didOpen)return t.a.reject(new Error(un.PrivateMessageForwardingSpeedBump));if(Ha){const Aa=(Fn??[]).concat(Array.isArray(Ra)?Ra:[]);if(Xe(Object(aa.a)({fileIds:Aa,entityId:Ht,delta:ys,onClose:l.a,onSendLater:l.a,onSend:Object(n.coroutine)(function*(){if(_s&&ra)Xe(Object(Ue.a)({draftId:ra,dateScheduled:Os}));else{const wa=Object(ke.a)(Object(M.k)(ct(),ra||"")),bs=Object(Le.a)(ct(),ra||"");Es==null||Es.clear(),yield Xe(ua({draftId:ra,draftUniqueId:Ia,channelId:Ht,replyToTs:oa,delta:hn,includeExternalMembersSpeedBump:!1,fileIds:wa,pendingFileIds:bs,unfurls:Ds,contactUnfurls:Jn,filePermissions:sa,shouldBroadcast:pa,xArgs:Fa,shouldProcessEventForProgressiveDisclosure:!!Ns})),ra&&Xe(Object(Be.a)({ids:[ra],reason:"PrepareAndSendMessage:maybeOpenExternalMembersSpeedBump"}))}}),isScheduledSend:_s,isFromDraftsPageAndExternallySharedChannel:!!Xs,isFromScheduledPage:!1})).didOpen)return t.a.reject(new Error(un.ExternalMembersSpeedBump))}const Vs=Object(K.a)({contents:ys.ops});if(Ta&&Object(m.a)(Ba,Ht,Vs))return Xe(Object(Nt.a)({channelId:Ht,keywordsInUse:Vs,dateScheduled:Os,onClose:l.a,onSend:Object(n.coroutine)(function*(){const Aa=Object(ke.a)(Object(M.k)(ct(),ra||"")),Xa=Object(Le.a)(ct(),ra||"");yield Xe(ua({draftId:ra,draftUniqueId:Ia,channelId:Ht,delta:hn,includeBroadcastKeywordWarning:!1,fileIds:Aa,pendingFileIds:Xa,dateScheduled:Os})),!_s&&ra&&Xe(Object(Be.a)({ids:[ra],reason:"PrepareAndSendMessage:openBroadcastKeywordWarningDialog"}))})})),t.a.reject(new Error(un.ShoutyRooster));if($a&&Xe(fn({channelId:Ht,delta:hn,onSend:Object(n.coroutine)(function*(){const Xa=Object(ke.a)(Object(M.k)(ct(),ra||"")),wa=Object(Le.a)(ct(),ra||"");yield Xe(ua({draftId:ra,draftUniqueId:Ia,channelId:Ht,delta:hn,includeAtMentionInviteWarning:!1,fileIds:Xa,pendingFileIds:wa})),ra&&Xe(Object(Be.a)({ids:[ra],reason:"PrepareAndSendMessage:maybeOpenAtMentionInviteWarningDialog"}))})})).didOpen)return t.a.reject(new Error(un.AtMentionInviteCoachmark));let zs;oa&&(zs={reply_broadcast:pa,thread_ts:oa}),hs(Ba,ys);const as={channel:Ht,ts:Hs,type:"message",xArgs:Fa,...zs};Ds&&(as.unfurl=Ds),Object(b.b)(Ba)&&!Object(a.a)(Jn)?as.attachments=Object(Oa.a)(Jn||[]):qs&&Ks&&(as.attachments=[{blocks:Ks}]);let Is=[];if(Ls&&(Is=Object(Ot.a)(Ba,{draftId:Ms||ra}),Is.length)){var Bs;as.attachments=((Bs=as.attachments)!==null&&Bs!==void 0?Bs:[]).concat(Is)}if(js&&(as.notificationTracePassthroughData=js),Fs&&(as.file_annotation=Fs),sa!=null&&sa.length&&(as.file_permissions=sa),Object(c.Y)(Ba,Ht,!1)){const Aa=Object(O.a)(Ba,{channelId:Ht});Aa&&(as.service_team_id=Aa)}if(Object(x.d)(Ba,"thread_mention_speedbump")==="on"&&!Rs&&Na&&oa&&!(!(as==null||(tn=as.attachments)===null||tn===void 0)&&tn.length)&&Xe(Kn({channelId:Ht,delta:hn,replyToTs:oa,viewContext:Ws,onSend:Object(n.coroutine)(function*(){const Xa=Object(ke.a)(Object(M.k)(ct(),ra||"")),wa=Object(Le.a)(ct(),ra||"");yield Xe(ua({draftId:ra,draftUniqueId:Ia,channelId:Ht,replyToTs:oa,delta:hn,includeThreadMentionWarning:!1,fileIds:Xa,pendingFileIds:wa})),ra&&Xe(Object(Be.a)({ids:[ra],reason:"PrepareAndSendMessage:maybeOpenThreadMentionWarningDialog"}))})})).didOpen)return t.a.reject(new Error(un.ThreadMentionWarning));if(Object(Ja.i)(Ba)&&Xe(Ye({channelId:Ht})),Object(rs.d)(Ba)&&Xe(ns({delta:hn,channelId:Ht})),ls){const Aa=Object(z.a)(ys),Xa=Object(o.a)(Aa.map(Ts=>Object(U.a)(Ba,Ts))).map(Ts=>Object(C.e)(Ba,Ts)),wa=Object(y.c)(Ba),bs=Xa.filter(Ts=>Ts&&!Object(v.a)(Ts)&&Object(p.a)(Ts)&&Ts.user!==wa.id);if(bs.length>0)return Xe(Yn({channelId:Ht,delta:hn,files:bs,draftId:ra,dateScheduled:Os})),t.a.reject(new Error(un.PrivateFileReshare))}if(Da){const Aa=(Fn??[]).concat(Array.isArray(Ra)?Ra:[]);if(Xe(Object(Qn.a)({delta:ys,fileIds:Aa,onSend:Object(n.coroutine)(function*(){const wa=Object(ke.a)(Object(M.k)(ct(),ra||"")),bs=Object(Le.a)(ct(),ra||"");Es==null||Es.clear(),yield Xe(ua({draftId:ra,draftUniqueId:Ia,channelId:Ht,replyToTs:oa,delta:hn,includeExternalQuipFileSpeedBump:!1,includeSlackConnectCanvasSharingDisabledSpeedBump:!1,fileIds:wa,pendingFileIds:bs,filePermissions:sa,dateScheduled:Os})),ra&&Xe(Object(Be.a)({ids:[ra],reason:"PrepareAndSendMessage:openExternalQuipFileSpeedBump"}))})})).didOpen)return t.a.reject(new Error(un.ExternalQuipFileSpeedBump))}if(ba){const Aa=(Fn??[]).concat(Array.isArray(Ra)?Ra:[]);if(Xe(ve({delta:ys,fileIds:Aa,channelId:Ht,onSend:Object(n.coroutine)(function*(){const wa=Object(ke.a)(Object(M.k)(ct(),ra||"")),bs=Object(Le.a)(ct(),ra||"");Es==null||Es.clear(),yield Xe(ua({draftId:ra,draftUniqueId:Ia,channelId:Ht,replyToTs:oa,delta:hn,includeSlackConnectCanvasSharingDisabledSpeedBump:!1,fileIds:wa,pendingFileIds:bs,filePermissions:sa,dateScheduled:Os})),ra&&Xe(Object(Be.a)({ids:[ra],reason:"PrepareAndSendMessage:openSlackConnectCanvasSharingDisabledSpeedBump"}))})})).didOpen)return t.a.reject(new Error(un.SlackConnectCanvasSharingDisabledSpeedBump))}if(!_s){const Aa=Xe(Ut({delta:ys,channelId:Ht,threadTs:oa}));if(Aa.didHandle&&!Aa.didAddOrRemove)return t.a.reject(new Error(un.AddRemoveReactionFailed));if(Aa.didHandle)return t.a.resolve();const Xa=Xe(Object(ka.a)({channelId:Ht,threadTs:oa,delta:ys,viewContext:Ws,windowId:ws,slashCommandApplicableTeamId:eo,slashCommandAppId:to}));if(Xa)return Xa}if(!is(ct,Xe,{channelId:Ht,replyToTs:oa,isScheduledSend:_s}))return t.a.reject(new Error(un.PostingRestrictionInEffect));if(os(ct,Xe,{channelId:Ht,replyToTs:oa,delta:ys}))return t.a.reject(new Error(un.ProhibitedBroadcastKeywordInEffect));if(_s&&ra)return xs.clearTrace(Ps),Xe(Object(Ue.a)({draftId:ra,dateScheduled:Os}));if(Object(x.d)(Ba,"workspace_context_for_netskope")==="on"){const Aa=Object(u.a)(Object(Fe.d)(Ba,Ht));Aa&&(as.client_context_team_id=Aa)}try{const Aa=Ps.traceFn({name:"message_send_attempt:blocks"},V.b.bind(void 0,{delta:ys,state:Ba})).blocks;Aa&&Aa.length>0&&(as.blocks=Aa),Ls&&(Is!=null&&Is.length)&&!Aa&&(as.blocks=[])}catch(Aa){Gs.error("RICH-TEXT",`Conversion of Delta to Block Kit failed with error: "${Aa.message}")`,Aa);const Xa=r.a.createElement(We.a,{svgIconProps:gn},Gn.rt("Couldn\u2019t send message. You may need to remove formatting or retype your message."));return Xe(Object(we.a)({element:Xa})),t.a.reject(Aa)}!_s&&Object(ma.a)(Ba,Ht)&&Xe(Object(ga.c)({channelId:Ht,threadTs:oa,expiryTs:Date.now()+15e3}));const so=Object(ot.f)(Ba);Xe(Object(Ze.a)({channelId:Ht})),so&&(Object(ot.c)(Ba)||Xe(Object(G.a)({pref:"message_input_cta_complete",value:!0})),Object(Z.a)(Ba,"has_sent_first_message")||Xe(Object(G.a)({pref:"has_sent_first_message",value:!0})),!Object(Z.a)(Ba,"has_sent_first_direct_message")&&Object(it.a)(Ba)===ft.d.DMs&&Object(je.g)(Object(Fe.d)(Ba,Ht))&&Xe(Object(G.a)({pref:"has_sent_first_direct_message",value:!0}))),Xe(Me({channelId:Ht})),((On=Object(ht.i)(Ba))===null||On===void 0?void 0:On.tip)===Yt.f.FirstMessage&&Xe(Object(Bt.m)({state:Yt.g.Success,tip:Yt.f.FirstMessage})),Ns&&Xe(Mn({hasMentions:Object(d.Eb)(as),isInThread:!!oa})),W(Ba)&&Xe(na());let As;return Rs&&ra?As=Xe(Pe({fileIds:Fn||[],channelId:Ht,threadTs:oa,msgParams:as,shouldBroadcast:pa,delta:hn,pendingFileIds:Ra,xArgs:Fa,draftId:ra,trace:Ps})):(as.messageSendTrace=Ps,As=Xe(Object(Ua.b)(as))),Ia?(Xe(Object(T.e)({draftId:Ia,isSending:!0})),As.then(()=>{Xe(Object(T.f)({draftId:Ia})),Ls&&Xe(Object(pt.a)({draftIds:[Ia,ra]}))}).catch(()=>{Xe(Object(T.e)({draftId:Ia,isSending:!1}))})):As});ua.meta={name:"createThunk",key:"createThunkprepareAndSendMessage",description:"Prepare a message and dispatch the `sendMessage` thunk"};var ya=i.c=ua},f80L:function(J,i,e){"use strict";var n=e("Lgge"),t=e("q1tI"),a=e.n(t),s=e("n3tL"),l=e("gPPH"),o=e("s4P+"),f=e("THWC"),r=e("SQ0V"),m=e("ZvCj"),c=e("oY18"),u=e("nNoG"),d=e("rAyg");const p=new u.b("drafts"),v={},g={};function O(){return a.a.createElement(d.a,null,p.t("You\u2019ve reached the maximum number of drafts allowed"))}h(O,"DraftLimitToast"),O.displayName="DraftLimitToast",O.propTypes=v,O.defaultProps=g;var b=O,y=b;const C=Object(r.c)("Create a new composer draft",function(j,E){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T=E();if(Object(f.a)(T))return j(Object(c.a)({element:a.a.createElement(y)})),Object(o.a)({state:T,label:"DRAFTS"}).info("Failed to create composer draft (max_num_drafts)"),n.a.reject(new Error("max_num_drafts"));const P=Object(l.a)(),B={client_draft_id:P,is_from_composer:!0,...M};return j(Object(m.a)({draft:B,reason:"createComposerDraft",sync:!1})),n.a.resolve(P)});C.meta={name:"createThunk",key:"createThunkcreateComposerDraft",description:"Create a new composer draft"},C.propTypes=s.default.object;var _=i.a=C},fGmc:function(J,i,e){"use strict";e.d(i,"b",function(){return V}),e.d(i,"a",function(){return A}),e.d(i,"c",function(){return x}),e.d(i,"d",function(){return F});var n=e("G4qV"),t=e("zmn3"),a=e("bPB8"),s=e("xWuZ"),l=e("JoR1"),o=e("LvEQ"),f=e("O86Y"),r=e("k400");function m(L){return!L||!L.localEmoji?[]:Object.keys(L.localEmoji)}h(m,"getEmojiCollectionLocalEmojiNames");var c=e("Oy0v"),u=e("YlCL"),d=e("EJqq"),p=e("nNoG"),v=e("AiJP"),g=e("7+Lm"),O=e("uVZW"),b=e("coh6"),y=e("RVJP"),C=e("UPr+"),_=e("yrot");const j=new p.b("emoji"),E=36,M=5,T=["slightly_smiling_face","heart","+1","100","bug"],P=h((L,S)=>{if(!S)return null;const{name:I}=Object(c.a)(S)||{};if(!I)return null;const W=Object(_.n)(L,I);return W?`E${W.unicode}`:`E${I}`},"getEmojiFrecencyIdFromName"),B={},R={},U={};function K(L,S,I,W,D){if(S.length>=W)return S;const H=z(L,I,W,D);if(S.length===0)return H;let Z=H.length-S.length;const G=new Set(S);for(let te=0;te<H.length&&!(Z<=0);te++){const se=H[te];G.has(se)||(G.add(se),Z-=1,S.push(se))}return S}h(K,"ensureMinResults");function V(L){let{maxNum:S=E,minNum:I=M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const W=Object(f.g)(L);if(Object(y.d)(L,"snd_searcher_emoji_frequently_used")==="searcher"){const G=Date.now(),te=U[W]||{};if(G<=te.expirationTime)return G+9e5>te.expirationTime&&(te.expirationTime=G+9e5),te.data;const se=Object(b.G)(L,{query:"",options:{entities:{emoji:{matchKeywords:!0}},sort:{source:"emoji-frequently-used",frecency:!0,modelLocal:!0,model:"emojiFrequentlyUsed"},allowEmptyQuery:!0,limit:250,returnMetadata:!0}}).filter($=>$.hitCount>0||$.itemCount>0).map($=>$.item.name).slice(0,S);return te.data=K(L,se,W,S,I),te.expirationTime=G+144e5,U[W]=te,te.data}return z(L,W,S,I)}h(V,"getFrequentlyUsedEmoji");function z(L,S,I,W){const D=Object(l.u)(L,"emoji_use")||B[S]||{},H=`${S}|${I}|${W}`;if(B[S]===D&&R[H])return R[H];const Z=Object.keys(D).reduce((te,se)=>{const $=Object(_.d)(L,{text:F(se),teamId:S});if(!$||!Object(p.e)()&&Object(_.f)(L,{text:$,teamId:S})&&Object(d.g)({state:L,locale:Object(p.m)(),name:$})!==$)return te;const X=te[$]||0,q=D[se];return te[$]=X+q,te},{}),G=Object.keys(Z).sort((te,se)=>{const $=Z[te],X=Z[se];if($===X){if(te<se)return-1;if(te>se)return 1}return-($-X)});if(G.length<W){const te=W-G.length;R[H]=[...G,...T.slice(0,te)]}else R[H]=G.slice(0,I);return B[S]=D,R[H]}h(z,"getUsedEmojiFromPref");const N=Object(n.a)(u.c,()=>Object(p.m)(),L=>Object(t.a)(L.filter(S=>S.name!=="Skin Tones"),S=>({name:S.name,nameLocalized:Object(d.h)(S),emoji_names:S.emoji_names}))),A=Object(n.a)(L=>Object(_.r)(L)?Object(C.e)(L):Object(_.h)(L),_.r,V,o.d,N,f.h,L=>Object(g.c)(L,O.g.EMOJI_DRAWER),(L,S,I,W,D,H,Z)=>{if(!H)return null;const G={name:"Frequently Used",nameLocalized:j.t("Frequently Used",{fallbackHash:"37d705a1bb3f5c4de282c71afa432104e3cfd417",fallbackHashNs:"emoji"}),emoji_names:I};let te=L,se=[];const $=W;if(se=Object(a.a)($.map(ee=>{const w=Object(r.a)(ee),ne=m(ee);let ae;return S?ae=ne:ae=te.filter(de=>ne.includes(de)),ae.length?{name:w,nameLocalized:w,emoji_names:ae,omitFromTabs:!0}:null})),se.length){const ee=Object(s.a)(se.map(w=>w.emoji_names));te=te.filter(w=>!ee.includes(w))}let X=[];if(Z===O.h.PRODUCTIVITY_REACJI){const ee=Object.keys(Object(v.a)());X=[{name:"Getting Work Done",nameLocalized:j.t("Getting Work Done"),emoji_names:ee}]}const q=te.length?[{name:"Custom",nameLocalized:j.t("Custom",{fallbackHash:"081ae3fdc403609cf6e760849ebb14117b7a50cb",fallbackHashNs:"emoji"}),emoji_names:te}]:[],Y=I.length>0?[G]:[];return S?[...Y,...X,...D,...se,...q]:[...Y,...X,...D,...q,...se]});function x(L){delete U[L],delete B[L]}h(x,"invalidateCachedEmojiResults");const k={DEFAULT_FREQUENTLY_USED_EMOJI_NAMES:T,getCustomEmojiForCurrentTeamSorted:_.h,getTranslatedEmojiCategories:N};Object.defineProperty(k,"getFrequentlyUsedEmoji",{get:()=>V,set:L=>{V=L}});function F(L){return L.split("::")[0]}h(F,"stripSkinTone")},fdJE:function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("xwCZ"),t=e("E3dU"),a=e("52Wj"),s=e("K1vi"),l=e("AQ1G");function o(f,r){if(!r)return"";const m=Object(s.a)(r,"EDIT",{jumbomoji:!1,allow_intra_word_formatting:!1});return Object(l.a)(m).reduce((c,u)=>{if(u.type==="member"){const d=Object(n.g)(f,u.id),p=Object(a.b)(d);return`${c}@${p||u.id}`}if(u.type==="channel"){const d=Object(t.d)(f,u.id),p=d?d.name:"";return`${c}#${p}`}if(u.type==="command"){if(u.data.type==="here"||u.data.type==="channel"||u.data.type==="everyone"||u.data.type==="group")return`${c}@${u.data.type}`;if(u.data.type==="date"||u.data.type==="subteam")return c+u.data.label}return u.text?c+u.text:c},"")}h(o,"messageTextToPlainText")},feGl:function(J,i,e){"use strict";var n=e("mM05"),t=e.n(n),a=e("SQ0V"),s=e("tcou"),l=e("WBOM"),o=e("2oNE"),f=e("xwCZ"),r=e("52Wj"),m=e("E3dU"),c=e("Yauy");const u=Object(a.c)("Support dragging links to texty inputs",(d,p,v)=>{let{dragEvent:g,inputProxy:O}=v;var b;const y=g==null||(b=g.dataTransfer)===null||b===void 0?void 0:b.getData("text/uri-list");if(!y||!O)return null;const C=Object(s.a)(y);if(!C.length)return null;const _=p(),j=C[0],E=Object(l.e)(_,j.url);if(C&&C.length===1&&j.text===y){const M=O.getSelection(),T=new t.a;if((M==null?void 0:M.index)>0&&(E||j!=null&&j.text&&(j!=null&&j.url))){const P=O.getText(M.index-1,1);P!==" "&&P!==`
`&&T.insert(" ")}if((E==null?void 0:E.type)===l.a.MEMBER){const P=Object(f.g)(_,E==null?void 0:E.memberId);if(!(P!=null&&P.id))return T;const B=Object(o.a)(P.id,`@${Object(r.b)(P)}`,[]);B!=null&&B.label&&T.insert(B.label,B)}else if((E==null?void 0:E.type)===l.a.MESSAGE)if(E!=null&&E.ts)T.insert(`${j.text}`,{link:j.url});else{const P=Object(m.d)(_,E==null?void 0:E.channelId);if(!(E!=null&&E.channelId))return T;const B=Object(o.a)(E==null?void 0:E.channelId,`#${Object(c.K)(P)}`,[]);B!=null&&B.label&&T.insert(B.label,B)}else j!=null&&j.text&&(j!=null&&j.url)&&!E&&T.insert(`${j.text}`,{link:j.url});return(M==null?void 0:M.index)<O.getLength()&&(E||j!=null&&j.text&&(j!=null&&j.url))&&O.getText(M.index+1,1)!==" "&&T.insert(" "),T}return null});u.meta={name:"createThunk",key:"createThunkdragLinksToComposer",description:"Support dragging links to texty inputs"},i.a=u},feSS:function(J,i,e){"use strict";const n=h(s=>typeof s=="function"?s():s,"executeIfFunction"),t=h(s=>l=>o=>o in s?s[o]:l,"switchcase"),a=h(s=>l=>o=>n(t(s)(l)(o)),"switchcaseF");i.a=a},fnDJ:function(J,i,e){"use strict";e.d(i,"a",function(){return u});var n=e("zmn3"),t=e("bPB8"),a=e("BeL+"),s=e("gSGL"),l=e("CpTu"),o=e("s4P+"),f=e("ROZo");const r=Object(f.a)("TS.ui.frecency.query",()=>[]);var m=e("mNiN"),c=e("s2GU");function u(d){let{text:p,label:v,globalIndex:g,localIndex:O,results:b,matchLength:y,formats:C}=d,_,j;const E={id:"UNVERIFIED",label:v,globalIndex:g,length:v.length,formats:C,type:"mention"};if(b.length===1&&b[0].is_broadcast_keyword)return Object(o.b)().info("AUTOSLUG",`Creating broadcast keyword mention (${b[0].id})`),_=Object(c.a)(b[0]),{id:b[0].id,label:_,globalIndex:g,length:y,formats:C,type:"mention"};let M=Object(n.a)(b,T=>Object(m.d)(Object(c.a)(T)));M=M.concat(Object(n.a)(b,T=>Object(m.d)(Object(c.b)(T)))),M=Object(t.a)(Object(a.a)(M)),M.sort((T,P)=>(Object(s.a)(P)?P.length:0)-(Object(s.a)(T)?T.length:0));for(let T=0;T<M.length&&(j=M[T]||"",!(v.length>j.length));T+=1){const P=Object(m.c)(j,p,O);if(P||b.length<=1){const B=b.filter(Object(c.c)(j));if(Object(m.b)(j,v)&&B.length===1&&(P||!B[0].is_usergroup))return Object(o.b)().info("AUTOSLUG",`Inserting real mention, only a single matching result (${B[0].id}). ${b.length} total results`),_=Object(c.a)(B[0]),{id:B[0].id,label:_,globalIndex:g,length:b.length===1&&!P?E.length:j.length,formats:C,type:"mention"};if(Object(m.b)(j,v)&&B.length>1){Object(o.b)().info("AUTOSLUG",`${B.length} matching results, trying to break tie using frecency`);const R=r(B,v,null,{normalize:!0});if(R&&R.length>1&&R[0].score-R[1].score>=30){const U=Object(l.a)(B,{id:R[0].id});return _=U?Object(c.a)(U):"",Object(o.b)().info("AUTOSLUG",`Inserting real mention, tie was broken using frecency (${R[0].id}=${R[0].score};${R[1].id}=${R[1].score})`),{id:(U==null?void 0:U.id)||"",label:_,globalIndex:g,length:b.length===1&&!P?E.length:j.length,formats:C,type:"mention"}}}if(P)return Object(o.b)().info("AUTOSLUG",`Inserting maybe-mention mention, expanded mention to cover name (${b.length} total results)`),E.label=p.substr(O,j.length),E.length=j.length,E}}return Object(o.b)().info("AUTOSLUG",`Fallback: Inserting maybe-mention (${b.length} total results)`),E}h(u,"createPotentialMentionObject")},fuYn:function(J,i,e){"use strict";e.d(i,"b",function(){return v}),e.d(i,"a",function(){return g});var n=e("ZKjC"),t=e("0VPD"),a=e("fujP"),s=e("E3dU"),l=e("gVOt"),o=e("xwCZ"),f=e("ehcD"),r=e("O86Y"),m=e("bJfW"),c=e("rZ8V"),u=e("bqbz"),d=e("VqrZ");const p=Object(n.b)(function(O){let{channelId:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(b)return O&&O.appHomeContextTeam&&O.appHomeContextTeam[b]});p.meta={name:"createSelector",key:"createSelectormaybeGetCurrentAppHomeContextTeamId",description:function(O){let{channelId:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(b)return O&&O.appHomeContextTeam&&O.appHomeContextTeam[b]}};const v=Object(n.b)(function(O){let{channelId:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const y=Object(r.f)(O)||[],C=Object(s.d)(O,b);if(!C)return y;const _=Object(l.a)(C),j=Object(o.g)(O,_),E=Object(f.a)(j),M=Object(t.a)(y,E);return Object(a.a)(M)?y:M});v.meta={name:"createSelector",key:"createSelectorgetPossibleAppHomeContextTeamIds",description:function(O){let{channelId:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const y=Object(r.f)(O)||[],C=Object(s.d)(O,b);if(!C)return y;const _=Object(l.a)(C),j=Object(o.g)(O,_),E=Object(f.a)(j),M=Object(t.a)(y,E);return Object(a.a)(M)?y:M}};const g=Object(n.b)(function(O){let{channelId:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Object(c.j)(O))return;const y=p(O,{channelId:b});if(y)return y;const C=Object(r.g)(O),_=v(O,{channelId:b});if(!Object(a.a)(_)){if(C&&Object(m.a)(C)&&_.includes(C))return C;const j=Object(u.A)(O),E=(j==null?void 0:j.type)===d.b.Workspace?j.workspace.id:void 0;if(E&&_.includes(E))return E;const M=Object(r.c)(O);return M&&_.includes(M)?M:_[0]}});g.meta={name:"createSelector",key:"createSelectorgetAppHomeContextTeamId",description:function(O){let{channelId:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Object(c.j)(O))return;const y=p(O,{channelId:b});if(y)return y;const C=Object(r.g)(O),_=v(O,{channelId:b});if(!Object(a.a)(_)){if(C&&Object(m.a)(C)&&_.includes(C))return C;const j=Object(u.A)(O),E=(j==null?void 0:j.type)===d.b.Workspace?j.workspace.id:void 0;if(E&&_.includes(E))return E;const M=Object(r.c)(O);return M&&_.includes(M)?M:_[0]}}}},gBoP:function(J,i,e){"use strict";e.d(i,"c",function(){return E}),e.d(i,"b",function(){return M}),e.d(i,"a",function(){return T}),e.d(i,"q",function(){return P}),e.d(i,"p",function(){return B}),e.d(i,"r",function(){return R}),e.d(i,"i",function(){return U}),e.d(i,"h",function(){return V}),e.d(i,"g",function(){return z}),e.d(i,"k",function(){return N}),e.d(i,"o",function(){return A}),e.d(i,"n",function(){return x}),e.d(i,"m",function(){return k}),e.d(i,"l",function(){return F}),e.d(i,"e",function(){return L}),e.d(i,"f",function(){return S}),e.d(i,"j",function(){return I}),e.d(i,"d",function(){return W});var n=e("SQ0V"),t=e("gPPH"),a=e("QRgo"),s=e("Ipa7"),l=e("2jTV"),o=e("6G6r"),f=e("yHFC"),r=e("K1sk"),m=e("+l5E"),c=e("UIhb"),u=e("Jhy3"),d=e("dmdh"),p=e("3zNH"),v=e("0w2g"),g=e("Lgge"),O=e("QN65"),b=e("JoR1"),y=e("Bnbe");const C=Object(n.c)("update local SavedCounts for counts.uncompletedCount",(D,H,Z)=>{const G=H(),te=Object(f.k)(G),se={...te,uncompletedCount:te.uncompletedCount+Z};D(Object(o.i)(se))});C.meta={name:"createThunk",key:"createThunkupdateLocalUncompletedCount",description:"update local SavedCounts for counts.uncompletedCount"};const _=Object(n.c)("update local SavedCounts for counts.uncompletedOverdueCount",(D,H,Z)=>{const G=H(),te=Object(f.k)(G),se={...te,uncompletedOverdueCount:te.uncompletedOverdueCount+Z};D(Object(o.i)(se))});_.meta={name:"createThunk",key:"createThunkupdateLocalUncompletedOverdueCount",description:"update local SavedCounts for counts.uncompletedOverdueCount"};const j=Object(n.c)("update local SavedCounts for local item removal",(D,H,Z)=>{Z&&!Object(r.c)(Z)&&!Object(r.a)(Z)&&(Object(r.b)(Z)&&D(_(-1)),D(C(-1)))});j.meta={name:"createThunk",key:"createThunkupdateLocalCountsForItemRemoval",description:"update local SavedCounts for local item removal"};const E=Object(n.c)("Add a saved message to redux and call the API",(D,H,Z)=>{let{channelId:G,messageTs:te,dateDue:se=void 0,isCustomDateDue:$=!1}=Z;if(!G||!te)return g.a.reject(new Error(`${v.c} addSavedMessage() requires channelId and messageTs arguments. Received ${G}, ${te}`));const X=Object(b.u)(H(),"has_starred_item")===!0,q={itemType:a.a.message,itemId:G,ts:te,dateDue:se,dateCreated:Math.floor(Date.now()/1e3),dateCompleted:0,dateUpdated:0,isArchived:!1,state:"in_progress"};D(Object(o.a)(q)),D(Object(o.h)(q.dateCreated)),D(C(1)),Object(r.b)(q)&&D(_(1)),$&&se&&D(Object(o.g)(se));const Y=Object(c.b)(H(),G,te);if(Y){const ee={...Y,saved:Object(O.a)(q)};D(Object(u.a)([ee]))}return D(Object(l.g)({channelId:G,messageTs:te,dateDue:se})).then(ee=>(D(Object(y.a)(X)),g.a.resolve(ee))).catch(ee=>{const w=ee&&ee.data;return((w==null?void 0:w.error)===s.a.ChannelNotFound||(w==null?void 0:w.error)===s.a.MessageNotFound||(w==null?void 0:w.error)===s.a.PermissionDenied)&&(D(Object(o.d)({itemId:G,messageTs:te})),Y&&(delete Y.saved,D(Object(u.a)([Y])))),g.a.reject(ee)})});E.meta={name:"createThunk",key:"createThunkaddSavedMessage",description:"Add a saved message to redux and call the API"};const M=Object(n.c)("Add a saved file to redux and call the API",(D,H,Z)=>{let{fileId:G,dateDue:te=void 0,isCustomDateDue:se=!1}=Z;if(!G)return g.a.reject(new Error(`${v.c} addSavedFile() requires fileId argument. Received ${G}`));const $=Object(b.u)(H(),"has_starred_item")===!0,X={itemType:a.a.file,itemId:G,dateDue:te,dateCreated:Math.floor(Date.now()/1e3),dateCompleted:0,dateUpdated:0,isArchived:!1,state:"in_progress"};D(Object(o.a)(X)),D(Object(o.h)(X.dateCreated)),D(C(1)),Object(r.b)(X)&&D(_(1)),se&&te&&D(Object(o.g)(te));const q=Object(d.e)(H(),G);if(q){const Y={...q,saved:Object(O.a)(X)};D(Object(p.a)({files:[Y]}))}return D(Object(l.f)({fileId:G,dateDue:te})).then(Y=>(D(Object(y.a)($)),g.a.resolve(Y))).catch(Y=>{const ee=Y&&Y.data;return((ee==null?void 0:ee.error)===s.a.FileNotFound||(ee==null?void 0:ee.error)===s.a.PermissionDenied)&&D(Object(o.d)({itemId:G})),g.a.reject(Y)})});M.meta={name:"createThunk",key:"createThunkaddSavedFile",description:"Add a saved file to redux and call the API"};const T=Object(n.c)("Add a reminder to redux and call the API",(D,H,Z)=>{let{description:G,dateDue:te=void 0,isCustomDateDue:se=!1}=Z;if(!G)return g.a.reject(new Error(`${v.c} addReminder() requires a description argument`));const $=Object(b.u)(H(),"has_starred_item")===!0,X=Object(t.a)(),q={itemId:X,dateCreated:Math.floor(Date.now()/1e3),itemType:a.a.reminder,description:G,dateDue:te,dateCompleted:0,dateUpdated:0,state:"in_progress"};return D(Object(o.a)(q)),D(Object(o.h)(q.dateCreated)),D(C(1)),Object(r.b)(q)&&D(_(1)),se&&te&&D(Object(o.g)(te)),D(Object(l.h)({description:G,clientId:X,dateDue:te})).then(Y=>(D(Object(y.a)($)),g.a.resolve(Y))).catch(Y=>(D(Object(o.d)({itemId:X})),g.a.reject(Y)))});T.meta={name:"createThunk",key:"createThunkaddReminder",description:"Add a reminder to redux and call the API"};const P=Object(n.c)("Update a saved message in redux and call the API",(D,H,Z)=>{let{channelId:G,messageTs:te,dateDue:se=void 0,isCustomDateDue:$=!1}=Z;if(!G||!te)return g.a.reject(new Error(`${v.c} updateSavedMessage() requires channelId and messageTs arguments. Received ${G}, ${te}`));const X=Object(O.f)({channelId:G,messageTs:te}),q=Object(f.l)(H(),X);if(q){const Y={...q,dateUpdated:Math.floor(Date.now()/1e3),dateDue:se};Object(r.a)(q)&&!Object(r.a)(Y)&&D(C(1)),!Object(r.a)(q)&&Object(r.a)(Y)&&(D(C(-1)),Object(r.b)(q)&&D(_(-1))),D(Object(o.j)({itemId:X,updatedItem:Y}));const ee=Object(c.b)(H(),G,te);if(ee){const w={...ee,saved:Object(O.a)(Y)};D(Object(u.a)([w]))}$&&se&&D(Object(o.g)(se))}return D(Object(l.o)({channelId:G,messageTs:te,dateDue:se})).catch(Y=>(q&&D(Object(o.j)({itemId:X,updatedItem:q})),g.a.reject(Y)))});P.meta={name:"createThunk",key:"createThunkupdateSavedMessage",description:"Update a saved message in redux and call the API"};const B=Object(n.c)("Update a saved file in redux and call the API",(D,H,Z)=>{let{itemId:G,dateDue:te=void 0,isCustomDateDue:se=!1}=Z;if(!G)return g.a.reject(new Error(`${v.c} updateSavedFile() requires itemId argument of type file. Received ${G}`));const $=H(),X=Object(f.l)($,G);if(X){const q={...X,dateUpdated:Math.floor(Date.now()/1e3),dateDue:te};Object(r.a)(X)&&!Object(r.a)(q)&&D(C(1)),!Object(r.a)(X)&&Object(r.a)(q)&&(D(C(-1)),Object(r.b)(X)&&D(_(-1))),D(Object(o.j)({itemId:G,updatedItem:q}));const Y=Object(d.e)($,G);if(Y){const ee={...Y,saved:Object(O.a)(X)};D(Object(p.a)({files:[ee]}))}te&&se&&D(Object(o.g)(te))}return D(Object(l.n)({itemId:G,dateDue:te})).catch(q=>(X&&D(Object(o.j)({itemId:G,updatedItem:X})),g.a.reject(q)))});B.meta={name:"createThunk",key:"createThunkupdateSavedFile",description:"Update a saved file in redux and call the API"};const R=Object(n.c)("Update a saved reminder in redux and call the API",(D,H,Z)=>{let{itemId:G,description:te=void 0,dateDue:se=void 0,isCustomDateDue:$=!1}=Z;if(!G)return g.a.reject(new Error(`${v.c} updateSavedReminder() requires an itemId argument. Received ${G}`));const X=Object(f.l)(H(),G);if(!X)return g.a.reject(new Error(`${v.c} updateSavedReminder() could not find item to update`));if(X.itemType!==a.a.reminder)return g.a.reject(new Error(`${v.c} updateSavedReminder() requires a reminder itemType`));const q=X,Y={...X,description:te||q.description,dateDue:typeof se<"u"?se:q.dateDue};return!Object(r.b)(X)&&Object(r.b)(Y)&&D(_(1)),Object(r.b)(X)&&!Object(r.b)(Y)&&D(_(-1)),se&&$&&D(Object(o.g)(se)),D(Object(o.j)({itemId:G,updatedItem:Y})),D(Object(l.p)({itemId:G,description:Y.description,dateDue:Y.dateDue})).catch(ee=>(X&&D(Object(o.j)({itemId:G,updatedItem:X})),g.a.reject(ee)))});R.meta={name:"createThunk",key:"createThunkupdateSavedReminder",description:"Update a saved reminder in redux and call the API"};const U=Object(n.c)("Remove a saved message in redux and optionally call the API",(D,H,Z)=>{let{channelId:G,messageTs:te,skipApi:se=!1}=Z;if(!G||!te)return g.a.reject(new Error(`${v.c} removeSavedMessage() requires channelId and messageTs arguments. Received ${G}, ${te}`));const $=Object(O.f)({channelId:G,messageTs:te}),X=Object(f.l)(H(),$);X&&(D(j(X)),D(Object(o.d)({itemId:G,messageTs:te})));const q=Object(c.b)(H(),G,te);if(q&&(delete q.saved,D(Object(u.a)([q]))),!se)return D(Object(l.e)({channelId:G,messageTs:te})).then(()=>g.a.resolve()).catch(Y=>(X&&D(Object(o.a)(X)),g.a.reject(Y)))});U.meta={name:"createThunk",key:"createThunkremoveSavedMessage",description:"Remove a saved message in redux and optionally call the API"};const K=Object(n.c)("Toggle saved for later state on a message",(D,H,Z)=>{let{channelId:G,messageTs:te}=Z;const se=Object(c.b)(H(),G,te);return Object(m.xb)(se)?D(U({channelId:G,messageTs:te})):D(E({channelId:G,messageTs:te}))});K.meta={name:"createThunk",key:"createThunktoggleSavedMessage",description:"Toggle saved for later state on a message"};const V=Object(n.c)("Remove a saved file in redux and optionally call the API",(D,H,Z)=>{let{itemId:G,skipApi:te=!1}=Z;if(!G)return g.a.reject(new Error(`${v.c} removeSavedFile() requires itemId argument of type file. Received ${G}`));const se=H(),$=Object(f.l)(se,G);$&&(D(j($)),D(Object(o.d)({itemId:G})));const X=Object(d.e)(se,G);if(X&&(delete X.saved,D(Object(p.a)({files:[X]}))),!te)return D(Object(l.c)({itemId:G})).then(()=>g.a.resolve()).catch(q=>($&&D(Object(o.a)($)),g.a.reject(q)))});V.meta={name:"createThunk",key:"createThunkremoveSavedFile",description:"Remove a saved file in redux and optionally call the API"};const z=Object(n.c)("Remove a reminder in redux and optionally call the API",(D,H,Z)=>{let{itemId:G,skipApi:te=!1}=Z;if(!G)return g.a.reject(new Error(`${v.c} removeReminder() requires an itemId argument. Received ${G}`));const se=Object(f.l)(H(),G);if(se&&(D(j(se)),D(Object(o.d)({itemId:G}))),!te)return D(Object(l.d)({itemId:G})).then(()=>g.a.resolve()).catch($=>(se&&D(Object(o.a)(se)),g.a.reject($)))});z.meta={name:"createThunk",key:"createThunkremoveReminder",description:"Remove a reminder in redux and optionally call the API"};const N=Object(n.c)("Mark a reminder complete in redux and call the API",(D,H,Z)=>{let{itemId:G,mark:te,reason:se}=Z;if(!G)return g.a.reject(new Error(`${v.c} toggleReminderComplete() requires an itemId argument. Received ${G}`));const $=Object(f.l)(H(),G);if(!$)return g.a.reject(new Error(`${v.c} toggleReminderComplete() could not find item to update`));const X=Math.floor(Date.now()/1e3),q={...$,dateCompleted:X};return D(Object(o.j)({itemId:G,updatedItem:q})),te===a.c.completed?(D(C(-1)),Object(r.b)($)&&D(_(-1))):(D(C(1)),Object(r.b)($)&&D(_(1))),D(Object(l.i)({itemId:G,mark:te,reason:se})).catch(Y=>(D(Object(o.j)({itemId:G,updatedItem:$})),g.a.reject(Y)))});N.meta={name:"createThunk",key:"createThunktoggleReminderComplete",description:"Mark a reminder complete in redux and call the API"};const A=Object(n.c)("Toggle a saved message completed state in redux and call the API",(D,H,Z)=>{let{channelId:G,messageTs:te,mark:se,reason:$}=Z;if(!G||!te)return g.a.reject(new Error(`${v.c} toggleSavedMessageComplete() requires channelId and messageTs arguments. Received ${G}, ${te}`));const X=Object(O.f)({channelId:G,messageTs:te}),q=Object(f.l)(H(),X);if(!q)return g.a.reject(new Error(`${v.c} toggleSavedMessageComplete() could not find item to mark complete`));const Y=se===a.c.completed?Math.floor(Date.now()/1e3):0,ee={...q,dateCompleted:Y};D(Object(o.j)({itemId:X,updatedItem:ee})),se===a.c.completed?(D(C(-1)),Object(r.b)(q)&&D(_(-1))):D(C(1));const w=Object(c.b)(H(),G,te);if(w){const ne={...w,saved:Object(O.a)(ee)};D(Object(u.a)([ne]))}return D(Object(l.m)({channelId:G,messageTs:te,mark:se,reason:$})).catch(ne=>(D(Object(o.j)({itemId:X,updatedItem:q})),g.a.reject(ne)))});A.meta={name:"createThunk",key:"createThunktoggleSavedMessageComplete",description:"Toggle a saved message completed state in redux and call the API"};const x=Object(n.c)("Toggle a saved message archived state in redux and call the API",(D,H,Z)=>{let{channelId:G,messageTs:te,mark:se,reason:$}=Z;if(!G||!te)return g.a.reject(new Error(`${v.c} toggleSavedMessageArchived() requires channelId and messageTs arguments. Received ${G}, ${te}`));const X=Object(O.f)({channelId:G,messageTs:te}),q=Object(f.l)(H(),X);if(!q)return g.a.reject(new Error(`${v.c} toggleSavedMessageArchived() could not find item to mark archived`));const Y={...q,dateDue:0,isArchived:se===a.c.archived};D(Object(o.j)({itemId:X,updatedItem:Y})),se===a.c.archived?(D(C(-1)),Object(r.b)(q)&&D(_(-1))):D(C(1));const ee=Object(c.b)(H(),G,te);if(ee){const w={...ee,saved:Object(O.a)(Y)};D(Object(u.a)([w]))}return D(Object(l.l)({channelId:G,messageTs:te,mark:se,reason:$})).catch(w=>(D(Object(o.j)({itemId:X,updatedItem:q})),g.a.reject(w)))});x.meta={name:"createThunk",key:"createThunktoggleSavedMessageArchived",description:"Toggle a saved message archived state in redux and call the API"};const k=Object(n.c)("Toggle a saved file completed state in redux and call the API",(D,H,Z)=>{let{itemId:G,mark:te,reason:se}=Z;if(!G)return g.a.reject(new Error(`${v.c} toggleSavedFileComplete() requires itemId argument. Received ${G}`));const $=Object(f.l)(H(),G);if(!$)return g.a.reject(new Error(`${v.c} toggleSavedFileComplete() could not find item to mark complete`));const X=te===a.c.completed?Math.floor(Date.now()/1e3):0,q={...$,dateCompleted:X};return D(Object(o.j)({itemId:G,updatedItem:q})),te===a.c.completed?(D(C(-1)),Object(r.b)($)&&D(_(-1))):D(C(1)),D(Object(l.k)({itemId:G,mark:te,reason:se})).catch(Y=>(D(Object(o.j)({itemId:G,updatedItem:$})),g.a.reject(Y)))});k.meta={name:"createThunk",key:"createThunktoggleSavedFileComplete",description:"Toggle a saved file completed state in redux and call the API"};const F=Object(n.c)("Toggle a saved file archived state in redux and call the API",(D,H,Z)=>{let{itemId:G,mark:te,reason:se}=Z;if(!G)return g.a.reject(new Error(`${v.c} toggleSavedFileArchived() requires itemId argument. Received ${G}`));const $=Object(f.l)(H(),G);if(!$)return g.a.reject(new Error(`${v.c} toggleSavedFileArchived() could not find item to mark archived`));const X={...$,dateDue:0,isArchived:te===a.c.archived};return D(Object(o.j)({itemId:G,updatedItem:X})),te===a.c.archived?(D(C(-1)),Object(r.b)($)&&D(_(-1))):D(C(1)),D(Object(l.j)({itemId:G,mark:te,reason:se})).catch(q=>(D(Object(o.j)({itemId:G,updatedItem:$})),g.a.reject(q)))});F.meta={name:"createThunk",key:"createThunktoggleSavedFileArchived",description:"Toggle a saved file archived state in redux and call the API"};const L=Object(n.c)("Remove completed items from redux locally",(D,H)=>{const Z=H();Object(f.f)(Z).map(te=>{if(te)return te.itemType===a.a.message?D(U({channelId:te.itemId,messageTs:te.ts,skipApi:!0})):te.itemType===a.a.file?D(V({itemId:te.itemId,skipApi:!0})):D(z({itemId:te.itemId,skipApi:!0})),te})});L.meta={name:"createThunk",key:"createThunkclearLocalCompletedItems",description:"Remove completed items from redux locally"};const S=Object(n.c)("Delete all completed items",D=>{D(Object(l.a)({reason:"manually_marked_all_completed"})),D(L())});S.meta={name:"createThunk",key:"createThunkremoveAllCompletedItems",description:"Delete all completed items"};const I=Object(n.c)("Snooze a reminder",(D,H,Z)=>{let{item:G,dateDueTs:te}=Z;const se=G.itemType===a.a.message,$=G.itemType===a.a.file;D(se?P({channelId:G.itemId,messageTs:G.ts,dateDue:te}):$?B({itemId:G.itemId,dateDue:te}):R({itemId:G.itemId,dateDue:te}))});I.meta={name:"createThunk",key:"createThunksnoozeReminder",description:"Snooze a reminder"};const W=Object(n.c)("Apply change in later_show_upcoming_reminders pref",(D,H)=>{D(Object(l.b)({filter:a.b.saved,replace:!0}))});W.meta={name:"createThunk",key:"createThunkapplyUpcomingRemindersPrefChange",description:"Apply change in later_show_upcoming_reminders pref"}},"gES/":function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"a",function(){return a});var n=e("x6tY");function t(s){var l;return s==null||(l=s.attachments)===null||l===void 0?void 0:l[0]}h(t,"getAttachmentFromMessagePostedToFileChannel");function a(s){const l=Object(n.fb)(s),o=Object(n.R)(s)==="snippet";return!!(l||o)}h(a,"IsFileThumbnailAvailableForUnfurlsInCanvas")},gFcQ:function(J,i,e){"use strict";e.d(i,"a",function(){return r}),e.d(i,"b",function(){return m});var n=e("nNoG"),t=e("Y31Q"),a=e("EJqq"),s=e("7nxQ"),l=e("GYna");const o=new n.b("emoji");function f(c,u){const d=Object(n.m)();return Object(a.e)({state:c,locale:d,text:u})}h(f,"getLocalizedEmojiName");function r(c,u,d){let{state:p}=d;const v=f(p,c),g=Object(l.a)(p),O=v&&Object(t.b)(v,u,g);return v?Object(s.e)()?O:` ${O} `:g?o.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:c,size:u}):`${u} ${c} emojis`}h(r,"convertEmojiGroupNameToPhrase");function m(c,u){let{state:d}=u;const p=f(d,c),v=p&&Object(t.a)(p);return p?Object(s.e)()?v:` ${v} `:c}h(m,"convertEmojiNameToPhrase")},gMIi:function(J,i,e){"use strict";e.d(i,"a",function(){return v});var n=e("fujP"),t=e("SQ0V"),a=e("Lgge"),s=e("s4P+"),l=e("hD77"),o=e("q3X1"),f=e("Kn+X"),r=e("XELS"),m=e("I27i"),c=e("jKtb"),u=e("m5fH"),d=e("gCYc");const p=Object(t.c)("Creates a synced draft",function(O,b){let{draftId:y,reason:C,handleExistingAttachedDraft:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!y)return a.a.reject(new Error("Cannot sync draft creation due to a missing draft id"));const{error:j,info:E}=Object(s.a)({getState:b,label:"DRAFTS"}),M=Object(d.k)(b(),y);return M?Object(m.e)(b())?(E(`Syncing a new draft - ${y}`),Object(o.a)(y),O(Object(r.a)({draft:M,reason:C})).then(T=>{if(E(`New draft synced - ${y}`),!(T!=null&&T.draft)){j(`No draft received from the drafts.create response ${y}`);return}const P=Object(d.k)(b(),y);if(Object(n.a)(P)){E(`Draft no longer exists locally, skipping post API updates - ${y}`);return}const B=parseFloat(T.draft.last_updated_ts);O(Object(u.h)({client_draft_id:y,id:T.draft.id,last_updated_ts:B}))}).catch(T=>{(T==null?void 0:T.name)==="attached_draft_exists"&&_?_(y,M):j(`The drafts.create call failed - ${y}`,T)}).finally(()=>{Object(o.b)(y)})):(E(`Deferring create draft API while offline (id: ${y})`),O(Object(c.a)({draftClientId:y})),a.a.resolve()):(E(`No need to sync changes for a draft that no longer exists locally - ${y}`),a.a.resolve())});p.meta={name:"createThunk",key:"createThunksyncDraftCreate",description:"Creates a synced draft"};const v=Object(t.c)("Creates a draft locally and via API",function(O,b){let{draft:y,reason:C,syncImmediately:_=!1,handleExistingAttachedDraft:j}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object(n.a)(y))return;const{error:E}=Object(s.a)({getState:b,label:"DRAFTS"}),M=Object(f.e)(y);if(!M){E("Draft does not have an ID - an ID is required to create a draft");return}const T=h(()=>{const P={draftId:M,reason:C};j&&(P.handleExistingAttachedDraft=j),O(p(P))},"sync");_?T():Object(l.b)({draftId:M,sync:T})});v.meta={name:"createThunk",key:"createThunkcreateDraft",description:"Creates a draft locally and via API"};const g={syncDraftCreate:p}},gTpg:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("fujP"),t=e("9MPI"),a=e("dmHe");function s(l,o){var f;if(!Object(a.a)(l,o))return!0;const r=Object(t.a)(l,o,"enable_at_channel");return Object(n.a)(r)||((f=r)===null||f===void 0?void 0:f.enabled)}h(s,"isBroadcastKeywordsEnabled")},gV07:function(J,i,e){"use strict";var n=e("ifKl"),t=e("q1tI"),a=e.n(t),s=e("BHdc"),l=e("Cfcg"),o=e("G5NC"),f=e("DQNL"),r=e("G0eX"),m=e("GhjL"),c=e("beVI"),u=e("Tevt"),d=e("dl0f"),p=e("mzG2"),v=e("2vLX"),g=e("rZ8V"),O=e("Pn4H");function b(){return b=Object.assign||function(E){for(var M=1;M<arguments.length;M++){var T=arguments[M];for(var P in T)Object.prototype.hasOwnProperty.call(T,P)&&(E[P]=T[P])}return E},b.apply(this,arguments)}h(b,"_extends");function y(E){let{id:M,className:T=void 0,fallback:P=void 0,handle:B=void 0,isUserInGroup:R=!1,onClick:U=n.a,noHighlights:K=!1,noLinking:V=!1,isNonExistent:z=!1,isUnknown:N=!1,isDeactivated:A=!1,team:x=void 0,experimentIa4Enabled:k,showUserGroupDetailsProps:F}=E;const L=Object(t.useCallback)(G=>{k&&(F(M),G.preventDefault()),U(G,M)},[M,U,k,F]);if(N)return a.a.createElement(d.a,{type:"unknown"});if(z&&!P)return a.a.createElement(d.a,{type:"non-existent"});const S=!V&&!z&&!A,I=Object(p.a)({userGroupHandle:B,fallbackHandle:P,isUnknown:N,isNonExistent:z}),W=I,D=R&&!K,H=Object(s.default)("c-mrkdwn__user_group",T,{"c-mrkdwn__user_group--link":S,"c-mrkdwn__user_group--mention":D});if(!S)return a.a.createElement("span",{"data-user-group-id":M,"data-qa-user-group-mrkdwn-is-linked":S,"data-qa-user-group-mrkdwn-is-mention":D,className:H},W);const Z={};return Object(o.a)()?(Z["data-stringify-type"]="mention",Z["data-stringify-id"]=M,Z["data-stringify-label"]=I):Z["data-stringify-text"]=I,a.a.createElement(u.a,b({className:H,"data-user-group-id":M,"data-qa-user-group-mrkdwn-is-linked":S,"data-qa-user-group-mrkdwn-is-mention":D,href:`${Object(r.v)(x)}admin/user_groups`,onClick:L},Z),W)}h(y,"UserGroup"),y.displayName="UserGroup";const C=a.a.memo(y);function _(E,M){let{id:T}=M;const P=Object(m.d)(E,T);let B;if(P){const U=Object(f.v)(P),K=Object(f.t)(P),V=!Object(f.y)(P),z=P.handle||void 0;var R;B={handle:z,isUnknown:U,isNonExistent:K,isDeactivated:V,isUserInGroup:Object(v.b)(E,P.id)&&!V,team:(R=Object(c.g)(E))!==null&&R!==void 0?R:void 0,experimentIa4Enabled:!!Object(g.n)(E)}}else B={isNonExistent:!0,experimentIa4Enabled:!!Object(g.n)(E)};return B}h(_,"mapStateToProps");const j=h(E=>({showUserGroupDetailsProps:M=>E(Object(O.a)({groupId:M}))}),"mapDispatchToProps");i.a=Object(l.a)(_,j)(y)},ganR:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("zxER"),l=e("NNLN"),o=e("ktUG"),f=e("wNt4"),r=e("j/ar"),m=e("Trx9"),c=e("+HIp");const u=h(d=>{let{children:p,url:v}=d;const g=Object(a.useDispatch)(),O=Object(n.useContext)(l.a).channelId,b=Object(s.c)(E=>Object(r.c)(E,v)),y=Object(s.c)(E=>Object(r.d)(E,v)),C=Object(s.c)(E=>Object(c.c)(E,b??"")!==null),_=Object(n.useCallback)(E=>{E.shiftKey||E.metaKey||E.ctrlKey||(E.preventDefault(),g(Object(f.a)({url:v,channelId:O})))},[g,v,O]),j=Object(n.useMemo)(()=>({onClick:{enableClogAction:!C}}),[C]);return t.a.createElement(m.a,{eventId:o.EventId.IDL_CLICKED,idlAppId:b,idlDomain:y,idlEventId:o.EventId[o.EventId.IDL_CLICKED].toLowerCase()},typeof p=="function"?p(_,j):p)},"IdentityTransferTrigger");u.displayName="IdentityTransferTrigger",i.a=u},gcam:function(J,i,e){"use strict";e.d(i,"a",function(){return k});var n=e("6KId"),t=e("0LZ2"),a=e("atJn"),s=e("NHkt"),l=e("d0Vf"),o=e("pfyn"),f=e("0YPf"),r=e("Nyfb"),m=e("RgTj"),c=e("eagO"),u=e("nHWZ"),d=e("eodU"),p=e("FENE"),v=e("KHUB"),g=e("v7hc"),O=e("ob13"),b=e("MAfL"),y=e("WLde"),C=e("53Jr"),_=e("bvgm"),j=e("cGkz"),E=e("vhgo"),M=e("uYNn"),T=e("bXvw"),P=e("4pJt"),B=e("8r3k"),R=e("PsTs"),U=e("Cepj"),K=e("UsbY"),V=e("7tu/");const z=new WeakMap,N=h(F=>!!z.get(F),"isQuillInitialized"),A=h(F=>{z.set(F,!0)},"setQuillInitialized");function x(F){const L=Object(t.a)(F);if(N(L))return L;L.register({"modules/tabcomplete":Object(s.a)(F),"modules/textsubstitutions":Object(f.a)(F),"modules/cleanembedsincode":Object(_.a)(F),"modules/cleanemptyinput":Object(j.a)(F),"modules/clipboard":Object(l.a)(F),"modules/keyboard":Object(o.a)(F),"modules/slackmention":Object(u.a)(F),"modules/slackemoji":Object(v.a)(F),"modules/textchangequeue":Object(y.a)(F),"modules/textsanitization":Object(C.a)(F),"modules/autoslug":Object(a.a)(F),"modules/slacklink":Object(r.a)(F),"modules/slackmarkdown":Object(E.a)(F),"modules/slackhorizontalrule":Object(b.a)(F),"modules/workflowtoken":Object(M.a)(F),"modules/cleanworkflowtokens":Object(T.a)(F),"modules/slackdocslist":V.a,"formats/slacksearchtokenmodifier":Object(m.a)(F),"formats/slacksearchtokenvalue":Object(c.a)(F),"formats/slackmention":Object(d.a)(F),"formats/slackemoji":Object(g.a)(F),"formats/unlink":Object(p.a)(F),"formats/slackhorizontalrule":Object(O.a)(F),"formats/workflowtoken":Object(P.f)(F),"formats/strike":Object(B.a)(F),"formats/border":Object(U.a)(F),"formats/list":K.b,"formats/list/item":K.a},!0);const{CodeBlock:S}=Object(R.a)(F),I=L.import("blots/inline"),W=L.import("formats/bold"),D=L.import("formats/italic"),H=L.import("formats/strike"),Z=L.import("formats/code"),G=L.import("formats/link"),te=L.import("formats/unlink"),se=L.import("formats/slackemoji"),$=L.import("formats/slackmention"),X=L.import("formats/workflowtoken");return S.allowedChildren.push(I),S.allowedChildren.push(W),S.allowedChildren.push(D),S.allowedChildren.push(H),S.allowedChildren.push(Z),S.allowedChildren.push(G),S.allowedChildren.push(te),S.allowedChildren.push(se),S.allowedChildren.push($),S.allowedChildren.push(X),L.register({"formats/code":S},!0),A(L),L}h(x,"initQuill");let k=h(class extends n.a{constructor(L,S){super(L,S,x)}},"CanvasTextyClass")},gmVI:function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("ifKl"),l=e("zxER"),o=e("z28c"),f=e("sMre"),r=e("Oczg"),m=e("RVJP");function c(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.a;const p=Object(l.c)(r.c),v=Object(l.c)(o.a),[g,O]=Object(n.useReducer)(E=>E+1,0),b=Object(l.c)(E=>Object(m.d)(E,"correct_collab_for_org")==="on"),[y,C]=Object(n.useState)(p),_=v&&p===void 0,j=Object(a.useDispatch)();return Object(n.useEffect)(()=>{let E=!0;if(_){const M=u==null?void 0:u.startSpan("canvas:initialize-client");return j(Object(f.a)()).then(T=>{E&&(M==null||M.close(),u==null||u.addTags({client_load_success:!0}),b?O():C(T))}).catch(T=>{M==null||M.close(),u==null||u.addTags({client_load_success:!1,success:!1,error:`${T}`}),d==null||d(T)}),()=>{E=!1}}},[j,b,d,_,u]),b?p:y}h(c,"useQuip")},gn35:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("2XU3"),t=e("WCk1"),a=e("s4P+");const s=Object(t.a)("Check to see if the client\u2019s is authorzied based on the IP address of the client",(l,o,f)=>{let{reason:r,fileId:m=""}=f;return l(Object(n.apiCall)({method:"teams.authorized.ip.range.checkIp",args:{file:m},reason:r})).catch(c=>{const u="Failed to check IP";throw Object(a.a)({getState:o}).error("Authorized IP ranges",u),c})});s.meta={name:"createFetcher",key:"createFetchercheckIP",description:"Check to see if the client\u2019s is authorzied based on the IP address of the client"}},gnJq:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("Kmpi");function t(a){return Object(n.d)(a)}h(t,"isFileUnknown")},goOt:function(J,i,e){"use strict";e.d(i,"a",function(){return te});var n=e("yIs4"),t=e("XIp8"),a=e("GhjL"),s=e("xwCZ"),l=e("E3dU"),o=e("O86Y"),f=e("Kmpi"),r=e("Yauy"),m=e("52Wj"),c=e("E97Y"),u=e("paOu"),d=e("GYna"),p=e("dS/7"),v=e("m5Yc"),g=e("Atq3"),O=e("gFcQ"),b=e("Owxj"),y=e("mzG2"),C=e("D3DU"),_=e("EJqq");function j(se){if(se<=0)return"";let $="",X=se;for(;X>0;)X-=1,$=String.fromCharCode("a".charCodeAt(0)+X%26)+$,X=Math.floor(X/26);return $}h(j,"convertNumberToLetterIncrement");const E=["","c","cc","ccc","cd","d","dc","dcc","dccc","cm","","x","xx","xxx","xl","l","lx","lxx","lxxx","xc","","i","ii","iii","iv","v","vi","vii","viii","ix"];function M(se){if(se<=0)return"";const $=se.toString().split("");let X="";for(let ee=2;ee>=0;ee--){const w=parseInt($.pop()||"0",10);X=(E[w+ee*10]||"")+X}const q=$.join("")||"0",Y=parseInt(q,10)+1;return Array(Y).join("m")+X}h(M,"convertNumberToRomanNumeral");var T=e("nNoG"),P=e("A/mR"),B=e("895Y"),R=e("HJKc"),U=e("iomZ");const K=new T.b("channel_token"),V=new T.b("emoji"),z=h((se,$)=>$.text||"","textToText"),N=h((se,$)=>`@${$.range}`,"broadcastToText"),A=h((se,$)=>$.value||"","colorToText"),x=h((se,$,X)=>{let{linkFormat:q}=X;const{text:Y="",url:ee=""}=$;if(!Y&&!ee)return"";if(!Y)return ee;switch(q){case"default":return Y;case"prefer_url":return ee;case"bracket":return`[ ${Y}: ${ee} ]`;default:Object(g.a)(q)}},"linkToText"),k=h((se,$)=>{const X=Object(s.g)(se,$.user_id);return`@${Object(m.b)(X)||$.user_id}`},"userToText"),F=h((se,$)=>{const X=Object(a.d)(se,$.usergroup_id);if(X===!1)return Object(y.a)({userGroupHandle:"",isUnknown:!0,isNonExistent:!0});const q=Object(f.c)(X);var Y;return Object(y.a)({userGroupHandle:q?"":(Y=X.handle)!==null&&Y!==void 0?Y:"",isUnknown:Object(f.d)(X),isNonExistent:Object(f.c)(X)})},"userGroupToText"),L=h((se,$)=>{const X=Object(l.d)(se,$.channel_id);var q;const Y=(q=Object(r.t)(se,X,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}))!==null&&q!==void 0?q:"",ee=Object(f.d)(X),w=Object(f.c)(X),ne=Object(c.k)(X),ae=Object(r.db)(X);return w||ne&&!ae?`#${K.t("private-channel")}`:Object(C.a)({channelName:Y,isUnknown:ee,isNonExistent:w})},"channelToText"),S=h((se,$,X)=>{let{convertEmoji:q}=X;const Y=Object(p.a)($,{state:se,localize:!1}),ee=Object(_.i)({state:se,locale:Object(T.m)(),name:Y});return q==="phrase"?Object(O.b)(ee||"",{state:se})||"":q==="unicode"&&($!=null&&$.unicode)&&Object(R.a)($.unicode)?Object(U.a)({codePointLikeString:$.unicode})||"":q==="unicode"&&!($!=null&&$.unicode)?Object(b.a)(se,{messageText:Y,teamId:Object(o.g)(se)}):ee??""},"emojiToText"),I=h((se,$,X)=>{let{convertEmoji:q}=X;const Y=Object(p.a)({...$,type:v.b.EMOJI},{state:se,localize:!1}),ee=Object(_.i)({state:se,locale:Object(T.m)(),name:Y});if(q==="phrase"){var w;return(w=Object(O.a)(ee||"",$.size||0,{state:se}))!==null&&w!==void 0?w:""}var ne;const ae=(ne=q==="unicode"?Object(b.a)(se,{messageText:Y,teamId:Object(o.g)(se)}):ee)!==null&&ne!==void 0?ne:"";return Object(d.a)(se)?V.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:ae,size:$.size}):`${$.size} ${ae} emojis`},"emojiGroupToText"),W=h((se,$)=>!$.timestamp&&$.fallback?$.fallback:Object(P.g)($.timestamp,$.format,{...$.fallback&&{fallbackString:$.fallback}}),"dateToText"),D={[v.b.TEXT]:z,[v.b.USER]:k,[v.b.USERGROUP]:F,[v.b.CHANNEL]:L,[v.b.BROADCAST]:N,[v.b.DATE]:W,[v.b.COLOR]:A,[v.b.LINK]:x,[v.b.EMOJI]:S,[v.b._EMOJI_GROUP]:I};function H(se){let{indent:$}=se;return!Object(n.a)($)||$%3===0?"\u2022":$%3===1?"\u25E6":$%3===2?"\u25A0":"\u2022"}h(H,"getUnorderedListCharacter");function Z(se){let{indent:$,incr:X}=se;return!Object(n.a)($)||$%3===0?X:$%3===1?j(X):$%3===2?M(X):X}h(Z,"getOrderedListCharacter");function G(se,$){return Object(d.a)(se)?Object(u.a)(Object(t.a)($)):$}h(G,"maybeGroupEmojies");function te(se,$){let{convertEmoji:X="text",linkFormat:q="default"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!$||!$.length)return"";const Y=h(ne=>{if(!ne||!ne.elements)return"";const ae=[];return ne.elements.forEach(de=>{if(!de||!de.type)return;const ge=D[de.type];var le;const Q=(le=ge==null?void 0:ge(se,de,{convertEmoji:X,linkFormat:q}))!==null&&le!==void 0?le:"";ae.push(Q)}),ae.join("")},"convertSection"),ee=[];return G(se,$[0].elements).forEach(ne=>{if(!(!ne||!ne.type))if(Object(B.a)(ne)){const ae=ne.offset||0,de=ne.indent||0;let ge=1+ae;ne.elements.forEach(le=>{const Q=Y(le);if(ne.style==="ordered"){const ie=Z({indent:de,incr:ge});ee.push(`${ie}. ${Q}.`),ge+=1}else{const ie=H({indent:de});ee.push(`${ie} ${Q}.`)}})}else ee.push(Y(ne))}),ee.join(`
`)}h(te,"convertRichTextToPlainText")},h6Kc:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Sets the aria-expanded value for a composer button");t.meta={name:"createAction",key:"createActionsetComposerButtonExpandedState",description:"Sets the aria-expanded value for a composer button"}},h9dl:function(J,i,e){"use strict";var n=e("Lgge"),t=e("n3tL"),a=e("SQ0V"),s=e("E3dU"),l=e("Fqb6"),o=e("eUIW"),f=e("Sl1j"),r=e("Yauy"),m=e("E97Y");const c=Object(a.c)("Joins the channel or creates an IM so a file or message can be shared into it",(d,p,v)=>{const g=p(),{channelOrMemberId:O}=v;if(!O)return n.a.reject(new Error("Missing channelOrMemberId"));if(Object(o.a)(O)){const C=Object(s.m)(g,O);return C?n.a.resolve(C.id):d(Object(f.r)({memberIds:[O],reason:"prepare-channel-for-sharing"})).then(function(){let{channel:_}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _?(d(Object(l.a)({channel:_})),_.id):null})}const b=!1,y=Object(s.d)(g,O,b);return y?Object(m.l)(y)&&!Object(r.db)(y)?d(Object(f.C)({channelId:y.id,requestInBackground:!0,reason:"get_channel_id_for_sharing"})).then(()=>y.id):n.a.resolve(y.id):n.a.reject(new Error(`Unknown channel ID ${O}`))});c.meta={name:"createThunk",key:"createThunkgetChannelIdForSharing",description:"Joins the channel or creates an IM so a file or message can be shared into it"},c.propTypes={channelOrMemberId:t.default.string},i.a=c;const u={getChannelIdForSharing:c}},h9xh:function(J,i,e){"use strict";e.d(i,"d",function(){return l}),e.d(i,"c",function(){return o}),e.d(i,"a",function(){return f}),e.d(i,"b",function(){return r});var n=e("ZKjC"),t=e("O86Y"),a=e("u5wV"),s=e("i5Ig");const l=Object(n.b)((m,c)=>{const u=Object(t.g)(m);return u&&Object(a.b)().maybeRefetch(u,c),m&&m.workflowApps&&m.workflowApps[c]?m.workflowApps[c]:s.a});l.meta={name:"createSelector",key:"createSelectorgetWorkflowAppsListForChannel",description:(m,c)=>{const u=Object(t.g)(m);return u&&Object(a.b)().maybeRefetch(u,c),m&&m.workflowApps&&m.workflowApps[c]?m.workflowApps[c]:s.a}};const o=Object(n.b)((m,c)=>{var u,d;return m==null||(u=m.workflowApps)===null||u===void 0||(d=u[c])===null||d===void 0?void 0:d[0]});o.meta={name:"createSelector",key:"createSelectorgetWorkflowAppForDMChannel",description:(m,c)=>{var u,d;return m==null||(u=m.workflowApps)===null||u===void 0||(d=u[c])===null||d===void 0?void 0:d[0]}};const f=Object(n.b)((m,c,u)=>{if(m&&m.workflowApps&&m.workflowApps[c]){const d=m.workflowApps[c].find(p=>p.app_id===u);if(d)return d.user_id}return null});f.meta={name:"createSelector",key:"createSelectorgetBotUserIdForWorkflowAppInChannel",description:(m,c,u)=>{if(m&&m.workflowApps&&m.workflowApps[c]){const d=m.workflowApps[c].find(p=>p.app_id===u);if(d)return d.user_id}return null}};const r=Object(n.b)((m,c,u)=>{if(m&&m.workflowApps&&m.workflowApps[c]){const d=m.workflowApps[c].find(p=>p.app_id===u);if(d)return d}return null});r.meta={name:"createSelector",key:"createSelectorgetWorkflowAppForChannel",description:(m,c,u)=>{if(m&&m.workflowApps&&m.workflowApps[c]){const d=m.workflowApps[c].find(p=>p.app_id===u);if(d)return d}return null}}},hEEl:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("x6tY"),s=e("NV6F"),l=e("Tsh7"),o=e("DQKV"),f=e("CTEJ");function r(m){let{file:c,stopAnimations:u}=m,d,p;if(Object(a.g)(c)||Object(a.o)(c)){if(Object(a.g)(c))p=Object(s.G)({id:c.id,fileId:c.id,size:"caption"});else{const v=Object(a.G)(c);p=v?t.a.createElement(o.a,{text:v,stopAnimations:u}):t.a.createElement(f.a,{size:"medium"})}return d=t.a.createElement(l.d,{tip:p},t.a.createElement("div",{className:"c-truncate c-truncate--break_words","data-qa":"canvas-display-name"},p)),d}return null}h(r,"CanvasOrListDisplayName"),r.displayName="CanvasOrListDisplayName",i.a=r},hRMJ:function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("4p6e"),t=e("G5NC");let a=Object(n.a)();const s=h(()=>!(a||!Object(t.a)()),"precheck");function l(f){return!!s()}h(l,"isMultiverseQuillEnabled"),Object.defineProperty({disableForTests:a},"disableForTests",{get:()=>a,set:f=>{a=f}})},hRxb:function(J,i,e){"use strict";e.d(i,"a",function(){return r}),e.d(i,"b",function(){return v});var n=e("ltDl"),t=e("dmdh"),a=e("x6tY"),s=e("6dQg"),l=e("RVJP"),o=e("6v4I"),f=e("LK2A");function r(g,O){if(!O)return null;const b=Object(n.a)(O);return d(g,b)}h(r,"getQuipFileIdFromUrl");function m(g,O){if(!O)return null;const b=Object(n.a)(O);return p(g,b)}h(m,"getQuipFileIdWithAccessFromUrl");function c(g,O){if(!O)return null;const b=Object(n.a)(O);return v(g,b)}h(c,"getQuipFileIdWithoutAccessFromUrl");function u(g){for(const O of o.b)if(O.urlType===f.CollabUrlType.SLACK_DOCUMENT||O.urlType===f.CollabUrlType.SLACK_DOCUMENT_SECTION){const b=O.regExp,y=g.match(b);if(!y||y.length<1)continue;return y}return null}h(u,"matchCanvasCollabUrlRegex");function d(g,O){const b=O.href,y=u(b);if(!y)return null;const C=y[6];if(!C||!Object(s.a)(C))return null;const _=Object(t.e)(g,C);return Object(a.g)(_)?C:null}h(d,"getQuipFileIdFromParsedUrl");function p(g,O){const b=d(g,O);if(!b)return null;const y=Object(t.e)(g,b);if(!y)return null;const C=Object(l.d)(g,"canvas_ts_sfdc_slack_connect_sharing")==="on";return Object(a.Gb)(y)||C&&Object(a.tb)(y)?null:b}h(p,"getQuipFileIdWithAccessFromParsedUrl");function v(g,O){const b=d(g,O);if(!b)return null;const y=Object(t.e)(g,b);if(!y)return null;const C=Object(l.d)(g,"canvas_ts_sfdc_slack_connect_sharing")==="on";return Object(a.Gb)(y)||C&&Object(a.tb)(y)?b:null}h(v,"getQuipFileIdWithoutAccessFromParsedUrl")},hXah:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),s=e("JoR1"),l=e("P7By"),o=e("BHdc");function f(){return f=Object.assign||function(u){for(var d=1;d<arguments.length;d++){var p=arguments[d];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(u[v]=p[v])}return u},f.apply(this,arguments)}h(f,"_extends");const r="a11y_animations";function m(u){const{clientTheme:d="light",className:p}=u,v=Object(a.c)(O=>Object(s.u)(O,r)),g=Object(n.useCallback)(()=>d==="dark"?e.e("gantry-v2-async-lottie-birds-staggered-dark-mode.json").then(e.t.bind(null,"SRsn",3)):e.e("gantry-v2-async-lottie-birds-staggered-light-mode.json").then(e.t.bind(null,"GuhX",3)),[d]);return t.a.createElement(l.a,f({},u,{className:Object(o.default)(`p-spicy_sparrow_lottie_animation p-spicy_sparrow_lottie_animation--${d}`,p),getAnimationImport:g,loop:!0,autoplay:!!v}))}h(m,"SpicySparrowLottieAnimation"),m.displayName="SpicySparrowLottieAnimation";var c=i.a=t.a.memo(m)},hYzt:function(J,i,e){"use strict";e.r(i);var n=e("q1tI"),t=e.n(n),a=e("1Apa"),s=e("nNoG"),l=e("HOkk");const o=new s.b("rxns"),f=[()=>o.t("For reasons of performance and productivity and brevity being the soul of wit, you can add up to 23 emoji to a message, but no more.",{fallbackHash:"794631f678fbb6fc09aeb01c84ed296ab74d2bfd"}),()=>o.t("Well done! You\u2019ve added the maximum amount of emoji one person can add to one message. For reasons of performance, productivity and sharpened creative thinking, we cap the number of individual reacji to 23.",{fallbackHash:"6bc8c58e34c7f7741aa80ed5e9be299490442c8d"}),()=>o.t("Emotions! We all have them \u2014 but on Slack, you\u2019re limited to 23 reactions per message.",{fallbackHash:"1ad8ba31825ab045be95b0b03a4ec3c835421f89"})],r=[()=>o.t("The human heart is a powerful thing; its capacity to feel is limitless! A message\u2019s capacity is 50.",{fallbackHash:"c150f264344765077dff40263d1787d7dd473aa8"}),()=>o.t("Alas! Slack only allows each message a grand total of 50 emoji reactions.",{fallbackHash:"58169cc0877356a4ff1e13e704f63875116e4c4d"}),()=>o.t("A single message can\u2019t have more than 50 unique reactions. When we asked the engineers why they said, \u201Cwe have to set limits somewhere,\u201D and then we tried to frown but this error popped up. So that\u2019s where we\u2019re at.",{fallbackHash:"440d506143f2665f556689039ccb95db36bdfa30"})];let m=h(class extends n.PureComponent{render(){const{error:u}=this.props;let d;if(u==="too_many_reactions"){const p=Object(a.a)(f);d=p?p():""}else if(u==="too_many_emoji"){const p=Object(a.a)(r);d=p?p():""}return t.a.createElement(l.a,{goButtonText:o.t("OK",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"generic_dialog"}),shouldCloseOnGo:!0,showCancelButton:!1,showCloseButton:!1,title:o.t("You\u2019ve reached the reaction limit")},t.a.createElement("p",null,d))}},"ReactionErrorDialog");m.displayName="ReactionErrorDialog",i.default=m},haNl:function(J,i,e){"use strict";e.d(i,"e",function(){return u}),e.d(i,"i",function(){return d}),e.d(i,"c",function(){return b}),e.d(i,"g",function(){return y}),e.d(i,"d",function(){return C}),e.d(i,"h",function(){return _}),e.d(i,"b",function(){return P}),e.d(i,"f",function(){return B}),e.d(i,"a",function(){return R});var n=e("Fsnq"),t=e("s4P+"),a=e("mLC8"),s=e("eUIW");const l=200,o=Object(t.b)();let f=[];const r=h(U=>{Object(n.a)(f)>l&&(o.error("composer-tracing-utils: sentTimestamps exceeded maximum array size"),f=[]),f.push(U)},"addSentTimestamps"),m=h(U=>{f=f.filter(K=>K!==U)},"removeSentTimestamps"),c=h(U=>f.indexOf(U)>-1,"hasSentTimestamps"),u=h((U,K)=>{c(U)||(r(U),a.d.start({label:a.a.MessageSendRendering,id:U,options:{traceName:a.a.MessageSendRendering,teamId:K}}))},"maybeStartMessageRenderSlugAutoTrace"),d=h(U=>{c(U)&&(m(U),a.d.stop({label:a.a.MessageSendRendering,id:U}))},"maybeStopMessageRenderSlugAutoTrace");let p=[];const v=h(U=>{Object(n.a)(p)>l&&(o.error("composer-tracing-utils: slugIds exceeded maximum array size"),f=[]),p.push(U)},"addSlugId"),g=h(U=>{p=p.filter(K=>K!==U)},"removeSlugId"),O=h(U=>p.indexOf(U)>-1,"hasSlugId"),b=h(U=>{O(U)||(v(U),a.d.start({label:a.a.ComposerEmojiRendering,id:U,options:{traceName:a.a.ComposerEmojiRendering}}))},"maybeStartEmojiSlugAutoTrace"),y=h(U=>{O(U)&&(g(U),a.d.stop({label:a.a.ComposerEmojiRendering,id:U}))},"maybeStopEmojiSlugAutoTrace"),C=h(U=>{if(!O(U)){v(U);const K=Object(s.a)(U)?a.a.ComposerMentionRendering:a.a.ComposerChannelRendering;a.d.start({label:K,id:U,options:{traceName:K}})}},"maybeStartMentionSlugAutoTrace"),_=h(U=>{if(O(U)){g(U);const K=Object(s.a)(U)?a.a.ComposerMentionRendering:a.a.ComposerChannelRendering;a.d.stop({label:K,id:U})}},"maybeStopMentionSlugAutoTrace");let j=[];const E=h(U=>{Object(n.a)(j)>l&&(o.error("composer-tracing-utils: matchIds exceeded maximum array size"),j=[]),j.push(U)},"addMatchId"),M=h(U=>{j=j.filter(K=>K!==U)},"removeMatchId"),T=h(U=>j.indexOf(U)>-1,"hasMatchId"),P=h((U,K,V)=>{T(U)||(E(U),a.d.start({label:a.a.ComposerAutocompleteRender,id:U,options:{traceName:a.a.ComposerAutocompleteRender,tags:{type:K},teamId:V}}))},"maybeStartAutocompleteMatchRenderTrace"),B=h(U=>{T(U)&&(M(U),a.d.stop({label:a.a.ComposerAutocompleteRender,id:U}))},"maybeStopAutocompleteMatchRenderTrace"),R=h(U=>{T(U)&&(M(U),a.d.remove({label:a.a.ComposerAutocompleteRender,id:U}))},"maybeCancelAutocompleteMatchRenderTrace")},heah:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),s=e("VO/D"),l=e("WSQ4"),o=e("hRMJ");function f(){return f=Object.assign||function(m){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(m[d]=u[d])}return m},f.apply(this,arguments)}h(f,"_extends");const r=t.a.forwardRef((m,c)=>{const{window:u}=Object(n.useContext)(l.a),d=Object(a.c)(o.a);return t.a.createElement(s.a,f({},m,{window:u,isMultiverseQuillEnabled:d,ref:c}))});i.a=r},hp0J:function(J,i,e){"use strict";var n=e("Cfcg"),t=e("2um6"),a=e("Wy+d");const s=h(l=>({isScreenReaderEnabled:Object(t.j)(l)}),"mapStateToProps");i.a=Object(n.a)(s)(a.b)},hq59:function(J,i,e){"use strict";e.d(i,"b",function(){return o}),e.d(i,"a",function(){return f}),e.d(i,"c",function(){return r});var n=e("owWc"),t=e("f8fv"),a=e("IzLi"),s=e("/1FC"),l=e("zmn3");function o(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object(n.a)(c,(u,d,p)=>({...u,[Object(t.a)(p)]:d}),{})}h(o,"snakeCaseKeys");const f=5;function r(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=arguments.length>2?arguments[2]:void 0;return m(c,u,d)}h(r,"snakeCaseKeysDeep");function m(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=arguments.length>2?arguments[2]:void 0;var p;if(!Object(a.a)(c)&&!Object(s.a)(c)||u>((p=d==null?void 0:d.maxDepth)!==null&&p!==void 0?p:f)||!c)return c;const v=u+1;let g={};return Object(s.a)(c)?Object(s.a)(c)&&(g=Object(l.a)(c,O=>r(O,v,d))):g=Object(n.a)(c,(O,b,y)=>{var C;const _=!(d==null||(C=d.ignoredKeys)===null||C===void 0)&&C.includes(y)?y:Object(t.a)(y);return{...O,[_]:r(b,v,d)}},{}),g}h(m,"snakeCaseKeysDeepPrivate")},hrWC:function(J,i,e){"use strict";var n=e("SQ0V"),t=e("E3dU"),a=e("pu3F"),s=e("coh6"),l=e("GS6c"),o=e("O86Y"),f=e("wWBL"),r=e("Vr9G"),m=e("DQNL"),c=e("jvEW");const u=Object(n.c)("Find members that match a search query",function(d,p){let{query:v,channelId:g,enableBots:O=!0,enableBroadcastKeywords:b=!0,enableFuzzyMatching:y=!0,enableUserGroups:C=!0,enableFiles:_=!0,includeAllBroadcastKeywords:j=!1,limit:E=a.c,searchViewContext:M,searcherKey:T="texty-autocomplete"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const P=p();var B;const R=g&&(B=Object(t.d)(P,g))!==null&&B!==void 0?B:void 0,U=b?{currentChannel:R,includeAll:j}:void 0,K=C&&Object(m.d)(P),V=Object(c.h)(P),z={entities:{broadcastKeywords:U,userGroups:K&&{includeDeleted:!1,includeFromAnotherTeam:Object(r.a)(P)},members:{includeBots:O,includeSelf:!0,includeSlackbot:!1,includeProfileOnlyUsers:!0}},allowEmptyQuery:!0,sort:{source:"texty-autocomplete",currentChannel:R,preferChannelMembers:!!R},fuzzyLimit:y?void 0:0,limit:E,tiered:!0,returnMetadata:!0,searchViewContext:M};return V&&_&&(z.entities.files={runaway:!0}),Object(f.c)(P)?Object(l.a)({teamId:Object(o.g)(P),key:T}).search({query:v,options:z}):d(Object(s.F)({query:v,options:z}))});u.meta={name:"createThunk",key:"createThunkautocompleteMembers",description:"Find members that match a search query"},i.a=u},hwNb:function(J,i,e){"use strict";e.d(i,"a",function(){return s}),e.d(i,"b",function(){return l}),e.d(i,"c",function(){return o}),e.d(i,"d",function(){return f});var n=e("oTSI"),t=e("RVJP"),a=e("wwBm");const s=Object(n.a)(()=>{const r=Object(a.d)(window.location.search);return(r==null?void 0:r.transparent_image_fix_option)==="themed_blur"?"themed_blur":null}),l=h(r=>Object(t.d)(r,"clips_bg")==="on","isClipsBgEnabled"),o=h(r=>Object(t.d)(r,"clips_thumbnail")==="on","isClipsThumbnailEnabled"),f=h(r=>Object(t.d)(r,"clips_transcript_preview")==="on"&&Object(t.d)(r,"clips_transcript_preview_display")==="on","isClipsTranscriptPreviewsEnabled")},i3RS:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("RVJP"),t=e("pu3F");function a(s){return Object(n.d)(s,"msg_mpim_increased_limit_15")==="on"?t.E:t.H}h(a,"getGroupDmLimit")},i7CO:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("lhZz"),t=e("yrot");function a(s,l){const o=l&&Object(n.getStateByTeamId)(l);return o&&Object(t.q)(o,{text:s,teamId:l})?o&&Object(t.p)(o,{text:s,teamId:l}):new Error(`invalid emojiName passed to isEmojiMultiSkinToneCapable: ${s}`)}h(a,"isEmojiMultiSkinToneCapable")},"iAR/":function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a});var n=e("DwFS");const t=Object(n.a)("Set guidelines associated with a given type");t.meta={name:"createAction",key:"createActionsetGuidelinesByType",description:"Set guidelines associated with a given type"};const a=Object(n.a)("Toggle if guidelines is enabled associated with a given type");a.meta={name:"createAction",key:"createActiontoggleGuidelinesByType",description:"Toggle if guidelines is enabled associated with a given type"}},iBXr:function(J,i,e){"use strict";e.d(i,"a",function(){return d}),e.d(i,"c",function(){return v}),e.d(i,"b",function(){return g});var n=e("OtLZ"),t=e("iYWO"),a=e("oU7v"),s=e("E97Y"),l=e("PMNn"),o=e("y3Vx"),f=e("nkFB"),r=e("gZ6Y"),m=e("n7UZ");const c=[o.a.UserIsRestricted,o.a.InvalidParams],u=[f.a.CanCreateExternalLimitedPref,r.a.CanCreateExternalUnlimitedPref],d={AllowedWorkspace:Symbol("allowed_workspace"),DisallowedWorkspace:Symbol("disallowed_workspace"),CannotRequestSharedChannels:Symbol("cannot_request_ext_shared"),CannotCreateChannel:Symbol("cannot_create_channel")},p={ok:!1};function v(b){return O(b,Object(o.c)(b))}h(v,"canUserSeeInviteGuidelinesWithReasons");function g(b,y){if(!Object(s.e)(y)||!Object(a.a)(b,y)||Object(m.a)(b,y.id))return p;const{reasons:C}=Object(o.c)(b,{mustEveryWorkspaceBeAllowed:!0,teamIds:Object(l.b)(b,y)}),_=Object(n.a)(C,o.a.UserCannotCreateChannel);return O(b,{ok:!_.length,reasons:_})}h(g,"canUserSeeInviteGuidelinesForChannelWithReasons");function O(b,y){if(Object(t.a)(b,"INVITE")==="disabled")return p;const{ok:_,reasons:j=[]}=y;if(c.some(T=>j.includes(T))||u.every(T=>j.includes(T)))return p;const E=[],M=j.includes(o.a.AllowedWorkspacePref);return M?E.push(d.DisallowedWorkspace):E.push(d.AllowedWorkspace),j.includes(o.a.UserCannotCreateChannel)&&E.push(d.CannotCreateChannel),!_&&(!M||M&&j.length>1)&&E.push(d.CannotRequestSharedChannels),{ok:!0,reasons:E}}h(O,"calculateInviteGuidelinesVisibilityPayloadWithRule")},iKzC:function(J,i,e){"use strict";e.d(i,"a",function(){return O});var n=e("Lgge"),t=e("OZf9"),a=e("OtLZ"),s=e("n3tL"),l=e("Zbwg"),o=e("eUIW"),f=e("s4P+"),r=e("Yauy"),m=e("gVOt"),c=e("E97Y"),u=e("9Gfp"),d=e("E3dU"),p=e("ZKjC"),v=e("SQ0V");const g=Object(p.b)(function(b){let{ids:y}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const C=Object(u.a)(b),_=[],j=[];return Object(t.a)(y,E=>{if(Object(l.a)(E)){const M=Object(d.d)(b,E);if(Object(c.i)(M)){const T=Object(r.C)(M)||[],P=Object(a.a)(T,C);j.push(...P)}else if(Object(c.g)(M)){const T=Object(m.a)(M)||"";j.push(T)}else _.push(E)}else Object(o.a)(E)?j.push(E):Object(f.a)({state:b}).warn("COMPOSER",`Unhandled selected id "${E}"`)}),_.length&&_.splice(0,_.length-1),{channelIds:_,memberIds:j}});g.meta={name:"createSelector",key:"createSelectorcategorizeDestinationIds",description:function(b){let{ids:y}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const C=Object(u.a)(b),_=[],j=[];return Object(t.a)(y,E=>{if(Object(l.a)(E)){const M=Object(d.d)(b,E);if(Object(c.i)(M)){const T=Object(r.C)(M)||[],P=Object(a.a)(T,C);j.push(...P)}else if(Object(c.g)(M)){const T=Object(m.a)(M)||"";j.push(T)}else _.push(E)}else Object(o.a)(E)?j.push(E):Object(f.a)({state:b}).warn("COMPOSER",`Unhandled selected id "${E}"`)}),_.length&&_.splice(0,_.length-1),{channelIds:_,memberIds:j}}};const O=Object(v.c)("Split destination ids into channels and members",function(b,y){let{ids:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const _=y(),j=g(_,{ids:C});return n.a.resolve(j)});O.meta={name:"createThunk",key:"createThunkcategorizeDestinationIdsThunk",description:"Split destination ids into channels and members"},O.propTypes={ids:s.default.arrayOf(s.default.string.isRequired)}},iNDb:function(J,i,e){"use strict";e.d(i,"a",function(){return v});var n=e("Lgge"),t=e("0/Hl"),a=e("SQ0V"),s=e("fujP"),l=e("WVRU"),o=e("Zbwg"),f=e("eUIW"),r=e("O86Y"),m=e("dmdh"),c=e("/L8c"),u=e("x6tY"),d=e("7ibc"),p=e("cBJ3");const v=Object(a.c)("Calls files.updatePermission and updates the file object in the store",(g,O,b)=>{let{fileId:y,modifiedPermissions:C}=b;const _=O(),j=Object(d.e)(_),E=Object(r.g)(_),M="update-permission";if(!E)return n.a.reject(new Error("Missing teamId"));const T=[],P=[];return Object.keys(C).forEach(B=>{let R=!0;if(Object(o.a)(B)){if(j){const U=Object(c.a)(_,B);if(U){const K=Object(m.e)(_,y);!!Object(u.Y)(K).find(x=>x===U)&&T.push({channelId:U,accessLevel:C[B]}),!!Object(u.O)(K).find(x=>x===B)||(R=!1)}}R&&T.push({channelId:B,accessLevel:C[B]})}else Object(f.a)(B)&&P.push({userId:B,accessLevel:C[B]})}),!Object(s.a)(T)&&!Object(s.a)(P)?n.a.reject(new Error("Invalid parameters")):!Object(s.a)(T)||!Object(s.a)(P)?g(Object(l.a)({fileId:y,...T.length>0?{channelIdAccessLevelMap:T}:{},...P.length>0?{userIdAccessLevelMap:P}:{},reason:M,teamId:E})).then(B=>{if(T.length>0){const K=B.failed_to_update_channel_ids||[];let V=[];if(j){const z=[];K.forEach(A=>{const x=Object(c.a)(_,A);x&&z.push(x)});const N=K.concat(z);T.forEach(A=>{!!N.find(k=>k===A.channelId)||V.push({entityId:A.channelId,grant:A.accessLevel})})}else V=T.filter(z=>!K.includes(z.channelId)).map(z=>({entityId:z.channelId,grant:z.accessLevel}));return g(Object(p.d)({fileId:y,updatedPermissions:V,entityType:t.a.Channel})),n.a.resolve({failedChannelIds:K,failedUserIds:[]})}const R=B.failed_to_update_user_ids||[],U=P.filter(K=>!R.includes(K.userId)).map(K=>({entityId:K.userId,grant:K.accessLevel}));return g(Object(p.d)({fileId:y,updatedPermissions:U,entityType:t.a.Member})),n.a.resolve({failedChannelIds:[],failedUserIds:R})}):n.a.reject(new Error("Invalid entity id"))});v.meta={name:"createThunk",key:"createThunkupdatePermissionAndUpdateFile",description:"Calls files.updatePermission and updates the file object in the store"}},iTjT:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("ifKl"),l=e("BHdc"),o=e("zxER"),f=e("LvEQ"),r=e("JoR1"),m=e("e4zL"),c=e("BwCw"),u=e("nWdO"),d=e("nFQW"),p=e("Wjm6"),v=e("nNoG"),g=e("ZobM"),O=e("khnw"),b=e("nwIl"),y=e("Dw+s"),C=e("pjzw"),_=e("O8n7"),j=e("ktUG");const E=new v.b("emoji_button"),M=h(T=>{let{enableEmojiButtonBadge:P=!1,enableMentionButton:B=!1,enableGifPicker:R=!1,onClick:U=s.a,onEmojiMenuTriggerClick:K=s.a,onEmojiSelected:V=s.a,onGifSelected:z=s.a,textyRef:N,shouldReturnFocusAfterClose:A,draftId:x,viewContext:k,windowId:F,threadTs:L}=T;const S=Object(a.useDispatch)(),I=Object(o.c)(f.c);var W;const{viewContext:D,windowId:H,threadTs:Z}=(W=Object(o.c)(C.a))!==null&&W!==void 0?W:{},G=D&&H&&D===k&&F===H&&L===Z,te=Object(o.c)(ie=>Object(r.u)(ie,"preferred_skin_tone"))||"",se=Object(o.c)(b.f),$=Object(n.useRef)(null),[X,q]=Object(n.useState)(void 0),Y=Object(n.useCallback)(()=>{S(Object(m.d)())},[S]),ee=Object(n.useCallback)(()=>{var ie,oe,me;if(K(),Y(),!B||!(N!=null&&N.current))return;const be=N.current.getSelection(),Se=(ie=N.current)===null||ie===void 0||(oe=ie.quill)===null||oe===void 0||(me=oe.container)===null||me===void 0?void 0:me.getBoundingClientRect();if(be&&Se&&!se){const Fe=N.current.getBounds(be.index,be.length);q({top:Se.top+Fe.top,left:Se.left+Fe.left,right:Se.right+Fe.right,bottom:Se.bottom+Fe.bottom,width:Se.width,height:Se.height})}if(!be||be.length)return;const Pe=be.index>0?N.current.getTextForRange(be.index-1,1):"";!!!N.current.getFormat(be.index).slackmention&&Pe==="@"&&N.current.deleteText(be.index-1,1)},[B,Y,K,N,se]),w=Object(n.useCallback)((ie,oe)=>{N!=null&&N.current&&(z(oe),S(Object(y.a)({payload:oe,draftId:x})),setTimeout(()=>{N.current.focus()},0))},[S,x,z,N]),ne=Object(n.useCallback)((ie,oe)=>{if(V(oe),!(N!=null&&N.current))return;const me=N.current.getSelection();if(!me)return;const be=N.current.getFormats(me.index)||{},Pe=!(be.code||be["code-block"])&&N.current.options.inlineEmojiIsEnabled(),Ue=`:${oe}:`,Fe=Object(c.a)(Ue,{shouldUseInlineEmoji:Pe,formats:be});setTimeout(()=>{N.current.insertContentsAtCursor({contents:Fe.ops})},0)},[N,V]),ae=`skin-tone-${te}`,de=Object(l.default)(`c-wysiwyg_container__button c-wysiwyg_container__button--emoji ${ae}`,{"c-wysiwyg_container__button--with_badge":P&&I}),ge=se&&R?E.t("Add emoji and GIFs"):E.t("Emoji"),le=t.a.createElement(u.c,{tip:ge,position:"top",offsetY:-7,delay:500,zIndex:"above_fs"},t.a.createElement(d.a,{ref:$,className:de,onClick:U,"data-qa":"texty_emoji_button",tabIndex:-1,"aria-label":E.t("Emoji"),size:"small"},t.a.createElement("div",{className:"is-first"},t.a.createElement(g.a,{name:"emoji",size:"18"})),t.a.createElement("div",{className:"is-second"},t.a.createElement(g.a,{name:"emoji",variation:"filled",size:"18"})))),Q=Object(n.useCallback)(ie=>{if(!A&&(ie==null?void 0:ie.keyCode)===O.f&&!G){var oe;$==null||(oe=$.current)===null||oe===void 0||oe.focus()}else G&&N.current.focus();S(Object(_.d)(void 0))},[A,S,G,N]);return t.a.createElement(p.a,{onClick:ee,onEmojiSelected:ne,offsetX:se?-70:-17,offsetY:se?-40:void 0,position:"top-left",tryOppositePosition:!0,targetBounds:X,onClose:Q,shouldReturnFocusAfterClose:A,enableGifPicker:R,onGifSelected:w,openNativeGifPicker:!!G,openedBy:G?j.UiStep.GIFS_PICKER_OPENED_FROM_SLASH_COMMAND:j.UiStep.GIFS_PICKER_OPENED_FROM_EMOJI_BUTTON},le)},"EmojiButton");M.displayName="EmojiButton",i.a=M},iYWO:function(J,i,e){"use strict";e.d(i,"a",function(){return o}),e.d(i,"b",function(){return r}),e.d(i,"c",function(){return u}),e.d(i,"d",function(){return v});var n=e("ZKjC"),t=e("O86Y"),a=e("UOL+"),s=e("zIFg");const l=h(function(O){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"LOCAL",y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var C,_;y&&Object(s.c)(Object(t.h)(O),b);var j;return(j=(C=Object(a.a)(O))===null||C===void 0||(_=C.slackConnectGuidelines)===null||_===void 0?void 0:_[b])!==null&&j!==void 0?j:null},"getGuidelinesByType"),o=Object(n.b)((O,b)=>{var y;const C=l(O,b,!0);var _;const j=(_=C==null?void 0:C.enabled)!==null&&_!==void 0?_:!1;var E;const M=(E=!!(C!=null&&C.link))!==null&&E!==void 0?E:!1;var T;const P=(T=!!(C!=null&&C.contentOps&&(!(C==null||(y=C.contentOps)===null||y===void 0)&&y.length)))!==null&&T!==void 0?T:!1;return j?P&&M?"both":P?"content":M?"link":"none":"disabled"});o.meta={name:"createSelector",key:"createSelectorgetActiveGuidelinesVariant",description:(O,b)=>{var y;const C=l(O,b,!0);var _;const j=(_=C==null?void 0:C.enabled)!==null&&_!==void 0?_:!1;var E;const M=(E=!!(C!=null&&C.link))!==null&&E!==void 0?E:!1;var T;const P=(T=!!(C!=null&&C.contentOps&&(!(C==null||(y=C.contentOps)===null||y===void 0)&&y.length)))!==null&&T!==void 0?T:!1;return j?P&&M?"both":P?"content":M?"link":"none":"disabled"}};var f;const r=Object(n.b)((O,b)=>{var y;return(f=(y=l(O,b))===null||y===void 0?void 0:y.contentOps)!==null&&f!==void 0?f:void 0});var m;r.meta={name:"createSelector",key:"createSelectorgetGuidelinesContentOps",description:(O,b)=>{var y;return(m=(y=l(O,b))===null||y===void 0?void 0:y.contentOps)!==null&&m!==void 0?m:void 0}};var c;const u=Object(n.b)((O,b)=>{var y;return(c=(y=l(O,b))===null||y===void 0?void 0:y.link)!==null&&c!==void 0?c:""});var d;u.meta={name:"createSelector",key:"createSelectorgetGuidelinesLink",description:(O,b)=>{var y;return(d=(y=l(O,b))===null||y===void 0?void 0:y.link)!==null&&d!==void 0?d:""}};var p;const v=Object(n.b)((O,b)=>{var y;return(p=(y=l(O,b))===null||y===void 0?void 0:y.updated)!==null&&p!==void 0?p:void 0});var g;v.meta={name:"createSelector",key:"createSelectorgetGuidelinesUpdated",description:(O,b)=>{var y;return(g=(y=l(O,b))===null||y===void 0?void 0:y.updated)!==null&&g!==void 0?g:void 0}}},iheS:function(J,i,e){"use strict";e.d(i,"a",function(){return v});var n=e("lCmp"),t=e("pu3F"),a=e("aykK"),s=e("wGfi"),l=e("E3dU"),o=e("dlm8"),f=e("ZOzc"),r=e("JoR1"),m=e("gTpg"),c=e("miM7"),u=e("E97Y"),d=e("3kjJ"),p=e("PMNn");const v=h(function(g,O){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const y=b.includes("BKeveryone"),C=b.includes("BKchannel"),_=b.includes("BKgroup"),j=b.includes("BKhere"),E=!!Object(r.u)(g,"last_seen_at_channel_warning"),M=new Date(Object(r.u)(g,"last_seen_at_channel_warning")),T=E&&Object(d.a)(M,new Date);if(!y&&!C&&!_&&!j)return!1;const P=Object(l.d)(g,O);if(!P||Object(u.g)(P)||(C||_||j)&&(!Object(a.a)(g,O)||!Object(m.a)(g,O))||Object(c.a)(P)&&y&&(!Object(s.a)(g,O)||!Object(m.a)(g,O)))return!1;const B=Object(p.b)(g,P);if(!(B&&Object(n.a)(B,V=>{const z=Object(f.a)(g,"warn_before_at_channel",V);return z==="never"?!1:z==="always"||z==="once"&&!E||z==="daily"&&!T})))return!1;const U=Object(o.d)(g,O),K=U&&U.counts&&U.counts.member_count;return!(!K||K<=t.b)},"shouldShowAtChannelWarning")},ilQ9:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("y/Pn"),t=e("E97Y"),a=e("K7jq");const s={im:"im",mpim:"mpim",channel:"channel",none:""},l=h(o=>{let{channel:f,members:r=[]}=o;if(Object(t.g)(f)&&Object(n.a)(f)||r.length===1&&Object(a.a)(r[0]))return s.im;if(Object(t.i)(f)&&Object(n.a)(f))return s.mpim;var m;return((m=r.length)!==null&&m!==void 0?m:0)>1&&r.some(c=>Object(a.a)(c))?s.mpim:Object(n.a)(f)?s.channel:""},"getConnectionType");i.b=l},in8x:function(J,i,e){"use strict";e.d(i,"c",function(){return t}),e.d(i,"a",function(){return a}),e.d(i,"b",function(){return s});var n=e("DwFS");const t=Object(n.a)("Store the rich text snippet associated with a given canvas section");t.meta={name:"createAction",key:"createActionupsertCanvasSectionRichText",description:"Store the rich text snippet associated with a given canvas section"};const a=Object(n.a)("Remove rich text snippet associated with a given canvas section");a.meta={name:"createAction",key:"createActionremoveCanvasSectionRichText",description:"Remove rich text snippet associated with a given canvas section"};const s=Object(n.a)("Remove all rich text snippets associated with a given canvas (fileId)");s.meta={name:"createAction",key:"createActionremoveCanvasSectionRichTextForFile",description:"Remove all rich text snippets associated with a given canvas (fileId)"}},"iu/Y":function(J,i,e){"use strict";var n=e("3yyz");function t(a,s){let l=0,o;return a.forEach(f=>{if(o)return;const r=l+Object(n.a)(f);s>=l&&s<r?o=f:l=r}),o?{op:o,opIndex:l,opLength:Object(n.a)(o)}:{op:null,opIndex:-1,opLength:0}}h(t,"findOpAtIndex"),i.a=t},ixSl:function(J,i,e){"use strict";e.d(i,"b",function(){return p}),e.d(i,"a",function(){return v});var n=e("fujP"),t=e("/1FC"),a=e("SQ0V"),s=e("mM05"),l=e.n(s),o=e("ZvCj"),f=e("JoR1"),r=e("gCYc"),m=e("Rw2D"),c=e("Kn+X"),u=e("9avG"),d=e("JgQX");const p=Object(a.c)("Prepares a scheduled draft before editing",(g,O,b)=>{let{draft:y}=b;const C=O();if(!Object(f.u)(C,"plain_text_mode"))return y;const j=Object(c.n)(y);if(Object(n.a)(j)||!!!Object(c.i)(y))return y;const M=new l.a(j.slice()),T=Object(u.b)({delta:M,state:C})||{},P=T&&Object(t.a)(T)?new l.a:Object(d.a)(C,T.blocks);if(!P||!P.ops)return y;const B={...y,ops:P.ops};return g(Object(o.a)({draft:B,reason:"prep-draft-before-markdown-editing"})),B});p.meta={name:"createThunk",key:"createThunkprepareScheduledDraftBeforeEditing",description:"Prepares a scheduled draft before editing"};const v=Object(a.c)("Prepares a scheduled draft after editing",(g,O,b)=>{let{draftId:y}=b;const C=O();if(!Object(f.u)(C,"plain_text_mode"))return;const j=Object(r.k)(C,y),E=Object(c.n)(j);if(!j||!E||Object(n.a)(E)||!!!Object(c.i)(j))return;const T=new l.a(E.slice()),{processedDelta:P}=Object(m.a)(C,{delta:T}),B={...j,ops:P.ops};g(Object(o.a)({draft:B,reason:"prep-draft-after-markdown-editing"}))});v.meta={name:"createThunk",key:"createThunkprepareScheduledDraftAfterEditing",description:"Prepares a scheduled draft after editing"}},"j/ar":function(J,i,e){"use strict";e.d(i,"c",function(){return u}),e.d(i,"d",function(){return d}),e.d(i,"e",function(){return p}),e.d(i,"b",function(){return v}),e.d(i,"a",function(){return g});var n=e("ZKjC"),t=e("G4qV"),a=e("fujP"),s=e("ltDl"),l=e("CRsl");function o(O,b){var y;if(Object(a.a)(O))return{appId:void 0,domain:""};const C=Object(s.a)(O),_=Object(l.b)(C,!0),j=C.hostname,E=j||_;let M=b==null||(y=b.domains)===null||y===void 0?void 0:y[E];if(!M){var T;const P=Object.keys((T=b==null?void 0:b.wildcards)!==null&&T!==void 0?T:{}).find(B=>j.endsWith(`.${B}`));P&&(M=b.wildcards[P])}return{appId:M,domain:E}}h(o,"getSIWSLinkInfo");var f=e("9ToC");function r(O,b){if(Object(a.a)(O))return!1;const y=Object(s.a)(O);return m(y,b)}h(r,"isSIWSLink");function m(O,b){var y;if(O.protocol!=="http:"&&O.protocol!=="https:"||Object(f.d)(O))return!1;const C=Object(l.b)(O,!0);if(!O.hostname||!C)return!1;const _=O.hostname,j=_.length>C.length+1,E=!!(!(b==null||(y=b.domains)===null||y===void 0)&&y[_]);var M;const T=j&&Object.keys((M=b==null?void 0:b.wildcards)!==null&&M!==void 0?M:{}).some(P=>_.endsWith(`.${P}`));return E||T}h(m,"isParsedUrlSIWSLink");const c=Object(n.b)(O=>{var b;return O==null||(b=O.siwsDomains)===null||b===void 0?void 0:b.domainsCollection});c.meta={name:"createSelector",key:"createSelectorgetDomains",description:O=>{var b;return O==null||(b=O.siwsDomains)===null||b===void 0?void 0:b.domainsCollection}};const u=Object(n.b)((O,b)=>{var y;return(y=o(b,c(O)))===null||y===void 0?void 0:y.appId});u.meta={name:"createSelector",key:"createSelectorselectSIWSLinkAppId",description:(O,b)=>{var y;return(y=o(b,c(O)))===null||y===void 0?void 0:y.appId}};const d=Object(n.b)((O,b)=>{var y;return(y=o(b,c(O)))===null||y===void 0?void 0:y.domain});d.meta={name:"createSelector",key:"createSelectorselectSIWSLinkDomain",description:(O,b)=>{var y;return(y=o(b,c(O)))===null||y===void 0?void 0:y.domain}};const p=Object(n.b)((O,b)=>r(b,c(O)));p.meta={name:"createSelector",key:"createSelectorselectURLIsSIWSLink",description:(O,b)=>r(b,c(O))};const v=Object(n.b)((O,b)=>m(b,c(O)));v.meta={name:"createSelector",key:"createSelectorselectParsedURLIsSIWSLink",description:(O,b)=>m(b,c(O))};const g=Object(t.a)(c,function(O){let{domains:b,wildcards:y}=O;const C=Object.entries(b).map(j=>{let[E,M]=j;return{appId:M,domain:E,isWildcard:!1}});return[...Object.entries(y).map(j=>{let[E,M]=j;return{appId:M,domain:E,isWildcard:!0}}),...C].reduce((j,E)=>({...j,[E.appId]:{domain:E.domain,isWildcard:E.isWildcard}}),{})})},j4ta:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),s=e("4HNC"),l=e("sGXp"),o=e("Cfcg"),f=e("OtLZ"),r=e("9Gfp"),m=e("Yauy"),c=e("E3dU"),u=e("CD4m"),d=e("wRRE"),p=e("swWY"),v=e("Hm4q");function g(){return g=Object.assign||function(P){for(var B=1;B<arguments.length;B++){var R=arguments[B];for(var U in R)Object.prototype.hasOwnProperty.call(R,U)&&(P[U]=R[U])}return P},g.apply(this,arguments)}h(g,"_extends");const O={className:a.default.string,"data-qa":a.default.string,"data-sk":a.default.string,currentUserId:a.default.string,id:a.default.string,isDeactivated:a.default.bool,mpim:a.default.object,subtext:a.default.node},b={className:void 0,currentUserId:void 0,id:void 0,isDeactivated:!1,mpim:void 0,subtext:void 0,"data-qa":void 0,"data-sk":"medium_mpim_entity"};function y(P){let{className:B,currentUserId:R,id:U,isDeactivated:K,mpim:V,subtext:z,"data-qa":N,"data-sk":A}=P;const x=Object(f.a)(Object(m.C)(V),R),k=K?l.d.dim:null,F=U||(V==null?void 0:V.id),L=Object(n.useCallback)(S=>t.a.createElement(d.a,g({},S,{"data-qa":"avatar",primaryMemberId:x[0],secondaryMemberId:x[1]})),[x]);return t.a.createElement(u.d,{avatar:L,className:B,"data-id":F,"data-qa":N,"data-sk":A,size:"medium",style:k,text:t.a.createElement(p.a,{className:"c-medium-unified-mpim__name","data-qa":"name",id:F,mpim:V,multiline:!0}),subtext:z})}h(y,"MediumMpimEntity"),y.displayName="MediumMpimEntity",y.propTypes=O,y.defaultProps=b;function C(P,B){let{id:R,mpim:U}=B;return{currentUserId:Object(r.a)(P),mpim:U||Object(c.d)(P,R)}}h(C,"mapStateToProps");var _=Object(o.a)(C)(y);const j={className:a.default.string,id:a.default.string.isRequired,"data-qa":a.default.string,isActive:a.default.bool,isDeactivated:a.default.bool,isDisabled:a.default.bool,mpim:a.default.object,secondaryContent:a.default.node,subtext:a.default.node},E={className:void 0,isActive:!1,isDeactivated:!1,isDisabled:!1,mpim:void 0,secondaryContent:void 0,subtext:void 0,"data-qa":void 0};function M(P){let{className:B,id:R,isActive:U,isDeactivated:K,isDisabled:V,mpim:z,secondaryContent:N,subtext:A,"data-qa":x}=P;const k=R||(z==null?void 0:z.id);let F;return U?V||K?F=l.d.highlightDim:F=l.d.highlightLight:(V||K)&&(F=l.d.dim),t.a.createElement(s.a,{className:B,primaryContent:t.a.createElement(_,{id:k,"data-id":k,"data-qa":x,"data-sk":"medium_mpim_list_entity",isDeactivated:K,subtext:A,mpim:z}),secondaryContent:N,size:"medium",style:F})}h(M,"MediumMpimListEntity"),M.displayName="MediumMpimListEntity",M.propTypes=j,M.defaultProps=E;var T=i.a=M},j5vF:function(J,i,e){"use strict"},jBIF:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("SQ0V"),t=e("3D8U");const a=Object(n.c)("Get file permissions from draft file-permissions-store for message sending APIs",function(s,l){let{draftId:o}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const f=l();return Object.values(Object(t.a)(f,o)||{}).map(c=>({grant:c.grant,file_id:c.fileId}))});a.meta={name:"createThunk",key:"createThunkgetFilePermissionsForMessageSend",description:"Get file permissions from draft file-permissions-store for message sending APIs"}},jGyd:function(J,i,e){"use strict";e.d(i,"a",function(){return u});var n=e("q1tI"),t=e.n(n),a=e("zxER"),s=e("dmdh"),l=e("wXOV"),o=e("x6tY"),f=e("6dQg"),r=e("CnKg"),m=e("XKGd"),c=e("gmVI");function u(d,p){let v="";d&&(v=Object(r.i)(d).fileIdOrQuipThreadId);const g=Object(c.a)(p),O=Object(a.c)(_=>Object(f.a)(v)?Object(l.a)(_,v):v),b=Object(a.c)(_=>{if(Object(f.a)(v)){const j=Object(s.e)(_,v);return!Object(o.ac)(j)}return!1}),y=Object(n.useMemo)(()=>{if(!(!g||!O))return g.docs.get(O)},[g,O]);return Object(m.a)(y,y==null?void 0:y.deleted)||b?void 0:y}h(u,"useQuipDoc")},jJoK:function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("q1tI"),t=e.n(n),a=e("nNoG");const s=new a.b("message"),l=t.a.memo(()=>{const o=s.t("This message was removed.");return t.a.createElement("span",{"data-qa":"moderated_message_tombstone"},o)});l.displayName="ModeratedMessageTombstoneBody"},jU2U:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("zxER"),t=e("9Gfp"),a=e("WMzb");function s(){const l=Object(n.c)(t.c),o=Object(a.a)();return l||(o.error("USE_FEATURE_FLAGS","Missing feature flags"),{})}h(s,"useFeatureFlags")},jWHu:function(J,i,e){"use strict";e.d(i,"a",function(){return s}),e.d(i,"b",function(){return l});var n=e("ykb+"),t=e("4p6e"),a=e("s4P+"),s;(function(o){o.Coachmark="coachmark",o.DeprecatedCoachmark="deprecated_coachmark"})(s||(s={}));const l=h(o=>{if(Object(n.b)()&&!Object(t.a)()){let f="Coachmark";o===s.DeprecatedCoachmark&&(f="DeprecatedCoachmark"),Object(a.b)().warn(`\u{1F4E3} [MEGAPHONE FRAMEWORK]: \u{1F44B} Hi! Adding a new '${f}' component? Have you considered taking advantage of our Megaphone framework? If you already did and Megaphone does not apply to your use case, that is great! you can turn off this warning by setting the 'isMegaphoneCoachmark' prop to 'false' in your '${f}' component instance.

Now, if you want to learn more about Megaphone and how it can help your use case, you can take a look at our docs (https://docs.tinyspeck.com/megaphone/) or you can find us over #devel-megaphone and we will be happy to assist you \u{1F64C}\u{1F600}
`)}},"logMegaphoneDevAwarenessWarning")},jaNT:function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("RpF1"),t=e("HoeF"),a=e("SIMs"),s=e("SQ0V"),l=e("QIbu");const o=Object(s.c)("Toggle tab open state",(f,r,m)=>{let{huddleId:c,surface:u,areTabsOpen:d,window:p,skipWindowResize:v}=m;const g=Object(a.x)(r(),{huddleId:c}),O=Object(a.a)(r(),{huddleId:c,surface:l.b.WINDOW_COMPACT});if(!(!c||!u)&&(f(Object(t.S)({huddleId:c,surface:u,areTabsOpen:d})),!v&&g&&u===l.b.WINDOW_COMPACT&&d&&!O)){const b=p.document.querySelector(`.${n.k}`),y=b==null?void 0:b.getBoundingClientRect().height,C=y?p.innerHeight-y-n.q:0,_=n.e-C;_>0&&p.resizeBy(0,_)}});o.meta={name:"createThunk",key:"createThunktoggleTabOpenState",description:"Toggle tab open state"}},jmRt:function(J,i,e){"use strict";e.d(i,"e",function(){return o}),e.d(i,"i",function(){return f}),e.d(i,"b",function(){return r}),e.d(i,"a",function(){return m}),e.d(i,"d",function(){return c}),e.d(i,"f",function(){return u}),e.d(i,"g",function(){return d}),e.d(i,"h",function(){return p}),e.d(i,"c",function(){return v});var n=e("Lgge"),t=e("WCk1"),a=e("2XU3"),s=e("+8pe"),l=e("RVJP");const o=Object(t.a)("Call to get bookmarks for a given channel",(g,O,b)=>{let{channelId:y,reason:C="bookmarks-list-api"}=b;if(!y)return n.a.reject(new Error("bookmarks.list failed with no channelId as argument"));const _=O(),j=Object(l.d)(_,"parent_bookmarks")==="on";return g(Object(a.apiCall)({method:"bookmarks.list",args:{channel:y,include_folders:j?!0:void 0,include_legacy_workflows:!0},reason:C}))});o.meta={name:"createFetcher",key:"createFetchercallListBookmarksForChannelId",description:"Call to get bookmarks for a given channel"};const f=Object(t.a)("Call to get bookmarks suggestions for a given channel",(g,O,b)=>{let{channelId:y,reason:C="bookmarks-suggest-api"}=b;return y?g(Object(a.apiCall)({method:"bookmarks.suggest",args:{channel:y},reason:C})):n.a.reject(new Error("bookmarks.suggest failed with no channelId as argument"))});f.meta={name:"createFetcher",key:"createFetchercallSuggestBookmarksForChannelId",description:"Call to get bookmarks suggestions for a given channel"};const r=Object(t.a)("Call to add bookmarks API for a given channel",(g,O,b)=>{let{channelId:y,parentId:C,url:_,title:j,iconUrl:E,emoji:M,shortcutId:T,appId:P,quipSectionId:B,reason:R="bookmarks-add-api",type:U=s.a.LINK}=b;if(!y)return n.a.reject(new Error("bookmarks.add failed with no channelId as argument"));if(!_&&U!==s.a.SHORTCUT)return n.a.reject(new Error("bookmarks.add failed with no url as argument"));const K={channel:y,link:_,title:j,type:U};return M?K.emoji=M:E&&(K.icon=E),C&&(K.parent_id=C),T&&(K.shortcut_id=T),P&&(K.app_id=P),B&&(K.quip_section_id=B),g(Object(a.apiCall)({method:"bookmarks.add",args:K,reason:R}))});r.meta={name:"createFetcher",key:"createFetchercallAddBookmarksForChannelId",description:"Call to add bookmarks API for a given channel"};const m=Object(t.a)("Call to add bookmarks folder API for a given channel",(g,O,b)=>{let{channelId:y,title:C,reason:_="bookmarks-add-folder-api"}=b;if(!y)return n.a.reject(new Error("bookmarks.add failed with no channelId as argument"));const j={channel:y,title:C,type:s.a.FOLDER};return g(Object(a.apiCall)({method:"bookmarks.add",args:j,reason:_}))});m.meta={name:"createFetcher",key:"createFetchercallAddBookmarksFolderForChannelId",description:"Call to add bookmarks folder API for a given channel"};const c=Object(t.a)("Call to edit bookmarks API for a given channel and bookmark id",(g,O,b)=>{let{id:y,channelId:C,url:_,title:j,iconUrl:E,emoji:M,reason:T="bookmarks-edit-api",type:P=s.a.LINK}=b;if(!C)return n.a.reject(new Error("bookmarks.edit failed with no channelId as argument"));if(!y)return n.a.reject(new Error("bookmarks.edit failed with no id as argument"));const B={channel:C,link:_,title:j,bookmark:y,type:P,emoji:M};return E&&(B.icon=E),g(Object(a.apiCall)({method:"bookmarks.edit",args:B,reason:T}))});c.meta={name:"createFetcher",key:"createFetchercallEditBookmarksForChannelId",description:"Call to edit bookmarks API for a given channel and bookmark id"};const u=Object(t.a)("Call to delete bookmarks API for a given channel and bookmark id",(g,O,b)=>{let{id:y,channelId:C,reason:_="bookmarks-remove-api",type:j=s.a.LINK}=b;return C?y?g(Object(a.apiCall)({method:"bookmarks.remove",args:{channel:C,bookmark:y,type:j},reason:_})):n.a.reject(new Error("bookmarks.remove failed with no id as argument")):n.a.reject(new Error("bookmarks.remove failed with no channelId as argument"))});u.meta={name:"createFetcher",key:"createFetchercallRemoveBookmarksForChannelId",description:"Call to delete bookmarks API for a given channel and bookmark id"};const d=Object(t.a)("Call to reorder bookmarks API for a given channel and bookmark id",(g,O,b)=>{let{channelId:y,parentId:C,center:_,left:j,right:E,reason:M="bookmarks-reorder-api",type:T=s.a.LINK}=b;return y?_?g(Object(a.apiCall)({method:"bookmarks.reorder",args:{channel:y,parent_id:C,center:_,left:j,right:E,bookmark_type:T},reason:M})):n.a.reject(new Error("bookmarks.reorder failed with no center id as argument")):n.a.reject(new Error("bookmarks.reorder failed with no channelId as argument"))});d.meta={name:"createFetcher",key:"createFetchercallReorderBookmarkForChannelId",description:"Call to reorder bookmarks API for a given channel and bookmark id"};const p=Object(t.a)("Call to reorder bookmarks API for a given channel and bookmark id for a folder",(g,O,b)=>{let{channelId:y,parentId:C,center:_,left:j,right:E,reason:M="bookmarks-reorder-api",type:T=s.a.LINK}=b;return y?_?g(Object(a.apiCall)({method:"bookmarks.reorder",args:{channel:y,parent_id:C,center:_,left:j,right:E,bookmark_type:T},reason:M})):n.a.reject(new Error("bookmarks.reorder failed with no center id as argument")):n.a.reject(new Error("bookmarks.reorder failed with no channelId as argument"))});p.meta={name:"createFetcher",key:"createFetchercallReorderBookmarkIntoFolderForChannelId",description:"Call to reorder bookmarks API for a given channel and bookmark id for a folder"};const v=Object(t.a)("Call to reorder bookmarks API for a given channel and bookmark id",(g,O,b)=>{let{link:y,channelId:C,reason:_="bookmarks-preview-api"}=b;return y?C?g(Object(a.apiCall)({method:"bookmarks.preview",args:{link:y,channel:C},reason:_})):n.a.reject(new Error("bookmarks.response failed with no channel id as argument")):n.a.reject(new Error("bookmarks.response failed with no link as argument"))});v.meta={name:"createFetcher",key:"createFetchercallBookmarksPreviewForLink",description:"Call to reorder bookmarks API for a given channel and bookmark id"}},jprL:function(J,i,e){"use strict";e.d(i,"c",function(){return n}),e.d(i,"e",function(){return t}),e.d(i,"i",function(){return a}),e.d(i,"a",function(){return s}),e.d(i,"g",function(){return l}),e.d(i,"d",function(){return o}),e.d(i,"b",function(){return f}),e.d(i,"f",function(){return r}),e.d(i,"h",function(){return m});const n="fetching",t="preview_pending",a="user_auth_required",s="complete",l="stale",o="no_attachment",f="error",r="removed",m=5},k7bp:function(J,i,e){"use strict";e.d(i,"a",function(){return j});var n=e("9oTK"),t=e("s4P+"),a=e("zFGr"),s=e("PIf0"),l=e("SQ0V"),o=e("V/iP"),f=e("0+Bg"),r=e("a7YP"),m=e("X7+j"),c=e("itAW"),u=e("8j9e"),d=e("8Htg"),p=e("gsmS"),v=e("O86Y");const g=h(E=>{let{preCheckResponse:M,hermesLinkTriggerUIContext:T}=E;return{...M,showSpeedbump:(T==null?void 0:T.location)==="search"}},"modifyTripPreCheckPayload");var O=e("NziY"),b=e("Tmt4"),y=e("CWPp"),C=e("pgVm"),_=e("oasj");const j=Object(l.c)("trips a workflow trigger by api",function(){var E=Object(n.coroutine)(function*(M,T,P,B){const R=T();if(!Object(r.A)(R))return;const U=Object(C.e)(R),K=Object(t.a)({getState:T}),{linkTriggerUrl:V,isMagicActions:z,reason:N,hermesLinkTriggerUIContext:A,uiPage:x,composerChannelId:k}=P,F=Object(d.b)(V),L=F?Object(c.f)(R,{triggerId:F}):void 0;if(!V||!F){K.error("Missing or invalid linkTriggerUrl"),M(Object(m.c)({}));return}let S;const I=function(){var se=Object(n.coroutine)(function*($,X){const q=$?{location:"speedbump",wrappedContext:A,speedbumpInputParameters:$,customizableInputParameters:X}:null;try{const{windowId:w}=B(s.a),ne=yield M(Object(o.a)({clientToken:a.a.generateAndEnqueue(R,{windowId:w,composerChannelId:k}),context:q||A,url:V,reason:N}));if(ne!=null&&ne.ok){F&&Object(y.a)(L)&&M(Object(b.a)({id:F,text:L.name})),Object(_.a)(R)&&!!k||M(S?Object(m.b)({workflowTitle:Object(y.a)(L)?L.name:void 0}):Object(m.d)());const de=Object(v.g)(R)||"";M(Object(u.a)({triggerId:F})),Object(p.a)().maybeRefetch(de,F)}else M(Object(m.c)({}))}catch(w){var Y,ee;const ne=(Y=w.data)===null||Y===void 0||(ee=Y.error_messages)===null||ee===void 0?void 0:ee[0];K.warn(w,`Error in workflows.trip: ${ne}`),M(Object(m.c)({errorType:w.name,errorSubType:ne}))}});return h(function(X,q){return se.apply(this,arguments)},"workflowTripTriggerWithErrorToasts")}();try{var W,D,H,Z;const se=yield M(Object(f.a)({context:A,url:V,reason:N}));S=se.isSlowWorkflow;const $=g({preCheckResponse:se,hermesLinkTriggerUIContext:A}),X=x==="workflow_gallery"||x==="workflows_recently_viewed"||x==="workflow_details_modal",q=U?!!($!=null&&$.thirdPartyAuths)&&!($!=null&&$.thirdPartyAuths.isSatisfied):$==null||(W=$.thirdPartyAuths)===null||W===void 0?void 0:W.isShown,Y=($==null?void 0:$.showSpeedbump)&&!X||q||($==null||(D=$.missingContextParameters)===null||D===void 0?void 0:D.isShown)||($==null||(H=$.scopesAcknowledgements)===null||H===void 0?void 0:H.isShown)||($==null||(Z=$.missingCustomizableInputParameters)===null||Z===void 0?void 0:Z.isShown);if($!=null&&$.ok&&Y){const ee=x||(A==null?void 0:A.location);M(Object(O.a)({tripTrigger:I,triggerId:F,isMagicActions:z,...ee?{uiPage:ee}:{},...$}))}else I()}catch(se){var G,te;const $=(G=se.data)===null||G===void 0||(te=G.error_messages)===null||te===void 0?void 0:te[0];K.warn(se,`Error in workflows.tripPrecheck: ${$}`),M(Object(m.c)({errorType:se.name,errorSubType:$}))}});return function(M,T,P,B){return E.apply(this,arguments)}}());j.meta={name:"createThunk",key:"createThunkworkflowsTriggersTrip",description:"trips a workflow trigger by api"}},kBas:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("mM05"),t=e.n(n);function a(s,l){let{format:o,range:f,replacementLength:r,charToInsert:m}=l;const[c,u]=s.getLine(f.index),d=c.length();m&&s.insertText(f.index,m);const p=s.history.options.delay;s.history.options.delay=0;const v=new t.a().retain(f.index-u).delete(r+m.length).retain(d-m.length-u).retain(1,o);s.updateContents(v),s.setSelection(f.index-r),s.history.options.delay=p}h(a,"convertShortcutToBlockFormat")},kBd7:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("g3+L");function s(){return s=Object.assign||function(o){for(var f=1;f<arguments.length;f++){var r=arguments[f];for(var m in r)Object.prototype.hasOwnProperty.call(r,m)&&(o[m]=r[m])}return o},s.apply(this,arguments)}h(s,"_extends");function l(o){const f=o,r=t.a.forwardRef((m,c)=>t.a.createElement(a.a.Consumer,null,u=>t.a.createElement(f,s({ref:c},m,u))));return r.displayName=`withFocusTransitions(${f.displayName})`,r}h(l,"withFocusTransitionContext"),l.displayName="withFocusTransitionContext",i.a=l},kDB5:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("SQ0V"),t=e("i5Ig");const a=Object(n.c)("Gets unfurl data from store given a list of unfurls and a draftId",function(s,l){let{unfurls:o,draftId:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=l();if(!o||!o.length||!f)return t.b;const m={};return o.forEach(c=>{var u,d;const p=c.url,v=(u=r.draftUnfurls)===null||u===void 0?void 0:u[f];!(v==null||(d=v[p])===null||d===void 0)&&d.data&&(m[p]=v[p].data)}),m});a.meta={name:"createThunk",key:"createThunkgetDataForDraftUnfurls",description:"Gets unfurl data from store given a list of unfurls and a draftId"}},kFoU:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("n3tL"),l=e("beVI"),o=e("CD4m"),f=e("sGXp"),r=e("ZobM"),m=e("T00V"),c=e("hUMe"),u=e("HAG/");function d(){return d=Object.assign||function(b){for(var y=1;y<arguments.length;y++){var C=arguments[y];for(var _ in C)Object.prototype.hasOwnProperty.call(C,_)&&(b[_]=C[_])}return b},d.apply(this,arguments)}h(d,"_extends");const p={className:s.default.string,teamNameClassName:s.default.string,"data-qa":s.default.string,"data-sk":s.default.string,id:s.default.string.isRequired,invert:s.default.bool,isDeactivated:s.default.bool,isError:s.default.bool,team:s.default.object.isRequired,allowInitials:s.default.bool,bold:s.default.bool,shouldMaybeShowVerified:s.default.bool},v={className:void 0,teamNameClassName:void 0,"data-qa":void 0,"data-sk":"small_team_entity",invert:!1,isDeactivated:!1,isError:!1,allowInitials:!0,bold:!0,shouldMaybeShowVerified:!1};function g(b){let{className:y,teamNameClassName:C,id:_,invert:j,team:E,isDeactivated:M,isError:T,bold:P,shouldMaybeShowVerified:B,allowInitials:R,"data-qa":U,"data-sk":K}=b;const V=j?f.d.highlightDark:null,z=Object(n.useCallback)(N=>T?t.a.createElement("span",{className:"c-team_entity__icon--error"},t.a.createElement(r.a,{name:"warning",size:"20"})):t.a.createElement(m.a,d({},N,{team:E,size:f.a.small,invert:j,allowTeamInitials:R})),[E,j,T,R]);return t.a.createElement(o.d,{avatar:z,className:y,isDeactivated:M,size:"small",style:V,text:t.a.createElement(c.a,{team:E,shouldMaybeShowVerified:B,invert:j,bold:P,className:C}),"data-team-id":_,"data-qa":U,"data-sk":K})}h(g,"SmallTeamEntity"),g.displayName="SmallTeamEntity",g.propTypes=p,g.defaultProps=v;const O=h((b,y)=>{const C=y.team||Object(l.s)(b,y.id);return{team:C,id:C.id}},"mapStateToProps");i.a=Object(a.a)(O)(g)},"kG/e":function(J,i,e){J.exports=e.p+"confirmation-dark-f0db418.svg"},kJif:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("YBS9"),t=e("yrot"),a=e("O86Y");const s=h((l,o,f)=>{if(Object(n.b)(l,o,f))return f;const r=Object(a.g)(l),m=Object(t.d)(l,{text:f,teamId:r}),c=Object(t.m)(l,m);return Object(n.b)(l,o,c)?c:m},"getCorrectNameForReactionKeyAndName")},kMME:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("lCmp"),l=e("SQ0V"),o=e("3l96"),f=e("+kJ4"),r=e("nRFS"),m=e("HI9p"),c=e("hXah"),u=e("YUBf"),d=e("Yauy"),p=e("Enx8"),v=e("Yg60"),g=e("E97Y"),O=e("y/Pn"),b=e("K7jq"),y=e("eUIW");function C(S){return S?Object(y.a)(S.id)?Object(b.a)(S)?v.a.SC_DM:v.a.DM:Object(O.a)(S)&&Object(g.g)(S)?v.a.SC_DM:Object(O.a)(S)&&Object(g.i)(S)?v.a.SC_MPDM:Object(g.g)(S)?v.a.DM:Object(g.i)(S)?v.a.MPDM:Object(O.a)(S)&&Object(g.k)(S)?v.a.SC_PRIVATE_CHANNEL:Object(g.k)(S)?v.a.PRIVATE_CHANNEL:Object(O.a)(S)&&Object(g.l)(S)?v.a.SC_PUBLIC_CHANNEL:Object(g.l)(S)?v.a.PUBLIC_CHANNEL:v.a.UNKNOWN:v.a.UNKNOWN}h(C,"getMessageForwardingDestinationType");var _=e("zxER"),j=e("ZobM"),E=e("j4mf"),M=e("nNoG");const T=new M.b("drafts");function P(S,I,W,D,H,Z,G,te,se,$,X){let q,Y;return(Z===v.a.DM||v.a.MPDM)&&(q=X?T.rt("Share this with {destinationName}?",{destinationName:$||te}):null,X&&(Y=H?T.rt("You\u2019re about to share private messages. As a reminder, make sure you\u2019re not sharing sensitive info before sending."):T.rt("You\u2019re about to share a private message from <b>{authorName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G})),D&&X&&(Y=H?T.rt("You\u2019ll be sharing private messages. As a reminder, make sure you\u2019re not sharing sensitive info before sending."):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G}))),Z===v.a.SC_DM&&(q=X?T.rt("Share this with {destinationMemberName}?",{destinationMemberName:te}):null,X&&(Y=H?T.rt("You\u2019re about to share private messages with someone from <b>{firstConnectedTeamName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:S}):T.rt("You\u2019re about to share a private message from <b>{authorName}</b> with someone from <b>{firstConnectedTeamName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G,firstConnectedTeamName:S})),D&&X&&(Y=H?T.rt("You\u2019ll be sharing private messages with someone from <b>{firstConnectedTeamName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:S}):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b> with someone from <b>{firstConnectedTeamName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G,firstConnectedTeamName:S}))),Z===v.a.SC_MPDM&&(q=X?T.rt("Share this with {destinationChannelName}?",{destinationChannelName:$}):null,X&&(Y=H?T.rt("You\u2019re about to share private messages with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:S,secondConnectedTeamName:I,remainingTeamsCount:W-1}):T.rt("You\u2019re about to share a private message from <b>{authorName}</b> with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G,firstConnectedTeamName:S,secondConnectedTeamName:I,remainingTeamsCount:W-1})),D&&X&&(Y=H?T.rt("You\u2019ll be sharing private messages with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:S,secondConnectedTeamName:I,remainingTeamsCount:W-1}):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b> with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G,firstConnectedTeamName:S,secondConnectedTeamName:I,remainingTeamsCount:W-1}))),Z===v.a.PRIVATE_CHANNEL&&(q=X?T.rt("Share this with {memberCount} people in {lock}{destinationChannelName}?",{lock:t.a.createElement(j.a,{name:"lock",inline:!0}),memberCount:Object(E.a)(se),destinationChannelName:$}):null,X&&(Y=H?T.rt("You\u2019re about to share private messages. As a reminder, make sure you\u2019re not sharing sensitive info before sending."):T.rt("You\u2019re about to share a private message from <b>{authorName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G})),D&&X&&(Y=H?T.rt("You\u2019ll be sharing private messages. As a reminder, make sure you\u2019re not sharing sensitive info before sending."):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G}))),Z===v.a.SC_PRIVATE_CHANNEL&&(q=X?T.rt("Share this with {memberCount} people in {lock}{destinationChannelName}?",{lock:t.a.createElement(j.a,{name:"lock",inline:!0}),memberCount:Object(E.a)(se),destinationChannelName:$}):null,X&&(Y=H?T.rt("You\u2019re about to share private messages with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:S,secondConnectedTeamName:I,remainingTeamsCount:W-1}):T.rt("You\u2019re about to share a private message from <b>{authorName}</b> with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G,firstConnectedTeamName:S,secondConnectedTeamName:I,remainingTeamsCount:W-1})),D&&X&&(Y=H?T.rt("You\u2019ll be sharing private messages with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:S,secondConnectedTeamName:I,remainingTeamsCount:W-1}):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b> with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G,firstConnectedTeamName:S,secondConnectedTeamName:I,remainingTeamsCount:W-1}))),Z===v.a.PUBLIC_CHANNEL&&(q=X?T.t("Share this with {memberCount, plural, =1 {{memberCount} person} other {{memberCount} people}} in {destinationChannelName}?",{memberCount:Object(E.a)(se),destinationChannelName:$}):null,X&&(Y=H?T.rt("You\u2019re about to share private messages. As a reminder, make sure you\u2019re not sharing sensitive info before sending."):T.rt("You\u2019re about to share a private message from <b>{authorName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G})),D&&X&&(Y=H?T.rt("You\u2019ll be sharing private messages. As a reminder, make sure you\u2019re not sharing sensitive info before sending."):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b>. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G}))),Z===v.a.SC_PUBLIC_CHANNEL&&(q=X?T.t("Share this with {memberCount, plural, =1 {{memberCount} person} other {{memberCount} people}} in {destinationChannelName}?",{memberCount:Object(E.a)(se),destinationChannelName:$}):null,X&&(Y=H?T.rt("You\u2019re about to share private messages with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:S,secondConnectedTeamName:I,remainingTeamsCount:W-1}):T.rt("You\u2019re about to share a private message from <b>{authorName}</b> with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G,firstConnectedTeamName:S,secondConnectedTeamName:I,remainingTeamsCount:W-1})),D&&X&&(Y=H?T.rt("You\u2019ll be sharing private messages with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{firstConnectedTeamName:S,secondConnectedTeamName:I,remainingTeamsCount:W-1}):T.rt("You\u2019ll be sharing a private message from <b>{authorName}</b> with people from {remainingTeamsCount, plural, =0 {<b>{firstConnectedTeamName}</b>} =1 {<b>{firstConnectedTeamName}</b> and <b>{secondConnectedTeamName}</b>} other {<b>{firstConnectedTeamName} and # other organizations</b>}}. As a reminder, make sure you\u2019re not sharing sensitive info before sending.",{authorName:G,firstConnectedTeamName:S,secondConnectedTeamName:I,remainingTeamsCount:W-1}))),{title:q,subTitle:Y}}h(P,"getSpeedBumpDescription"),P.displayName="getSpeedBumpDescription";var B=e("E3dU"),R=e("dlm8"),U=e("zm5I");const K=new M.b("drafts"),V=h((S,I)=>{let W=0;return S.forEach(D=>{let{url:H}=D;var Z;!((Z=I[H])===null||Z===void 0)&&Z.private_channel_prompt&&(W+=1)}),W},"getLinkedPrivateMessagesCount");function z(S){let{onClose:I,onSend:W,isScheduledSend:D,unfurlsWithData:H,unfurls:Z,channelId:G,firstConnectedTeamName:te,secondConnectedTeamName:se,connectedTeamsCount:$,isPrivateMessageForwardingLinkSpeedBumpEnabled:X,isFromDraftsPage:q}=S;const Y=V(Z,H)>1,ee=Object(_.c)(oe=>{if(Y)return null;const me=Object(m.a)(Z,Pe=>{var Ue;return!!(!((Ue=H[Pe.url])===null||Ue===void 0)&&Ue.private_channel_prompt)}),be=me!==-1&&Z[me].url,Se=be&&H[be].author_id||"";return Se&&Object(p.a)(oe,Se)}),w=Object(_.c)(oe=>Object(B.d)(oe,G)),ne=Object(_.c)(oe=>Object(d.t)(oe,w,{truncateMpimNames:!0,imIncludeAtSign:!1})),ae=Object(_.c)(oe=>Object(p.a)(oe,w==null?void 0:w.user)),de=C(w),ge=Object(_.c)(oe=>{var me,be;return(me=Object(R.d)(oe,G))===null||me===void 0||(be=me.counts)===null||be===void 0?void 0:be.member_count})||0,le=Object(_.c)(U.a),{title:Q,subTitle:ie}=P(te,se,$,D,Y,de,ee,ae,ge,ne,X);return t.a.createElement(u.a,{closeModal:I},t.a.createElement(c.a,{clientTheme:le,className:"p-message_pane_link_flow_speed_bump__spicy_sparrow_animation"}),t.a.createElement(u.l,{title:Q}),t.a.createElement(u.d,null,t.a.createElement(u.e,null,t.a.createElement("p",null,ie))),t.a.createElement(u.g,null,t.a.createElement(u.h,null,t.a.createElement(u.c,{type:"outline",onClick:I,autoFocus:!0},q||D?K.t("Cancel"):K.t("Edit Message")),t.a.createElement(u.c,{type:"primary",onClick:()=>{W(),I()}},D?K.t("Schedule Message"):K.t("Send")))))}h(z,"MessagePaneInputMessageForwardingLinkSpeedBump"),z.displayName="MessagePaneInputMessageForwardingLinkSpeedBump";var N=z,A=e("FdVR"),x=e("beVI"),k=e("G0eX");const F=Object(l.c)("Display a warning when sending links from private messages",(S,I,W)=>{let{onSend:D,onClose:H=a.a,unfurlsWithData:Z,unfurls:G,isScheduledSend:te,channelId:se,isFromDraftsPage:$}=W;const X=I(),q=Object(r.a)(X);if(!q||!Z||!G||!G.length)return{didOpen:!1};if(!Object(s.a)(G,le=>{var Q;return(Q=Z[le.url])===null||Q===void 0?void 0:Q.private_channel_prompt}))return{didOpen:!1};const ee=Object(B.d)(X,se);let w=[],ne="",ae="";if(ee&&Object(O.a)(ee)){w=Object(A.a)(X,ee);const le=w.map(Q=>Object(x.s)(X,Q));ne=Object(k.h)(le[0]),ae=Object(k.h)(le[1])}const de=w.length,ge=t.a.createElement(N,{onClose:()=>{H(),S(Object(f.a)())},onSend:D,isScheduledSend:te,firstConnectedTeamName:ne,secondConnectedTeamName:ae,connectedTeamsCount:de,unfurlsWithData:Z,unfurls:G,channelId:se,isPrivateMessageForwardingLinkSpeedBumpEnabled:q,isFromDraftsPage:$});return S(Object(o.a)({element:ge,isStackable:!0})),{didOpen:!0}});F.meta={name:"createThunk",key:"createThunkmaybeOpenPrivateMessageForwardingSpeedBump",description:"Display a warning when sending links from private messages"};var L=i.a=F},kN6v:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("q1tI"),t=e.n(n);function a(s){const[l,o]=Object(n.useState)(s==null?void 0:s.get());return Object(n.useEffect)(()=>{o(s==null?void 0:s.get())},[s]),Object(n.useEffect)(()=>{const f=h((r,m)=>o(m),"listener");return s==null||s.listen(f),()=>s==null?void 0:s.unlisten(f)},[s]),l}h(a,"useQuipValue")},kakQ:function(J,i,e){"use strict";var n=e("X6iR"),t=e("ifKl"),a=e("x91h"),s=e("q1tI"),l=e.n(s),o=e("Cfcg"),f=e("nNoG"),r=e("+wAm"),m=e("f0LB"),c=e("QLhP"),u=e("xwCZ"),d=e("JoR1"),p=e("ltDl"),v=e("WBOM"),g=e("ehcD"),O=e("m40f"),b=e("O/xh"),y=e("pu3F"),C=e("2aqP"),_=e("05YO"),j=e("s4P+"),E=e("RVJP"),M=e("a7YP"),T=e("sqFq"),P=e("nWdO"),B=e("j/ar"),R=e("ganR"),U=e("NNLN"),K=e("Tevt"),V=e("NV6F"),z=e("hRxb"),N=e("E3dU"),A=e("UIhb"),x=e("ISSR"),k=e("Yauy"),F=e("E97Y"),L=e("+l5E"),S=e("JQ3U"),I=e("ANTO"),W=e("ALys"),D=e("+uU3"),H=e("NmJ/"),Z=e("s8RM"),G=e("Kmpi"),te=e("Epto"),se=e("OXvE"),$=e("AwEi"),X=e("Ccc1"),q=e("/qcS"),Y=e("uVdA"),ee=e("QE0t");const w=new f.b("linkify_emails");function ne(Ue){let{href:Fe,isMsgPermalink:je=!1,msg:_e=void 0,channelDisplayName:pe,msgSenderName:fe,permalinkChannelId:Ee=void 0,channel:ye=void 0,experimentRichTextGroupOn:Te=!1}=Ue,Oe=Fe.length>500?`${Fe.substr(0,500)}\u2026`:Fe;if(Oe=je?Oe:Oe==null?void 0:Oe.toLowerCase(),!je||Object(G.c)(_e)||Object(L.tb)(_e)||Object(x.a)(ye)||Object(Z.a)(_e==null?void 0:_e.subtype)||Object(S.a)(_e)==="tombstone"||Object(S.g)(_e)||Object(S.d)(_e)||Object(S.e)(_e)||!Object(L.S)(_e)&&!(_e!=null&&_e.text)){if(Fe.startsWith("mailto:")){const Me=Fe.split("mailto:")[1]?Fe.split("mailto:")[1]:Fe;return w.rt("Contact {emailAddress} in Slack",{emailAddress:Me})}return l.a.createElement(l.a.Fragment,null,Oe)}let Ce;if(_e&&Object(W.a)(_e,Te)&&Object(ee.a)(_e.blocks)&&!Object(D.a)(_e))Ce=l.a.createElement(se.a,{richTextBlock:(_e==null?void 0:_e.blocks)&&_e.blocks[0],emojiSize:q.a.SMALL,truncateLength:125});else{const he=_e&&Object(H.a)(_e);he&&(Ce=l.a.createElement($.a,{text:he,noHighlights:!0,noHexColors:!0,noJumbomoji:!0,noLinking:!0,noCode:!0,noQuotes:!0,customLineEnding:"\u2026",maxNewlines:1,emojiSize:q.a.SMALL,maxCharacters:125}))}const ce=Object(F.g)(ye)||Object(F.i)(ye)?pe:l.a.createElement(X.a,{className:"normal",channelId:Ee});return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},l.a.createElement("b",{className:"bold sk_white_always"},fe),l.a.createElement("span",{className:"normal"}," | ",ce)),Ce&&l.a.createElement("div",{className:"normal"},Ce),l.a.createElement("div",{className:"sk_foreground_high_solid break_all"},Fe))}h(ne,"MrkdwnLinkTooltip"),ne.displayName="MrkdwnLinkTooltip";function ae(Ue,Fe){let{href:je}=Fe;const _e=Object(v.e)(Ue,je),pe=!!(_e&&_e.type==="message"&&_e.ts),fe=pe?_e.channelId:void 0,Ee=pe&&_e.channelId&&_e.ts&&Object(A.b)(Ue,_e.channelId,_e.ts),ye=Ee&&Object(I.a)(Ue,Ee);var Te;return{isMsgPermalink:pe,msg:Ee||void 0,permalinkChannelId:fe||void 0,channel:fe&&(Te=Object(N.d)(Ue,fe))!==null&&Te!==void 0?Te:void 0,channelDisplayName:pe?Object(k.t)(Ue,Object(N.d)(Ue,fe)):void 0,msgSenderName:ye?Object(te.a)(Ue,{userId:ye.userId,botId:ye.botId,username:ye.username,botProfile:Ee.bot_profile}):void 0,experimentRichTextGroupOn:Object(Y.a)(Ue)}}h(ae,"mapStateToProps");var de=Object(o.a)(ae)(ne);const ge="javascript:";function le(Ue){let{url:Fe,origin:je,botId:_e,urlIsSIWSLink:pe,experimentWebIdentityLinksGroupTreatment:fe,isFileQuipAndNotAccessible:Ee}=Ue;return pe&&fe?"siws":Ee?"quip-inaccessible":_e?"bot":Object(n.a)(Fe,ge)?"javascript":Object(n.a)(Fe,`${je}/messages`)?"messages":Object(n.a)(Fe,`${y.R}chat.help`)?"old-slack-action":Object(n.a)(Fe,`${y.P}`)?"slack-action":"external"}h(le,"getUrlType");const Q=Object(C.a)();function ie(Ue){let{botId:Fe,botName:je,children:_e,origin:pe=Q,doSlackAction:fe,doSlackActionLinks:Ee=!0,requestAccessModalThunk:ye,noLinking:Te=!1,url:Oe,maybeOpenSuspiciousLinkDialog:Ce=t.a,clogLinkClick:ce=t.a,urlIsSIWSLink:he=!1,explicitlyRenameBotLink:Me=!1,showTooltip:Ae=!1,suppressLinkWarningPref:xe=!1,experimentWebIdentityLinksGroupTreatment:Re=!1,isHermesLinkTrigger:Ge=!1,triggerId:ze,isFileQuipAndNotAccessible:Ie=!1,isFromAppHome:Ne=!1,permalinkType:Ke=null,permalinkFileId:Ve=void 0}=Ue;const $e=Object(s.useCallback)(()=>{fe(Oe)},[fe,Oe]),tt=Object(s.useCallback)(Ft=>{Ft.preventDefault(),ye({url:Oe})},[ye,Oe]),qe=Object(s.useCallback)(Ft=>{let _n="external",cn;Ke===v.a.MESSAGE?_n="message":Ke===v.a.FILE?(_n="file",Ve&&(cn={item_id:Ve,item_type:"F",link_action:"file_preview_link"})):Ke===v.a.SEARCH?_n="search_link":Ke&&(_n="internal"),ce({...Ft,...cn,link_type:_n})},[ce,Ke,Ve]),ut=Object(s.useCallback)(()=>{const Ft=Object(a.a)(Oe);return l.a.createElement(de,{href:Ft})},[Oe]);if(Te)return l.a.createElement("span",null,_e);const rt=le({url:Oe,origin:pe,botId:Fe,urlIsSIWSLink:he,experimentWebIdentityLinksGroupTreatment:Re,isFileQuipAndNotAccessible:Ie}),yt=Object(a.a)(Oe);let Mt,st=null,Vt=!1,Wt=!1,Xt=_e,Ut=!1;if(rt==="slack-action")Wt=!0,Ee?st=$e:(Vt=!0,Mt="(Disabled) ");else if(rt==="old-slack-action")Vt=!0,Mt="(Disabled) ";else if(rt==="quip-inaccessible"){const _n=new f.b("request_access").t("Request access"),cn=l.a.createElement(K.a,{className:"c-mrkdwn__quip_file_request_access_link","data-stringify-link":yt,"data-qa":"file-request-access-link",href:yt,onClick:tt,isFromAppHome:Ne},_e);return l.a.createElement(P.c,{tip:_n,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link","data-qa":"quip-file-request-access-tooltip"},cn)}else if(rt==="javascript")Wt=!0,st=t.a;else if(rt==="bot"&&Me)Wt=!0,Xt=je||_e,Ut=!0;else if(rt==="siws"){const Ft=h((cn,Rn)=>l.a.createElement(K.a,{autoClogProps:Rn,clogLinkClick:qe,className:"c-mrkdwn__identity_trigger",onClick:cn,href:yt},Xt),"renderBaseLink");let _n=Ft;return Ae&&(_n=h((cn,Rn)=>l.a.createElement(P.c,{tip:ut,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},Ft(cn,Rn)),"renderSiwsLink")),l.a.createElement(R.a,{url:yt},_n)}if(Wt){let Ft=l.a.createElement(O.a,{onClick:st&&!Vt?st:t.a,disabled:Vt,renderAsSpan:!0},Mt,Xt);return Ut&&(Ft=l.a.createElement(b.a,{botId:Fe,onClick:!Vt&&st},Ft)),Ft}const Nt=l.a.createElement(K.a,{"data-stringify-link":yt,href:yt,clogLinkClick:qe,maybeOpenSuspiciousLinkDialog:xe?t.a:Ce,isFromAppHome:Ne},_e);return Ge&&ze?l.a.createElement(U.a.Consumer,null,Ft=>{let{..._n}=Ft;const cn={triggerId:ze,url:Oe},Rn=Object(T.b)(_n),Vn=Object(T.a)(_n,cn);return Object(V.J)({shortcutInfo:cn,channelId:_n.channelId,hermesLinkTriggerUIContext:Rn,autoClogEntryPoint:(Vn==null?void 0:Vn.entryPoint)||"other",children:l.a.createElement(K.a,{"data-stringify-link":yt,href:yt,clogLinkClick:qe,autoClogProps:Vn,hermesLinkTriggerUIContext:Rn,maybeOpenSuspiciousLinkDialog:xe?t.a:Ce},_e)})}):Ae?l.a.createElement(P.c,{tip:ut,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},Nt):Nt}h(ie,"BaseMrkdwnLink"),ie.displayName="BaseMrkdwnLink";const oe=h((Ue,Fe)=>{let{children:je,memberId:_e,url:pe}=Fe;const fe=Object(E.d)(Ue,"web_identity_links")==="treatment",Ee=Object(_.a)(pe)||void 0,ye=Object(p.a)(pe),Te=ye?Object(v.f)(Ue,ye):null;let Oe;if(Ee&&(Oe=Object(c.d)(Ue,Ee),!Oe&&_e)){const he=Object(u.g)(Ue,_e);Object(g.c)(Ue,he)&&(Oe=je),Oe||Object(j.a)({state:Ue}).warn(`MrkdwnLink: no bot name found for ${Ee}`)}const Ce=Object(M.A)(Ue)&&(Te==null?void 0:Te.type)===v.a.SHORTCUT_LINK_TRIGGER,ce=ye&&Object(z.b)(Ue,ye)!==null;return{botId:Ee,botName:Oe,experimentWebIdentityLinksGroupTreatment:fe,suppressLinkWarningPref:!!Object(d.u)(Ue,"suppress_link_warning"),urlIsSIWSLink:ye?Object(B.b)(Ue,ye):!1,isHermesLinkTrigger:Ce,triggerId:Te==null?void 0:Te.triggerId,permalinkType:Te==null?void 0:Te.type,permalinkFileId:Te==null?void 0:Te.fileId,isFileQuipAndNotAccessible:ce}},"mrkdwn_link_mapStateToProps"),me=h(Ue=>({doSlackAction:Fe=>Ue(Object(r.a)(Fe)),requestAccessModalThunk:Fe=>Ue(Object(m.a)(Fe))}),"mapDispatchToProps"),be=Object(o.a)(oe,me)(ie);var Se=i.a=be;Object.defineProperty({},"getUrlType",{get:()=>le,set:Ue=>{le=Ue}})},kghi:function(J,i,e){"use strict";e.d(i,"b",function(){return f}),e.d(i,"a",function(){return m});var n=e("SQ0V"),t=e("0aqA"),a=e("O86Y"),s=e("4Vim"),l=e("B1w/");const o={},f=Object(n.c)("Mark file as subsribed for team",(c,u,d)=>{let{fileId:p}=d;const v=Object(a.i)(u());v&&(o[v]||(o[v]={}),o[v][p]=Date.now())});f.meta={name:"createThunk",key:"createThunkmarkFileIdAsSubscribed",description:"Mark file as subsribed for team"};const r=Object(n.c)("Mark file as subsribed for team",(c,u,d)=>{let{fileId:p}=d;var v;const g=Object(a.i)(u());g&&((v=o[g])===null||v===void 0||delete v[p])});r.meta={name:"createThunk",key:"createThunkmarkFileIdAsUnsubscribed",description:"Mark file as subsribed for team"};const m=h(c=>{const u=Object(a.i)(c),d=o[u||""]||{};let p=0,v=0,g=0,O=0;const b=Object(s.a)(c);return b.forEach(y=>{const C=Object(l.a)(c,y);if(!C){p+=1;return}const _=d[C];if(_){O=Math.max(O,_);return}if(Object(t.a)(c,C)){v+=1;return}g+=1}),{openCount:b.length,missingSubCount:g,staticModeCount:v,missingFileIdCount:p,lastSubTimeAgo:Date.now()-O}},"getSubCounts")},kiyg:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("yIs4");function t(a,s){const l=s==null?void 0:s.index,o=s==null?void 0:s.length;if(!Object(n.a)(l)||!Object(n.a)(o))return[];if(l<0||o<0)return[];if(o===0){const[f,r]=a.getLine(l);return f?[f]:[]}return o>0?a.getLines(l,o):[]}h(t,"getLinesForRange")},"ksz/":function(J,i,e){"use strict";e.d(i,"b",function(){return a}),e.d(i,"a",function(){return s});var n=e("n3tL"),t=e("DwFS");const a=Object(t.a)("Set a channel pref");a.meta={name:"createAction",key:"createActionsetChannelPref",description:"Set a channel pref"},a.propTypes={pref:n.default.string.isRequired,value:n.default.any.isRequired};const s=Object(t.a)("Bulk set channel prefs");s.meta={name:"createAction",key:"createActionbulkSetChannelsPrefs",description:"Bulk set channel prefs"},s.propTypes=n.default.objectOf(n.default.objectOf(n.default.any))},"ku/f":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),s=e("RVJP"),l=e("3l96"),o=e("Cfcg"),f=e("QXUO"),r=e("nNoG"),m=e("d/xU"),c=e("zb/F"),u=e("goOt"),d=e("Yp7W"),p=e("+kJ4"),v=e("oY18"),g=e("ohbk"),O=e("9oTK"),b=e("m5fH"),y=e("qcoW"),C=e("gCYc"),_=e("Kn+X");const j=Object(a.c)("edit a user dlp flagged message in the message pane",function(){var ie=Object(O.coroutine)(function*(oe,me,be){const Se=Object(C.k)(me(),be),Pe={client_draft_id:be,ops:Object(_.n)(Se),destinations:Object(_.j)(Se)};oe(Object(b.h)(Pe)),yield oe(Object(y.a)({draftId:be}))});return function(oe,me,be){return ie.apply(this,arguments)}}());j.meta={name:"createThunk",key:"createThunkeditDlpMessage",description:"edit a user dlp flagged message in the message pane"};var E=j,M=e("BfA7"),T=e("I0j/"),P=e("37+L"),B=e("UmHn"),R=e("HOkk"),U=e("jWAO"),K=e("Tevt"),V=e("rAyg"),z=e("ktUG");const N="https://account.box.com/app-api/slack-v2/install?cfsAuth=true",A=new r.b("file-upload"),x={labelledby:"p-file_upload_error_dialog__message"},k={cancelButton:{eventId:z.EventId.ENTERPRISE_DLP_USER_WARNING,elementName:"file_upload_edit_button",onClick:{enableClogAction:!0}}},F={name:"check-circle"};let L=h(class extends n.PureComponent{onCancel(){const{onClose:oe,msgText:me,goToDrafts:be}=this.props;if(this.canCopyMessage()){Object(c.e)(me);const Se=A.t("Text copied.");this.props.enqueueToast({element:t.a.createElement(V.a,{svgIconProps:F,svgIconClassName:"sk_lilypad_green"},Se)})}be&&(this.props.shouldUseNavigate?this.props.navigate(Object(P.T)(B.a.Drafts)):this.props.setPrimaryView({id:"Pdrafts"})),this.showDlpWarningAlert()&&this.editMessageAfterDlpWarning(),oe&&oe()}onGo(oe){var me,be;(be=(me=this.props).onGo)===null||be===void 0||be.call(me,oe),this.props.closeModal()}getErrorTitle(){const{error:oe,goToDrafts:me}=this.props;return me?A.t("Couldn\u2019t send message",{fallbackHash:"a7003a17b845a849ad6b0e26d911880416db8f96",fallbackHashNs:"client"}):this.showDlpWarningAlert()?A.t("Review this message before sending"):oe&&[d.a.SlackConnectBlockedFileType,d.a.SlackConnectFileUploadSharingBlocked].includes(oe)?A.t("File upload is not available"):oe===d.a.SlackConnectFileLinkSharingBlocked?A.t("Can\u2019t share file",{fallbackHash:"cf0b694a139c9f2ebaa6c1d6fc7d9b8f17f0cb21",fallbackHashNs:"share-dialog"}):A.t("Your file couldn\u2019t be uploaded")}getErrorMessage(){const{experimentBoxCfsGroupOn:oe,experimentFeBlockSharingFileTypesGroupOn:me,filestore:be,goToDrafts:Se,error:Pe}=this.props;if(Pe===d.a.FileUploadsDisabled)return A.t("File uploads to this workspace have been disabled at the request of your administrator.",{fallbackHash:"41d8a72765fefd26701060f61016d5614c19f486",fallbackHashNs:"files"});if(Pe===d.a.FileUploadsExceptImagesDisabled)return A.t("At the request of your administrator, only images can be uploaded to this workspace.",{fallbackHash:"193abce8b47ae929ebaf718597b7be31289fec4e",fallbackHashNs:"files"});if(Pe===d.a.SlackConnectFileLinkSharingBlocked)return A.t("File sharing has been disabled in conversations using Slack Connect.",{fallbackHash:"e8f194362ffc5ae28e45b5ead555ca6d10747378",fallbackHashNs:"share-dialog"});if(Pe===d.a.SlackConnectBlockedFileType)return A.t("Files of this type can\u2019t be shared in conversations using Slack Connect.",{fallbackHash:"37e1dbfd71d5e354f61967c3eea95445bbae19cd",fallbackHashNs:"client"});if(me&&Pe===d.a.BlockedFileType)return A.t("Files of this type can\u2019t be shared in conversations according to your enterprise policy");if(Pe===d.a.SlackConnectFileUploadSharingBlocked)return A.t("Your admins have disabled file upload in this Slack Connect conversation.",{fallbackHash:"71383217c9d64f51dc2d041efbda8a8a4e8a3005",fallbackHashNs:"file-upload"});if(Pe===d.a.SlackConnectCanvasContainFileSharingBlocked)return A.t("This canvas contains at least one file. Your message couldn\u2019t be sent. File sharing has been disabled in conversations using Slack Connect.",{fallbackHash:"ac0cc1047439ad31466c9f726b80defd80b543f6",fallbackHashNs:"file-upload"});if(Pe===d.a.MalwareDetected)return t.a.createElement(U.d,{level:U.b.warning},A.t("This file may contain a virus or other malware and can\u2019t be uploaded to Slack.",{fallbackHash:"a73deaa3ea16beafb068543ed948e6af2c7b48bb",fallbackHashNs:"files"}));if(Pe===d.a.FileNotFoundOnDevice)return A.t("Something about your file changed before it could be uploaded. This might happen if your file has been moved, edited, or deleted from your device.",{fallbackHash:"125e99f44db118804f7ef65809b0f4a161dff33a",fallbackHashNs:"upload-queue"});if(oe){if(be==="box"){if(Pe===f.a.FilestoreAuthError)return A.rt("Your organization requires that you <link>connect your Box account to Slack</link> in order to upload files. Please try again after connecting.",null,Ue=>{let{key:Fe,text:je}=Ue;return t.a.createElement(K.a,{key:Fe,onClick:this.props.closeModal,href:N,rel:"noopener noreferrer"},je)});if(Pe&&[f.a.FilestoreUnavailable,f.a.FilestoreError].includes(Pe))return A.t("We were unable to communicate with Box. Please try again later.")}if(Pe&&[f.a.FilestoreDisabled,f.a.FilestoreMisconfigured].includes(Pe))return A.rt("Something isn\u2019t right with your workspace\u2019s file upload settings. Please ask your administrator to <Link>contact Slack customer support.</Link>",null,Ue=>{let{key:Fe,text:je}=Ue;return t.a.createElement(K.a,{key:Fe,href:`https://${Object(m.n)()}/help/contact`,rel:"noopener noreferrer"},je)})}return this.showDlpWarningAlert()?A.t("This message may include info that your admins don\u2019t want shared. This can include social security numbers, credit card info, or other info they choose to restrict. Make sure everything looks okay before sending.",{fallbackHash:"3d41b52522ffc1ce2a17231eddea8d6a36940833"}):Se?A.t("Your message, along with any files and attachments, has been saved to your drafts.",{fallbackHash:"cdd8eea57f7dc6bc3e9d85522cdab14f0750b7a2",fallbackHashNs:"client"}):this.canCopyMessage()?A.t("If you\u2019d like, you can copy your message to your clipboard in order to send it separately \u2014 or you can try uploading again."):Pe===d.a.CanvasHeaderImageUnsupportedFileType?A.t("This file type is not supported.",{fallbackHash:"33d6b46a676f82c6706096af1540b846b5e33e17"}):this.canTryAgain()?A.t("Hmm, it looks like your file failed to upload. Want to try again?"):A.t("Hmm, it looks like your file failed to upload.",{fallbackHash:"33d6b46a676f82c6706096af1540b846b5e33e17",fallbackHashNs:"files"})}canCopyMessage(){const{msgText:oe}=this.props;return oe&&Object(c.a)()}canTryAgain(){const{allowTryAgain:oe,goToDrafts:me}=this.props;return!(!oe||me)}shouldShowSlackConnectBlockFilesByTypeLearnMoreLink(){const{error:oe}=this.props;return oe===d.a.SlackConnectBlockedFileType}showShowAddFilesToSlackLearnMoreLink(){const{error:oe}=this.props;return oe===d.a.MalwareDetected}render(){const{onClose:oe,goToDrafts:me}=this.props,be=this.getErrorTitle();let Se;const Pe=this.canTryAgain(),Ue=this.showDlpWarningAlert();Pe&&this.canCopyMessage()?Se=A.t("Try Again"):Pe?Se=A.t("Yes, try again"):Ue?Se=A.t("Send Message"):Se=A.t("Got it");let Fe;Pe&&this.canCopyMessage()?Fe=A.t("Copy Text & Close"):me?Fe=A.t("See Drafts",{fallbackHashNs:"drafts",fallbackHash:"22a31d86e0187b65e763143666d22094cedfe6a4"}):Ue?Fe=A.t("Edit Message"):Pe&&(Fe=A.t("Cancel"));const je=this.getErrorMessage();let _e="",pe="",fe="";return this.shouldShowSlackConnectBlockFilesByTypeLearnMoreLink()?(_e="question-circle",pe=`https://${Object(m.n)()}/help/articles/1500002249342`,fe=A.t("Learn more")):this.showShowAddFilesToSlackLearnMoreLink()&&(_e="question-circle",pe=`https://${Object(m.n)()}/help/articles/201330736`,fe=A.t("Learn more")),t.a.createElement(R.a,{className:"p-file_upload_error_dialog","data-qa":"file_upload_error_dialog",title:be,ariaContent:x,goButtonText:Se,cancelText:Fe,showCancelButton:Pe||me||Ue,onGo:this.onGo,onCancel:this.onCancel,onClose:oe,shouldCloseOnGo:!1,footerIcon:_e!==""?_e:void 0,footerLink:pe!==""?pe:void 0,footerText:fe!==""?fe:void 0,autoClogProps:Ue?k:void 0},t.a.createElement("span",{id:"p-file_upload_error_dialog__message"},je))}constructor(oe){super(oe),this.showDlpWarningAlert=()=>this.props.error===d.a.DlpUserWarning,this.editMessageAfterDlpWarning=()=>{const{draftId:me,onEditDlpMessage:be}=this.props;this.showDlpWarningAlert()&&me&&be(me)},this.onCancel=this.onCancel.bind(this),this.onGo=this.onGo.bind(this)}},"FileUploadErrorDialog");L.displayName="FileUploadErrorDialog";const S=h((ie,oe)=>{let{blocks:me}=oe;return{msgText:Object(u.a)(ie,me),experimentBoxCfsGroupOn:Object(s.d)(ie,"box_cfs")==="on",experimentFeBlockSharingFileTypesGroupOn:Object(s.d)(ie,"fe_block_sharing_file_types")==="on"}},"mapStateToProps"),I=h(ie=>({closeModal:()=>ie(Object(p.a)()),enqueueToast:oe=>ie(Object(v.a)(oe)),setPrimaryView:function(){for(var oe=arguments.length,me=new Array(oe),be=0;be<oe;be++)me[be]=arguments[be];return ie(Object(g.a)(...me))},navigate:oe=>ie(Object(T.a)(oe)),onEditDlpMessage:oe=>{ie(E(oe)),ie(Object(p.a)())}}),"mapDispatchToProps");var W=Object(o.a)(S,I)(Object(M.a)(L)),D=e("/MKj"),H=e("Trx9"),Z=e("PFo8"),G=e("vDCl"),te=e("WAPM");const se=new r.b("file-upload"),$={elementName:"learn_more",onClick:{enableClogAction:!0}},X={elementName:"contact_us",onClick:{enableClogAction:!0}},q=h(()=>{const ie=Object(D.useDispatch)(),oe=Object(n.useCallback)(()=>{ie(Object(p.a)())},[ie]),me=se.t("Team not able to upload files"),be=`help/requests/new?title=${encodeURIComponent(me)}`,Se=se.t("File not uploaded"),Pe=se.rt("Your team isn\u2019t able to upload files right now. <learnMoreLink>Learn more</learnMoreLink> about file uploads, or <contactUsLink>contact us</contactUsLink> for additional support.",{"<learnMoreLink>":Ue=>{let{text:Fe}=Ue;return t.a.createElement(te.a,{"data-qa":"file-limit-error-modal-learn-more-link",articleId:115002422943,hash:"message-and-file-visibility-limit",autoClogProps:$,forceOpenInBrowser:!0},Fe)},"<contactUsLink>":Ue=>{let{text:Fe}=Ue;return t.a.createElement(K.a,{"data-qa":"file-limit-error-modal-contact-us-link",href:be,autoClogProps:X},Fe)}});return t.a.createElement(H.a,{eventId:z.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:z.UiComponentName.FILE_LIMIT_ERROR_MODAL},t.a.createElement(Z.a,{"data-qa":"file-limit-error-modal",title:Se,titleIcon:"warning",bodyContent:Pe,onRequestClose:oe,theme:G.b.ERROR}))},"FileLimitErrorModal");q.displayName="FileLimitErrorModal";var Y=q,ee=e("i6Or"),w=e("yzO5"),ne=e("ZtOl");const ae=Object(a.c)("skip dlp error on subsequent message resend",function(){var ie=Object(O.coroutine)(function*(oe,me,be){let{draftId:Se}=be;const Pe=Object(C.k)(me(),Se);Pe&&oe(Object(ne.a)({draft:Pe,isFromModal:!0,skipDlpUserWarning:!0}))});return function(oe,me,be){return ie.apply(this,arguments)}}());ae.meta={name:"createThunk",key:"createThunkresendMessageAfterDlpWarning",description:"skip dlp error on subsequent message resend"};var de=ae,ge=e("DuRM");const le=Object(a.c)("Opens the File Upload Error Dialog",(ie,oe,me)=>{const be=me.targetWindow?Object(ge.b)(me.targetWindow):void 0;if(me.error===d.a.FilesUploadHasExceededLimit&&Object(s.d)(oe(),"file_limit_abuse_prevention")==="on")ie(Object(l.a)({element:t.a.createElement(Y),forceTargetWindowId:be}));else if(me.error===ee.a.MessageLimitExceeded&&Object(s.d)(oe(),"upgrd_5684")==="on")ie(Object(w.a)());else if(me.error===d.a.DlpUserWarning){const Se=h(()=>ie(de({draftId:me.draftId})),"onGo");ie(Object(l.a)({element:t.a.createElement(W,{...me,onGo:Se}),forceTargetWindowId:be}))}else ie(Object(l.a)({element:t.a.createElement(W,me),forceTargetWindowId:be}))});le.meta={name:"createThunk",key:"createThunkopenFileUploadErrorDialog",description:"Opens the File Upload Error Dialog"},le.propTypes=null;var Q=i.a=le},kxML:function(J,i,e){J.exports=e.p+"collaboration-46609a9.svg"},kyoJ:function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a}),e.d(i,"c",function(){return l}),e.d(i,"d",function(){return o}),e.d(i,"e",function(){return f});var n=e("3Hq1");const t="chat_input_tab_ui";function a(r){return`tab_complete_ui_item_${r}`}h(a,"htmlIdForResultAtIndex");const s={"aria-activedescendant":void 0,"aria-controls":t,"aria-haspopup":"listbox"};function l(r){Object.entries(s).forEach(m=>{let[c,u=""]=m;return r.setAttribute(c,u.toString())})}h(l,"initAttributesOnAutocompleteInputElement");function o(r){Object.keys(s).forEach(m=>r.removeAttribute(m))}h(o,"removeAttributesOnAutocompleteInputElement");function f(r,m){r.setAttribute("aria-activedescendant",Object(n.a)(m)?"":a(m))}h(f,"updateAutocompleteInputElementWithSelectedIndex")},l6CK:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("zxER"),l=e("9Gfp"),o=e("pFNT"),f=e("nNoG"),r=e("oEDn");const m=new f.b("stories_av");function c(Fe){let{recording:je,recordingPaused:_e}=Fe;const[pe,fe]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{if(_e){const Ee=setTimeout(()=>{fe(!0)},1e3);return()=>clearTimeout(Ee)}fe(!1)},[_e]),!je||!_e?null:t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-video_recorder_canvas__shroud"}),t.a.createElement("div",{className:"p-video_recorder_canvas__pause_icon_container"},t.a.createElement(r.a,{type:"pause",className:"p-video_recorder_canvas__pause_icon",size:"inherit"})),t.a.createElement("div",{className:Object(a.default)("p-video_recorder_canvas__shroud_text",{"p-video_recorder_canvas__shroud_text--visible":pe})},m.rt("Press spacebar to resume recording")))}h(c,"VideoRecorderPauseOverlay"),c.displayName="VideoRecorderPauseOverlay";var u=c,d=e("/MKj"),p=e("kBpe"),v=e("VfoO"),g=e("MRve"),O=e("u0LO"),b=e("vrU2"),y=e("nFQW"),C=e("c+dP"),_=e("Tsh7"),j=e("x5Wd"),E=e("hwNb"),M=e("PU6Q"),T=e("9oTK"),P=e("fujP"),B=e("BeL+"),R=e("F294"),U=e("Z3Pq"),K=e("bPB8"),V=e("TGBA"),z=e("Z2IC"),N=e("UHsu"),A=e("jSYs"),x=e("dkXW"),k=e("LxFC"),F=e("WCSk");function L(){return L=Object.assign||function(Fe){for(var je=1;je<arguments.length;je++){var _e=arguments[je];for(var pe in _e)Object.prototype.hasOwnProperty.call(_e,pe)&&(Fe[pe]=_e[pe])}return Fe},L.apply(this,arguments)}h(L,"_extends");const S=new f.b("stories_av");function I(Fe){let{devicePrefsChanged:je,..._e}=Fe;const pe=Object(z.a)(x.b),[fe,Ee]=Object(n.useState)([]),[ye,Te]=Object(n.useState)([]);Object(n.useEffect)(()=>{let he=!0;const Me=function(){var Ae=Object(T.coroutine)(function*(){const xe=yield navigator.mediaDevices.enumerateDevices().then(A.a).then(ze=>ze.filter(Ie=>!Object(P.a)(Ie.label)));if(!he)return;const Re=D(xe.filter(ze=>ze.kind==="audioinput"),pe.deviceIdPriorities[k.b.Microphone]);Te(Re.map(F.f));const Ge=D(xe.filter(ze=>ze.kind==="videoinput"),pe.deviceIdPriorities[k.b.Camera]);Ee(Ge.map(F.f))});return h(function(){return Ae.apply(this,arguments)},"enumerateDevices")}();return navigator.mediaDevices.addEventListener("devicechange",Me),Me(),()=>{he=!1,navigator.mediaDevices.removeEventListener("devicechange",Me)}},[pe.deviceIdPriorities]);const Oe=Object(n.useCallback)(function(){var he=Object(T.coroutine)(function*(Me,Ae){const xe={...pe,deviceIdPriorities:{...pe.deviceIdPriorities,[Ae]:Object(B.a)([Me.id,...pe.deviceIdPriorities[Ae]])}};yield Object(x.d)(xe),je()});return function(Me,Ae){return he.apply(this,arguments)}}(),[pe,je]),Ce=Object(n.useCallback)(he=>t.a.createElement(C.f,L({},he),fe.map(Me=>t.a.createElement(C.b,{key:Me.id,type:"radio",label:Me.label,checked:Me===Object(R.a)(fe),onSelected:()=>Oe(Me,k.b.Camera)}))),[fe,Oe]),ce=Object(n.useCallback)(he=>t.a.createElement(C.f,L({},he),ye.map(Me=>t.a.createElement(C.b,{key:Me.id,type:"radio",label:Me.label,checked:Me===Object(R.a)(ye),onSelected:()=>Oe(Me,k.b.Microphone)}))),[ye,Oe]);return t.a.createElement(C.f,L({},_e,{width:225}),t.a.createElement(N.a,{label:S.t("Camera",{fallbackHash:"c1947f39235d4419e57e07bd8ad0c083d3040600"}),renderSubmenu:Ce,disabled:fe.length===0}),t.a.createElement(N.a,{label:S.t("Microphone",{fallbackHash:"2a04af2486ffab0f6fbfb20d4b5b0344935c043a"}),renderSubmenu:ce,disabled:ye.length===0}))}h(I,"VideoRecorderSettingsMenu"),I.displayName="VideoRecorderSettingsMenu";var W=I;function D(Fe,je){const _e=Object(U.a)(Fe,fe=>fe.deviceId),pe=je.map(fe=>{const Ee=_e[fe];return delete _e[fe],Ee});return Object(K.a)([...pe,...Object(V.a)(_e)])}h(D,"sortDevicesByPriority");var H=e("tv4y");function Z(){return Z=Object.assign||function(Fe){for(var je=1;je<arguments.length;je++){var _e=arguments[je];for(var pe in _e)Object.prototype.hasOwnProperty.call(_e,pe)&&(Fe[pe]=_e[pe])}return Fe},Z.apply(this,arguments)}h(Z,"video_recorder_sparkle_menu_extends");const G=new f.b("stories_av");function te(Fe){let{blurEnabled:je,toggleBgBlur:_e,bgImgEnabled:pe,onUploadBgImage:fe,clearBgImage:Ee,clogButton:ye,experimentClipsBgGroupOn:Te,fileUploadsDisabled:Oe,...Ce}=Fe;const ce=Object(n.useCallback)(()=>{ye("background_blur","initial_screen",{blur_toggled_from:je,blur_toggled_to:!je}),_e()},[je,ye,_e]),he=Object(n.useCallback)(()=>{ye("upload_bg_img","initial_screen",{bg_img_enabled:pe,bg_img_set_before_upload:pe}),fe()},[pe,ye,fe]),Me=Object(n.useCallback)(()=>{ye("remove_bg_img","initial_screen",{bg_img_enabled_from:pe,bg_img_enabled_to:!pe}),Ee()},[pe,ye,Ee]);return t.a.createElement(C.f,Z({},Ce),t.a.createElement(C.b,{label:G.t("Blur background"),checked:je,type:H.b.checkbox,onSelected:ce}),!Oe&&t.a.createElement(t.a.Fragment,null,t.a.createElement(C.d,null),t.a.createElement(C.b,{label:G.t("Upload background image"),description:!Te&&G.t("Coming soon",{fallbackHash:"e4115be258dbdd1661c5f1ff14670c19ef1048da",fallbackHashNs:"reminders"}),onSelected:he,disabled:!Te}),pe&&t.a.createElement(C.b,{label:G.t("Remove background image"),onSelected:Me,danger:!0})))}h(te,"VideoRecorderSparkleMenu"),te.displayName="VideoRecorderSparkleMenu";var se=te,$=e("8QLk");function X(Fe){let{microphoneStream:je}=Fe;const[_e,pe]=Object(n.useState)(0);return Object(n.useEffect)(()=>{if(!je||!window.AudioContext)return;const fe=new AudioContext,Ee=fe.createAnalyser();Ee.fftSize=32,Ee.smoothingTimeConstant=.2;const ye=new Uint8Array(Ee.frequencyBinCount);fe.createMediaStreamSource(je).connect(Ee);const Oe=5,Ce=5,ce=new Array(Ce).fill(0);let he=0;const Me=setInterval(()=>{Ee.getByteFrequencyData(ye);let Ae=0;for(let Re=0;Re<ye.length;Re++)Ae+=(ye[Re]/(255*.9))**2;const xe=Math.sqrt(Ae/ye.length);if(ce[he]=xe,he+=1,he===Ce){const Re=Math.min(1,Math.max.apply(void 0,ce));pe(Re),he=0}},1e3/Oe/Ce);return()=>clearInterval(Me)},[je]),_e}h(X,"useMicVolume");var q=X;const Y=new f.b("stories_av"),ee=.55;function w(Fe){let{videoOn:je,initialMicrophoneOn:_e,microphoneOn:pe,microphoneFailed:fe,startMicrophone:Ee,stopMicrophone:ye,microphoneStream:Te}=Fe;const[Oe,Ce]=Object(n.useState)(!1);Object(n.useEffect)(()=>{_e?(pe||fe)&&Ce(!0):Ce(!0)},[fe,pe,_e]);const ce=q({microphoneStream:Te}),he=.4,Me=.5,Re={height:`${(Object($.a)(ce,he,Me)-he)/(Me-he)*ee}em`},Ge=!pe&&Oe;return t.a.createElement("div",{className:"p-video_recorder_canvas_buttons__row_element"},t.a.createElement(_.d,{tip:pe?Y.t("Mute"):Y.t("Unmute")},t.a.createElement(y.a,{className:"p-video_recorder_canvas_buttons__button",icon:Ge?"microphone-slashless":"microphone","aria-label":pe?Y.t("Mute"):Y.t("Unmute"),"aria-pressed":pe,onClick:pe?ye:Ee,backgroundStyle:je?"dark":void 0})),pe&&Oe&&t.a.createElement("div",{className:Object(a.default)("p-video_recorder_mic_button__level",{"p-video_recorder_mic_button__level--dark":!je}),style:Re}),Ge&&t.a.createElement(r.a,{type:"microphone-slashonly",className:"p-video_recorder_canvas_buttons__button_slash"}))}h(w,"VideoRecorderMicButton"),w.displayName="VideoRecorderMicButton";var ne=w;function ae(){return ae=Object.assign||function(Fe){for(var je=1;je<arguments.length;je++){var _e=arguments[je];for(var pe in _e)Object.prototype.hasOwnProperty.call(_e,pe)&&(Fe[pe]=_e[pe])}return Fe},ae.apply(this,arguments)}h(ae,"video_recorder_canvas_buttons_extends");const de=new f.b("stories_av");function ge(Fe){let{initialMicrophoneOn:je,microphoneOn:_e,microphoneFailed:pe,startMicrophone:fe,stopMicrophone:Ee,initialCameraOn:ye,cameraOn:Te,cameraFailed:Oe,startCamera:Ce,stopCamera:ce,screenCaptureOn:he,devicePrefsChanged:Me,blurEnabled:Ae,toggleBgBlur:xe,bgImgEnabled:Re,setBgImage:Ge,clearBgImage:ze,microphoneStream:Ie,clogButton:Ne}=Fe;const Ke=Object(d.useDispatch)(),Ve=Object(n.useContext)(j.a),$e=Te||he,tt=!Object(p.i)(),qe=Object(n.useRef)(null),ut=Object(s.c)(E.b),rt=Object(s.c)(M.b)==="disable_all",yt=Object(s.c)(Rn=>Object(b.a)(Rn,{blurEnabled:Ae})),[Mt,st]=Object(n.useState)(!1);Object(n.useEffect)(()=>{ye?(Te||Oe)&&st(!0):st(!0)},[Oe,Te,ye]),Object(n.useEffect)(()=>{Ke(Object(g.a)({interactions:[{component:O.c.ClipsNuxBlur,type:O.a.Click}],reason:"clips_nux_blur"}))},[Ke]),Object(n.useEffect)(()=>{Ae&&Ke(Object(g.b)({component:O.c.ClipsNuxBlur,type:O.a.Click,reason:"clips_nux_blur_on"}))},[Ke,Ae]);const Vt=Object(n.useCallback)(()=>{var Rn;(Rn=qe.current)===null||Rn===void 0||Rn.click()},[]),Wt=Object(n.useCallback)(()=>{var Rn,Vn;const ea=(Rn=qe.current)===null||Rn===void 0||(Vn=Rn.files)===null||Vn===void 0?void 0:Vn[0];ea&&Object(v.a)(ea).then(Lt=>{const vn=Lt.dataUrl,Wn=new Image;Wn.src=vn,Ge(Wn),qe.current&&(qe.current.value="")})},[Ge]),Xt=Object(n.useCallback)(()=>{Ne("background_blur","initial_screen",{blur_toggled_from:Ae,blur_toggled_to:!Ae}),xe()},[Ae,Ne,xe]),Ut=Object(n.useCallback)(Rn=>t.a.createElement(se,ae({},Rn,{blurEnabled:Ae,toggleBgBlur:xe,bgImgEnabled:Re,onUploadBgImage:Vt,clearBgImage:ze,clogButton:Ne,experimentClipsBgGroupOn:ut,fileUploadsDisabled:rt})),[xe,Ae,Re,ze,Vt,Ne,ut,rt]),Nt=Object(n.useCallback)(Rn=>t.a.createElement(W,ae({},Rn,{devicePrefsChanged:Me})),[Me]),Ft=!Te&&Mt,_n=Ae?de.t("Remove blur",{fallbackHash:"8f96388d86c0be3fc3cd519a2dcbe3f50c5efa04"}):t.a.createElement(t.a.Fragment,null,yt&&t.a.createElement("span",{className:"sk_light_grey"},de.t("New!",{fallbackHash:"6403f2b7eb2aaafe6de34cbf2a029b01afebc512",fallbackHashNs:"huddles"}))," ",de.t("Blur background",{fallbackHash:"669996c250e10f8f3076de59ec96ad9074b57714"})),cn=Ae?de.t("Remove blur",{fallbackHash:"8f96388d86c0be3fc3cd519a2dcbe3f50c5efa04"}):de.t("Blur background",{fallbackHash:"669996c250e10f8f3076de59ec96ad9074b57714"});return t.a.createElement("div",{className:Object(a.default)("p-video_recorder_canvas_buttons__background",{"p-video_recorder_canvas_buttons__background--over_video":$e,"p-video_recorder_canvas_buttons__background--align_left":tt})},t.a.createElement("div",{className:"p-video_recorder_canvas_buttons__row_element"},t.a.createElement(_.d,{tip:Te?de.t("Turn camera off",{fallbackHash:"0884a48bf72c358f61c5796f4fc3e608dc44fb97"}):de.t("Turn camera on",{fallbackHash:"13504d340621f1efb54dc19932f637b28c2afe86"})},t.a.createElement(y.a,{className:"p-video_recorder_canvas_buttons__button",icon:Ft?"stop-video-slashless":"video-camera","aria-label":Te?de.t("Turn camera off",{fallbackHash:"0884a48bf72c358f61c5796f4fc3e608dc44fb97"}):de.t("Turn camera on",{fallbackHash:"13504d340621f1efb54dc19932f637b28c2afe86"}),"aria-pressed":Te,onClick:Te?ce:Ce,backgroundStyle:$e?"dark":void 0,autoFocus:Ve})),Ft&&t.a.createElement(r.a,{type:"stop-video-slashonly",className:"p-video_recorder_canvas_buttons__button_slash"})),t.a.createElement(ne,{videoOn:$e,initialMicrophoneOn:je,microphoneOn:_e,microphoneFailed:pe,startMicrophone:fe,stopMicrophone:Ee,microphoneStream:Ie}),!ut||rt?t.a.createElement(_.d,{tip:_n},t.a.createElement(y.a,{className:Object(a.default)("p-video_recorder_canvas_buttons__button","p-video_recorder_canvas_buttons__row_element",{"p-video_recorder_canvas_buttons__button--highlight":yt}),icon:"sparkles","aria-label":cn,backgroundStyle:$e?"dark":void 0,onClick:Xt})):t.a.createElement(t.a.Fragment,null,t.a.createElement(C.e,{renderMenu:Ut,position:tt?"top-left":"top-right"},t.a.createElement(_.d,{tip:de.t("\u2728 Effects")},t.a.createElement(y.a,{className:Object(a.default)("p-video_recorder_canvas_buttons__button","p-video_recorder_canvas_buttons__row_element"),icon:"sparkles","aria-label":de.t("Effects"),backgroundStyle:$e?"dark":void 0,"data-qa":"p-video_recorder_canvas__effects_menu_trigger"}))),t.a.createElement("input",{type:"file",accept:"image/jpeg,image/png",hidden:!0,ref:qe,onChange:Wt})),t.a.createElement(C.e,{renderMenu:Nt,position:tt?"top-left":"top-right"},t.a.createElement(_.d,{tip:de.t("Settings")},t.a.createElement(y.a,{className:"p-video_recorder_canvas_buttons__button p-video_recorder_canvas_buttons__row_element",icon:"cog-o","aria-label":de.t("Settings"),backgroundStyle:$e?"dark":void 0}))))}h(ge,"VideoRecorderCanvasButtons"),ge.displayName="VideoRecorderCanvasButtons";var le=ge,Q=e("q7Oo");function ie(Fe){let{countdownSecondsRemaining:je}=Fe;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-video_recorder_canvas__shroud p-video_recorder_canvas__shroud--visible"}),t.a.createElement("div",{className:"p-video_recorder_countdown_overlay"},t.a.createElement(Q.a,{secondsRemaining:je,className:"p-video_recorder_countdown_overlay__countdown"})))}h(ie,"VideoRecorderCountdownOverlay"),ie.displayName="VideoRecorderCountdownOverlay";var oe=ie,me=e("i9y5");const be=new f.b("invite");function Se(){const Fe=Object(n.useMemo)(()=>{const je=[be.t("Herding emoji\u2026"),be.t("Reticulating splines\u2026"),be.t("Bottling messages\u2026"),be.t("Freeze-drying files\u2026"),be.t("Dredging pipes\u2026"),be.t("Boiling water\u2026"),be.t("Tuning channels\u2026"),be.t("Tangling wires\u2026"),be.t("Ironing folds\u2026"),be.t("Focusing figments\u2026"),be.t("Unspooling yarn\u2026"),be.t("Rotating helix\u2026"),be.t("Rounding corners\u2026"),be.t("Buffering dreams\u2026"),be.t("Spinning up spinners\u2026"),be.t("Building up steam\u2026")];return je[Math.floor(Math.random()*je.length)]},[]);return t.a.createElement("div",{className:"p-video_recorder_loading_spinner"},t.a.createElement(me.a,{color:"white",size:"jumbo",inline:!0}),t.a.createElement("span",{className:"bold margin_top_50"},Fe))}h(Se,"VideoRecorderLoadingSpinner");function Pe(Fe){let{setCanvasRef:je,recording:_e,countingDown:pe,countdownSecondsRemaining:fe,initialMicrophoneOn:Ee,microphoneOn:ye,microphoneFailed:Te,startMicrophone:Oe,stopMicrophone:Ce,screenCaptureOn:ce,initialCameraOn:he,cameraOn:Me,cameraFailed:Ae,startCamera:xe,stopCamera:Re,recordingPaused:Ge,devicePrefsChanged:ze,blurEnabled:Ie,toggleBgBlur:Ne,bgImgEnabled:Ke,setBgImage:Ve,clearBgImage:$e,loading:tt,microphoneStream:qe,rendererStream:ut,clogButton:rt}=Fe;const yt=Object(s.c)(l.a),Mt=Object(n.useRef)(null);Object(n.useEffect)(()=>{Mt.current&&ut&&(Mt.current.srcObject=ut,Mt.current.play())},[ut]);const st=!_e&&!pe,Vt={transform:Me&&!ce&&!Ke?"scale(-1, 1)":"scale(1)"},Wt=Object(a.default)("p-video_recorder_canvas__container",{"p-video_recorder_canvas__container--camera":Me,"p-video_recorder_canvas__container--screen_share":ce,"p-video_recorder_canvas__container--paused":_e&&Ge});return t.a.createElement("div",{className:Wt},!Me&&!ce&&t.a.createElement(o.c,{userId:yt,size:115,className:"p-video_recorder_canvas__avatar",isInteractive:!1}),ut&&t.a.createElement("video",{className:Object(a.default)("p-video_recorder_canvas",{"p-video_recorder_canvas--not_rendering":!Me&&!ce}),style:Vt,ref:Mt}),t.a.createElement("canvas",{className:Object(a.default)("p-video_recorder_canvas",{"p-video_recorder_canvas--not_rendering":!Me&&!ce,hidden:ut}),id:"video-recorder-live-feed-layer",ref:je,style:Vt}),t.a.createElement(u,{recording:_e,recordingPaused:Ge}),st&&t.a.createElement(le,{initialMicrophoneOn:Ee,microphoneOn:ye,microphoneFailed:Te,startMicrophone:Oe,stopMicrophone:Ce,initialCameraOn:he,cameraOn:Me,cameraFailed:Ae,startCamera:xe,stopCamera:Re,screenCaptureOn:ce,devicePrefsChanged:ze,blurEnabled:Ie,toggleBgBlur:Ne,bgImgEnabled:Ke,setBgImage:Ve,clearBgImage:$e,microphoneStream:qe,clogButton:rt}),pe&&t.a.createElement(oe,{countdownSecondsRemaining:fe}),tt&&t.a.createElement(Se,null))}h(Pe,"VideoRecorderCanvas"),Pe.displayName="VideoRecorderCanvas";var Ue=i.a=Pe},lIcY:function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n="scia"},lLIM:function(J,i,e){"use strict";e.d(i,"d",function(){return P}),e.d(i,"c",function(){return B}),e.d(i,"a",function(){return U}),e.d(i,"e",function(){return V}),e.d(i,"b",function(){return z});var n=e("ZKjC"),t=e("Zbwg"),a=e("E3dU"),s=e("gVOt"),l=e("xwCZ"),o=e("C3vN"),f=e("bPB8"),r=e("zmn3"),m=e("okoL"),c=e("1myf"),u=e("uXhx"),d=e("6CnZ"),p=e("UIhb"),v=e("y8dB"),g=e("+l5E"),O=e("6Mvn");function b(N,A){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;const k=Object(d.j)(N,A);if(!k||!k.timestamps)return null;const F=Object(p.a)(N,A),L=Object(v.a)(Object(f.a)(Object(r.a)(k.timestamps,S=>F[S])));return Object(m.a)(Object(c.a)(Object(u.a)(L.messages,S=>Object(g.fb)(S)||!Object(O.a)(N,S)),"ts"),x)}h(b,"getLastMessagesInChannel");var y=e("/JQq"),C=e("Yauy"),_=e("Wn1n"),j=e("2VFn"),E=e("RVJP"),M=e("uVZW"),T=e("7+Lm");const P=Object(n.b)(N=>!!N.setupCreation.isWelcomeDmTipOpen);P.meta={name:"createSelector",key:"createSelectorisWelcomeDmTipOpen",description:N=>!!N.setupCreation.isWelcomeDmTipOpen};const B=Object(n.b)(N=>N.setupCreation.welcomeDmSentToChannel);B.meta={name:"createSelector",key:"createSelectorgetWelcomeDmSentToChannel",description:N=>N.setupCreation.welcomeDmSentToChannel};const R=Object(n.b)((N,A)=>{const x=b(N,A,2)||[];return x.length===1&&Object(g.nb)(x[0])});R.meta={name:"createSelector",key:"createSelectorhasJoinerNotificationForInviterAndNoMessageHistory",description:(N,A)=>{const x=b(N,A,2)||[];return x.length===1&&Object(g.nb)(x[0])}};const U=Object(n.b)((N,A)=>{const x=b(N,A,2);return x?x.length===0||x.length===1&&Object(g.mb)(x[0]):!1});U.meta={name:"createSelector",key:"createSelectordmHasNoMessageHistory",description:(N,A)=>{const x=b(N,A,2);return x?x.length===0||x.length===1&&Object(g.mb)(x[0]):!1}};const K=Object(n.b)((N,A)=>{let{getSiblingView:x,shouldUseNavigate:k}=A;var F;const L=k?(F=x(N,{container:j.i.Primary}))===null||F===void 0?void 0:F.id:Object(_.a)(N),S=L&&Object(t.a)(L)&&Object(a.d)(N,L);if(S){const I=Object(C.r)(N,S);return{channel:S,channelOnboardingType:I,channelId:L}}return!1});K.meta={name:"createSelector",key:"createSelectorgetCurrentChannelInfo",description:(N,A)=>{let{getSiblingView:x,shouldUseNavigate:k}=A;var F;const L=k?(F=x(N,{container:j.i.Primary}))===null||F===void 0?void 0:F.id:Object(_.a)(N),S=L&&Object(t.a)(L)&&Object(a.d)(N,L);if(S){const I=Object(C.r)(N,S);return{channel:S,channelOnboardingType:I,channelId:L}}return!1}};const V=Object(n.b)((N,A,x)=>{if(Object(E.d)(N,"welcome_dm_tip_ga")!=="on"||Object(T.c)(N,M.g.MESSAGE_INPUT)!==M.h.WELCOME_DM_TIP)return!1;let k=x;if(!k&&A){let S;if(typeof A=="string")S=A;else if(typeof A=="object"){const I=K(N,A);I&&(S=I==null?void 0:I.channelId)}if(!Object(t.a)(S))return!1;k=Object(a.d)(N,S)}if(!k)return!1;const F=Object(s.a)(k);if(!F)return!1;const L=Object(l.g)(N,F);return Object(o.P)(L)&&!Object(y.a)(N,k)&&U(N,k.id)});V.meta={name:"createSelector",key:"createSelectorshouldShowWelcomeDMMessageSuggestion",description:(N,A,x)=>{if(Object(E.d)(N,"welcome_dm_tip_ga")!=="on"||Object(T.c)(N,M.g.MESSAGE_INPUT)!==M.h.WELCOME_DM_TIP)return!1;let k=x;if(!k&&A){let S;if(typeof A=="string")S=A;else if(typeof A=="object"){const I=K(N,A);I&&(S=I==null?void 0:I.channelId)}if(!Object(t.a)(S))return!1;k=Object(a.d)(N,S)}if(!k)return!1;const F=Object(s.a)(k);if(!F)return!1;const L=Object(l.g)(N,F);return Object(o.P)(L)&&!Object(y.a)(N,k)&&U(N,k.id)}};const z=Object(n.b)((N,A)=>{var x;return(((x=N.setupCreation)===null||x===void 0?void 0:x.teammatesOnboardingStatusMap)||{})[A]});z.meta={name:"createSelector",key:"createSelectorgetOnboardingStatusForMember",description:(N,A)=>{var x;return(((x=N.setupCreation)===null||x===void 0?void 0:x.teammatesOnboardingStatusMap)||{})[A]}}},"lV/E":function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n=h(t=>{if(!(!t||!t.conversation_host_id))return t.conversation_host_id},"getConversationHostId")},la4u:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("FRd1"),l=e("ktUG"),o=e("buun");function f(){return f=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(c[p]=d[p])}return c},f.apply(this,arguments)}h(f,"_extends");const r={onChange:{action:l.UiAction.CLICK}};let m=h(class extends n.PureComponent{componentDidMount(){this.mayBeFocus()}componentDidUpdate(){this.mayBeFocus()}focus(){var u;(u=this.inputRef.current)===null||u===void 0||u.focus()}mayBeFocus(){const{autoFocus:u}=this.props;u&&this.focus()}render(){const{className:u,autoClogProps:d,autoFocus:p,...v}=this.props,g=Object(a.default)("c-input_radio",u),O=t.a.createElement("input",f({},v,{className:g,ref:this.inputRef,type:"radio"}));return d?t.a.createElement(s.a,{autoClogProps:d,actionProps:r,elementType:l.ElementType.RADIO},O):O}constructor(u){super(u),this.inputRef=t.a.createRef()}},"Radio");m.displayName="Radio",m.defaultProps={autoFocus:!1},i.a=m},lnVG:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("yIs4");function t(a){return!!(a&&Object(n.a)(a.retain))}h(t,"isOpRetain")},lqkv:function(J,i,e){"use strict";var n=e("n5Lk");e.d(i,"a",function(){return n.a});var t=e("g3a/"),a=e("dLAD");i.b=t.a},"lqu/":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),s=e("veLH"),l=e("wXOV"),o=e("Wn1n"),f=e("NV6F"),r=e("x6tY"),m=e("se5Z"),c=e("sp7N"),u=e("E3dU"),d=e("Yauy"),p=e("nWdO"),v=e("9Pu8"),g=e("aR8P"),O=e("nvPh");const b=h(N=>{let{text:A="",inputIsEscaped:x=!1,showTooltips:k=!0}=N;const F=Object(a.c)(g.a);return t.a.createElement(O.a,{text:Object(v.a)({text:A,highlights:F,inputIsEscaped:x}),inputIsEscaped:x,showTooltips:k})},"FormatTextWithHighlightWords");b.displayName="FormatTextWithHighlightWords";var y=t.a.memo(b),C=e("ZobM"),_=e("nNoG"),j=e("mQiU"),E=e("rZ8V"),M=e("uiBO"),T=e("E97Y"),P=e("DQKV"),B=e("/qcS"),R=e("RVJP");const U=new _.b("files"),K=new _.b("stories_av");function V(N){let{className:A,file:x,disableTooltip:k=!1,forcedTitle:F,shouldShowHighlight:L=!0,allowLiveTitle:S=!0,fromCanvasOrganization:I=!1,useNewChannelCanvasNaming:W=!1}=N;const D=Object(n.useRef)(),[H,Z]=Object(n.useState)(!1),[G,te]=Object(n.useState)(!1),se=Object(r.h)(x),$=x==null?void 0:x.linked_channel_id,X=Object(a.c)(Q=>se&&$?Object(u.d)(Q,$):null),q=Object(a.c)(Q=>Object(d.u)(Q,X)),Y=Object(a.c)(E.n),ee=Object(a.c)(Q=>Object(R.d)(Q,"lists_in_search")==="on"),{view:w}=Object(n.useContext)(j.a);let ne=Object(a.c)(o.a)==="Psearch";Y&&(ne=(w==null?void 0:w.viewType)===M.b.Search);const ae=Object(a.c)(Q=>!!(S&&x&&Object(r.x)(x)&&!F&&Object(l.a)(Q,x.id,!1)));if(Object(n.useEffect)(()=>{const Q=Object(s.a)(D.current);Z(Q)},[G]),!x)return null;let de,ge;if(Object(r.zb)(x)||Object(r.Tb)(x))ge=t.a.createElement("span",{className:A,ref:D},U.t("Deleted file",{fallbackHash:"35f7092591e27870c6d7c754aaa0d980f3e2928d",fallbackHashNs:"file-details"}));else if(Object(r.Db)(x)||Object(r.tb)(x)||Object(r.kb)(x))ge=t.a.createElement("span",{className:A,ref:D},U.t("Hidden file",{fallbackHash:"d4c2792a72452846f75dc4893e851977cb133db3",fallbackHashNs:"teams"}));else if(Object(r.Gb)(x))ge=t.a.createElement("span",{className:A,ref:D},U.t("Access denied",{fallbackHash:"58aaedf0ceaa8ee5b4557b7d8ef6b1619392d4d7",fallbackHashNs:"files"}));else if(!Object(r.ac)(x)&&!Object(r.nb)(x)&&!Object(r.ob)(x))ge=t.a.createElement("span",{className:A,ref:D},U.t("File not found",{fallbackHash:"923e580ad8da42879d4753a6881bec69f15015a2",fallbackHashNs:"file-details"}));else if(Object(c.a)(x)){let Q="";Object(m.a)(x)?Q=K.t("Audio clip"):Q=K.t("Video clip"),ge=t.a.createElement("span",{className:A,ref:D},Q)}else if(Object(r.h)(x)){if(!ne&&Object(r.Bb)(x))de=q;else if(I||W)if(Object(r.Bb)(x)||Object(T.h)(X))de=q;else{const Q=q.replace("#","");de=t.a.createElement("span",null,t.a.createElement(C.a,{name:"lock",inline:!0}),Q)}else if(x.title)if(x.title.includes("##")){const ie=x.title.split("##");de=t.a.createElement("span",null,ie[0],t.a.createElement(C.a,{name:"lock",inline:!0}),ie[1])}else de=x.title;ge=t.a.createElement("span",{className:A,ref:D},de)}else if(ae||Object(r.x)(x)&&x.title_blocks)ge=t.a.createElement("span",{"data-qa":"file_name",className:A,ref:D},Object(f.G)({id:x.id,fileId:x.id}));else if(Object(r.o)(x)){var le;const Q=(le=x.list_metadata)===null||le===void 0?void 0:le.icon;de=Q?`${Q} ${x.title}`:x.title,ge=t.a.createElement("span",{ref:D,"data-qa":"file_name",className:A,onMouseEnter:()=>te(!0),onMouseLeave:()=>te(!1)},ee&&L?t.a.createElement(y,{text:de||"",inputIsEscaped:!0}):t.a.createElement(P.a,{text:de,emojiSize:B.a.SMALL}))}else F||x.title?(de=F??x.title,ge=t.a.createElement("span",{ref:D,"data-qa":"file_name",className:A,onMouseEnter:()=>te(!0),onMouseLeave:()=>te(!1)},L?t.a.createElement(y,{text:de||"",inputIsEscaped:!0}):de)):(de=x.name,ge=t.a.createElement("span",{className:A,ref:D},de));return H&&!k?t.a.createElement(p.c,{tip:de},ge):ge}h(V,"Name"),V.displayName="Name";var z=i.a=Object(n.memo)(V)},ltL2:function(J,i,e){"use strict";var n=e("fujP"),t=e("F294"),a=e("gSGL"),s=e("0qhH"),l=e("IOc2"),o=e("fR2/");const f=/^[/\uFF0F][^/\uFF0F\s]/,r=/^[/\uFF0F](\n$)?(?![/\uFF0F\s])/;i.a=function(m){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!m||!m.ops)return!1;let u;if(m.eachLine((v,g,O)=>{O===0&&(u=g)}),!Object(n.a)(u))return!1;const d=Object(t.a)(m.ops);if(!d||!Object(s.a)(d)&&!Object(o.f)(d)||Object(l.a)(d))return!1;const p=Object(a.a)(d.insert)?d.insert:"";return c===!0?r.test(p):f.test(p)}},lvG7:function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("SQ0V"),t=e("2XU3"),a=e("WCk1");const s=Object(a.a)("Get SIWS registered domains list",r=>r(Object(t.apiCall)({args:{},method:"links.getDomains",reason:"siws-get-domains"})).then(m=>({cacheTs:m.domains_ts,domains:m.domains,wildcardDomains:m.wildcard_domains})));s.meta={name:"createFetcher",key:"createFetchergetDomains",description:"Get SIWS registered domains list"};var l=s,o=e("mIQb");const f=Object(n.c)("Load remote domains into Redux",r=>{r(l()).then(m=>{let{cacheTs:c,domains:u,wildcardDomains:d}=m;const p=Date.now();r(Object(o.b)({cacheTs:c,domains:u,lastGetDomainsTs:p,wildcardDomains:d}))})});f.meta={name:"createThunk",key:"createThunkloadDomains",description:"Load remote domains into Redux"}},mD0D:function(J,i,e){J.exports=e.p+"contextual-help-keyboard-e004fd5.png"},mEPG:function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"c",function(){return a}),e.d(i,"a",function(){return s});var n=e("DwFS");const t=Object(n.a)("Connects a pending file ID to a draft");t.meta={name:"createAction",key:"createActionconnectPendingFileToDraft",description:"Connects a pending file ID to a draft"};const a=Object(n.a)("Disconnects a pending file ID from a draft");a.meta={name:"createAction",key:"createActiondisconnectPendingFileFromDraft",description:"Disconnects a pending file ID from a draft"};const s=Object(n.a)("Removes a drafts pending file IDs");s.meta={name:"createAction",key:"createActionclearDraftPendingFileIds",description:"Removes a drafts pending file IDs"}},mIQb:function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"a",function(){return a});var n=e("DwFS");const t=Object(n.a)("Updates the domains collection from the server");t.meta={name:"createAction",key:"createActionupdateSiwsDomains",description:"Updates the domains collection from the server"};const a=Object(n.a)("Clears any domains currently stored on the client side");a.meta={name:"createAction",key:"createActionclearSiwsDomains",description:"Clears any domains currently stored on the client side"}},mKxD:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("kBpe");function t(){let{altKey:a,ctrlKey:s,isCursorInPreBlock:l,metaKey:o,shiftKey:f,usePreNewlines:r,enterCreatesNewlinePref:m,followsTripleBackticks:c}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o?!1:s?Object(n.p)()?!0:f?!1:!m:m?!0:r&&l?!f:!!(c&&r||f||a)}h(t,"shouldInsertNewline")},mNau:function(J,i,e){"use strict";e.d(i,"a",function(){return s}),e.d(i,"b",function(){return l}),e.d(i,"c",function(){return o});var n=e("fujP"),t=e("Cgcc"),a=e("ZKjC");function s(r){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r&&!Object(n.a)(r)?r:m?t.h:void 0}h(s,"getIaTheme");const l=Object(a.b)(function(r){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var c;const u=r==null||(c=r.prefs)===null||c===void 0?void 0:c.iaTheme;return s(u,m)});l.meta={name:"createSelector",key:"createSelectorgetIaThemePrefForUser",description:function(r){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var c;const u=r==null||(c=r.prefs)===null||c===void 0?void 0:c.iaTheme;return s(u,m)}};const o=Object(a.b)(r=>r==null?void 0:r.iaTheme.previousSelectedTheme);o.meta={name:"createSelector",key:"createSelectorgetPreviousSelectedTheme",description:r=>r==null?void 0:r.iaTheme.previousSelectedTheme};const f=Object(a.b)(r=>r==null?void 0:r.iaTheme.isCustomizeDropDownOpen);f.meta={name:"createSelector",key:"createSelectorgetIsCustomizeDropDownOpen",description:r=>r==null?void 0:r.iaTheme.isCustomizeDropDownOpen}},mNiN:function(J,i,e){"use strict";e.d(i,"d",function(){return t}),e.d(i,"b",function(){return a}),e.d(i,"c",function(){return s}),e.d(i,"a",function(){return l});var n=e("P1FA");function t(o){const f=Object(n.a)(o);return f&&f.toLowerCase()}h(t,"normalizeName");function a(o,f){const r=t(o.replace(/^[@\uFF20]/,"")),m=t(f.replace(/^[@\uFF20]/,"")),c=r==null?void 0:r.split(/[ ._]/),u=m==null?void 0:m.split(/[ \-._]/);if(!c||!u)return!1;for(let d=0;d<c.length;d++)if(c[d].split(/[-]/)[0]===u[0])return!0;return!1}h(a,"isNameMatchGoodEnoughForRealMention");function s(o,f){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return t(o)===t(f.substr(r,o.length))}h(s,"isNameSubstrMatch");function l(o,f){if(!o)return null;for(let r=0;r<o.length;r++){const m=o[r];if(m.name===f||m.ms_name===f||Object(n.a)(m.name)===f)return m}return null}h(l,"getBroadcastMatch")},mSgU:function(J,i,e){"use strict";e.d(i,"d",function(){return t}),e.d(i,"e",function(){return a}),e.d(i,"b",function(){return s}),e.d(i,"c",function(){return l}),e.d(i,"a",function(){return o});var n=e("ktUG");const t=[".",",",";",":","?","!","]",")","*","_","~",">"],a=(()=>{const f=t.map(r=>`\\${r}`).join("");return new RegExp(`[${f}]$`)})(),s=[".",",",";",":","?","!","[","(","*","_","~","<"],l=[["(",")"],["[","]"],["<",">"]],o={bold:n.MsgFormattingInputFormat.BOLD,italic:n.MsgFormattingInputFormat.ITALIC,strike:n.MsgFormattingInputFormat.STRIKE,code:n.MsgFormattingInputFormat.CODE,underline:n.MsgFormattingInputFormat.UNDERLINE,link:n.MsgFormattingInputFormat.LINK,"bullet-list":n.MsgFormattingInputFormat.BULLET_LIST,"ordered-list":n.MsgFormattingInputFormat.ORDERED_LIST,"check-list":n.MsgFormattingInputFormat.CHECK_LIST,"code-block":n.MsgFormattingInputFormat.CODE_BLOCK,blockquote:n.MsgFormattingInputFormat.BLOCKQUOTE,h1:n.MsgFormattingInputFormat.H1,h2:n.MsgFormattingInputFormat.H2,hr:n.MsgFormattingInputFormat.HR}},mY0L:function(J,i,e){"use strict";e.d(i,"a",function(){return K});var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("Tevt"),l=e("zxER"),o=e("/MKj"),f=e("iYWO"),r=e("mM05"),m=e.n(r),c=e("ManY"),u=e("Trx9"),d=e("8v4m"),p=e("+kJ4"),v=e("beVI"),g=e("Tsh7"),O=e("GkJf"),b=e("YUBf"),y=e("qDEp"),C=e("F0YV"),_=e("ktUG"),j=e("nNoG"),E=e("zb/F"),M=e("goOt"),T=e("VXbZ");const P=new j.b("slack_connect_guidelines"),B={action:_.UiAction.COPY_TO_CLIPBOARD,onClick:{enableClogAction:!0}},R=h(V=>{let{modalHeaderSuffix:z,guidelinesType:N,showCopyButton:A,entryPoint:x}=V;const k=Object(o.useDispatch)(),[F,L]=Object(c.a)(!1,3e3),S=Object(l.c)(v.o),I=Object(l.c)(v.m),W=Object(l.f)(X=>Object(f.b)(X,N)),D=Object(n.useMemo)(()=>k(Object(T.b)({delta:new m.a(W),convertEmpty:!0,trimStartingWhitespace:!1})),[W,k]),H=Object(l.c)(X=>Object(M.a)(X,D.blocks,{linkFormat:"bracket"})),Z=Object(n.useCallback)(()=>{Object(E.e)(H),L(!0)},[H,L]);let G;switch(z){case"instructions":G=P.t("instructions for creating Slack Connect channels");break;case"guidelines":default:G=P.t("guidelines for using Slack Connect");break}const te=Object(n.useCallback)(()=>k(Object(p.a)()),[k]),se=P.t("Copied!",{fallbackHash:"3a1c3df711113ed266f7e7dabf942f92d19b3ad5"}),$=t.a.createElement(y.f,{type:"outline",onClick:Z,autoClogProps:B},P.t("Copy Instructions"));return t.a.createElement(u.a,{uiStep:_.UiStep.SLACK_CONNECT_GUIDELINES_MODAL,stepVariant:N,entryPoint:x},t.a.createElement(b.a,{centered:!0,closeModal:te,contentLabel:P.t("Your workspace\u2019s {headerText}",{headerText:G})},t.a.createElement(b.i,null,t.a.createElement(b.l,{icon:t.a.createElement(C.b,{size:40,team:S}),title:P.rt("{orgName}\u2019s {headerText}",{orgName:I,headerText:G})})),t.a.createElement(b.d,null,t.a.createElement(b.e,null,t.a.createElement(d.a,{elements:D.blocks[0].elements,elementsAreCamelCased:!1}))),t.a.createElement(b.g,{className:"p-slack_connect_guidelines_modal__footer"},t.a.createElement(O.a,{articleId:115004151203},P.t("Learn more about Slack Connect")),A&&Object(E.a)()?t.a.createElement(b.h,null,F?t.a.createElement(g.d,{tip:se,status:g.c.Success,shouldForceVisible:!0},$):$,t.a.createElement("div",{className:"offscreen",role:"alert"},F?se:"")):null)))},"SlackConnectGuidelinesModal");R.displayName="SlackConnectGuidelinesModal";var U=e("3l96");function K(V){let{className:z,dataQa:N,ref:A,stepVariant:x,type:k,modalHeaderSuffix:F,showCopyButton:L}=V;const S=Object(o.useDispatch)(),I=Object(l.c)(te=>Object(f.a)(te,k)),W=Object(l.c)(te=>Object(f.c)(te,k)),D=Object(n.useMemo)(()=>({elementName:"view_guidelines",elementValue:k,stepVariant:x,clogImpression:!0,onClick:{enableClogAction:!0}}),[x,k]),H=Object(n.useCallback)(()=>S(Object(U.a)({element:t.a.createElement(R,{modalHeaderSuffix:F,showCopyButton:L,guidelinesType:k,entryPoint:D.stepVariant}),isStackable:!0})),[S,F,L,k,D.stepVariant]),Z=I==="link"||I==="content",G=Object(n.useCallback)(te=>{let{text:se}=te;return Z?t.a.createElement(s.a,{className:z,ref:A,href:I==="link"?W:null,onClick:I==="content"?H:a.a,"data-qa":N,autoClogProps:D},se):null},[z,N,W,I,H,A,Z,D]);return Object(n.useMemo)(()=>({guidelinesLink:W,guidelinesType:I,handleGuidelinesCTAClick:H,renderLink:G,shouldDisplayGuidelines:Z,viewGuidelinesAutoClogProps:D}),[W,I,H,G,Z,D])}h(K,"useGuidelinesHelper"),K.displayName="useGuidelinesHelper"},mivN:function(J,i,e){"use strict";e.d(i,"a",function(){return b});var n=e("9oTK"),t=e("SQ0V"),a=e("NV6F"),s=e("2VFn"),l=e("FVdo"),o=e("CnKg"),f=e("hgYl"),r=e("7Bj1"),m=e("xcHN"),c=e("uiBO"),u=e("3qtv"),d=e("VmGj"),p=e("GbR5");const v=Object(t.c)("Opens a flexpane in a new window",function(){var y=Object(n.coroutine)(function*(C,_,j){let{view:E,params:M}=j,T,P;const B={[s.i.Primary]:{id:"",viewType:c.b.Unknown}},R={entryPoint:E,uiComponentName:"flexpane"};switch(E){case"thread":if(M!=null&&M.threadId){const{channelId:K}=Object(m.a)(M.threadId);B[s.i.Primary].id=`${K}/thread/${M.threadId}`,B[s.i.Primary].viewType=c.b.Thread,C(Object(r.a)({viewSet:B,clogParams:R}))}return;case"files":T=d.a,P={fileId:M==null?void 0:M.fileId,flexOrigin:"open-new-window"};break;case"user_profile":case"rimeto_profile":B[s.i.Primary].id=`browse-people/rimeto_profile/${M==null?void 0:M.memberId}`,B[s.i.Primary].viewType=c.b.Profile,C(Object(r.a)({viewSet:B,clogParams:R}));return;case"user_groups":B[s.i.Primary].id=`browse-people/user_groups/${M==null?void 0:M.userGroupId}`,B[s.i.Primary].viewType=c.b.UserGroup,C(Object(r.a)({viewSet:B,clogParams:R}));return;case"feedback":T=u.b;break;default:}const U={viewSet:{[s.i.Primary]:{id:E,viewType:Object(p.a)(E)}}};T&&(U.setupConfig={thunk:T},P&&(U.setupConfig.thunkPayload=P)),C(Object(r.a)(U))});return function(C,_,j){return y.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkopenFlexpaneInDetachedWindow",description:"Opens a flexpane in a new window"};var g=v,O=e("37+L");const b=Object(t.c)("Open Embedded Canvas In NewWindow",function(){var y=Object(n.coroutine)(function*(C,_,j){let{fileId:E,sectionId:M}=j;const T=_(),P=Object(o.h)({id:E,sectionId:M});if(P&&f.a.includes(P)){C(g({view:P}));return}const B=Object(l.b)(T,P),R={[s.i.Primary]:Object(O.j)({id:P})};P&&C(Object(a.q)({viewSet:R,viewType:B}))});return function(C,_,j){return y.apply(this,arguments)}}());b.meta={name:"createThunk",key:"createThunkopenEmbeddedCanvasInNewWindow",description:"Open Embedded Canvas In NewWindow"}},mjdg:function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"a",function(){return a});var n;(function(l){l.REQUESTS="requests",l.PENDING="pending",l.ACCEPTED="accepted",l.INVITE_LINKS="invite_links"})(n||(n={}));var t;(function(l){l.EMAIL="email",l.DATE="date_create",l.ACTIONS="actions",l.INVITE_CODE="invite_code",l.DATE_CREATED="date_created",l.EXPIRATION="expiration",l.CREATOR="creator",l.NUM_SIGNUPS="num_signups"})(t||(t={}));var a;(function(l){l.ASCENDING="ASC",l.DESCENDING="DESC"})(a||(a={}));var s;(function(l){l.RESEND_SENT_RECENTLY="sent_recently",l.RESEND_NOT_FOUND="invitation_not_found",l.REVOKE_NOT_FOUND="invite_not_found",l.DEACTIVATE_NOT_FOUND="invite_link_not_found"})(s||(s={})),i.c=n},mjhc:function(J,i,e){"use strict";e.d(i,"b",function(){return S}),e.d(i,"c",function(){return I}),e.d(i,"a",function(){return W});var n=e("AdD7"),t=e("jm2/");function a(D,H){return Object(n.b)()&&Object(t.a)(D)}h(a,"shouldDisplayGovslackbannerBanner");var s=e("fujP"),l=e("wnRj"),o=e("UZO2");function f(D,H){if(!Object(o.a)(D,H))return!1;const G=Object(l.a)(D,H.channelId);return!Object(s.a)(G)}h(f,"shouldDisplayDndOverrideBanner");var r=e("Yauy"),m=e("E3dU");function c(D,H){const Z=Object(m.d)(D,H.channelId);return!!(Z&&Object(r.fb)(D,Z))}h(c,"shouldDisplayMigratingBanner");var u=e("HOFW"),d=e("F4sy");function p(D,H){return!!Object(d.b)(D,{channelId:H.channelId,draftId:H.draftId,viewContext:H.viewContext})}h(p,"shouldDisplayScheduledSendBanner");function v(D,H){return Object(u.a)(D,H)&&Object(o.a)(D,H)}h(v,"shouldDisplayDndDMSharedBanner");var g=e("xwCZ"),O=e("gVOt"),b=e("C3vN"),y=e("E97Y");function C(D,H){const Z=Object(m.d)(D,H.channelId);if(Object(y.g)(Z)){const G=Object(O.a)(Z),te=Object(g.g)(D,G);if(Object(b.bb)(te)||Object(b.jb)(te)||Object(b.T)(te))return!1;if(Object(l.b)(D,Z==null?void 0:Z.id))return!0}return!1}h(C,"shouldDisplayTimeZoneBanner");var _=e("ZOzc"),j=e("ajVY");function E(D,H){if(!H.inputHasFiles)return!1;const Z=Object(_.a)(D,"file_retention_type")?Object(_.a)(D,"file_retention_duration"):null,G=Object(j.d)(D,"allow_box_cfs");return!(!Z||G)}h(E,"shouldDisplayFileRetentionBanner");var M=e("CpTu"),T=e("FaiB"),P=e("DnI3");function B(D,H){if(!Object(P.a)(D))return!1;const Z=Object(T.a)(D),G=H.channelId;return!!Object(M.a)(Z,{channelId:G})}h(B,"shouldDisplayOfflineOutboxBanner");var R=e("CaVW"),U=e("NfYe");const K=h((D,H)=>{if(!Object(U.a)(D))return!1;const Z=Object(m.d)(D,H.channelId);return Object(R.a)(D,Z)},"shouldDisplaySlackConnectWorkspaceBanner");var V=e("dtwz"),z=e("OtLZ"),N=e("lCmp"),A=e("8AeK");function x(D,H){const Z=Object(A.a)(D),G=Object(V.a)([g.c,b.m])(D),te=Object(z.a)((H==null?void 0:H.memberIds)||[],G),se=Object(N.a)(te,X=>Object(b.L)(Object(g.g)(D,X))),$=C(D,H)||B(D,H);return Z&&!$&&se}h(x,"shouldDisplayOutOfOfficeDmBanner");var k=e("sgFo"),F=e("GNR7");function L(D,H){if(!Object(k.I)(D))return!1;const Z=Object(F.F)(D,H.channelId||""),G=Object(F.A)(D,H.channelId),te=!!(G&&G.length>0);return!!(Z&&te)}h(L,"shouldDisplayHuddleUserNonVisibleThreadBanner");const S="context_bar_text-",I=Object.freeze({migrating:"migrating",shared:"shared",externalMemberAwareness:"externalMemberAwareness",dnd:"dnd",timeZone:"timezone",scheduledSend:"scheduled_send",profileOnlyUser:"profile_only_user",govslackBanner:"govSlackBanner",fileRetention:"fileRetention",offlineOutbox:"offlineOutbox",slackConnectWorkspace:"slackConnectWorkspace",outOfOffice:"outOfOffice",huddlesUserNonVisibleThread:"huddlesUserNonVisibleThread"}),W=[{type:I.fileRetention,displayRule:E},{type:I.dnd,displayRule:f},{type:I.govslackBanner,displayRule:a},{type:I.migrating,displayRule:c},{type:I.dnd,displayRule:v},{type:I.shared,displayRule:u.a},{type:I.slackConnectWorkspace,displayRule:K},{type:I.scheduledSend,displayRule:p},{type:I.outOfOffice,displayRule:x},{type:I.dnd,displayRule:o.a},{type:I.timeZone,displayRule:C},{type:I.offlineOutbox,displayRule:B},{type:I.huddlesUserNonVisibleThread,displayRule:L}]},mlNA:function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("gSGL"),t=e("tvJC"),a=e("kzMN"),s=e("fR2/"),l=e("TQ9f"),o=e("dA19");function f(r){if(!r||r.length()===0)return[];const m=[];return r.forEach(c=>{if(Object(l.a)(c)){const u=Object(l.c)(c);m.push({type:"string",value:u});return}if(!Object(o.a)(c)){if(Object(s.a)(c)&&!Object(t.a)(Object(s.b)(c))&&!Object(a.a)(Object(s.b)(c))){m.push({type:"mention",value:Object(s.b)(c)});return}Object(n.a)(c.insert)&&c.insert.split(/\s/).forEach(u=>{u.length&&m.push({type:"string",value:u})})}}),m}h(f,"convertDeltaToSlashCommandParams")},mvFy:function(J,i,e){"use strict";e.d(i,"a",function(){return on});var n=e("q1tI"),t=e.n(n),a=e("CpTu"),s=e("Muja"),l=e("xWuZ"),o=e("zmn3"),f=e("hbEN"),r=e("UXvI"),m=e("ifKl"),c=e("BHdc"),u=e("Lgge"),d=e("WIr4"),p=e("Cfcg"),v=e("nNoG"),g=e("gPPH"),O=e("Oy0v"),b=e("8hJe"),y=e("khnw"),C=e("ktUG"),_=e("VymY"),j=e("UGXP"),E=e("puGG"),M=e("NqdB"),T=e("iZ9S"),P=e("9Gfp"),B=e("JoR1"),R=e("fGmc"),U=e("O86Y"),K=e("5IZy"),V=e("LvEQ"),z=e("cJlm"),N=e("8Vn2"),A=e("e4zL"),x=e("coh6"),k=e("Zp3w"),F=e("yrot"),L=e("wWBL"),S=e("SQ0V"),I=e("Tmt4");const W=Object(S.c)("Update the frecency cache with a new recorded emoji item",(He,re,ue)=>{let{emojiName:ve,text:De}=ue;const We=Object(F.n)(re(),ve),we=Object(F.a)(We||{name:ve});we&&He(Object(I.a)({id:we,text:De}))});W.meta={name:"createThunk",key:"createThunkrecordEmojiFrecencyEvent",description:"Update the frecency cache with a new recorded emoji item"};var D=e("Pw4T"),H=e("Trx9"),Z=e("G7vT"),G=e("7+Lm"),te=e("uVZW"),se=e("eWGC"),$=e("IaLB"),X=e("v5z3"),q=e("QbPB"),Y=e("wf34"),ee=e("xXOU"),w=e("mLC8"),ne=e("i5Ig"),ae=e("yIs4"),de=e("oSkh"),ge=e("RqXZ"),le=e("XOse"),Q=e("7pFd"),ie=e("Tevt");const oe=new v.b("emoji_picker"),me=h(He=>{const{showAddEmojiButton:re,onAddCustomEmojiClick:ue}=He;return re?t.a.createElement("div",{className:"p-emoji_picker__empty_search"},t.a.createElement(ie.a,{onClick:ue},oe.rt("Add custom emoji"))):null},"EmojiListEmptyState");me.displayName="EmojiListEmptyState";var be=t.a.memo(me),Se=e("uD37"),Pe=e("/2YZ");const Ue=33,Fe=27,je=1,_e=10,pe="auto",fe="start";let Ee=h(class extends n.Component{componentDidMount(){var re;this.props.showProductivityReacji&&((re=this.props.groups[1])===null||re===void 0?void 0:re.name)==="Getting Work Done"&&this.props.throttledRecordNotificationEvent({notificationName:te.h.PRODUCTIVITY_REACJI,action:te.f.IMPRESSION})}getSnapshotBeforeUpdate(){return Object(ae.a)(this.props.scrollToIndex)?{scrollToIndex:this.props.scrollToIndex}:null}componentDidUpdate(re,ue,ve){ve!==null&&this.virtualList.scrollToRow(ve.scrollToIndex),re.screenRows!==this.props.screenRows&&this.virtualList&&this.virtualList.recomputeRowHeights()}usingKeyboard(){const{cursorPosition:re}=this.props;return re[1]!==-1}onAddCustomEmojiClick(re){const{searchQuery:ue,onAddEmojiButtonClick:ve}=this.props;ve&&ve(re),this.props.openAddCustomEmojiModal({initialTab:Q.a.CUSTOM,emojiNameSuggestion:ue||"",elementName:"add_emoji_button"})}getRowHeight(re){let{index:ue}=re;switch(this.props.screenRows[ue].type){case"empty-header-row":return je;case"group":return Fe;case"emoji":return this.props.screenRows.length-1===ue?Ue+_e:Ue;default:return Ue}}setListRef(re){this.virtualList=re}scrollToTop(){this.virtualList.scrollToPosition(0)}renderEmptyState(){return t.a.createElement(be,{onAddCustomEmojiClick:this.onAddCustomEmojiClick,showAddEmojiButton:this.props.showAddEmojiButton})}renderRow(re){let{index:ue,key:ve,style:De}=re;const{showProductivityReacji:We,screenRows:we,onMouseEnter:Be,onMouseLeave:ke,isEmojiSelected:Le,onSelected:Ze,activeGroupName:ot,pickerHasKeyboardFocusWithin:bt,onMultiSkinTonePopoverEscape:ht}=this.props,Bt=Object(v.m)();return t.a.createElement(Se.a,{key:ve,screenRows:we,isEmojiSelected:Le,usingKeyboard:bt,index:ue,style:De,showProductivityReacji:We,onEmojiClick:Ze,onMouseEnter:Be,onMouseLeave:ke,locale:Bt,activeGroupName:ot,onMultiSkinTonePopoverEscape:ht})}render(){const{screenRows:re}=this.props,[ue,ve]=this.props.cursorPosition,De=[ue,ve+Pe.d];return t.a.createElement(de.a,null,We=>{let{height:we,width:Be}=We;return t.a.createElement(ge.a,{screenRows:re,className:"p-emoji_picker__list_scroller",height:we,rowCount:this.props.screenRows.length,rowHeight:this.getRowHeight,rowRenderer:this.renderRow,scrollToAlignment:this.usingKeyboard()?pe:fe,width:Be,onRowsRendered:this.props.onScroll,noRowsRenderer:this.renderEmptyState,cursorPosition:De,ref:this.setListRef,tabIndex:null,id:"emoji-picker-list",role:"presentation",containerRole:"presentation","aria-label":"","aria-readonly":!1})})}constructor(re){super(re),this.getRowHeight=this.getRowHeight.bind(this),this.renderRow=this.renderRow.bind(this),this.renderEmptyState=this.renderEmptyState.bind(this),this.onAddCustomEmojiClick=this.onAddCustomEmojiClick.bind(this),this.usingKeyboard=this.usingKeyboard.bind(this),this.setListRef=this.setListRef.bind(this),this.virtualList=null}},"EmojiList");Ee.displayName="EmojiList";const ye={throttledRecordNotificationEvent:He=>Object(se.b)(He),openAddCustomEmojiModal:He=>Object(le.a)(He)};var Te=Object(p.a)(null,ye,null,{forwardRef:!0})(Ee),Oe=e("VkPA"),Ce=e("ZobM");const ce=h(He=>{let{name:re=""}=He;return`${re.toLowerCase().replace(/\s/g,"-")}-emoji-tab`},"makeEmojiTabId");function he(){return he=Object.assign||function(He){for(var re=1;re<arguments.length;re++){var ue=arguments[re];for(var ve in ue)Object.prototype.hasOwnProperty.call(ue,ve)&&(He[ve]=ue[ve])}return He},he.apply(this,arguments)}h(he,"_extends");const Me=new v.b("emoji_picker"),Ae=h(He=>{let{name:re,tabGroupName:ue}=He;return re==="Frequently Used"&&ue==="Search results"},"shouldFrequentlyUsedBeTheTabGroup"),xe=Object(n.memo)(He=>{let{groups:re,showCustomBadge:ue,onGroupTabClick:ve,tabGroupName:De}=He;const We=Object(n.useMemo)(()=>(re||ne.a).filter(Be=>{let{name:ke,omitFromTabs:Le}=Be;return!Le&&ke!=="Getting Work Done"}).map(Be=>{let{name:ke,nameLocalized:Le}=Be;const Ze=De===ke||Ae({name:ke,tabGroupName:De}),ot=ue&&ke==="Custom",bt=Object(c.default)("p-emoji_picker__group_tab",{"p-emoji_picker__group_tab--active":Ze,"p-emoji_picker__group_tab--emoji-a11y":Ze,"p-emoji_picker__group_tab--with_dot":ot,hidden:ke==="Getting Work Done"});let ht=Pe.e[ke],Bt=Le;ke==="Frequently Used"&&(ht=Pe.e.Search,Bt=Me.t("Search")),ht||(ht=Pe.e.Custom);const Yt={name:ht,variation:ht==="emoji"?"filled":void 0},Cn=Ae({name:ke,tabGroupName:De})?De:ke,an={elementName:`emoji_group_tab_${ht}`,elementIndex:Pe.c[ke],onClick:{enableClogAction:!0}};return{id:ce({name:Cn}),title:t.a.createElement(t.a.Fragment,null,t.a.createElement(Ce.a,he({size:"20"},Yt)),ot&&t.a.createElement("div",{className:"p-emoji_picker__group_tab_dot"})),"aria-label":Bt,"data-qa":`emoji_group_tab_${ht}`,onClick:()=>ve(ke),className:bt,autoClogProps:an}}),[re,ue,ve,De]),we=Object(n.useCallback)(Be=>{(Be.key===b.a.RIGHT||Be.key===b.a.LEFT||Be.key===b.a.UP||Be.key===b.a.DOWN||Be.key===b.a.ENTER)&&Be.stopPropagation()},[]);return t.a.createElement("div",{role:"presentation",onKeyDown:we,className:"p-emoji_picker__group_tabs p-emoji_picker__group_tabs--slack-kit-tabs"},t.a.createElement(H.a,{eventId:C.EventId.EMOJI_PICKER_CATEGORY_SELECTED,uiComponentName:C.UiComponentName.EMOJI_PICKER_GROUP_TABS,uiStep:C.UiStep.EMOJI_PICKER_GROUP_TAB_SELECTED},t.a.createElement(Oe.a,{tabs:We,tabMenuClassnames:"p-emoji_picker__group_tabs-menu",currentTabId:ce({name:De}),manualTabActivation:!0})))});var Re=e("TGBA"),Ge=e("ao6n"),ze=e("/MKj"),Ie=e("zxER"),Ne=e("T1zM"),Ke=e("VfSx"),Ve=e("k400"),$e=e("s9IP"),tt=e("oEDn"),qe=e("6R8Z"),ut=e("nFQW");const rt=new v.b("emoji_picker"),yt=h(He=>{const{groups:re,jumpToGroup:ue}=He,ve=Object(ze.useDispatch)(),De=Object(Ie.c)(V.e),We=De?Object(Ve.a)(De):"",we=De?Object(Ke.a)(De):!1,Be=De?Object($e.a)(De):[],ke=Object(Re.a)(Be),Le=!!Object(a.a)(re,Bt=>Bt.name===We),Ze=we?"emoji_packs_clicked_picker_post_install_cta":"emoji_packs_clicked_picker_cta",ot=we?rt.t("New emoji added!"):rt.t("New emoji available"),bt=Object(n.useCallback)(()=>{ve(Object(Ne.f)({pref:Ze,value:!0}))},[ve,Ze]),ht=Object(n.useCallback)(()=>{bt(),we?Le&&ue(We):ve(Object(le.a)({initialTab:Q.a.PACKS,emojiNameSuggestion:"",elementName:"emoji_pack_cta"}))},[ve,ue,We,bt,we,Le]);return t.a.createElement("div",{className:"p-emoji_picker__pack_cta_wrapper","data-qa":"emoji_picker__pack_cta"},t.a.createElement("div",{className:"p-emoji_picker__pack_cta_inner_wrapper"},t.a.createElement(qe.a,{className:"p-emoji_picker__pack_cta",onClick:ht},t.a.createElement("div",{className:"p-emoji_picker__pack_cta_graphic"},t.a.createElement("img",{src:Object(Ge.a)(ke,0),alt:"",className:"p-emoji_picker__pack_cta_graphic_img p-emoji_picker__pack_cta_graphic_img_1"}),t.a.createElement("img",{src:Object(Ge.a)(ke,1),alt:"",className:"p-emoji_picker__pack_cta_graphic_img p-emoji_picker__pack_cta_graphic_img_2"}),t.a.createElement("img",{src:Object(Ge.a)(ke,2),alt:"",className:"p-emoji_picker__pack_cta_graphic_img p-emoji_picker__pack_cta_graphic_img_3"})),t.a.createElement("div",{className:"p-emoji_picker__pack_cta_text_container"},t.a.createElement("b",{className:"p-emoji_picker__pack_cta_text"},ot)," ",t.a.createElement("span",{className:"p-emoji_picker__pack_cta_arrow"},t.a.createElement(tt.a,{type:"arrow-right",size:"inherit",inline:!0})))),t.a.createElement(ut.a,{"aria-label":ot,icon:"times-medium",size:"small",className:"p-emoji_picker__pack_cta_dismiss_btn",onClick:bt})))},"EmojiPackCta");yt.displayName="EmojiPackCta";var Mt=yt;function st(){return st=Object.assign||function(He){for(var re=1;re<arguments.length;re++){var ue=arguments[re];for(var ve in ue)Object.prototype.hasOwnProperty.call(ue,ve)&&(He[ve]=ue[ve])}return He},st.apply(this,arguments)}h(st,"emoji_picker_sticky_header_extends");const Vt=h(He=>{const{header:re,ariaAttributes:ue={}}=He;return t.a.createElement("div",{className:"p-emoji_picker__sticky_header",id:"emoji-picker-sticky-header"},t.a.createElement("div",st({className:"p-emoji_picker__heading p-emoji_picker__heading--emoji-14-a11y"},ue),t.a.createElement("span",{"aria-hidden":"true"},re||"")))},"EmojiPickerStickyHeader");Vt.displayName="EmojiPickerStickyHeader";var Wt=t.a.memo(Vt),Xt=e("uXhx"),Ut=e("/qcS"),Nt=e("qDEp"),Ft=e("5KsB"),_n=e("t7g0");const cn="1",Rn=[":hand:",":hand::skin-tone-2:",":hand::skin-tone-3:",":hand::skin-tone-4:",":hand::skin-tone-5:",":hand::skin-tone-6:"],Vn=new v.b("emoji_picker");let ea=h(class extends n.PureComponent{componentDidUpdate(re){const{isOpen:ue}=this.props;if(!re.isOpen&&ue){requestAnimationFrame(()=>{this.focusRadioGroup()});return}re.isOpen&&!ue&&requestAnimationFrame(()=>{this.toggleButton.current.focus()})}onRadioFocus(re){const ue=re.target.value;this.setState(()=>({focusedSkinToneOption:ue}))}onRadioBlur(re){const{currentTarget:ue,relatedTarget:ve,target:De}=re,We=De.value;ue.contains(ve)||(this.setState(()=>({focusedSkinToneOption:null})),this.props.onSkinToneChanged&&this.props.onSkinToneChanged(We))}onClick(re){re.stopPropagation()}onKeyDown(re){re.key==="Enter"&&re.target.tagName==="INPUT"&&this.props.onSkinToneChanged&&this.props.onSkinToneChanged(re.target.value)}onMouseDown(re){const{currentTarget:ue}=re,ve=ue.querySelector("input"),De=ve&&ve.value;De&&this.props.onSkinToneChanged&&this.props.onSkinToneChanged(De)}getCurrentTone(){const{activeSkinToneId:re}=this.props;return!re||re===cn?":hand:":`:hand::skin-tone-${re||"1"}:`}getChoices(){const{activeSkinToneId:re}=this.props,ue=this.getCurrentTone();return re?Object(Xt.a)(Rn,ve=>ve===ue).concat(ue):Rn}maybeRenderSkinToneLabel(){return this.props.activeSkinToneId?null:t.a.createElement("span",{className:"p-emoji_picker_skintone__toggle_btn_label","data-qa":"emoji_skintone_label"},Vn.t("Skin Tone"))}focusRadioGroup(){const re=this.checkedRadioButton.current;re&&re!==document.activeElement&&re.focus()}renderToggleButton(){const{onOpen:re}=this.props;return t.a.createElement(Nt.d,{onClick:re,className:"p-emoji_picker_skintone__toggle_btn","data-qa":"emoji_selected_skintone",ref:this.toggleButton,"aria-label":Vn.t("Choose your default skin tone")},t.a.createElement("div",null,t.a.createElement(Ut.b,{text:this.getCurrentTone(),emojiSize:Ut.a.MEDIUM,forceDisplay:!0})),this.maybeRenderSkinToneLabel())}renderRadioButton(re){let{skinToneId:ue,emoji:ve}=re;const{focusedSkinToneOption:De}=this.state,{activeSkinToneId:We}=this.props,we=De===ue,Be=we||We===ue,ke=Object(Ft.a)(ue),Le=Object(c.default)("p-emoji_picker_skintone__radio_button_container",{"p-emoji_picker_skintone__radio_button_container--focus-visible":we});return t.a.createElement("div",{className:Le,key:ue,"data-qa":`emoji_skintone_option_${ue}`,onMouseDown:this.onMouseDown},t.a.createElement("input",{type:"radio",name:"skin-tone",value:ue,defaultChecked:Be,"aria-label":ke,className:"p-emoji_picker_skintone__radio_button",ref:Be?this.checkedRadioButton:void 0}),t.a.createElement("div",{"aria-hidden":"true"},t.a.createElement(Ut.b,{text:ve,emojiSize:Ut.a.MEDIUM,forceDisplay:!0})))}renderRadioGroup(){return t.a.createElement("div",{role:"radiogroup","aria-labelledby":"emoji-picker-skintone-radiogroup-label",className:"p-emoji_picker_skintone__radiogroup"},t.a.createElement("div",{id:"emoji-picker-skintone-radiogroup-label",className:"p-emoji_picker_skintone__radiogroup_label"},Vn.t("Choose your default skin tone")),t.a.createElement("div",{className:"p-emoji_picker_skintone__radio_buttons","data-qa":"emoji_skintone_options",onFocus:this.onRadioFocus,onBlur:this.onRadioBlur,onKeyDown:this.onKeyDown},this.getChoices().map(re=>{const ue=re.match(/skin-tone-\d+/),ve=ue?ue[0].slice(-1):"1";return this.renderRadioButton({skinToneId:ve,emoji:re})})))}render(){const{isOpen:re}=this.props;return t.a.createElement("div",{className:"p-emoji_picker_skintone",role:"presentation",onClick:this.onClick},!re&&this.renderToggleButton(),re&&this.renderRadioGroup())}constructor(re){super(re),this.onRadioFocus=this.onRadioFocus.bind(this),this.onRadioBlur=this.onRadioBlur.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onClick=this.onClick.bind(this),this.checkedRadioButton=t.a.createRef(),this.toggleButton=t.a.createRef(),this.state={focusedSkinToneOption:null}}},"EmojiSkinTonePicker");ea.displayName="EmojiSkinTonePicker",ea.defaultProps={activeSkinToneId:"",isOpen:!1,onSkinToneChanged:m.a,onOpen:m.a};var Lt=ea;const vn=[":slightly_smiling_face:",":+1:",":heavy_check_mark:",":heart:",":eyes:"];function Wn(He,re){return!He||He==="1"||!re?vn:Object(o.a)(vn,ue=>ue===":+1:"?`${ue}:skin-tone-${He}:`:ue)}h(Wn,"buildHandyReactions");const Nn=new v.b("emoji_picker"),ia=h(He=>{const{emoji:re,onSelected:ue,onMouseEnterOrFocus:ve,onMouseLeaveOrBlur:De}=He,We=re.replace(/(^:|:$)/g,""),we=Object(n.useCallback)(ke=>{ke.preventDefault(),ue(ke,We)},[We,ue]),Be=Object(n.useCallback)(()=>{ve(We)},[We,ve]);return t.a.createElement(Nt.d,{className:"p-emoji_picker__list_item",onClick:we,onMouseEnter:Be,onMouseLeave:De,onFocus:Be,onBlur:De,"data-color-index":He.index%E.e,"data-qa":`handy-reaction-${re}`},t.a.createElement(Ut.b,{text:re,emojiSize:Ut.a.MEDIUM,forceDisplay:!0}))},"EmojiHandyReaction");ia.displayName="EmojiHandyReaction";const Ea=h(He=>{const re=Wn(He.activeSkinToneId,He.enableSkinTonePicker),ue=Nn.t("Handy Reactions");return t.a.createElement("div",{className:"p-emoji_picker__handy_rxns",role:"group","aria-label":ue},t.a.createElement("div",{"aria-hidden":!0,className:"p-emoji_picker__heading p-emoji_picker__heading--handy_rxns"},ue),t.a.createElement("div",{className:"p-emoji_picker__handy_rxns_list"},re.map((ve,De)=>t.a.createElement(ia,{key:ve,emoji:ve,index:De,onSelected:He.onSelected,onMouseEnterOrFocus:He.onMouseEnterOrFocus,onMouseLeaveOrBlur:He.onMouseLeaveOrBlur}))))},"EmojiHandyReactions");Ea.displayName="EmojiHandyReactions";var bn=t.a.memo(Ea),Xn=e("wKGu");const vt=new v.b("emoji_picker"),Je=h(He=>{let{onClick:re}=He;const ue=Object(ze.useDispatch)(),ve=Object(Xn.a)(),De=Object(n.useCallback)(We=>{re==null||re(We),ue(Object(le.a)({initialTab:Q.a.CUSTOM,emojiNameSuggestion:"",elementName:"add_emoji_button"}))},[ue,re]);return Object(n.useEffect)(()=>{ve.track(C.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT,{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"button",ui_properties:{element_type:"button",element_name:"add_emoji_button"}}}})},[ve]),t.a.createElement(Nt.f,{type:"outline",size:"small","emoji-type":"emoji",onClick:De,"data-qa":"customize_emoji_add_button",className:"p-emoji_picker__add_custom_emoji"},vt.t("Add Emoji"))},"AddCustomEmojiButton");Je.displayName="AddCustomEmojiButton";var et=Je,mt=e("EJqq"),Pt=e("+J8q");const Tt=new v.b("emoji_picker"),Qt=h(He=>{const{showSkinTonePicker:re,activeSkinToneId:ue,hasZeroRows:ve,emoji:De,teamOrEnterpriseId:We,locale:we}=He,Be=Object(Ie.c)(F.b),ke=Object(O.a)(De||""),Le=ke?ke.name:"",Ze=re?Object(Pt.a)(Le,ue,We):Le,ot=Object(Ie.c)(ht=>Object(mt.i)({state:ht,locale:we,name:Le})),bt=Object(c.default)("p-emoji_picker__preview_text",{"p-emoji_picker__preview_text--shortened":!ue});return t.a.createElement("div",{className:"p-emoji_picker__preview"},t.a.createElement("span",{className:"p-emoji_picker__preview_img","data-qa":"emoji_preview_img"},t.a.createElement(Ut.b,{text:Ze,emojiSize:Ut.a.LARGE,forceDisplay:!0})),t.a.createElement("div",{className:bt},t.a.createElement("span",{"data-qa":"emoji_preview_name"},ve?Tt.t("Oh no!"):ot),t.a.createElement("br",null),t.a.createElement("span",{className:"p-emoji_picker__preview_aliases","data-qa":"emoji_preview_aliases"},ve?Tt.t("We couldn\u2019t find that emoji"):`:${ot}: ${Be[Le]?Be[Le].join(" "):""}`)))},"EmojiPickerPreview");Qt.displayName="EmojiPickerPreview";var dt=Qt,zt=e("nwIl");const At=new v.b("emoji_picker"),Qe=":cry:",nt=h(He=>{const{showHandyReactions:re,showAddEmojiButton:ue,showSkinTonePicker:ve,activeSkinToneId:De,onEmojiSelected:We,onEmojiMouseEnter:we,onEmojiMouseLeave:Be,isSkinTonePickerOpen:ke,onSkinTonePickerOpened:Le,onSkinToneChanged:Ze,hasZeroRows:ot,currentEmojiSelection:bt,teamOrEnterpriseId:ht,locale:Bt,onAddEmojiButtonClick:Yt,noSearchResults:Cn}=He,an=ot?Qe:bt,rn=Object(Ie.c)(zt.e)?an&&!Cn:an;return t.a.createElement("div",null,re&&t.a.createElement(bn,{activeSkinToneId:De,enableSkinTonePicker:ve,onSelected:We,onMouseEnterOrFocus:we,onMouseLeaveOrBlur:Be}),rn&&t.a.createElement(dt,{showSkinTonePicker:ve,activeSkinToneId:De,hasZeroRows:ot,emoji:an,locale:Bt,teamOrEnterpriseId:ht}),ue?t.a.createElement(et,{onClick:Yt}):t.a.createElement("div",{className:"p-emoji_picker__emoji_deluxe_label"},t.a.createElement("span",null,At.t("Emoji Deluxe")),"\u2122"),ve&&t.a.createElement(Lt,{activeSkinToneId:De,isOpen:ke,onOpen:Le,onSkinToneChanged:Ze}))},"EmojiPickerFooter");nt.displayName="EmojiPickerFooter";var _t=t.a.memo(nt),Et=e("AiJP");const kt=h(He=>{const{showSkinTonePicker:re,showHandyReactions:ue,activeSkinToneId:ve,teamOrEnterpriseId:De,locale:We,emoji:we}=He,Be=Object(O.a)(we||""),ke=Be?Be.name:"",Le=Object(Ie.c)(F.b),Ze=Object(Ie.c)(rn=>Object(mt.i)({state:rn,locale:We,name:ke})),ot=Object(Et.a)();if(!ke||!ot[ke])return null;const bt=re?Object(Pt.a)(ke,ve,De):ke,ht=ot[ke].title,Bt=ot[ke].description,Yt=[`:${Ze}:`].concat(Le[ke]?Le[ke].slice(0,3):[]),Cn=Object(c.default)("p-emoji_picker__productivity_emoji_preview",`p-emoji_picker__productivity_emoji_preview--${ue?"reaction":"message"}`),an=Object(c.default)("p-emoji_picker__productivity_emoji_img",`p-emoji_picker__productivity_emoji_img--${ue?"reaction":"message"}`),Mn=Object(c.default)("p-productivity_emoji_content-description",`p-productivity_emoji_content-description--${ue?"reaction":"message"}`);return t.a.createElement("div",{className:Cn,"data-qa":"productivity_emoji_footer"},t.a.createElement("span",{className:an,"data-qa":"emoji_preview_img"},t.a.createElement(Ut.b,{text:bt,emojiSize:Ut.a.MEDIUM,forceDisplay:!0})),t.a.createElement("div",{className:"p-emoji_picker__productivity_emoji_text"},t.a.createElement("div",null,t.a.createElement("span",{className:"p-productivity_emoji_content-title","data-qa":"productivity_emoji_title"},ht),t.a.createElement("span",{className:Mn,"data-qa":"productivity_emoji_description"},Bt),ue&&t.a.createElement("div",{className:"p-productivity_emoji_content-aliases-container","data-qa":"productivity_emoji_alias_container"},Yt.map(rn=>t.a.createElement("span",{className:"p-productivity_emoji_content-aliases",key:rn},rn))))))},"ProductivityEmojiFooter");kt.displayName="ProductivityEmojiFooter";var jn=t.a.memo(kt);function pn(){return pn=Object.assign||function(He){for(var re=1;re<arguments.length;re++){var ue=arguments[re];for(var ve in ue)Object.prototype.hasOwnProperty.call(ue,ve)&&(He[ve]=ue[ve])}return He},pn.apply(this,arguments)}h(pn,"emoji_picker_input_extends");const An=new v.b("emoji_picker"),lt=h(He=>{const{onChange:re,onClick:ue,placeholder:ve,refToForward:De}=He,We=Object(n.useRef)({handle:void 0,status:!1}),we=Object(n.useCallback)(()=>{We.current&&(We.current.status=!0)},[]),Be=Object(n.useCallback)(Ze=>{var ot,bt;const ht=Ze.target.value;if(!((ot=We.current)===null||ot===void 0)&&ot.handle){var Bt;clearTimeout(We.current.handle),We.current={handle:void 0,status:!!(!((Bt=We.current)===null||Bt===void 0)&&Bt.status)}}if(!((bt=We.current)===null||bt===void 0)&&bt.status&&ht===""){var Yt;const Cn=window.setTimeout(()=>{We.current={handle:void 0,status:!1},Be(Ze)},0);We.current={handle:Cn,status:!!(!((Yt=We.current)===null||Yt===void 0)&&Yt.status)};return}re(ht)},[re]),ke="c-input_text p-emoji_picker__input",Le=An.t("Search all emoji");return t.a.createElement("div",{className:"p-emoji_picker__input_container"},t.a.createElement("input",{"aria-label":An.t("Emoji name",{fallbackHash:"13993d0a97877a11360cdf3fa77e0dc6bb661228"}),ref:De,className:ke,type:"text",placeholder:ve||Le,onChange:Be,onCompositionStart:we,onCompositionUpdate:we,onCompositionEnd:we,onClick:ue,"data-qa":"emoji_picker_input","data-input-metric-boundary":"emoji_picker"}))},"EmojiPickerInput");lt.displayName="EmojiPickerInput";var Dn=t.a.forwardRef((He,re)=>t.a.createElement(lt,pn({refToForward:re},He))),fn=e("LTWq");function kn(He){return He&&He.length?He[0]:void 0}h(kn,"getFirstGroup");function wn(He){return He&&He.length?He[He.length-1]:void 0}h(wn,"getLastGroup");function fa(He,re){const ue=He&&He[re];return ue?ue.name:""}h(fa,"getGroupNameForIndex");function In(He,re,ue){const ve=He&&He.length&&He.findIndex(De=>De.name===re.name);return ue==="next"?ve>-1&&ve<He.length-1?He[ve+1]:void 0:ve>0?He[ve-1]:void 0}h(In,"getNextOrPreviousGroup");var ha=e("HI9p");const Dt=h((He,re)=>!!(He&&re&&He.name===re.name),"areEmojiGroupsEqual");function jt(He,re){if(!re)return 0;const ue=Object(ha.a)(He,ve=>!!(ve.type==="group"&&ve.group&&Dt(ve.group,re)));return ue>-1?ue:0}h(jt,"getScrollIndexForGroup");var $t=e("ZBlo"),Tn=e("XIp8"),dn=e("qAkX"),Un=e("wBxZ"),Bn=e("okoL"),Kt=e("FAxm");const Kn=new v.b("emoji_picker");function aa(He){const re=Object($t.a)(He,E.d),ue=He;return re.map(De=>{const We={emoji_names:ue,name:"Custom",omitFromTabs:!1,nameLocalized:Kn.t("Custom",{fallbackHash:"081ae3fdc403609cf6e760849ebb14117b7a50cb",fallbackHashNs:"emoji"})};return{type:Kt.a.EMOJI,group:We,items:De}})}h(aa,"getRowsForCustomEmoji");function ln(He,re){if(!He||!He.length)return re;const ue=Object(Tn.a)(re)||[];let ve=[];const De=Object(dn.a)(ue);if((De==null?void 0:De.type)==="emoji"){const We=E.d-(De.items?De.items.length:0),we=Object(Un.a)(He,We);De.items&&De.items.push(...we);const Be=Object(Bn.a)(He,He.length-We),ke=aa(Be);ve=ue.concat(ke)}else{const We=aa(He);ve=ue.concat(We)}return ve}h(ln,"addCustomEmojiToScreenRows");const en=h(He=>{let{group:re,skinToneId:ue,groupIndex:ve,teamOrEnterpriseId:De,enableSkinTonePicker:We}=He;const we={};if(!re)return;const Be=Object($t.a)(Object(o.a)(re.emoji_names,bt=>We?Object(Pt.a)(bt,ue,De):bt),E.d).map((bt,ht)=>({type:Kt.a.EMOJI,group:re,items:bt,ariaAttributes:{role:"row","aria-rowindex":ht+1,id:`group-${ve}-row-${ht}`}})),ke=Be.map(bt=>{var ht;return(ht=bt.ariaAttributes)===null||ht===void 0?void 0:ht.id}).join(" ");var Le,Ze;const ot={role:"grid","aria-readonly":!0,"aria-owns":ke,"aria-label":(Ze=(Le=re.nameLocalized)!==null&&Le!==void 0?Le:re.name)!==null&&Ze!==void 0?Ze:""};return Be.unshift({type:Kt.a.GROUP,group:re,items:[],ariaAttributes:ot}),re.name&&(we[re.name]=ot),Be.unshift({type:Kt.a.EMPTY_HEADER_ROW,group:re,items:[],ariaAttributes:{"aria-hidden":!0}}),{rows:Be,ariaAttributesByName:we}},"getRowsForGroupAndAriaAttributes"),xt=h(He=>{let{groups:re,skinToneId:ue,teamOrEnterpriseId:ve,enableSkinTonePicker:De}=He,We=[],we={};return re.forEach((Be,ke)=>{const Ze=en({group:Be,skinToneId:ue,groupIndex:ke,teamOrEnterpriseId:ve,enableSkinTonePicker:De});Ze&&(We=We.concat(Ze.rows),we={...we,...Ze.ariaAttributesByName})}),{rows:We,ariaAttributesByName:we}},"getAllRowsAndAriaAttributesForHeaders");var sn=e("9C2q"),nn=e("YJrJ"),Ln=e("Iwbv"),Pn=e("1Aeb"),yn=e("xKHu"),Zt=e("UnpP"),qn=e("RVJP");const ta=new v.b("gif-picker");var la;(function(He){He.HOST="emoji-list-no-results",He.SEARCH_GIFS="emoji-list-search-gifs"})(la||(la={}));const Yn=h(He=>{let{searchGifsInstead:re}=He;const ue=Object(Ie.c)(ve=>Object(qn.d)(ve,"native_gif_picker_translation"))==="on";return t.a.createElement("div",{className:"p-emoji_picker_no_results","data-qa":la.HOST},t.a.createElement(Zt.b,{text:"face_with_monocle",showTooltip:!1}),t.a.createElement("div",null,t.a.createElement("h2",{className:"p-emoji_picker_no_results__header"},ue?ta.t("No emoji to show"):"No emoji to show"),t.a.createElement("p",{className:"p-emoji_picker_no_results__subtext"},ue?ta.t("Like your smarts, your search is unmatched."):"Like your smarts, your search is unmatched.")),re?t.a.createElement(Nt.f,{"data-qa":la.SEARCH_GIFS,type:"outline",onClick:re},ue?ta.t("Search GIFs Instead"):"Search GIFs Instead"):null)},"EmojiListNoResults");Yn.displayName="EmojiListNoResults";var Jt=e("VW9X");function Qn(){return Qn=Object.assign||function(He){for(var re=1;re<arguments.length;re++){var ue=arguments[re];for(var ve in ue)Object.prototype.hasOwnProperty.call(ue,ve)&&(He[ve]=ue[ve])}return He},Qn.apply(this,arguments)}h(Qn,"emoji_picker_extends");const Zn=new v.b("emoji_picker");function Hn(He,re){return Object(a.a)(He,ue=>ue.name===re)}h(Hn,"getEmojiGroupByName");let Sa=h(class extends n.Component{componentDidMount(){const{clogger:re,focusInputOnMount:ue}=this.props;if(re.track(C.EventId.EMOJI_PICKER_OPENED),this._isMounted=!0,w.d.start({label:w.a.EmojiPicker,options:{teamId:this.props.teamOrEnterpriseId,tags:{is_lazy_emoji:!0}}}),ue){var ve;(ve=this.searchInput)===null||ve===void 0||ve.focus()}this.state.marker||this.maybeFetchFlannelEmoji({count:1}),this.props.fetchAllEmojiCollections({reason:"emojiPack:dialog"}),this.props.showProgressiveDisclosureReacjiFlag&&this.props.maybeShowProgressiveDisclosureTip({tip:X.f.Reacji,tipState:X.g.Explainer})}componentDidUpdate(re){if(this.props.activeSkinToneId!==re.activeSkinToneId||this.props.emojiCollections!==re.emojiCollections){this.onSearch(this.state.searchQuery);const ue={groups:this.props.groups,skinToneId:this.props.activeSkinToneId,teamOrEnterpriseId:this.props.teamOrEnterpriseId,enableSkinTonePicker:!!this.props.enableSkinTonePicker},ve=xt(ue);this.setState(()=>({activeGroup:kn(this.props.groups),screenRows:ve.rows,groupAriaAttributesByName:ve.ariaAttributesByName}))}}componentWillUnmount(){this._isMounted=!1,this.clogSearcherResults(""),this.props.showProductivityReacji&&this.seenProductiveEmojisOnMount&&(this.seenProductiveEmojisOnMount=!1),w.d.stop({label:w.a.EmojiPicker})}onArrowKey(re){if(this.state.screenRows.length<3)return;if(re.target===this.searchInput&&this.state.searchQuery&&(this.state.cursorPosition===Pe.b||this.state.cursorPosition===Pe.h)){var ue;if(!(re.keyCode===y.o&&this.searchInput.selectionEnd===this.searchInput.value.length&&((ue=document.getSelection())===null||ue===void 0?void 0:ue.type)!=="Range")){if(re.keyCode===y.k||re.keyCode===y.o)return}}re.preventDefault();let ve=!1,De=this.state.cursorPosition||Pe.b;re.target===this.searchInput&&(re.key===b.a.DOWN||re.key===b.a.UP||re.keyCode===y.o||re.keyCode===y.k)&&(De=Pe.b,ve=!0),this.state.escapePressed&&(ve=!0);const We=Object(fn.d)({screenRows:this.state.screenRows,direction:re.keyCode,currentCursor:De,pickerType:Pe.g.EMOJI});let we=We[1];(We[1]<this.state.cursorPosition[1]||We[1]===2)&&(we=We[1]-2),this.setState(Be=>({cursorPosition:We,currentSelection:Object(fn.a)(Be.screenRows,We),prevSelection:Be.currentSelection,prevCursorPosition:Be.cursorPosition,scrollToIndex:we+Pe.d/2,usingKeyboard:!0,mousePosition:null,srGeneralAnnouncementNewSearch:!1,escapePressed:!1})),this.context.setKeyboardIntoPicker(ve),this.context.setHighlightFirstSearchResult(!1),this.context.setHighlightOnMultiPickerEscape(!1)}onEmojiMouseEnter(re,ue){this.state.usingKeyboard||this.setState(ve=>({currentSelection:re,cursorPosition:[ue%E.d,Math.floor(ue/E.d)],prevSelection:ve.currentSelection,prevCursorPosition:ve.cursorPosition,isSkinTonePickerOpen:!1,srGeneralAnnouncementNewSearch:!1}))}onEmojiMouseLeave(){this.state.usingKeyboard||this.resetSelection()}onEmojiPickerClick(){this.setState(()=>({isSkinTonePickerOpen:!1}))}onGroupTabClick(re){const{groups:ue,teamOrEnterpriseId:ve,enableSkinTonePicker:De,activeSkinToneId:We,hasKeyboardFocusWithin:we}=this.props,{tabGroup:Be}=this.state;if(Be===re){var ke;(ke=this.searchInput)===null||ke===void 0||ke.focus();return}const Le=Hn(ue,re);this.clogSearcherResults(""),(Le==null?void 0:Le.name)==="Custom"&&this.maybeFetchFlannelEmoji();let Ze=[],ot={},bt=0,ht=!1;if(Le&&Le.name!=="Frequently Used"){const rn=en({group:Le,skinToneId:We,groupIndex:0,teamOrEnterpriseId:ve,enableSkinTonePicker:!!De});var Bt;Ze=(Bt=rn==null?void 0:rn.rows)!==null&&Bt!==void 0?Bt:[];var Yt;ot=(Yt=rn==null?void 0:rn.ariaAttributesByName)!==null&&Yt!==void 0?Yt:{},ht=!0}else if(this.state.searchQuery||Le&&Le.name==="Frequently Used"){const Mn={groups:this.props.groups,skinToneId:this.props.activeSkinToneId,teamOrEnterpriseId:ve,enableSkinTonePicker:!!De},rn=xt(Mn);Ze=rn.rows,ot=rn.ariaAttributesByName}else Ze=this.state.screenRows,ot=this.state.groupAriaAttributesByName,bt=jt(Ze,Le);const Cn=!we;var an;this.setState(()=>({activeGroup:Le,tabGroup:(an=Le==null?void 0:Le.name)!==null&&an!==void 0?an:"",scrollToIndex:bt,cursorPosition:[0,bt+1],searchQuery:"",searchResults:[],screenRows:Ze,currentSelection:void 0,usingKeyboard:!0,srGeneralAnnouncementNewSearch:!1,groupAriaAttributesByName:ot,isTabPanelView:ht}),()=>{var Mn;return Cn&&((Mn=this.searchInput)===null||Mn===void 0?void 0:Mn.focus())})}onListScroll(re){let{startIndex:ue,stopIndex:ve}=re;const{shouldAutoScrollToProductivityEmoji:De}=this.props,{searchQuery:We,isTabPanelView:we,screenRows:Be,activeGroup:ke}=this.state;if(De&&!this.seenProductiveEmojisOnMount){this.seenProductiveEmojisOnMount=!0,this.scrollToProductivityEmojiGroup();return}if(We||we&&(ke==null?void 0:ke.name)!=="Custom")return;const Le=Object(fn.b)(Be,ue);let Ze=ve>=Be.length-3;this.state.marker&&(Ze=ve>=Be.length-1),Le!=null&&Le.group&&(this.setState(()=>({activeGroup:Le.group,scrollToIndex:void 0})),Ze&&this.maybeFetchFlannelEmoji())}onMouseWhileUsingKeyboard(re){if(!this.state.usingKeyboard)return;const ue=[re.clientX,re.clientY];if(!this.state.mousePosition){this.setState(()=>({mousePosition:ue}));return}Object(s.a)(ue,this.state.mousePosition)||(this.setState(()=>({mousePosition:null,usingKeyboard:!1,scrollToIndex:void 0,cursorPosition:Pe.b,escapePressed:!1})),this.context.setKeyboardIntoPicker(!1))}onEmojiButtonTab(re){const{groups:ue}=this.props,{screenRows:ve,cursorPosition:De,isTabPanelView:We}=this.state;if(We){this.resetSelection();return}const we=Object(fn.b)(ve,De[1]),Be=we==null?void 0:we.group,Le=re.shiftKey?"previous":"next",Ze=Be&&In(ue,Be,Le),ot=wn(ue);if(Ze&&ot&&(Ze==null?void 0:Ze.name)===(ot==null?void 0:ot.name)&&this.maybeFetchFlannelEmoji(),!Ze){this.resetSelection();return}re.preventDefault();let ht=jt(ve,Ze);const Bt=[0,ht+1],Yt=Pe.d*-1,Cn=ht+Yt>1?ht+Yt:ht;ht=re.shiftKey?Cn:ht+Pe.d,this.setState(an=>({scrollToIndex:ht,cursorPosition:Bt,currentSelection:Object(fn.a)(ve,Bt),prevSelection:an.currentSelection,prevCursorPosition:an.cursorPosition,screenRows:ve,usingKeyboard:!0,mousePosition:null})),this.context.setHighlightFirstSearchResult(!1),this.context.setHighlightOnMultiPickerEscape(!1)}setFirstEmojiFocusToGroup(re){const{screenRows:ue}=this.state;if(!re)return;const ve=jt(ue,re),De=[0,ve+1];this.setState(We=>({scrollToIndex:ve,currentSelection:Object(fn.a)(ue,De),prevSelection:We.currentSelection,usingKeyboard:!0,mousePosition:null,cursorPosition:De,prevCursorPosition:We.cursorPosition})),this.context.setKeyboardIntoPicker(!0),this.context.setHighlightOnMultiPickerEscape(!1),this.context.setHighlightFirstSearchResult(!1)}onEmojiHomeOrEnd(re){var ue;if(re.key!==b.a.HOME&&re.key!==b.a.END||!((ue=this.element)===null||ue===void 0?void 0:ue.querySelector(".p-emoji_picker__list")).contains(re.target))return;const{screenRows:De,cursorPosition:We}=this.state,we=Object(fn.b)(De,We[1]),Be=we==null?void 0:we.group;if(!Be)return;re.preventDefault(),re.stopPropagation();let ke=jt(De,Be),Le;if(re.key===b.a.HOME&&(Le=[0,ke+1]),re.key===b.a.END){const Ze=Be.emoji_names.length,ot=Math.ceil(Ze/E.d),bt=Ze%E.d,ht=(bt>0?bt:E.d)-1;ke+=ot,Le=[ht,ke]}this.setState(Ze=>({scrollToIndex:ke,currentSelection:Object(fn.a)(De,Le),prevSelection:Ze.currentSelection,usingKeyboard:!0,mousePosition:null,cursorPosition:Le,prevCursorPosition:Ze.cursorPosition}))}onTab(re){var ue,ve,De;const{groups:We}=this.props,{screenRows:we}=this.state,{shiftKey:Be,target:ke}=re,{activeGroup:Le,isTabPanelView:Ze,searchQuery:ot}=this.state,bt=(ue=this.element)===null||ue===void 0?void 0:ue.querySelector(".p-emoji_picker__footer"),ht=(ve=this.element)===null||ve===void 0?void 0:ve.querySelector(".p-emoji_picker__list"),Bt=this.element.querySelector(".p-emoji_picker__group_tabs"),Yt=(De=this.searchInput)===null||De===void 0?void 0:De.contains(ke),Cn=ht&&ht.contains(ke),an=Bt==null?void 0:Bt.contains(ke),Mn=this.tabPanel.current===document.activeElement,rn=wn(We),xn=kn(We),gt=Object(_.a)(bt);if(!Be&&an&&Ze){re.preventDefault(),this.setFirstEmojiFocusToGroup(Le);return}if(!Be&&Yt&&(we!=null&&we.length)){const Rt=ot?Le:xn;re.preventDefault(),this.setFirstEmojiFocusToGroup(Rt);return}if(Cn||Mn){this.onEmojiButtonTab(re);return}if(Be&&(gt!=null&&gt.length)&&gt[0]===ke&&(we!=null&&we.length)){const Rt=Ze||ot?Le:rn;re.preventDefault(),this.setFirstEmojiFocusToGroup(Rt)}}onKeyDown(re){var ue,ve,De;const{currentSelection:We}=this.state;if(!re.currentTarget.contains(re.target))return;const we=re.key==="Escape";we&&(re.preventDefault(),this.triggerClose(re,we));const Be=(ue=this.element)===null||ue===void 0?void 0:ue.querySelector(".p-emoji_picker__footer"),ke=Be&&Be.contains(re.target),Le=(ve=this.element)===null||ve===void 0?void 0:ve.querySelector(".p-emoji_picker__group_tabs"),Ze=Le&&Le.contains(re.target),ot=(De=this.element)===null||De===void 0?void 0:De.querySelector(".p-emoji_picker__list"),bt=ot==null?void 0:ot.contains(re.target),ht=re.target===this.element;if(re.key===b.a.TAB){this.onTab(re);return}if(re.key===b.a.HOME||re.key===b.a.END){this.onEmojiHomeOrEnd(re);return}if((bt||ht)&&this.searchInput&&Object(yn.a)(re)){this.resetSelection(),this.searchInput.focus();return}!ke&&!Ze&&[y.r,y.c,y.k,y.o].includes(re.keyCode)&&this.onArrowKeyThrottled(re),!ke&&!Ze&&re.keyCode===y.e&&We&&(re.preventDefault(),this.triggerSelect(re,We))}onSearch(re){const{telemeter:ue,groups:ve,activeSkinToneId:De,teamOrEnterpriseId:We,enableSkinTonePicker:we}=this.props;if(ue.mark("react_emoji_menu_search_mark"),re){const Le=re.split(/\s*,\s*/);u.a.map(Le,Ze=>this.props.searchEmoji({query:Ze,options:{entities:{emoji:{matchKeywords:!0}},sort:{source:"emoji-picker",frecency:!0,model:Object(L.b)()},limit:Pe.i,returnMetadata:!0}})).then(Ze=>{const ot=Object(l.a)(Ze);this.onSearcherResult(ot,re)});return}const ke=xt({groups:ve,skinToneId:De,teamOrEnterpriseId:We,enableSkinTonePicker:!!we});this.setState((Le,Ze)=>({activeGroup:kn(Ze.groups),cursorPosition:Pe.b,prevCursorPosition:Le.cursorPosition,searchQuery:"",screenRows:ke.rows,groupAriaAttributesByName:ke.ariaAttributesByName,currentSelection:void 0,prevSelection:Le.currentSelection}),()=>{var Le;(Le=this.list)===null||Le===void 0||Le.scrollToTop(),ue.measureAndClear("react_emoji_menu_search_mark","react_emoji_menu_search")})}onSearchInputChange(re){const{searchQuery:ue}=this.state,ve=re.replace(/:/g,"").trim();ue!==ve&&(ve.length===0&&this.setState(()=>({searchResults:[]})),this.onSearchDebounced(ve))}onSearchInputClick(){this.setState(()=>({cursorPosition:Pe.b}))}onSearcherResult(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ue=arguments.length>1?arguments[1]:void 0;const{activeSkinToneId:ve,telemeter:De,teamOrEnterpriseId:We,enableSkinTonePicker:we}=this.props;let Be=[],ke={};const Le=[];if(re.length>0){Le.push({emoji_names:Object(o.a)(re,"emojiBestNameMatchCanonical"),name:"Search results",nameLocalized:Zn.t("Search results")});const Bt=xt({groups:Le,skinToneId:ve,teamOrEnterpriseId:We,enableSkinTonePicker:!!we});Be=Bt.rows,ke=Bt.ariaAttributesByName}const Ze=Object(fn.e)(Be),ot=ue&&Ze?Pe.h:Pe.b;this.prevSelection=void 0;const bt=ue&&Ze&&Object(fn.a)(Be,[0,2])||void 0;this.context.setHighlightFirstSearchResult(!this.context.keyboardIntoPicker),this.context.setHighlightOnMultiPickerEscape(!1),this.setState(ht=>({activeGroup:Le[0],cursorPosition:ot,prevCursorPosition:ht.cursorPosition,searchQuery:ue,screenRows:Be,groupAriaAttributesByName:ke,currentSelection:bt,prevSelection:ht.currentSelection,searchResults:re,isTabPanelView:!1}),()=>{var ht;(ht=this.list)===null||ht===void 0||ht.scrollToTop(),De.measureAndClear("react_emoji_menu_search_mark","react_emoji_menu_search"),this.debouncedSrAnnounceResults()})}onSkinToneChanged(re){this.props.onSkinToneChanged&&this.props.onSkinToneChanged(re),this.setState(()=>({isSkinTonePickerOpen:!1}))}onSkinTonePickerOpened(){this.setState(()=>({isSkinTonePickerOpen:!0}))}setListRef(re){this.list=re}setMenuRef(re){this.element=re}setSearchInputRef(re){this.searchInput=re}maybeFetchFlannelEmoji(){let{count:re}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{count:100};var ue;if(!(!((ue=this.props)===null||ue===void 0)&&ue.shouldUseFlannelEmoji)||this.state.fullyLoaded)return;const{marker:ve}=this.state;this.props.fetchEmojiWithQuery&&this.props.fetchEmojiWithQuery({query:{count:re,marker:ve}}).then(De=>{if(this._isMounted){const{emoji:We,nextMarker:we}=De||{};this.setState(Be=>({marker:we,fullyLoaded:!we,screenRows:ln((We||[]).map(ke=>ke.name),Be.screenRows)}))}})}scrollToProductivityEmojiGroup(){const{groups:re}=this.props,{screenRows:ue}=this.state,ve=Hn(re,"Getting Work Done"),De=jt(ue,ve);this.setState(We=>({activeGroup:ve,scrollToIndex:De,cursorPosition:[0,De+1],prevCursorPosition:We.cursorPosition,searchQuery:"",searchResults:[],screenRows:ue,currentSelection:void 0,prevSelection:We.currentSelection,usingKeyboard:!0}))}isEmojiSelected(re,ue){const{cursorPosition:ve,currentSelection:De=""}=this.state;return Object(Pn.a)({selection:re,cursorPosition:ve,index:ue,numPerRow:E.d,currentSelection:De})}clogSearcherResults(re){const{clogger:ue}=this.props,{searchQuery:ve,searchResults:De}=this.state,We=!!this.prevSelection,we=!!(ve&&De);let Be;const ke=re&&Object(O.a)(re);if(we){var Le;Be={source:"emoji-picker",query:ve,results:De};const Ze=ke&&Be&&Be.results&&Be.results.find(ot=>ot.emojiBestNameMatchCanonical===ke.name);!(Ze==null||(Le=Ze.item)===null||Le===void 0)&&Le.id?(Be.selectedItemId=Ze.item.id,Object(x.c)({clogger:ue,data:Be})):!Ze&&!We&&Object(x.d)({clogger:ue,data:Be})}}resetSelection(){this.setState(re=>({currentSelection:void 0,prevSelection:re.currentSelection,scrollToIndex:void 0,cursorPosition:Pe.b,prevCursorPosition:re.cursorPosition})),this.context.setKeyboardIntoPicker(!1)}triggerClose(re,ue){const ve={currentSelection:void 0,scrollToIndex:void 0,cursorPosition:Pe.b};ue||(ve.searchResults=[],ve.searchQuery=""),this.setState(()=>ve,()=>{var De,We;(De=this.props)===null||De===void 0||(We=De.onClosed)===null||We===void 0||We.call(De,re)}),re.stopPropagation()}triggerSelect(re,ue){const{name:ve}=Object(O.a)(ue)||{};ve&&this.props.recordEmojiFrecencyEvent({emojiName:ve,text:this.state.searchQuery}),this.props.shouldAutoScrollToProductivityEmoji&&(this.props.incrementEmojiClickCount(),this.props.recordNotificationEvent({notificationName:te.h.PRODUCTIVITY_REACJI,action:te.f.CLICK})),this.props.shouldRecordEmojiClicksForQuickReactions&&this.props.recordNotificationEvent({notificationName:te.h.QUICK_REACTIONS,action:te.f.CLICK,step:"reaction"}),this.clogSearcherResults(ue),this.prevSelection=re.shiftKey?ue:void 0,this.props.onSelected&&this.props.onSelected(re,ue,this.state.searchQuery);const De=Object(j.a)(re);re.shiftKey||this.triggerClose(re,De)}render(){const{showCustomBadge:re,showHandyReactions:ue,activeSkinToneId:ve,showProductivityReacji:De,enableSkinTonePicker:We,inputPlaceholder:we,showProgressiveDisclosureReacjiExplainer:Be,menuClassName:ke,menuContentClassName:Le,hideFooter:Ze,isClientAppOrCommunityAdminApp:ot,hideAddEmojiButton:bt,canAddEmoji:ht,teamOrEnterpriseId:Bt,locale:Yt,showAnyEmojiPacksCTA:Cn,hasKeyboardFocusWithin:an,onFocus:Mn,onBlur:rn,onAddEmojiButtonClick:xn,isSPFNonWorkWorkspace:gt,className:Rt,experimentNativeGifPickerGroupOn:mn}=this.props,{cursorPosition:ca,currentSelection:da,screenRows:_a,activeGroup:zn,searchQuery:na,searchResults:ga,srGeneralAnnouncementNewSearch:ma,groupAriaAttributesByName:Oa,isTabPanelView:ka,tabGroup:Ua}=this.state,Va=ga==null?void 0:ga.length,qa=!Ze&&De&&da&&!na&&ca!==Pe.b&&Object(fn.c)(_a,ca[1]),ja=_a.length===0,xa=ot&&!bt&&ht,Wa=!na&&Cn,es=Object(c.default)(Rt,"p-emoji_picker",ke,{"c-menu":this.props.renderAsMenu,"p-emoji_picker--keyboard_mode":this.state.usingKeyboard,"p-emoji_picker--style-v2":mn}),Pa=Object(c.default)("p-emoji_picker__list",{"p-emoji_picker__list--with_cta":Wa}),ss=this.searchInput===document.activeElement,Ma=Object(c.default)("p-emoji_picker__footer",{"p-emoji_picker__footer--previewing":mn?!!da:!!da||ja&&ss,"p-emoji_picker__footer--handy-reactions":ue});let os;De&&(ue?os={"p-emoji_picker__content--reaction-height-with-cta":Wa,"p-emoji_picker__content--reaction-height-without-cta":!Wa}:os={"p-emoji_picker__content--message-height-with-cta":Wa,"p-emoji_picker__content--message-height-without-cta":!Wa});const za=Object(c.default)("p-emoji_picker__content",os,Le);var Ka;const Za=t.a.createElement("div",{className:Pa},ja&&mn?t.a.createElement(Yn,{searchGifsInstead:this.props.noResultsSearchForGifWithQuery?this.searchForGifsWithQuery:void 0}):t.a.createElement(Te,{screenRows:this.state.screenRows,showAddEmojiButton:xa,searchQuery:na,onSelected:this.triggerSelect,onMouseEnter:this.onEmojiMouseEnter,onMouseLeave:this.onEmojiMouseLeave,onMultiSkinTonePopoverEscape:this.onMultiSkinTonePopoverEscape,scrollToIndex:this.state.scrollToIndex,onScroll:this.onListScroll,isEmojiSelected:this.isEmojiSelected,cursorPosition:this.state.cursorPosition,showProductivityReacji:De,groups:this.props.groups,ref:this.setListRef,activeGroupName:(Ka=zn==null?void 0:zn.name)!==null&&Ka!==void 0?Ka:"",pickerHasKeyboardFocusWithin:an,onAddEmojiButtonClick:xn}));let ds="";ma&&(na!=null&&na.length)&&(ds=!!(!Va||Va===0||isNaN(Va))?Zn.t("Oh no! We couldn\u2019t find that emoji"):Zn.t("{numberOfSearchResults, plural, =1 {# result} other {# results}}",{numberOfSearchResults:Va})),ma&&!(na!=null&&na.length)&&(ds=Zn.t("Seeing all results"));const ts=!this.props.hideTabs,us=!ka;let is;mn?is=zn&&!ja?zn==null?void 0:zn.nameLocalized:"":is=zn&&!ja?zn==null?void 0:zn.nameLocalized:Zn.t("No Results",{fallbackHash:"b993b0c537190bfc94b21360ac5abe51e56be36f",fallbackHashNs:"search"});var Ya;return t.a.createElement("div",{"aria-label":Zn.t("Emoji picker"),role:"dialog",className:es,"data-using-keyboard":this.state.usingKeyboard,onClick:this.onEmojiPickerClick,onMouseMove:this.onMouseWhileUsingKeyboard,ref:this.setMenuRef,"data-qa":"emoji-picker",onKeyDown:this.onKeyDown,onFocus:Mn,onBlur:rn},Be?t.a.createElement(Y.a,{tip:X.f.Reacji,isSPFNonWorkWorkspace:gt}):null,t.a.createElement("div",{className:za},ts&&t.a.createElement(xe,{groups:this.props.groups||ne.a,showCustomBadge:re,onGroupTabClick:this.onGroupTabClick,tabGroupName:Ua||""}),us&&t.a.createElement(Dn,{ref:this.setSearchInputRef,onChange:this.onSearchInputChange,onClick:this.onSearchInputClick,placeholder:we||""}),Wa&&t.a.createElement(Mt,{groups:this.props.groups,jumpToGroup:this.onGroupTabClick}),t.a.createElement("div",{className:"p-emoji_picker__list_container",onMouseMove:this.mouseOverTabPanel,ref:this.tabPanel,role:"tabpanel",tabIndex:-1,"aria-labelledby":ce({name:Ua??""})},t.a.createElement(Z.b,{message:ds,uuid:this.ariaAnnouncerUuid}),t.a.createElement(Wt,{header:is,ariaAttributes:Oa[(Ya=zn==null?void 0:zn.name)!==null&&Ya!==void 0?Ya:""]}),De?t.a.createElement(H.a,{eventId:C.EventId.EDUCATION_PRODUCTIVITY_REACJI,uiStep:C.UiStep.PRODUCTIVITY_REACJI,clogImpression:!0},Za):Za),!Ze&&t.a.createElement("div",{className:Ma,"data-qa":"emoji_picker__footer"},!qa&&t.a.createElement(_t,{showHandyReactions:!!ue,showAddEmojiButton:xa,activeSkinToneId:ve,showSkinTonePicker:!!We,onEmojiSelected:this.triggerSelect,onEmojiMouseEnter:this.onEmojiMouseEnter,onEmojiMouseLeave:this.onEmojiMouseLeave,isSkinTonePickerOpen:this.state.isSkinTonePickerOpen,onSkinTonePickerOpened:this.onSkinTonePickerOpened,onSkinToneChanged:this.onSkinToneChanged,hasZeroRows:this.state.screenRows.length===0,currentEmojiSelection:da||"",teamOrEnterpriseId:Bt,locale:Yt,onAddEmojiButtonClick:xn,noSearchResults:ja}),De&&qa&&t.a.createElement(jn,{showSkinTonePicker:!!We,showHandyReactions:!!ue,activeSkinToneId:ve,teamOrEnterpriseId:Bt,locale:Yt,emoji:da}))))}constructor(re,ue){var ve;super(re,ue),this.ariaAnnouncerUuid=Object(g.a)(),this.mouseOverTabPanel=()=>{var ke,Le;!((ke=this.tabPanel)===null||ke===void 0||(Le=ke.current)===null||Le===void 0)&&Le.contains(document.activeElement)&&this.tabPanel.current.focus()},this.srAnnounceResults=()=>{const{srGeneralAnnouncementNewSearch:ke}=this.state;ke||this.setState(()=>({srGeneralAnnouncementNewSearch:!0}))},this.onMultiSkinTonePopoverEscape=()=>{var ke;(ke=this.element)===null||ke===void 0||ke.focus(),this.context.setHighlightOnMultiPickerEscape(!0),this.setState(Le=>({currentSelection:Le.currentSelection?Le.currentSelection:Le.prevSelection,cursorPosition:Le.currentSelection?Le.cursorPosition:Le.prevCursorPosition,escapePressed:!0})),this.context.setKeyboardIntoPicker(!0)},this.searchForGifsWithQuery=()=>{const{noResultsSearchForGifWithQuery:ke}=this.props,{searchQuery:Le}=this.state;ke==null||ke(Le)},Object(d.a)(this,["onEmojiMouseEnter","onEmojiMouseLeave","onMouseWhileUsingKeyboard","onKeyDown","onListScroll","onSearch","onSearcherResult","onEmojiPickerClick","onGroupTabClick","onSkinToneChanged","onSkinTonePickerOpened","triggerSelect","triggerClose","resetSelection","setListRef","setMenuRef","setSearchInputRef","onSearchInputChange","onSearchInputClick","isEmojiSelected","onEmojiButtonTab","setFirstEmojiFocusToGroup","onTab"]);const De=100;this.onSearchDebounced=Object(f.a)(this.onSearch,De,{leading:!0}),this.debouncedSrAnnounceResults=Object(f.a)(this.srAnnounceResults,500),this.onArrowKeyThrottled=Object(r.a)(this.onArrowKey,Pe.a),this.seenProductiveEmojisOnMount=!1;const We={groups:re.groups,skinToneId:re.activeSkinToneId,teamOrEnterpriseId:re.teamOrEnterpriseId,enableSkinTonePicker:!!re.enableSkinTonePicker},we=xt(We);var Be;this.state={currentSelection:void 0,isSkinTonePickerOpen:!1,searchQuery:"",scrollToIndex:void 0,activeGroup:kn(re.groups),screenRows:we.rows,groupAriaAttributesByName:we.ariaAttributesByName,cursorPosition:Pe.b,usingKeyboard:!1,mousePosition:null,marker:void 0,fullyLoaded:!1,searchResults:[],srGeneralAnnouncementNewSearch:!1,isTabPanelView:!1,escapePressed:!1,tabGroup:(Be=(ve=kn(re.groups))===null||ve===void 0?void 0:ve.name)!==null&&Be!==void 0?Be:"",prevCursorPosition:Pe.b,prevSelection:void 0},this.context.setHighlightFirstSearchResult(!1),this.prevSelection=void 0,this._isMounted=!1,this.element=void 0,this.list=void 0,this.searchInput=void 0,this.tabPanel=Object(n.createRef)()}},"EmojiPicker");Sa.displayName="EmojiPicker",Sa.defaultProps={showHandyReactions:!1,onSelected:m.a,onClosed:m.a,onSkinToneChanged:m.a,menuClassName:"",menuContentClassName:"",hideFooter:!1,enableSkinTonePicker:!0,hideTabs:!1,renderAsMenu:!0,hideAddEmojiButton:!1,inputPlaceholder:"",forceHideEmojiPackCTA:!1,focusInputOnMount:!0,searchEmoji:m.a,recordEmojiFrecencyEvent:m.a,fetchAllEmojiCollections:m.a,recordNotificationEvent:m.a,incrementEmojiClickCount:m.a,fetchEmojiWithQuery:m.a,maybeShowProgressiveDisclosureTip:m.a,onFocus:m.a,onBlur:m.a,experimentNativeGifPickerGroupOn:!1},Sa.contextType=nn.a;function Ca(He,re){let{forceHideEmojiPackCTA:ue}=re;const ve=Object(U.h)(He),De=Object(R.a)(He),We=Object(G.c)(He,te.g.EMOJI_DRAWER),we=Object(G.b)(He,te.g.EMOJI_DRAWER),Be=We===te.h.PRODUCTIVITY_REACJI,ke=Object(V.a)(He),Le=Be&&we.autoscrollToProductivity&&ke<E.a,Ze=Object(G.b)(He,te.g.QUICK_REACTIONS),bt=Object(G.c)(He,te.g.QUICK_REACTIONS)===te.h.QUICK_REACTIONS&&Ze.sendClickDataForReactions;return{activeSkinToneId:Object(B.u)(He,"preferred_skin_tone")||"",canAddEmoji:Object(M.a)(He),isClientAppOrCommunityAdminApp:Object(P.h)(He)||Object(T.g)(),clogger:Object(K.a)({state:He}),emojiCollections:Object(V.b)(He),groups:De||ne.a,teamOrEnterpriseId:ve||"",locale:Object(v.m)({teamOrEnterpriseId:ve||"",recalc:!1}),telemeter:Object(D.d)({state:He}),showCustomBadge:Object(V.f)(He),showProductivityReacji:Be,shouldRecordEmojiClicksForQuickReactions:bt,shouldAutoScrollToProductivityEmoji:Le,showAnyEmojiPacksCTA:!ue&&(Object(z.b)(He)||!!(De&&Object(z.a)(He,De))),showProgressiveDisclosureReacjiFlag:Object($.qb)(He,{tip:X.f.Reacji}),showProgressiveDisclosureReacjiExplainer:Object($.pb)(He,{tip:X.f.Reacji}),shouldUseFlannelEmoji:!!Object(F.r)(He),isSPFNonWorkWorkspace:Object(Ln.a)(He),experimentNativeGifPickerGroupOn:Object(zt.f)(He)}}h(Ca,"mapStateToProps");const La=h(He=>({searchEmoji:re=>He(Object(x.F)(re)),recordEmojiFrecencyEvent:re=>He(W(re)),fetchAllEmojiCollections:re=>He(Object(N.a)(re)),recordNotificationEvent:re=>He(Object(se.a)(re)),incrementEmojiClickCount:()=>He(Object(A.b)()),fetchEmojiWithQuery:re=>He(Object(k.b)(re)),maybeShowProgressiveDisclosureTip:re=>He(Object(q.a)(re))}),"emoji_picker_mapDispatchToProps"),Gt=h(He=>{const{showHandyReactions:re,enableSkinTonePicker:ue=!0}=He;return t.a.createElement(nn.b,{showHandyReactions:!!re,enableSkinTonePicker:!!ue},t.a.createElement(Sa,Qn({},He)))},"EmojiPickerWithContextProvider");Gt.displayName="EmojiPickerWithContextProvider";const Ct=Object(sn.a)(Gt);var It=Object(p.a)(Ca,La)(Ct);const on=Object(p.a)(Ca,La)(Object(ee.b)(Ct,{name:"EmojiPicker"}));var Sn=i.b=It},mzsf:function(J,i,e){"use strict";e.d(i,"a",function(){return T});var n=e("q1tI"),t=e.n(n),a=e("n3tL"),s=e("Cfcg"),l=e("TGBA"),o=e("E3dU"),f=e("xwCZ"),r=e("Zbwg"),m=e("eUIW"),c=e("C3vN"),u=e("gVOt"),d=e("E97Y"),p=e("y/e0"),v=e("ZIxB"),g=e("oiAH"),O=e("G4FP"),b=e("rIOq"),y=e("j4ta"),C=e("NFmw"),_=e("8aX7"),j=e("2zs3"),E=e("Ccc1");function M(){return M=Object.assign||function(K){for(var V=1;V<arguments.length;V++){var z=arguments[V];for(var N in z)Object.prototype.hasOwnProperty.call(z,N)&&(K[N]=z[N])}return K},M.apply(this,arguments)}h(M,"_extends");const T={SMALL:"small",MEDIUM:"medium",INLINE:"inline"},P={id:a.default.string,model:a.default.object,type:a.default.oneOf(Object(l.a)(T)),matchData:a.default.array,onlyBoldIfUnread:a.default.bool,showUnreadBadge:a.default.bool,shortenTooltipContents:a.default.bool,showTruncatedChannelNameTooltip:a.default.bool,showTeamForLocalChannel:a.default.bool,showDisambiguatingTeamName:a.default.bool},B={id:void 0,model:void 0,type:"small",matchData:[],onlyBoldIfUnread:!1,showUnreadBadge:!1,shortenTooltipContents:!1,showTruncatedChannelNameTooltip:!1,showTeamForLocalChannel:!1,showDisambiguatingTeamName:!1};function R(K){let{id:V,model:z,type:N,matchData:A,onlyBoldIfUnread:x,showUnreadBadge:k,shortenTooltipContents:F,showTruncatedChannelNameTooltip:L,showTeamForLocalChannel:S,showDisambiguatingTeamName:I,...W}=K,D=null;if(Object(d.g)(z)||Object(c.db)(z)){let H,Z;switch(Object(c.db)(z)?(H=z.id,Z=z):H=Object(u.a)(z),N){case T.SMALL:D=t.a.createElement(v.a,M({id:H,member:Z,onlyBoldIfUnread:x,showUnreadCount:k,showBadge:!1},W));break;case T.MEDIUM:D=t.a.createElement(b.a,M({id:H,member:Z},W));break;case T.INLINE:D=t.a.createElement(_.a,M({id:H,member:Z},W));break;default:break}}else if(Object(d.i)(z))switch(N){case T.SMALL:D=t.a.createElement(g.a,M({id:V,mpim:z,matchData:A,onlyBoldIfUnread:x,showUnreadBadge:k,shortenTooltipContents:F},W));break;case T.MEDIUM:D=t.a.createElement(y.a,M({id:V,mpim:z},W));break;case T.INLINE:D=t.a.createElement(j.a,M({id:V,mpim:z},W));break;default:break}else if(Object(p.a)(z))switch(N){case T.SMALL:D=t.a.createElement(O.a,M({channelId:V,channel:z,onlyBoldIfUnread:x,showUnreadBadge:k,showTruncatedChannelNameTooltip:L,showTeamForLocalChannel:S,showDisambiguatingTeamName:I},W));break;case T.MEDIUM:D=t.a.createElement(C.a,M({channelId:V,channel:z},W));break;case T.INLINE:D=t.a.createElement(E.a,M({channelId:V,channel:z},W,{showDisambiguatingTeamName:I}));break;default:break}return t.a.createElement(t.a.Fragment,null,D)}h(R,"ConversationListEntity"),R.displayName="ConversationListEntity",R.propTypes=P,R.defaultProps=B;function U(K,V){let{id:z,model:N}=V,A=N;if(!A)if(Object(r.a)(z)){if(A=Object(o.d)(K,z),Object(d.g)(A)){const x=Object(u.a)(A);A=Object(f.g)(K,x)}}else Object(m.a)(z)&&(A=Object(f.g)(K,z));return{id:z||A&&A.id,model:A}}h(U,"mapStateToProps"),i.b=Object(s.a)(U)(R)},n5Lk:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("WMzb"),s=e("9tjR"),l=e("Qn8/"),o=e("O86Y"),f=e("1ufr"),r=e("zxER");const m="TOAST",c=t.a.memo(u=>{const d=Object(r.c)(o.h),p=Object(a.a)(),v=Object(r.c)(s.d),g=Object(r.c)(Object(n.useCallback)(b=>Object(s.a)(b,u.windowId),[u.windowId])),O=Object(n.useMemo)(()=>Object(s.f)(d,u.windowId),[d,u.windowId]);return Object(n.useEffect)(()=>(l.d[O]&&p.error(m,"ToastContainer already mounted -- should only be one instance at a time"),l.d[O]=!0,()=>{delete l.d[O]}),[O,p]),g?t.a.cloneElement(g,{key:v}):null});c.displayName="ToastContainer",i.a=Object(f.a)(c)},n7Bo:function(J,i,e){"use strict";e.d(i,"c",function(){return t}),e.d(i,"b",function(){return f}),e.d(i,"a",function(){return r}),e.d(i,"d",function(){return m}),e.d(i,"e",function(){return c});const n=new Set(["ai","archive","audio","avi","binary","bmp","cpp","code","css","csv","doc","docs","docx","email","eml","eps","flv","gdoc","generic","gpres","gsheet","html","indd","java","lucidchart","lucidpress","lucidspark","m4a","mov","mp3","mp4","ogg","post","png","jpeg","jpg","gif","pdf","php","ppt","pptx","psd","quip","sketch","snippet","space","spreadsheet","text","tiff","video","wav","xls","xlsm","xlsx","xltx","zip","zohoshow"]);function t(u){let{fileTypeDescription:d}=u;return n.has(d==null?void 0:d.toLowerCase())}h(t,"isSVGIconAvailable");const a=new Set(["ai","audio","avi","bmp","eps","png","jpeg","jpg","gif","flv","indd","mov","psd","video","wav"]),s=new Set(["eml","email"]),l=new Set(["code","cpp","css","csv","eps","flv","gdoc","html","indd","java","m4a","mp3","mp4","ogg","post","php","quip","snippet","space","spreadsheet","text","xltx"]),o=new Set(["archive","zip","binary"]);function f(u){let{fileTypeDescription:d}=u;const p=d==null?void 0:d.toLowerCase();return!!p&&a.has(p)}h(f,"isImagePlaceholderAvailable");function r(u){let{fileTypeDescription:d}=u;const p=d==null?void 0:d.toLowerCase();return!!p&&s.has(p)}h(r,"isEmailPlaceholderAvailable");function m(u){let{fileTypeDescription:d}=u;const p=d==null?void 0:d.toLowerCase();return!!p&&l.has(p)}h(m,"isTextPlaceholderAvailable");function c(u){let{fileTypeDescription:d}=u;const p=d==null?void 0:d.toLowerCase();return!!p&&o.has(p)}h(c,"isZipPreviewAvailable")},nBOy:function(J,i,e){"use strict";var n=e("yIs4"),t=e("3yyz"),a=e("5SjC");const s=h((l,o)=>{if(!l||!Object(n.a)(o))return null;let f=0,r;return Object(a.a)(l,(m,c)=>{if(r)return;const u=f+Object(t.a)(m);if(o>=f&&o<u){const d=m.attributes||{},p=c.attributes||{};r={...d,...p}}f=u}),r},"getFormatAtIndex");i.a=s},nHWZ:function(J,i,e){"use strict";e.d(i,"a",function(){return y});var n=e("mM05"),t=e.n(n),a=e("bPB8"),s=e("TQ9f"),l=e("fR2/");function o(C){return Object(l.a)(C)?Object(l.d)(C)!==C.insert:!1}h(o,"isOpMentionAndInvalid");function f(C){if(!Object(l.a)(C))return!1;const _=Object(l.c)(C),j=Object(l.b)(C),E=Object(l.d)(C);if(!j||!E)return!1;const M=_.substr(0,E.length);return _.length>E.length&&M===E}h(f,"isOpMentionWithAppendedText");function r(C){if(!Object(l.a)(C))return!1;const _=Object(l.b)(C),j=Object(l.d)(C),E=Object(l.c)(C);if(!_||!j)return!1;const M=E.substr(j.length*-1);return E.length>j.length&&M===j}h(r,"isOpMentionWithPrependedText");var m=e("k2bd"),c=e("nPQL"),u=e("3yyz"),d=e("0f4s"),p=e("0LZ2");const v=h(C=>C.attributes&&C.attributes.background,"hasBackgroundAttr"),g=h((C,_)=>{const j=_.ops[0];return o(j)?new t.a().insert(Object(l.c)(j)):_},"handleMention"),O=h((C,_)=>_.length()===0&&C.textContent.length>0&&/^ +$/.test(C.textContent)?new t.a().insert(C.textContent):_,"maybeHandleSpaces");function b(C){const _=new t.a;let j=0,E=0;return C.forEach(M=>{let T=0,P=j,B="";const R=Object(u.a)(M);if(j+=R,!(!Object(l.a)(M)||!o(M))){if(Object(s.a)(M))_.retain(P-E).delete(R).insert({slackemoji:Object(s.b)(M)},{...M.attributes,slackmention:null});else if(Object(m.a)(M))_.retain(P-E).delete(R).insert({workflowtoken:Object(m.c)(M)},{...M.attributes,slackmention:null});else if(f(M)){if(P+=Object(l.d)(M).length,_.retain(P-E),T=R-Object(l.d)(M).length,B=Object(d.a)(C,P,T),B.length>=Object(l.d)(M).length)for(;B.length>=Object(l.d)(M).length&&B.length;){const U=B.substr(0,Object(l.d)(M).length);if(U===Object(l.d)(M))_.delete(U.length).insert(U,M.attributes),B=B.substr(U.length);else break}B.length&&_.delete(B.length).insert(B,{...M.attributes,slackmention:null})}else if(r(M)){B=Object(d.a)(C,P,R).replace(/\n$/,"");const U=B.length,K=Object(l.d)(M);let V=0;for(;B.length>K.length&&B.substr(K.length*-1)===K;)V+=1,B=B.substr(0,B.length-K.length);_.retain(P-E),_.delete(U),_.insert(B);for(let z=0;z<V;z++)_.insert(K,M.attributes)}else B=Object(d.a)(C,P,R),_.retain(P-E).delete(R).insert(B,{...M.attributes,slackmention:null});E=j}}),_}h(b,"buildUnformatBrokenMentionsChanges");function y(C){const j=Object(p.a)(C).import("core/module");return h(class extends j{listen(){this.quill.on("text-change",this.onTextChange),this.quill.clipboard.addMatcher(".c-member_slug",g),this.quill.clipboard.addMatcher("ts-mention",g),this.quill.clipboard.addMatcher(Node.TEXT_NODE,O)}onTextChange(T){Object(c.a)(T)||(this.fixMultipleBrokenMentionsAttempt||this.fixMultipleBrokenMentions(T),this.fixLeakingMentions())}buildTextChangeDelta(T){return b(T)}fixMultipleBrokenMentions(T){const P=T==null?void 0:T.ops,B=this.quill.getContents();let R=P.map(z=>{var N;return z==null||(N=z.attributes)===null||N===void 0?void 0:N.slackmention});if(R=Object(a.a)(R),!R.length||this.fixMultipleBrokenMentionsAttempt)return;const U=2;let K=0,V=R[0];for(let z=1;z<R.length;z++){const N=R[z];if(N.label===V.label&&(K+=1),N.label!==V.label&&(K=0),K>=U){this.quill.setContents(B),this.fixMultipleBrokenMentionsAttempt=!1;return}V=N,this.fixMultipleBrokenMentionsAttempt=!0}}fixLeakingMentions(){this.quill.getContents().filter(B=>v(B)).length>0&&setTimeout(()=>{const B=this.quill.getContents().map(U=>v(U)?{insert:U.insert}:U),R=this.quill.getSelection();this.quill.setContents({ops:B},"silent"),R&&this.quill.setSelection(R)},0)}constructor(T,P){super(T,P),this.onTextChange=this.onTextChange.bind(this),this.fixMultipleBrokenMentionsAttempt=!1,this.listen()}},"SlackMentionModule")}h(y,"getSlackMentionModule")},nKt2:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("gCYc"),t=e("pu3F"),a=e("bORL");function s(l,o){const f=Object(n.k)(l,o);return Object(a.a)(l,f)>=t.z}h(s,"isDraftAtMaximumFiles")},nLfX:function(J,i,e){"use strict";e.d(i,"a",function(){return r}),e.d(i,"d",function(){return m}),e.d(i,"e",function(){return c}),e.d(i,"c",function(){return u}),e.d(i,"f",function(){return d}),e.d(i,"b",function(){return p});var n=e("E97Y"),t=e("ISSR"),a=e("0mlZ"),s=e("pu3F"),l=e("fujP");function o(v){let{channel:g,fileChannelFile:O}=v;return Object(n.l)(g)||!!(O!=null&&O.public_shared)}h(o,"inPublicChannelOrFile");function f(v){let{experimentPrivateMessageSharingGroupOn:g,shareType:O,channel:b,fileChannelFile:y}=v;return g&&O===a.b.MESSAGE&&!o({channel:b,fileChannelFile:y})}h(f,"isPrivateMessageSharing");function r(v){let{shareType:g,channel:O,fileChannelFile:b,experimentPrivateMessageSharingGroupOn:y}=v;return g===a.b.SHORTCUT||g===a.b.CHANNEL_SET||Object(a.c)(g)||g===a.b.MESSAGE&&y?!0:o({channel:O,fileChannelFile:b})}h(r,"canShareOutOfOriginChannel");function m(v){let{disallowedKeywordInMsgText:g,canPostInSelectedChannel:O,isOffline:b,overMsgLengthLimit:y,submitting:C,destinationError:_}=v;return b||!O||!!g||y||!!_||C}h(m,"isGoButtonDisabled");function c(v){let{isFetchingUnfurlData:g,experimentFeMessageForwardingM2GroupOn:O}=v;return!!(O&&g)}h(c,"isGoButtonLoading");function u(v){let{memberIds:g,channelIds:O,useMultiSelect:b}=v;if(b){const y=(g==null?void 0:g[0])!==s.W;return{shouldSearchForChannels:Object(l.a)(g)&&Object(l.a)(O),shouldSearchForMembers:Object(l.a)(O)&&y}}return{shouldSearchForChannels:!0,shouldSearchForMembers:!0}}h(u,"determineSearchOptions");function d(v){let{destination:g,nonMemberChannel:O,canPostInSelectedChannel:b}=v;return!!(g&&g.channelIds&&g.channelIds.length)&&(Object(n.r)(O)||Object(t.a)(O)||!b)}h(d,"postingToChannelDisallowed");function p(v){let{destination:g,canPostInSelectedChannel:O,isSelectedChannelAppDm:b}=v;return!(g&&g.memberIds&&g.memberIds.length&&b&&!O)}h(p,"canShareToAppDm")},nM8Q:function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n=h(t=>{var a,s,l,o,f;const r=(a=t.workflow)===null||a===void 0||(s=a.app)===null||s===void 0?void 0:s.name,m=(l=t.workflow)===null||l===void 0||(o=l.app)===null||o===void 0?void 0:o.id,c=t.description,u="workflow",d=t.name,p="",v=t.shortcut_url,g=t.id,O=t==null||(f=t.workflow)===null||f===void 0?void 0:f.workflow_id;return{autocomplete:!0,appName:r,appId:m,desc:c,type:u,name:d,usage:p,id:v,triggerId:g,workflowId:O}},"createCommandObject")},nPQL:function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(t){if(!t||!t.length())return!1;let a=!0;for(let s=0;s<t.ops.length;s++)if(!t.ops[s].retain){a=!1;break}return a}h(n,"isDeltaFormattingOnly")},"nR/p":function(J,i,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("SQ0V"),s=e("fujP"),l=e("gCYc"),o=e("ZvCj"),f=e("Dpf0");const r=Object(a.c)("Attach a canvas to the current draft",function(){var m=Object(n.coroutine)(function*(c,u,d){let{fileId:p,draftId:v,channelId:g,threadTs:O,isFromComposer:b,reason:y}=d;const C=u(),_=Object(l.k)(C,v);if(Object(s.a)(_)){const j={channel_id:g};O&&(j.thread_ts=O);const E={client_draft_id:v,destinations:[j],is_from_composer:b};c(Object(o.a)({draft:E,reason:y||"attach-canvas-to-draft"}))}c(Object(f.a)({draftId:v,fileId:p}))});return function(c,u,d){return m.apply(this,arguments)}}());r.meta={name:"createThunk",key:"createThunkattachFileToDraft",description:"Attach a canvas to the current draft"},i.a=r},nRFS:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("RVJP");function t(a){const s=Object(n.d)(a,"private_message_sharing")==="on",l=Object(n.d)(a,"fe_message_forwarding_m2")==="on",o=Object(n.d)(a,"fe_message_forwarding_link_speed_bump")==="on";return!!(s&&l&&o)}h(t,"isFeMessageForwardingLinkSpeedBumpEnabled")},nRRV:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Te+D"),s=e("vn+8");function l(o){let{format:f,label:r,isMac:m,isDocs:c}=o;const u=m?"\u2318":"Ctrl ",d=m?"Option ":"Alt ",p=Object(n.useMemo)(()=>[u,"Shift"],[u]),v=Object(n.useMemo)(()=>[u,d,"Shift"],[u,d]),g=Object(n.useMemo)(()=>[u,d],[u,d]);switch(f){case"bold":return t.a.createElement(a.a,{title:r,modifier:u,mainKey:"B"});case"italic":return t.a.createElement(a.a,{title:r,modifier:u,mainKey:"I"});case"underline":return t.a.createElement(a.a,{title:r,modifier:u,mainKey:"U"});case"strike":return t.a.createElement(a.a,{title:r,modifiers:p,mainKey:"X"});case"code":return t.a.createElement(a.a,{title:r,modifiers:p,mainKey:"C"});case"link":return t.a.createElement(a.a,{title:r,modifiers:p,mainKey:"U"});case"bullet-list":return c?r:t.a.createElement(a.a,{title:r,modifiers:p,mainKey:"8"});case"ordered-list":return c?r:t.a.createElement(a.a,{title:r,modifiers:p,mainKey:"7"});case"blockquote":return c?r:t.a.createElement(a.a,{title:r,modifiers:p,mainKey:"9"});case"code-block":return c?r:t.a.createElement(a.a,{title:r,modifiers:v,mainKey:"C"});case"start-thread":case"open-thread":return c?r:t.a.createElement(a.a,{title:r,modifiers:g,mainKey:"T"});case s.a.CHECK_LIST_TOGGLE:return t.a.createElement(a.a,{title:r,modifiers:p,mainKey:"0"});case s.a.FILE:return t.a.createElement(a.a,{title:r,modifier:u,mainKey:"U"});default:return r}}h(l,"ToolbarButtonTooltip"),l.displayName="ToolbarButtonTooltip",i.a=t.a.memo(l)},nSuI:function(J,i,e){"use strict";e.d(i,"b",function(){return o}),e.d(i,"a",function(){return f});var n=e("PqaZ"),t=e("lhZz"),a=e("9Gfp"),s=e("B1w/"),l=e("twB+");const o=new l.a;let f=h(class Zs{static getOrCreate(m){return o.get(m,(c,u)=>new Zs({teamId:c}))}getState(){return Object(t.getStateByTeamId)(this.teamId)}sendDocumentEvent(m,c,u){const d=Object(a.a)(this.getState()),p=Object(s.a)(this.getState(),m);p&&u==="transient"&&Object(t.dispatchForTeamId)(this.teamId,Object(n.h)({type:"document_change",user:d,channel:p,payload:btoa(String.fromCharCode(...c))}))}onReceiveDocumentEvent(m,c,u){if(u==="transient"){var d;const g=atob(c),O=new Uint8Array(g.length);for(let b=0;b<O.length;b++)O[b]=g.charCodeAt(b);(d=this.delegate)===null||d===void 0||d.receiveDocumentEvent(m,O,u)}else if(u==="update"){var p;(p=this.delegate)===null||p===void 0||p.receiveDocumentEvent(m,c,u)}else if(u==="backlog"){var v;(v=this.delegate)===null||v===void 0||v.receiveDocumentEvent(m,c,u)}}onPresenceUpdated(m){var c;(c=this.delegate)===null||c===void 0||c.updatePresence(m)}setDelegate(m){this.delegate=m}constructor({teamId:m}){this.teamId=m}},"QuipDocumentEventProvider")},nTNk:function(J,i,e){"use strict";var n=e("4XTx"),t=e.n(n);const a=h(()=>t.a,"getQuill");i.a=a},naKU:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("q1tI"),t=e.n(n);const a=t.a.createContext({mouseOver:!1})},nd5U:function(J,i,e){"use strict"},ndUn:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("n3tL"),l=e("beVI"),o=e("4HNC"),f=e("sGXp"),r=e("kFoU");function m(){return m=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var O=arguments[g];for(var b in O)Object.prototype.hasOwnProperty.call(O,b)&&(v[b]=O[b])}return v},m.apply(this,arguments)}h(m,"_extends");const c={className:s.default.string,"data-qa":s.default.string,id:s.default.string.isRequired,isActive:s.default.bool,isDisabled:s.default.bool,isDeactivated:s.default.bool,isError:s.default.bool,includeHiddenTeams:s.default.bool,shouldMaybeShowVerified:s.default.bool,secondaryContent:s.default.node,team:s.default.object.isRequired,bold:s.default.bool},u={bold:!0,className:void 0,"data-qa":void 0,isActive:!1,isDisabled:!1,isDeactivated:!1,isError:!1,includeHiddenTeams:!1,shouldMaybeShowVerified:!1,secondaryContent:void 0};function d(v){let{className:g,id:O,isActive:b,isDisabled:y,secondaryContent:C,team:_,bold:j,...E}=v,M;return b?y?M=f.d.highlightDim:M=f.d.highlightDark:y&&(M=f.d.dim),t.a.createElement(o.a,{className:g,size:"small",style:M,primaryContent:t.a.createElement(r.a,m({},E,{bold:j,team:_,invert:M===f.d.highlightDark})),secondaryContent:C,"data-team-id":O})}h(d,"SmallTeamListEntity"),d.displayName="SmallTeamListEntity",d.propTypes=c,d.defaultProps=u;const p=h((v,g)=>{const b=g.team||Object(l.s)(v,g.id,!0,g.includeHiddenTeams);return{team:b,id:b.id}},"mapStateToProps");i.a=Object(a.a)(p)(d)},npmo:function(J,i,e){"use strict";var n=e("Cfcg");e.d(i,"a",function(){return n.a})},o07q:function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a});var n=e("DwFS");const t=Object(n.a)("Remove prefs for a given channel");t.meta={name:"createAction",key:"createActionremovePrefsForConversation",description:"Remove prefs for a given channel"};const a=Object(n.a)("Set channel prefs associated with a given channel");a.meta={name:"createAction",key:"createActionsetConversationsListPrefs",description:"Set channel prefs associated with a given channel"}},o2tK:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("BeL+"),t=e("htTJ");const a=h(l=>{if(!l||!l.length)return[];const o=[];return l.forEach(f=>{if(Object(t.a)(f)){var r;const m=f==null||(r=f.attributes)===null||r===void 0?void 0:r.link;o.push(m)}}),Object(n.a)(o)},"findLinksInOps");function s(l){if(!l||!l.length())return[];const o=l.ops;return a(o)}h(s,"findLinksInDelta")},o3gz:function(J,i,e){"use strict";e.d(i,"a",function(){return A});var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("XhtD"),l=e("ifKl"),o=e("oaNE"),f=e("8QLk"),r=e("qDEp"),m=e("nFQW"),c=e("Tevt"),u=e("C3Bw"),d=e("ZobM"),p=e("rq2v"),v=e("Trx9"),g=e("WSQ4"),O=e("i5Ig"),b=e("nNoG");const y={PRIMARY_CTA:"coachmark-primary-cta",SECONDARY_CTA:"coachmark-secondary-cta",CLOSE_BUTTON:"coachmark-close-button"};var C=e("ktUG"),_=e("jWHu"),j=e("UA9w"),E=e("somW"),M=e("P8PK"),T=e("UL37"),P=e("khnw");function B(){return B=Object.assign||function(x){for(var k=1;k<arguments.length;k++){var F=arguments[k];for(var L in F)Object.prototype.hasOwnProperty.call(F,L)&&(x[L]=F[L])}return x},B.apply(this,arguments)}h(B,"_extends");const R=new b.b("generic_dialog"),U=[10,20,30,40,50,60,70,80,85,90,95],K=Object(s.a)(260,440,10),V=h(x=>{x.stopPropagation()},"stopPropagation"),z=h(x=>{(x==null?void 0:x.keyCode)===P.q&&x.stopPropagation()},"maybeStopPropagation"),N={qa:"coachmark"};function A(x){let{isOpen:k,title:F,bodyText:L,hero:S,icon:I,onClickPrimaryButton:W,onClickSecondaryButton:D,primaryCallToActionText:H,secondaryCallToActionText:Z,linkText:G,onClickLink:te,alignActionsRight:se,offsetX:$=0,offsetY:X=0,centerOnArrow:q=!1,anchorRef:Y,orientation:ee,arrowPosition:w,hideCloseButton:ne=!1,closeCoachmark:ae=l.a,closeBackgroundStyle:de,onAfterOpen:ge,autoClogProps:le={elementName:"unset"},linkClogElementName:Q,width:ie,ariaLabel:oe,className:me,UNSAFE_parentSelector:be,isMegaphoneCoachmark:Se=!0,overlayStyle:Pe,isModal:Ue=!1,enableSectionNavigation:Fe=!0,onAfterClose:je,renderPreview:_e=l.a,"aria-labelledby":pe,"aria-describedby":fe,overlayElement:Ee}=x;const{window:ye}=Object(n.useContext)(g.a),{isInMegaphoneContainerContext:Te}=Object(n.useContext)(p.a),{experimentNonModalCoachmarkGroupTreatment:Oe}=Object(n.useContext)(j.a),[Ce,ce]=Object(n.useState)(),[he,Me]=Object(n.useState)(),[Ae,xe]=Object(n.useState)(),Re=Object(n.useRef)(null),Ge=Object(M.a)(),ze=Object(n.useCallback)(()=>{if(!(Y!=null&&Y.current))return;const st=Y==null?void 0:Y.current.getBoundingClientRect(),Vt=ye.innerWidth;(!Ce||he!==Vt||st.x!==Ce.x||st.y!==Ce.y||st.width!==Ce.width||st.height!==Ce.height)&&(ce(st),Me(Vt))},[Y,Ce,he,ye]),Ie=Object(n.useCallback)(()=>{if(!Ae){const st=ye.setInterval(ze,50);xe(st)}},[ze,Ae,ye]),Ne=Object(n.useCallback)(()=>{Ae&&(clearInterval(Ae),xe(void 0))},[Ae]);Object(n.useEffect)(()=>(k?(ze(),Ie()):Ne(),()=>{Ne()}),[k,ze,Ie,Ne]);const Ke=Object(n.useCallback)(st=>{const Wt=ye.innerWidth,Xt={};switch(ee){case"top-left":Xt.top=st.top-20+X,Xt.right=Wt-st.right+$;break;case"top":Xt.left=st.left+$,Xt.top=st.top-20+X,q&&(Xt.left+=st.width/2);break;case"top-right":Xt.left=st.left+$,Xt.top=st.top-20+X,q&&(Xt.left+=st.width);break;case"bottom-left":Xt.top=st.top+st.height+20+X,Xt.right=Wt-st.right+$;break;case"bottom":Xt.left=st.left+$,Xt.top=st.top+st.height+20+X,q&&(Xt.left+=st.width/2);break;case"bottom-right":Xt.left=st.left+$,Xt.top=st.top+st.height+20+X,q&&(Xt.left+=st.width);break;case"left-top":Xt.left=st.left+$+20,Xt.top=st.top+X;break;case"left":Xt.left=st.left+$+20,Xt.top=st.top+st.height/2+X;break;case"left-bottom":Xt.left=st.left+$+20,Xt.top=st.top+st.height+X;break;case"right-top":Xt.left=st.left+st.width+20+$,Xt.top=st.top+X;break;case"right":Xt.left=st.left+st.width+20+$,Xt.top=st.top+st.height/2+X;break;case"right-bottom":Xt.left=st.left+st.width+20+$,Xt.top=st.top+st.height+X;break;default:break}return Xt},[q,$,X,ee,ye]),Ve=Object(n.useCallback)(()=>{Y!=null&&Y.current&&(ge==null||ge(Y==null?void 0:Y.current))},[ge,Y]),$e=Object(n.useCallback)(()=>se?H??t.a.createElement(t.a.Fragment,null,R.t("Next",{fallbackHash:"04a212215ef9fbf686d280802eb81ee7a6e681cd"})," ",t.a.createElement(d.a,{name:"caret-right",size:"24"})):H??R.t("Confirm"),[se,H]),tt=Object(n.useCallback)(()=>se?Z??t.a.createElement(t.a.Fragment,null,t.a.createElement(d.a,{name:"caret-left",size:"24"})," ",R.t("Back")):Z??R.t("Close"),[se,Z]),qe=Object(n.useCallback)(()=>{const st=t.a.createElement(t.a.Fragment,null,S&&!I&&(typeof S=="string"?t.a.createElement("img",{className:"c-coachmarkv2__hero",src:S,alt:"coachmark hero"}):S),t.a.createElement("div",{className:"c-coachmarkv2__content"},I&&!S?t.a.createElement("img",{className:"c-coachmarkv2__icon",src:I,alt:""}):null,t.a.createElement("p",{className:"c-coachmarkv2__title"},F),t.a.createElement("p",{className:"c-coachmarkv2__body"},L),_e(),W||D?t.a.createElement("div",{className:"c-coachmarkv2__actions"},D&&t.a.createElement(r.f,{className:"c-coachmarkv2__secondary_button",type:"outline",onClick:D,"data-action-type":"secondary","data-qa":y.SECONDARY_CTA,autoClogProps:{elementName:`${le.elementName}_secondary_cta`,onClick:{enableClogAction:!0}}},tt()),W&&t.a.createElement(r.f,{type:"primary",onClick:W,"data-qa":y.PRIMARY_CTA,autoFocus:!0,autoClogProps:{elementName:`${le.elementName}_primary_cta`,onClick:{enableClogAction:!0}}},$e())):null,G?t.a.createElement(c.a,B({className:"c-coachmarkv2__link",onClick:te},Q?{autoClogProps:{elementName:Q,onClick:{enableClogAction:!0}}}:O.b),G," \u2192"):null),ne?null:t.a.createElement(m.a,{className:Object(a.default)("c-coachmarkv2__close",{"c-coachmarkv2__close--light":de==="light","c-coachmarkv2__close--dark":de==="dark"}),onClick:ae,"aria-label":R.t("Close"),"data-qa":y.CLOSE_BUTTON,backgroundStyle:de,autoClogProps:{elementName:`${le.elementName}_close_cta`,action:C.UiAction.CLOSE,onClick:{enableClogAction:!0}},autoFocus:!W},t.a.createElement(d.a,{name:"close",size:"20"})));return Oe?t.a.createElement(E.a,{id:`Coachmark_${Ge}`,index:T.a.SECONDARY_VIEW+.1,focusFn:l.a,onFocus:V,enableSectionNavigation:Fe&&k,onKeyDown:z},st):st},[le.elementName,L,de,ae,Fe,Oe,S,ne,I,k,Q,G,te,W,D,Ge,$e,tt,F,_e]);if(Object(n.useEffect)(()=>{Se&&!Te&&Object(_.b)(_.a.Coachmark)},[Se,Te]),!k||!(Y!=null&&Y.current)||!Ce)return null;const ut=Ke(Ce),rt=Object(a.default)("c-coachmarkv2",`c-coachmark--${ee}`,`c-coachmark--${w}`,me,{"c-coachmark--center_on_arrow":q,"c-coachmarkv2--actions-right":se}),Mt={overlay:Object(o.a)({position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"transparent",zIndex:1e3},Pe),content:{...ut,...ie&&{width:Object(f.a)(ie,260,440)}}};return t.a.createElement(v.a,B({},le,{enableClogImpressionOffScreen:!0,clogImpression:k}),t.a.createElement(u.a,B({data:N,className:rt,isOpen:k,onRequestClose:ae,ref:Re,shouldCloseOnEsc:!0,style:Mt,onAfterOpen:Ve,contentLabel:oe,parentSelector:be},Oe?{ariaHideApp:Ue,aria:{modal:Ue}}:O.b,{shouldReturnFocusAfterClose:!je,onAfterClose:je,aria:{describedby:fe,labelledby:pe},overlayElement:Ee}),qe()))}h(A,"Coachmark")},o5tZ:function(J,i,e){"use strict";e.d(i,"a",function(){return n});var n;(function(t){t[t.available=0]="available",t[t.processing=1]="processing",t[t.none=2]="none"})(n||(n={}))},"oH+m":function(J,i,e){"use strict";e.d(i,"e",function(){return a}),e.d(i,"b",function(){return s}),e.d(i,"d",function(){return l}),e.d(i,"a",function(){return o}),e.d(i,"c",function(){return f}),e.d(i,"f",function(){return r}),e.d(i,"g",function(){return c});var n=e("Lgge"),t=e("yCtb");const a=10,s=10,l=5,o="joiner-launchpad-channels",f="resurrected-launchpad-channels";function r(u){return u?u.reduce((d,p)=>["bold","italic","strike","code","pre","quote","long_quote_prefix"].includes(p.type)?(d.push(...r(p.contents)),d):Object(t.a)(p)?(d.push({text:" "}),d):(d.push(p),d),[]):[]}h(r,"customContentHandler");function m(u){return new n.a(d=>setTimeout(d,u))}h(m,"sleep");function c(){const u=new Date;return u.setDate(u.getDate()+1),u.setHours(3,0,0,0),u.getTime()}h(c,"getExpirationTimeForRecommendations")},"oL+a":function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n=100},oLdd:function(J,i,e){"use strict"},oT5T:function(J,i,e){"use strict";var n=e("n3tL"),t=e("q1tI"),a=e.n(t),s=e("ifKl"),l=e("HOkk"),o=e("nNoG");function f(){return f=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var O=arguments[g];for(var b in O)Object.prototype.hasOwnProperty.call(O,b)&&(v[b]=O[b])}return v},f.apply(this,arguments)}h(f,"_extends");const r=new o.b("generic_dialog"),m={children:n.default.any.isRequired,cancelButtonText:n.default.string,shouldCloseOnCancel:n.default.bool,shouldCloseOnGo:n.default.bool,"data-qa":n.default.string,goButtonText:n.default.string,goButtonType:n.default.string,onCancel:n.default.func,onClose:n.default.func,onGo:n.default.func,showCancelButton:n.default.bool,title:n.default.node,truncateTitle:n.default.bool},c={cancelButtonText:null,shouldCloseOnCancel:!0,shouldCloseOnGo:!0,"data-qa":"alert_dialog",goButtonText:null,goButtonType:"primary",onCancel:s.a,onClose:s.a,onGo:s.a,showCancelButton:!1,title:null,truncateTitle:!0};function u(v){let{children:g,cancelButtonText:O,shouldCloseOnGo:b,shouldCloseOnCancel:y,"data-qa":C,goButtonText:_,...j}=v;return a.a.createElement(l.a,f({cancelText:O||r.t("Cancel"),"data-qa":C,shouldCloseOnGo:b,shouldCloseOnCancel:y,goButtonText:_||r.t("OK"),role:"alertdialog"},j),g)}h(u,"DeprecatedAlertDialog"),u.displayName="DeprecatedAlertDialog",u.propTypes=m,u.defaultProps=c;var d=a.a.memo(u),p=i.a=d},ob13:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("0LZ2");function t(a){const l=Object(n.a)(a).import("blots/block/embed");let o=h(class extends l{static formats(){return{slackhorizontalrule:!0}}},"SlackHorizontalRule");return o.blotName="slackhorizontalrule",o.tagName="hr",o}h(t,"getSlackHorizontalRuleFormat")},oh9B:function(J,i,e){"use strict";e.d(i,"a",function(){return L});var n=e("q1tI"),t=e.n(n),a=e("oq5T"),s=e("Cfcg"),l=e("JoR1"),o=e("gnJq"),f=e("x6tY"),r=e("Enx8"),m=e("nNoG"),c=e("A/mR"),u=e("zUbs"),d=e("tO3t");const p=new m.b("files");function v(S){let{file:I,time24:W,isChannelFiles:D,useSeparator:H,excludeTime:Z,displaySharedBy:G,documentUnfurlTs:te=void 0,name:se,isCreator:$=!1}=S;const X=D||G;let q;const Y="\xB7",ee="\xA0\xA0";X?q=null:H||te?q=[ee,Y,ee]:q=ee;const w=Object(f.P)(I);let ne,ae;if(w){const oe=Object(c.q)(w,{shortenMonth:!0});ne=oe;let me;if(X)if(oe==="Today"||oe==="Yesterday"){const Se=oe.toLowerCase();me=p.t("{newDate}",{newDate:Se})}else me=p.t("on {date}",{date:oe});else me=oe;const be=Z?me:p.t("{date} at {time}",{date:oe,time:Object(c.g)(w,"{time}",{do24hrTime:W})});ae=t.a.createElement(t.a.Fragment,null,q,t.a.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-timestamp"},be))}let de=I.bot_id?t.a.createElement(d.a,{id:I.bot_id,isChannelFiles:X,isWorkflow:!1,"data-qa":"file-entity-metadata-user"}):t.a.createElement(u.a,{name:se,isChannelFiles:X,"data-qa":"file-entity-metadata-user",inline:!0,isBold:!1,isCreator:$});Object(f.h)(I)&&I.user==="USLACKBOT"&&(de=t.a.createElement("span",{className:"margin_right_25"},p.t("Shared")));const ge=te&&Object(c.q)(te,{shortenMonth:!0});let le=!1,Q;ge&&(ge.includes("Today")||ge.includes("Yesterday")?Q=p.t("Added {readableTs}",{readableTs:ge}):Q=p.t("Added on {readableTs}",{readableTs:ge}),ne&&(le=ne===ge));let ie;return Q&&(ie=t.a.createElement(t.a.Fragment,null,q,t.a.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-unfurl-in-canvas-timestamp"},Q))),Object(o.a)(I)||Object(f.Tb)(I)||Object(f.Fb)(I)?null:t.a.createElement(t.a.Fragment,null,de,le?t.a.createElement(t.a.Fragment,null,ie):t.a.createElement(t.a.Fragment,null,ae,ie))}h(v,"FileEntityUserTimestamp"),v.displayName="FileEntityUserTimestamp";const g=h((S,I)=>({time24:Object(l.u)(S,"time24"),name:Object(r.a)(S,I.file.user||"",!1,!1,!1,!1)}),"mapStateToProps");var O=Object(s.a)(g)(v),b=e("Uuto"),y=e("LQ2n"),C=e("OZf9"),_=e("E3dU"),j=e("Yauy"),E=e("pu3F");const M=6,T=10,P=20,B=25,R=h((S,I)=>{const W=I==null?void 0:I.shares;if(!W)return null;let D=null,H=!1,Z=!1;return Object(C.a)(W.private,(G,te)=>{Z=!0;let se=G.find(X=>{let{share_user_id:q}=X;return q!==E.W});if(se)H=!0;else{if(H)return;se=G[0]}const $=se.ts;Number($)>Number((D==null?void 0:D.ts)||0)&&(D={ts:$,channelId:te,shareUserId:G[0].share_user_id})}),Object(C.a)(W.public,(G,te)=>{const se=Object(_.d)(S,te);if(Object(j.wb)(se))Z||(D=void 0),Z=!0;else if(Z)return;let $=G.find(q=>{let{share_user_id:Y}=q;return Y!==E.W});if($)H=!0;else{if(H)return;$=G[0]}const X=$.ts;Number(X)>Number((D==null?void 0:D.ts)||0)&&(D={ts:X,channelId:te,shareUserId:G[0].share_user_id})}),D},"getMostRelevantShare");function U(S,I){const W=R(S,I);if(!W)return null;const{channelId:D}=W;return t.a.createElement(y.a,{channelId:D,inline:!0})}h(U,"getFileChannel");var K=e("9Gfp"),V=e("xwCZ"),z=e("+tZp");const N=new m.b("file");function A(S,I,W){if(!I||I===E.W)return Object(b.a)(S,W);const D=Object(V.g)(S,I),H=Object(z.a)(S,D);return I===Object(K.a)(S)?N.rt("{name} (you)",{name:H,fallbackHash:"26d4d69c81b9ea155418f35cc46db79fdbb5e28b",fallbackHashNs:"channel_sidebar"}):H}h(A,"getShareName");function x(S,I){const{shareUserId:W}=R(S,I)||{};return A(S,W,I)}h(x,"getFileSharer");var k=e("8z04");function F(){return F=Object.assign||function(S){for(var I=1;I<arguments.length;I++){var W=arguments[I];for(var D in W)Object.prototype.hasOwnProperty.call(W,D)&&(S[D]=W[D])}return S},F.apply(this,arguments)}h(F,"_extends");function L(S,I,W,D,H){switch(W){case k.a.NONE:return"";case k.a.OWNER:return Object(b.a)(S,I);case k.a.OWNER_TIMESTAMP:return t.a.createElement(O,F({file:I,documentUnfurlTs:H},D));case k.a.CHANNEL:return U(S,I);case k.a.SHARER:return x(S,I);case k.a.FILETYPE:default:return Object(a.a)(S,I)}}h(L,"getFileDetail")},oiAH:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),s=e("4HNC"),l=e("sGXp"),o=e("55av");const f={className:a.default.string,"data-qa":a.default.string,id:a.default.string,isActive:a.default.bool,isDeactivated:a.default.bool,isDisabled:a.default.bool,secondaryContent:a.default.node,matchData:a.default.array,mpim:a.default.object,onlyBoldIfUnread:a.default.bool,showUnreadBadge:a.default.bool,shortenTooltipContents:a.default.bool,useCarpeMPDM:a.default.bool,showAvatar:a.default.bool},r={className:void 0,"data-qa":void 0,id:void 0,isActive:!1,isDeactivated:!1,isDisabled:!1,secondaryContent:void 0,matchData:[],mpim:void 0,useCarpeMPDM:!1,onlyBoldIfUnread:!1,showUnreadBadge:!1,shortenTooltipContents:!1,showAvatar:!0};function m(c){let{className:u,"data-qa":d,id:p,isActive:v,isDeactivated:g,isDisabled:O,matchData:b,mpim:y,secondaryContent:C,useCarpeMPDM:_,onlyBoldIfUnread:j,showUnreadBadge:E,shortenTooltipContents:M,showAvatar:T}=c;const P=p||(y==null?void 0:y.id);let B;v?O||g?B=l.d.highlightDim:B=l.d.highlightDark:(O||g)&&(B=l.d.dim);const R=h(()=>t.a.createElement(o.a,{id:P,"data-id":P,"data-qa":d,"data-sk":"small_mpim_list_entity",invert:B===l.d.highlightDark,isDeactivated:g,matchData:b,mpim:y,isActive:v,onlyBoldIfUnread:j,showUnreadBadge:E,shortenTooltipContents:M,showAvatar:T}),"getPrimaryContent");return R.displayName="getPrimaryContent",_?t.a.createElement(s.a,{className:u,style:B,primaryContent:R(),secondaryContent:C,size:"small"}):t.a.createElement(s.a,{className:u,style:B,primaryContent:t.a.createElement(o.a,{id:P,"data-id":P,"data-qa":d,"data-sk":"small_mpim_list_entity",invert:B===l.d.highlightDark,isDeactivated:g,mpim:y,matchData:b,isActive:v,onlyBoldIfUnread:j,showUnreadBadge:E,shortenTooltipContents:M,showAvatar:T}),secondaryContent:C,size:"small"})}h(m,"SmallMpimListEntity"),m.displayName="SmallMpimListEntity",m.propTypes=f,m.defaultProps=r,i.a=m},oonp:function(J,i,e){"use strict";e.d(i,"b",function(){return a}),e.d(i,"a",function(){return s});var n=e("c8Bs"),t=e("lCmp");function a(o){var f,r,m,c,u,d,p;return!!((o==null||(f=o.statics)===null||f===void 0?void 0:f.blotName)==="blockquote"||(o==null||(r=o.statics)===null||r===void 0?void 0:r.blotName)==="list-item"&&(o==null||(m=o.attributes)===null||m===void 0||(c=m.attributes)===null||c===void 0?void 0:c.border)||(o==null||(u=o.statics)===null||u===void 0?void 0:u.blotName)==="code-block"&&(o==null||(d=o.attributes)===null||d===void 0||(p=d.attributes)===null||p===void 0?void 0:p.border))}h(a,"lineIsQuoted");function s(o){return!!((o==null?void 0:o.length)>0&&Object(n.a)(o,r=>a(r)))}h(s,"everyLineIsQuoted");function l(o){return!!((o==null?void 0:o.length)>0&&Object(t.a)(o,r=>a(r)))}h(l,"someLinesAreQuoted")},oq5T:function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("x6tY"),t=e("nNoG"),a=e("FH+Z"),s=e("DeaP");const l=new t.b("files");function o(f,r){if(Object(n.yb)(r,f))return l.t("Template");if(Object(n.u)(r)||Object(n.h)(r))return l.t("Canvas");const m=Object(n.sb)(r)||Object(n.Mb)(r)?Object(s.a)(r,f):r.pretty_type;switch(m){case"Arugula":return l.t("Post");case a.e:return l.t("Slack Clip");default:return m}}h(o,"getFileTypeDescription")},orxu:function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("q1tI"),t=e.n(n),a=e("1myf"),s=e("XnHx"),l=e("GJt6");function o(f){let{listeners:r,children:m}=f;const c=Object.keys(r);for(const u of Object(a.a)(c))for(const d of Object(a.a)(Object(s.a)(r[u])))Object(l.a)(u,d);return t.a.createElement(t.a.Fragment,null,m)}h(o,"FocusTransition")},ouAP:function(J,i,e){"use strict";e.d(i,"a",function(){return n});var n;(function(t){t.Default="default",t.DownloadFile="download",t.EditTextFile="edit",t.ExpandTextFile="expand",t.ViewFile="view"})(n||(n={}))},oy9Z:function(J,i,e){"use strict";e.d(i,"a",function(){return K});var n=e("ifKl"),t=e("q1tI"),a=e.n(t),s=e("/MKj"),l=e("zxER"),o=e("SQ0V"),f=e("6JBJ"),r=e("gCYc"),m=e("3l96"),c=e("+kJ4"),u=e("Kn+X"),d=e("8sbp"),p=e("nNoG"),v=e("sryV"),g=e("8K+A"),O=e("JvzI"),b=e("YUBf"),y=e("eBYm"),C=e("zygp"),_=e("z00e"),j=e("2ySF"),E=e("BQeT");const M=new p.b("drafts");function T(V){let{customTime:z,setCustomTime:N,currentTime:A}=V;const x=Object(C.e)(A),k=Object(C.d)(A),F=Object(t.useCallback)(L=>{const S=parseInt(L,10);N(S)},[N]);return a.a.createElement(j.b,{className:"p-schedule_message__time_picker",onChange:F,value:z.toString(),valueFormat:"X","aria-label":M.t("Schedule message"),min:x.toString(),max:k.toString(),optionsHourIncrement:E.a.HALF_HOUR,showTimeZone:!1,isRequired:!0})}h(T,"ScheduleMessageTimePicker"),T.displayName="ScheduleMessageTimePicker";var P=T;const B=new p.b("drafts");function R(V){let{draftId:z,onMessageScheduled:N=n.a,isFromScheduledPage:A=!1}=V;const x=Object(s.useDispatch)(),k=Object(t.useRef)(!0),F=Object(l.c)(X=>Object(r.k)(X,z)),L=Object(_.a)(),S=Object(u.i)(F),I=Object(l.c)(X=>Object(C.b)(X,{draftId:z,dateScheduled:S,now:L})),[W,D]=Object(t.useState)(I),H=Object(l.c)(X=>Object(d.a)(X,{draftId:z,schedulingTime:W})),Z=Object(t.useCallback)(()=>{x(Object(c.a)()),x(Object(f.a)({draftId:z,dateScheduled:W,isSuggestedDate:!1,onMessageScheduled:N,isFromScheduledPage:A}))},[x,z,W,N,A]),G=Object(O.a)(),te=Object(t.useMemo)(()=>{const X=Object(g.a)(),q=X?X.zoneId:"";return Object(v.b)(q,G)},[G]),se=Object(t.useCallback)(()=>{k.current=!1},[]),$=W<Object(C.e)(L)||W>Object(C.d)(L);return a.a.createElement(b.b,{onAfterClose:se},a.a.createElement(b.i,null,a.a.createElement(b.l,{title:B.t("Schedule message"),subtitle:te})),a.a.createElement(b.d,null,a.a.createElement(b.e,null,a.a.createElement(P,{customTime:W,setCustomTime:D,currentTime:L})),H&&a.a.createElement(b.e,null,a.a.createElement("div",{className:"p-schedule_message__time_zone_details"},H))),a.a.createElement(b.g,null,a.a.createElement(b.h,null,a.a.createElement(b.c,{type:"outline"},B.rt("Cancel")),a.a.createElement(y.a,{type:"primary",onClick:Z,disabled:$,"data-qa":"schedule_message_dialog_submit_button"},B.rt("Schedule Message")))))}h(R,"ScheduleMessageDialog"),R.displayName="ScheduleMessageDialog";var U=R;const K=Object(o.c)("Opens the schedule message dialog",(V,z,N)=>{let{draftId:A,onMessageScheduled:x,isFromScheduledPage:k=!1}=N;V(Object(m.a)({element:a.a.createElement(R,{draftId:A,onMessageScheduled:x,isFromScheduledPage:k})}))});K.meta={name:"createThunk",key:"createThunkopenScheduleMessageDialog",description:"Opens the schedule message dialog"}},pCgU:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("q1tI"),t=e.n(n);const a=t.a.createContext(null);function s(l){const o=Object(n.useContext)(a),[f,r]=Object(n.useState)();return Object(n.useEffect)(()=>{if(l)return o==null?void 0:o.subscribeToUrl(l,r)},[o,l]),o?f:l}h(s,"useBlobUrl")},pDlT:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("hTH3"),t=e.n(n);const a={"&Aacute;":"\xC1","&Aacute":"\xC1","&aacute;":"\xE1","&aacute":"\xE1","&Abreve;":"\u0102","&abreve;":"\u0103","&ac;":"\u223E","&acd;":"\u223F","&acE;":"\u223E\u0333","&Acirc;":"\xC2","&Acirc":"\xC2","&acirc;":"\xE2","&acirc":"\xE2","&acute;":"\xB4","&acute":"\xB4","&Acy;":"\u0410","&acy;":"\u0430","&AElig;":"\xC6","&AElig":"\xC6","&aelig;":"\xE6","&aelig":"\xE6","&af;":"\u2061","&Afr;":"\u{1D504}","&afr;":"\u{1D51E}","&Agrave;":"\xC0","&Agrave":"\xC0","&agrave;":"\xE0","&agrave":"\xE0","&alefsym;":"\u2135","&aleph;":"\u2135","&Alpha;":"\u0391","&alpha;":"\u03B1","&Amacr;":"\u0100","&amacr;":"\u0101","&amalg;":"\u2A3F","&AMP;":"&","&AMP":"&","&amp;":"&","&amp":"&","&And;":"\u2A53","&and;":"\u2227","&andand;":"\u2A55","&andd;":"\u2A5C","&andslope;":"\u2A58","&andv;":"\u2A5A","&ang;":"\u2220","&ange;":"\u29A4","&angle;":"\u2220","&angmsd;":"\u2221","&angmsdaa;":"\u29A8","&angmsdab;":"\u29A9","&angmsdac;":"\u29AA","&angmsdad;":"\u29AB","&angmsdae;":"\u29AC","&angmsdaf;":"\u29AD","&angmsdag;":"\u29AE","&angmsdah;":"\u29AF","&angrt;":"\u221F","&angrtvb;":"\u22BE","&angrtvbd;":"\u299D","&angsph;":"\u2222","&angst;":"\xC5","&angzarr;":"\u237C","&Aogon;":"\u0104","&aogon;":"\u0105","&Aopf;":"\u{1D538}","&aopf;":"\u{1D552}","&ap;":"\u2248","&apacir;":"\u2A6F","&apE;":"\u2A70","&ape;":"\u224A","&apid;":"\u224B","&apos;":"'","&ApplyFunction;":"\u2061","&approx;":"\u2248","&approxeq;":"\u224A","&Aring;":"\xC5","&Aring":"\xC5","&aring;":"\xE5","&aring":"\xE5","&Ascr;":"\u{1D49C}","&ascr;":"\u{1D4B6}","&Assign;":"\u2254","&ast;":"*","&asymp;":"\u2248","&asympeq;":"\u224D","&Atilde;":"\xC3","&Atilde":"\xC3","&atilde;":"\xE3","&atilde":"\xE3","&Auml;":"\xC4","&Auml":"\xC4","&auml;":"\xE4","&auml":"\xE4","&awconint;":"\u2233","&awint;":"\u2A11","&backcong;":"\u224C","&backepsilon;":"\u03F6","&backprime;":"\u2035","&backsim;":"\u223D","&backsimeq;":"\u22CD","&Backslash;":"\u2216","&Barv;":"\u2AE7","&barvee;":"\u22BD","&Barwed;":"\u2306","&barwed;":"\u2305","&barwedge;":"\u2305","&bbrk;":"\u23B5","&bbrktbrk;":"\u23B6","&bcong;":"\u224C","&Bcy;":"\u0411","&bcy;":"\u0431","&bdquo;":"\u201E","&becaus;":"\u2235","&Because;":"\u2235","&because;":"\u2235","&bemptyv;":"\u29B0","&bepsi;":"\u03F6","&bernou;":"\u212C","&Bernoullis;":"\u212C","&Beta;":"\u0392","&beta;":"\u03B2","&beth;":"\u2136","&between;":"\u226C","&Bfr;":"\u{1D505}","&bfr;":"\u{1D51F}","&bigcap;":"\u22C2","&bigcirc;":"\u25EF","&bigcup;":"\u22C3","&bigodot;":"\u2A00","&bigoplus;":"\u2A01","&bigotimes;":"\u2A02","&bigsqcup;":"\u2A06","&bigstar;":"\u2605","&bigtriangledown;":"\u25BD","&bigtriangleup;":"\u25B3","&biguplus;":"\u2A04","&bigvee;":"\u22C1","&bigwedge;":"\u22C0","&bkarow;":"\u290D","&blacklozenge;":"\u29EB","&blacksquare;":"\u25AA","&blacktriangle;":"\u25B4","&blacktriangledown;":"\u25BE","&blacktriangleleft;":"\u25C2","&blacktriangleright;":"\u25B8","&blank;":"\u2423","&blk12;":"\u2592","&blk14;":"\u2591","&blk34;":"\u2593","&block;":"\u2588","&bne;":"=\u20E5","&bnequiv;":"\u2261\u20E5","&bNot;":"\u2AED","&bnot;":"\u2310","&Bopf;":"\u{1D539}","&bopf;":"\u{1D553}","&bot;":"\u22A5","&bottom;":"\u22A5","&bowtie;":"\u22C8","&boxbox;":"\u29C9","&boxDL;":"\u2557","&boxDl;":"\u2556","&boxdL;":"\u2555","&boxdl;":"\u2510","&boxDR;":"\u2554","&boxDr;":"\u2553","&boxdR;":"\u2552","&boxdr;":"\u250C","&boxH;":"\u2550","&boxh;":"\u2500","&boxHD;":"\u2566","&boxHd;":"\u2564","&boxhD;":"\u2565","&boxhd;":"\u252C","&boxHU;":"\u2569","&boxHu;":"\u2567","&boxhU;":"\u2568","&boxhu;":"\u2534","&boxminus;":"\u229F","&boxplus;":"\u229E","&boxtimes;":"\u22A0","&boxUL;":"\u255D","&boxUl;":"\u255C","&boxuL;":"\u255B","&boxul;":"\u2518","&boxUR;":"\u255A","&boxUr;":"\u2559","&boxuR;":"\u2558","&boxur;":"\u2514","&boxV;":"\u2551","&boxv;":"\u2502","&boxVH;":"\u256C","&boxVh;":"\u256B","&boxvH;":"\u256A","&boxvh;":"\u253C","&boxVL;":"\u2563","&boxVl;":"\u2562","&boxvL;":"\u2561","&boxvl;":"\u2524","&boxVR;":"\u2560","&boxVr;":"\u255F","&boxvR;":"\u255E","&boxvr;":"\u251C","&bprime;":"\u2035","&Breve;":"\u02D8","&breve;":"\u02D8","&brvbar;":"\xA6","&brvbar":"\xA6","&Bscr;":"\u212C","&bscr;":"\u{1D4B7}","&bsemi;":"\u204F","&bsim;":"\u223D","&bsime;":"\u22CD","&bsol;":"\\","&bsolb;":"\u29C5","&bsolhsub;":"\u27C8","&bull;":"\u2022","&bullet;":"\u2022","&bump;":"\u224E","&bumpE;":"\u2AAE","&bumpe;":"\u224F","&Bumpeq;":"\u224E","&bumpeq;":"\u224F","&Cacute;":"\u0106","&cacute;":"\u0107","&Cap;":"\u22D2","&cap;":"\u2229","&capand;":"\u2A44","&capbrcup;":"\u2A49","&capcap;":"\u2A4B","&capcup;":"\u2A47","&capdot;":"\u2A40","&CapitalDifferentialD;":"\u2145","&caps;":"\u2229\uFE00","&caret;":"\u2041","&caron;":"\u02C7","&Cayleys;":"\u212D","&ccaps;":"\u2A4D","&Ccaron;":"\u010C","&ccaron;":"\u010D","&Ccedil;":"\xC7","&Ccedil":"\xC7","&ccedil;":"\xE7","&ccedil":"\xE7","&Ccirc;":"\u0108","&ccirc;":"\u0109","&Cconint;":"\u2230","&ccups;":"\u2A4C","&ccupssm;":"\u2A50","&Cdot;":"\u010A","&cdot;":"\u010B","&cedil;":"\xB8","&cedil":"\xB8","&Cedilla;":"\xB8","&cemptyv;":"\u29B2","&cent;":"\xA2","&cent":"\xA2","&CenterDot;":"\xB7","&centerdot;":"\xB7","&Cfr;":"\u212D","&cfr;":"\u{1D520}","&CHcy;":"\u0427","&chcy;":"\u0447","&check;":"\u2713","&checkmark;":"\u2713","&Chi;":"\u03A7","&chi;":"\u03C7","&cir;":"\u25CB","&circ;":"\u02C6","&circeq;":"\u2257","&circlearrowleft;":"\u21BA","&circlearrowright;":"\u21BB","&circledast;":"\u229B","&circledcirc;":"\u229A","&circleddash;":"\u229D","&CircleDot;":"\u2299","&circledR;":"\xAE","&circledS;":"\u24C8","&CircleMinus;":"\u2296","&CirclePlus;":"\u2295","&CircleTimes;":"\u2297","&cirE;":"\u29C3","&cire;":"\u2257","&cirfnint;":"\u2A10","&cirmid;":"\u2AEF","&cirscir;":"\u29C2","&ClockwiseContourIntegral;":"\u2232","&CloseCurlyDoubleQuote;":"\u201D","&CloseCurlyQuote;":"\u2019","&clubs;":"\u2663","&clubsuit;":"\u2663","&Colon;":"\u2237","&colon;":":","&Colone;":"\u2A74","&colone;":"\u2254","&coloneq;":"\u2254","&comma;":",","&commat;":"@","&comp;":"\u2201","&compfn;":"\u2218","&complement;":"\u2201","&complexes;":"\u2102","&cong;":"\u2245","&congdot;":"\u2A6D","&Congruent;":"\u2261","&Conint;":"\u222F","&conint;":"\u222E","&ContourIntegral;":"\u222E","&Copf;":"\u2102","&copf;":"\u{1D554}","&coprod;":"\u2210","&Coproduct;":"\u2210","&COPY;":"\xA9","&COPY":"\xA9","&copy;":"\xA9","&copy":"\xA9","&copysr;":"\u2117","&CounterClockwiseContourIntegral;":"\u2233","&crarr;":"\u21B5","&Cross;":"\u2A2F","&cross;":"\u2717","&Cscr;":"\u{1D49E}","&cscr;":"\u{1D4B8}","&csub;":"\u2ACF","&csube;":"\u2AD1","&csup;":"\u2AD0","&csupe;":"\u2AD2","&ctdot;":"\u22EF","&cudarrl;":"\u2938","&cudarrr;":"\u2935","&cuepr;":"\u22DE","&cuesc;":"\u22DF","&cularr;":"\u21B6","&cularrp;":"\u293D","&Cup;":"\u22D3","&cup;":"\u222A","&cupbrcap;":"\u2A48","&CupCap;":"\u224D","&cupcap;":"\u2A46","&cupcup;":"\u2A4A","&cupdot;":"\u228D","&cupor;":"\u2A45","&cups;":"\u222A\uFE00","&curarr;":"\u21B7","&curarrm;":"\u293C","&curlyeqprec;":"\u22DE","&curlyeqsucc;":"\u22DF","&curlyvee;":"\u22CE","&curlywedge;":"\u22CF","&curren;":"\xA4","&curren":"\xA4","&curvearrowleft;":"\u21B6","&curvearrowright;":"\u21B7","&cuvee;":"\u22CE","&cuwed;":"\u22CF","&cwconint;":"\u2232","&cwint;":"\u2231","&cylcty;":"\u232D","&Dagger;":"\u2021","&dagger;":"\u2020","&daleth;":"\u2138","&Darr;":"\u21A1","&dArr;":"\u21D3","&darr;":"\u2193","&dash;":"\u2010","&Dashv;":"\u2AE4","&dashv;":"\u22A3","&dbkarow;":"\u290F","&dblac;":"\u02DD","&Dcaron;":"\u010E","&dcaron;":"\u010F","&Dcy;":"\u0414","&dcy;":"\u0434","&DD;":"\u2145","&dd;":"\u2146","&ddagger;":"\u2021","&ddarr;":"\u21CA","&DDotrahd;":"\u2911","&ddotseq;":"\u2A77","&deg;":"\xB0","&deg":"\xB0","&Del;":"\u2207","&Delta;":"\u0394","&delta;":"\u03B4","&demptyv;":"\u29B1","&dfisht;":"\u297F","&Dfr;":"\u{1D507}","&dfr;":"\u{1D521}","&dHar;":"\u2965","&dharl;":"\u21C3","&dharr;":"\u21C2","&DiacriticalAcute;":"\xB4","&DiacriticalDot;":"\u02D9","&DiacriticalDoubleAcute;":"\u02DD","&DiacriticalGrave;":"`","&DiacriticalTilde;":"\u02DC","&diam;":"\u22C4","&Diamond;":"\u22C4","&diamond;":"\u22C4","&diamondsuit;":"\u2666","&diams;":"\u2666","&die;":"\xA8","&DifferentialD;":"\u2146","&digamma;":"\u03DD","&disin;":"\u22F2","&div;":"\xF7","&divide;":"\xF7","&divide":"\xF7","&divideontimes;":"\u22C7","&divonx;":"\u22C7","&DJcy;":"\u0402","&djcy;":"\u0452","&dlcorn;":"\u231E","&dlcrop;":"\u230D","&dollar;":"$","&Dopf;":"\u{1D53B}","&dopf;":"\u{1D555}","&Dot;":"\xA8","&dot;":"\u02D9","&DotDot;":"\u20DC","&doteq;":"\u2250","&doteqdot;":"\u2251","&DotEqual;":"\u2250","&dotminus;":"\u2238","&dotplus;":"\u2214","&dotsquare;":"\u22A1","&doublebarwedge;":"\u2306","&DoubleContourIntegral;":"\u222F","&DoubleDot;":"\xA8","&DoubleDownArrow;":"\u21D3","&DoubleLeftArrow;":"\u21D0","&DoubleLeftRightArrow;":"\u21D4","&DoubleLeftTee;":"\u2AE4","&DoubleLongLeftArrow;":"\u27F8","&DoubleLongLeftRightArrow;":"\u27FA","&DoubleLongRightArrow;":"\u27F9","&DoubleRightArrow;":"\u21D2","&DoubleRightTee;":"\u22A8","&DoubleUpArrow;":"\u21D1","&DoubleUpDownArrow;":"\u21D5","&DoubleVerticalBar;":"\u2225","&DownArrow;":"\u2193","&Downarrow;":"\u21D3","&downarrow;":"\u2193","&DownArrowBar;":"\u2913","&DownArrowUpArrow;":"\u21F5","&DownBreve;":"\u0311","&downdownarrows;":"\u21CA","&downharpoonleft;":"\u21C3","&downharpoonright;":"\u21C2","&DownLeftRightVector;":"\u2950","&DownLeftTeeVector;":"\u295E","&DownLeftVector;":"\u21BD","&DownLeftVectorBar;":"\u2956","&DownRightTeeVector;":"\u295F","&DownRightVector;":"\u21C1","&DownRightVectorBar;":"\u2957","&DownTee;":"\u22A4","&DownTeeArrow;":"\u21A7","&drbkarow;":"\u2910","&drcorn;":"\u231F","&drcrop;":"\u230C","&Dscr;":"\u{1D49F}","&dscr;":"\u{1D4B9}","&DScy;":"\u0405","&dscy;":"\u0455","&dsol;":"\u29F6","&Dstrok;":"\u0110","&dstrok;":"\u0111","&dtdot;":"\u22F1","&dtri;":"\u25BF","&dtrif;":"\u25BE","&duarr;":"\u21F5","&duhar;":"\u296F","&dwangle;":"\u29A6","&DZcy;":"\u040F","&dzcy;":"\u045F","&dzigrarr;":"\u27FF","&Eacute;":"\xC9","&Eacute":"\xC9","&eacute;":"\xE9","&eacute":"\xE9","&easter;":"\u2A6E","&Ecaron;":"\u011A","&ecaron;":"\u011B","&ecir;":"\u2256","&Ecirc;":"\xCA","&Ecirc":"\xCA","&ecirc;":"\xEA","&ecirc":"\xEA","&ecolon;":"\u2255","&Ecy;":"\u042D","&ecy;":"\u044D","&eDDot;":"\u2A77","&Edot;":"\u0116","&eDot;":"\u2251","&edot;":"\u0117","&ee;":"\u2147","&efDot;":"\u2252","&Efr;":"\u{1D508}","&efr;":"\u{1D522}","&eg;":"\u2A9A","&Egrave;":"\xC8","&Egrave":"\xC8","&egrave;":"\xE8","&egrave":"\xE8","&egs;":"\u2A96","&egsdot;":"\u2A98","&el;":"\u2A99","&Element;":"\u2208","&elinters;":"\u23E7","&ell;":"\u2113","&els;":"\u2A95","&elsdot;":"\u2A97","&Emacr;":"\u0112","&emacr;":"\u0113","&empty;":"\u2205","&emptyset;":"\u2205","&EmptySmallSquare;":"\u25FB","&emptyv;":"\u2205","&EmptyVerySmallSquare;":"\u25AB","&emsp;":"\u2003","&emsp13;":"\u2004","&emsp14;":"\u2005","&ENG;":"\u014A","&eng;":"\u014B","&ensp;":"\u2002","&Eogon;":"\u0118","&eogon;":"\u0119","&Eopf;":"\u{1D53C}","&eopf;":"\u{1D556}","&epar;":"\u22D5","&eparsl;":"\u29E3","&eplus;":"\u2A71","&epsi;":"\u03B5","&Epsilon;":"\u0395","&epsilon;":"\u03B5","&epsiv;":"\u03F5","&eqcirc;":"\u2256","&eqcolon;":"\u2255","&eqsim;":"\u2242","&eqslantgtr;":"\u2A96","&eqslantless;":"\u2A95","&Equal;":"\u2A75","&equals;":"=","&EqualTilde;":"\u2242","&equest;":"\u225F","&Equilibrium;":"\u21CC","&equiv;":"\u2261","&equivDD;":"\u2A78","&eqvparsl;":"\u29E5","&erarr;":"\u2971","&erDot;":"\u2253","&Escr;":"\u2130","&escr;":"\u212F","&esdot;":"\u2250","&Esim;":"\u2A73","&esim;":"\u2242","&Eta;":"\u0397","&eta;":"\u03B7","&ETH;":"\xD0","&ETH":"\xD0","&eth;":"\xF0","&eth":"\xF0","&Euml;":"\xCB","&Euml":"\xCB","&euml;":"\xEB","&euml":"\xEB","&euro;":"\u20AC","&excl;":"!","&exist;":"\u2203","&Exists;":"\u2203","&expectation;":"\u2130","&ExponentialE;":"\u2147","&exponentiale;":"\u2147","&fallingdotseq;":"\u2252","&Fcy;":"\u0424","&fcy;":"\u0444","&female;":"\u2640","&ffilig;":"\uFB03","&fflig;":"\uFB00","&ffllig;":"\uFB04","&Ffr;":"\u{1D509}","&ffr;":"\u{1D523}","&filig;":"\uFB01","&FilledSmallSquare;":"\u25FC","&FilledVerySmallSquare;":"\u25AA","&fjlig;":"fj","&flat;":"\u266D","&fllig;":"\uFB02","&fltns;":"\u25B1","&fnof;":"\u0192","&Fopf;":"\u{1D53D}","&fopf;":"\u{1D557}","&ForAll;":"\u2200","&forall;":"\u2200","&fork;":"\u22D4","&forkv;":"\u2AD9","&Fouriertrf;":"\u2131","&fpartint;":"\u2A0D","&frac12;":"\xBD","&frac12":"\xBD","&frac13;":"\u2153","&frac14;":"\xBC","&frac14":"\xBC","&frac15;":"\u2155","&frac16;":"\u2159","&frac18;":"\u215B","&frac23;":"\u2154","&frac25;":"\u2156","&frac34;":"\xBE","&frac34":"\xBE","&frac35;":"\u2157","&frac38;":"\u215C","&frac45;":"\u2158","&frac56;":"\u215A","&frac58;":"\u215D","&frac78;":"\u215E","&frasl;":"\u2044","&frown;":"\u2322","&Fscr;":"\u2131","&fscr;":"\u{1D4BB}","&gacute;":"\u01F5","&Gamma;":"\u0393","&gamma;":"\u03B3","&Gammad;":"\u03DC","&gammad;":"\u03DD","&gap;":"\u2A86","&Gbreve;":"\u011E","&gbreve;":"\u011F","&Gcedil;":"\u0122","&Gcirc;":"\u011C","&gcirc;":"\u011D","&Gcy;":"\u0413","&gcy;":"\u0433","&Gdot;":"\u0120","&gdot;":"\u0121","&gE;":"\u2267","&ge;":"\u2265","&gEl;":"\u2A8C","&gel;":"\u22DB","&geq;":"\u2265","&geqq;":"\u2267","&geqslant;":"\u2A7E","&ges;":"\u2A7E","&gescc;":"\u2AA9","&gesdot;":"\u2A80","&gesdoto;":"\u2A82","&gesdotol;":"\u2A84","&gesl;":"\u22DB\uFE00","&gesles;":"\u2A94","&Gfr;":"\u{1D50A}","&gfr;":"\u{1D524}","&Gg;":"\u22D9","&gg;":"\u226B","&ggg;":"\u22D9","&gimel;":"\u2137","&GJcy;":"\u0403","&gjcy;":"\u0453","&gl;":"\u2277","&gla;":"\u2AA5","&glE;":"\u2A92","&glj;":"\u2AA4","&gnap;":"\u2A8A","&gnapprox;":"\u2A8A","&gnE;":"\u2269","&gne;":"\u2A88","&gneq;":"\u2A88","&gneqq;":"\u2269","&gnsim;":"\u22E7","&Gopf;":"\u{1D53E}","&gopf;":"\u{1D558}","&grave;":"`","&GreaterEqual;":"\u2265","&GreaterEqualLess;":"\u22DB","&GreaterFullEqual;":"\u2267","&GreaterGreater;":"\u2AA2","&GreaterLess;":"\u2277","&GreaterSlantEqual;":"\u2A7E","&GreaterTilde;":"\u2273","&Gscr;":"\u{1D4A2}","&gscr;":"\u210A","&gsim;":"\u2273","&gsime;":"\u2A8E","&gsiml;":"\u2A90","&GT;":">","&GT":">","&Gt;":"\u226B","&gt;":">","&gt":">","&gtcc;":"\u2AA7","&gtcir;":"\u2A7A","&gtdot;":"\u22D7","&gtlPar;":"\u2995","&gtquest;":"\u2A7C","&gtrapprox;":"\u2A86","&gtrarr;":"\u2978","&gtrdot;":"\u22D7","&gtreqless;":"\u22DB","&gtreqqless;":"\u2A8C","&gtrless;":"\u2277","&gtrsim;":"\u2273","&gvertneqq;":"\u2269\uFE00","&gvnE;":"\u2269\uFE00","&Hacek;":"\u02C7","&hairsp;":"\u200A","&half;":"\xBD","&hamilt;":"\u210B","&HARDcy;":"\u042A","&hardcy;":"\u044A","&hArr;":"\u21D4","&harr;":"\u2194","&harrcir;":"\u2948","&harrw;":"\u21AD","&Hat;":"^","&hbar;":"\u210F","&Hcirc;":"\u0124","&hcirc;":"\u0125","&hearts;":"\u2665","&heartsuit;":"\u2665","&hellip;":"\u2026","&hercon;":"\u22B9","&Hfr;":"\u210C","&hfr;":"\u{1D525}","&HilbertSpace;":"\u210B","&hksearow;":"\u2925","&hkswarow;":"\u2926","&hoarr;":"\u21FF","&homtht;":"\u223B","&hookleftarrow;":"\u21A9","&hookrightarrow;":"\u21AA","&Hopf;":"\u210D","&hopf;":"\u{1D559}","&horbar;":"\u2015","&HorizontalLine;":"\u2500","&Hscr;":"\u210B","&hscr;":"\u{1D4BD}","&hslash;":"\u210F","&Hstrok;":"\u0126","&hstrok;":"\u0127","&HumpDownHump;":"\u224E","&HumpEqual;":"\u224F","&hybull;":"\u2043","&hyphen;":"\u2010","&Iacute;":"\xCD","&Iacute":"\xCD","&iacute;":"\xED","&iacute":"\xED","&ic;":"\u2063","&Icirc;":"\xCE","&Icirc":"\xCE","&icirc;":"\xEE","&icirc":"\xEE","&Icy;":"\u0418","&icy;":"\u0438","&Idot;":"\u0130","&IEcy;":"\u0415","&iecy;":"\u0435","&iexcl;":"\xA1","&iexcl":"\xA1","&iff;":"\u21D4","&Ifr;":"\u2111","&ifr;":"\u{1D526}","&Igrave;":"\xCC","&Igrave":"\xCC","&igrave;":"\xEC","&igrave":"\xEC","&ii;":"\u2148","&iiiint;":"\u2A0C","&iiint;":"\u222D","&iinfin;":"\u29DC","&iiota;":"\u2129","&IJlig;":"\u0132","&ijlig;":"\u0133","&Im;":"\u2111","&Imacr;":"\u012A","&imacr;":"\u012B","&image;":"\u2111","&ImaginaryI;":"\u2148","&imagline;":"\u2110","&imagpart;":"\u2111","&imath;":"\u0131","&imof;":"\u22B7","&imped;":"\u01B5","&Implies;":"\u21D2","&in;":"\u2208","&incare;":"\u2105","&infin;":"\u221E","&infintie;":"\u29DD","&inodot;":"\u0131","&Int;":"\u222C","&int;":"\u222B","&intcal;":"\u22BA","&integers;":"\u2124","&Integral;":"\u222B","&intercal;":"\u22BA","&Intersection;":"\u22C2","&intlarhk;":"\u2A17","&intprod;":"\u2A3C","&InvisibleComma;":"\u2063","&InvisibleTimes;":"\u2062","&IOcy;":"\u0401","&iocy;":"\u0451","&Iogon;":"\u012E","&iogon;":"\u012F","&Iopf;":"\u{1D540}","&iopf;":"\u{1D55A}","&Iota;":"\u0399","&iota;":"\u03B9","&iprod;":"\u2A3C","&iquest;":"\xBF","&iquest":"\xBF","&Iscr;":"\u2110","&iscr;":"\u{1D4BE}","&isin;":"\u2208","&isindot;":"\u22F5","&isinE;":"\u22F9","&isins;":"\u22F4","&isinsv;":"\u22F3","&isinv;":"\u2208","&it;":"\u2062","&Itilde;":"\u0128","&itilde;":"\u0129","&Iukcy;":"\u0406","&iukcy;":"\u0456","&Iuml;":"\xCF","&Iuml":"\xCF","&iuml;":"\xEF","&iuml":"\xEF","&Jcirc;":"\u0134","&jcirc;":"\u0135","&Jcy;":"\u0419","&jcy;":"\u0439","&Jfr;":"\u{1D50D}","&jfr;":"\u{1D527}","&jmath;":"\u0237","&Jopf;":"\u{1D541}","&jopf;":"\u{1D55B}","&Jscr;":"\u{1D4A5}","&jscr;":"\u{1D4BF}","&Jsercy;":"\u0408","&jsercy;":"\u0458","&Jukcy;":"\u0404","&jukcy;":"\u0454","&Kappa;":"\u039A","&kappa;":"\u03BA","&kappav;":"\u03F0","&Kcedil;":"\u0136","&kcedil;":"\u0137","&Kcy;":"\u041A","&kcy;":"\u043A","&Kfr;":"\u{1D50E}","&kfr;":"\u{1D528}","&kgreen;":"\u0138","&KHcy;":"\u0425","&khcy;":"\u0445","&KJcy;":"\u040C","&kjcy;":"\u045C","&Kopf;":"\u{1D542}","&kopf;":"\u{1D55C}","&Kscr;":"\u{1D4A6}","&kscr;":"\u{1D4C0}","&lAarr;":"\u21DA","&Lacute;":"\u0139","&lacute;":"\u013A","&laemptyv;":"\u29B4","&lagran;":"\u2112","&Lambda;":"\u039B","&lambda;":"\u03BB","&Lang;":"\u27EA","&lang;":"\u27E8","&langd;":"\u2991","&langle;":"\u27E8","&lap;":"\u2A85","&Laplacetrf;":"\u2112","&laquo;":"\xAB","&laquo":"\xAB","&Larr;":"\u219E","&lArr;":"\u21D0","&larr;":"\u2190","&larrb;":"\u21E4","&larrbfs;":"\u291F","&larrfs;":"\u291D","&larrhk;":"\u21A9","&larrlp;":"\u21AB","&larrpl;":"\u2939","&larrsim;":"\u2973","&larrtl;":"\u21A2","&lat;":"\u2AAB","&lAtail;":"\u291B","&latail;":"\u2919","&late;":"\u2AAD","&lates;":"\u2AAD\uFE00","&lBarr;":"\u290E","&lbarr;":"\u290C","&lbbrk;":"\u2772","&lbrace;":"{","&lbrack;":"[","&lbrke;":"\u298B","&lbrksld;":"\u298F","&lbrkslu;":"\u298D","&Lcaron;":"\u013D","&lcaron;":"\u013E","&Lcedil;":"\u013B","&lcedil;":"\u013C","&lceil;":"\u2308","&lcub;":"{","&Lcy;":"\u041B","&lcy;":"\u043B","&ldca;":"\u2936","&ldquo;":"\u201C","&ldquor;":"\u201E","&ldrdhar;":"\u2967","&ldrushar;":"\u294B","&ldsh;":"\u21B2","&lE;":"\u2266","&le;":"\u2264","&LeftAngleBracket;":"\u27E8","&LeftArrow;":"\u2190","&Leftarrow;":"\u21D0","&leftarrow;":"\u2190","&LeftArrowBar;":"\u21E4","&LeftArrowRightArrow;":"\u21C6","&leftarrowtail;":"\u21A2","&LeftCeiling;":"\u2308","&LeftDoubleBracket;":"\u27E6","&LeftDownTeeVector;":"\u2961","&LeftDownVector;":"\u21C3","&LeftDownVectorBar;":"\u2959","&LeftFloor;":"\u230A","&leftharpoondown;":"\u21BD","&leftharpoonup;":"\u21BC","&leftleftarrows;":"\u21C7","&LeftRightArrow;":"\u2194","&Leftrightarrow;":"\u21D4","&leftrightarrow;":"\u2194","&leftrightarrows;":"\u21C6","&leftrightharpoons;":"\u21CB","&leftrightsquigarrow;":"\u21AD","&LeftRightVector;":"\u294E","&LeftTee;":"\u22A3","&LeftTeeArrow;":"\u21A4","&LeftTeeVector;":"\u295A","&leftthreetimes;":"\u22CB","&LeftTriangle;":"\u22B2","&LeftTriangleBar;":"\u29CF","&LeftTriangleEqual;":"\u22B4","&LeftUpDownVector;":"\u2951","&LeftUpTeeVector;":"\u2960","&LeftUpVector;":"\u21BF","&LeftUpVectorBar;":"\u2958","&LeftVector;":"\u21BC","&LeftVectorBar;":"\u2952","&lEg;":"\u2A8B","&leg;":"\u22DA","&leq;":"\u2264","&leqq;":"\u2266","&leqslant;":"\u2A7D","&les;":"\u2A7D","&lescc;":"\u2AA8","&lesdot;":"\u2A7F","&lesdoto;":"\u2A81","&lesdotor;":"\u2A83","&lesg;":"\u22DA\uFE00","&lesges;":"\u2A93","&lessapprox;":"\u2A85","&lessdot;":"\u22D6","&lesseqgtr;":"\u22DA","&lesseqqgtr;":"\u2A8B","&LessEqualGreater;":"\u22DA","&LessFullEqual;":"\u2266","&LessGreater;":"\u2276","&lessgtr;":"\u2276","&LessLess;":"\u2AA1","&lesssim;":"\u2272","&LessSlantEqual;":"\u2A7D","&LessTilde;":"\u2272","&lfisht;":"\u297C","&lfloor;":"\u230A","&Lfr;":"\u{1D50F}","&lfr;":"\u{1D529}","&lg;":"\u2276","&lgE;":"\u2A91","&lHar;":"\u2962","&lhard;":"\u21BD","&lharu;":"\u21BC","&lharul;":"\u296A","&lhblk;":"\u2584","&LJcy;":"\u0409","&ljcy;":"\u0459","&Ll;":"\u22D8","&ll;":"\u226A","&llarr;":"\u21C7","&llcorner;":"\u231E","&Lleftarrow;":"\u21DA","&llhard;":"\u296B","&lltri;":"\u25FA","&Lmidot;":"\u013F","&lmidot;":"\u0140","&lmoust;":"\u23B0","&lmoustache;":"\u23B0","&lnap;":"\u2A89","&lnapprox;":"\u2A89","&lnE;":"\u2268","&lne;":"\u2A87","&lneq;":"\u2A87","&lneqq;":"\u2268","&lnsim;":"\u22E6","&loang;":"\u27EC","&loarr;":"\u21FD","&lobrk;":"\u27E6","&LongLeftArrow;":"\u27F5","&Longleftarrow;":"\u27F8","&longleftarrow;":"\u27F5","&LongLeftRightArrow;":"\u27F7","&Longleftrightarrow;":"\u27FA","&longleftrightarrow;":"\u27F7","&longmapsto;":"\u27FC","&LongRightArrow;":"\u27F6","&Longrightarrow;":"\u27F9","&longrightarrow;":"\u27F6","&looparrowleft;":"\u21AB","&looparrowright;":"\u21AC","&lopar;":"\u2985","&Lopf;":"\u{1D543}","&lopf;":"\u{1D55D}","&loplus;":"\u2A2D","&lotimes;":"\u2A34","&lowast;":"\u2217","&lowbar;":"_","&LowerLeftArrow;":"\u2199","&LowerRightArrow;":"\u2198","&loz;":"\u25CA","&lozenge;":"\u25CA","&lozf;":"\u29EB","&lpar;":"(","&lparlt;":"\u2993","&lrarr;":"\u21C6","&lrcorner;":"\u231F","&lrhar;":"\u21CB","&lrhard;":"\u296D","&lrm;":"\u200E","&lrtri;":"\u22BF","&lsaquo;":"\u2039","&Lscr;":"\u2112","&lscr;":"\u{1D4C1}","&Lsh;":"\u21B0","&lsh;":"\u21B0","&lsim;":"\u2272","&lsime;":"\u2A8D","&lsimg;":"\u2A8F","&lsqb;":"[","&lsquo;":"\u2018","&lsquor;":"\u201A","&Lstrok;":"\u0141","&lstrok;":"\u0142","&LT;":"<","&LT":"<","&Lt;":"\u226A","&lt;":"<","&lt":"<","&ltcc;":"\u2AA6","&ltcir;":"\u2A79","&ltdot;":"\u22D6","&lthree;":"\u22CB","&ltimes;":"\u22C9","&ltlarr;":"\u2976","&ltquest;":"\u2A7B","&ltri;":"\u25C3","&ltrie;":"\u22B4","&ltrif;":"\u25C2","&ltrPar;":"\u2996","&lurdshar;":"\u294A","&luruhar;":"\u2966","&lvertneqq;":"\u2268\uFE00","&lvnE;":"\u2268\uFE00","&macr;":"\xAF","&macr":"\xAF","&male;":"\u2642","&malt;":"\u2720","&maltese;":"\u2720","&Map;":"\u2905","&map;":"\u21A6","&mapsto;":"\u21A6","&mapstodown;":"\u21A7","&mapstoleft;":"\u21A4","&mapstoup;":"\u21A5","&marker;":"\u25AE","&mcomma;":"\u2A29","&Mcy;":"\u041C","&mcy;":"\u043C","&mdash;":"\u2014","&mDDot;":"\u223A","&measuredangle;":"\u2221","&MediumSpace;":"\u205F","&Mellintrf;":"\u2133","&Mfr;":"\u{1D510}","&mfr;":"\u{1D52A}","&mho;":"\u2127","&micro;":"\xB5","&micro":"\xB5","&mid;":"\u2223","&midast;":"*","&midcir;":"\u2AF0","&middot;":"\xB7","&middot":"\xB7","&minus;":"\u2212","&minusb;":"\u229F","&minusd;":"\u2238","&minusdu;":"\u2A2A","&MinusPlus;":"\u2213","&mlcp;":"\u2ADB","&mldr;":"\u2026","&mnplus;":"\u2213","&models;":"\u22A7","&Mopf;":"\u{1D544}","&mopf;":"\u{1D55E}","&mp;":"\u2213","&Mscr;":"\u2133","&mscr;":"\u{1D4C2}","&mstpos;":"\u223E","&Mu;":"\u039C","&mu;":"\u03BC","&multimap;":"\u22B8","&mumap;":"\u22B8","&nabla;":"\u2207","&Nacute;":"\u0143","&nacute;":"\u0144","&nang;":"\u2220\u20D2","&nap;":"\u2249","&napE;":"\u2A70\u0338","&napid;":"\u224B\u0338","&napos;":"\u0149","&napprox;":"\u2249","&natur;":"\u266E","&natural;":"\u266E","&naturals;":"\u2115","&nbsp;":"\xA0","&nbsp":"\xA0","&nbump;":"\u224E\u0338","&nbumpe;":"\u224F\u0338","&ncap;":"\u2A43","&Ncaron;":"\u0147","&ncaron;":"\u0148","&Ncedil;":"\u0145","&ncedil;":"\u0146","&ncong;":"\u2247","&ncongdot;":"\u2A6D\u0338","&ncup;":"\u2A42","&Ncy;":"\u041D","&ncy;":"\u043D","&ndash;":"\u2013","&ne;":"\u2260","&nearhk;":"\u2924","&neArr;":"\u21D7","&nearr;":"\u2197","&nearrow;":"\u2197","&nedot;":"\u2250\u0338","&NegativeMediumSpace;":"\u200B","&NegativeThickSpace;":"\u200B","&NegativeThinSpace;":"\u200B","&NegativeVeryThinSpace;":"\u200B","&nequiv;":"\u2262","&nesear;":"\u2928","&nesim;":"\u2242\u0338","&NestedGreaterGreater;":"\u226B","&NestedLessLess;":"\u226A","&NewLine;":`
`,"&nexist;":"\u2204","&nexists;":"\u2204","&Nfr;":"\u{1D511}","&nfr;":"\u{1D52B}","&ngE;":"\u2267\u0338","&nge;":"\u2271","&ngeq;":"\u2271","&ngeqq;":"\u2267\u0338","&ngeqslant;":"\u2A7E\u0338","&nges;":"\u2A7E\u0338","&nGg;":"\u22D9\u0338","&ngsim;":"\u2275","&nGt;":"\u226B\u20D2","&ngt;":"\u226F","&ngtr;":"\u226F","&nGtv;":"\u226B\u0338","&nhArr;":"\u21CE","&nharr;":"\u21AE","&nhpar;":"\u2AF2","&ni;":"\u220B","&nis;":"\u22FC","&nisd;":"\u22FA","&niv;":"\u220B","&NJcy;":"\u040A","&njcy;":"\u045A","&nlArr;":"\u21CD","&nlarr;":"\u219A","&nldr;":"\u2025","&nlE;":"\u2266\u0338","&nle;":"\u2270","&nLeftarrow;":"\u21CD","&nleftarrow;":"\u219A","&nLeftrightarrow;":"\u21CE","&nleftrightarrow;":"\u21AE","&nleq;":"\u2270","&nleqq;":"\u2266\u0338","&nleqslant;":"\u2A7D\u0338","&nles;":"\u2A7D\u0338","&nless;":"\u226E","&nLl;":"\u22D8\u0338","&nlsim;":"\u2274","&nLt;":"\u226A\u20D2","&nlt;":"\u226E","&nltri;":"\u22EA","&nltrie;":"\u22EC","&nLtv;":"\u226A\u0338","&nmid;":"\u2224","&NoBreak;":"\u2060","&NonBreakingSpace;":"\xA0","&Nopf;":"\u2115","&nopf;":"\u{1D55F}","&Not;":"\u2AEC","&not;":"\xAC","&not":"\xAC","&NotCongruent;":"\u2262","&NotCupCap;":"\u226D","&NotDoubleVerticalBar;":"\u2226","&NotElement;":"\u2209","&NotEqual;":"\u2260","&NotEqualTilde;":"\u2242\u0338","&NotExists;":"\u2204","&NotGreater;":"\u226F","&NotGreaterEqual;":"\u2271","&NotGreaterFullEqual;":"\u2267\u0338","&NotGreaterGreater;":"\u226B\u0338","&NotGreaterLess;":"\u2279","&NotGreaterSlantEqual;":"\u2A7E\u0338","&NotGreaterTilde;":"\u2275","&NotHumpDownHump;":"\u224E\u0338","&NotHumpEqual;":"\u224F\u0338","&notin;":"\u2209","&notindot;":"\u22F5\u0338","&notinE;":"\u22F9\u0338","&notinva;":"\u2209","&notinvb;":"\u22F7","&notinvc;":"\u22F6","&NotLeftTriangle;":"\u22EA","&NotLeftTriangleBar;":"\u29CF\u0338","&NotLeftTriangleEqual;":"\u22EC","&NotLess;":"\u226E","&NotLessEqual;":"\u2270","&NotLessGreater;":"\u2278","&NotLessLess;":"\u226A\u0338","&NotLessSlantEqual;":"\u2A7D\u0338","&NotLessTilde;":"\u2274","&NotNestedGreaterGreater;":"\u2AA2\u0338","&NotNestedLessLess;":"\u2AA1\u0338","&notni;":"\u220C","&notniva;":"\u220C","&notnivb;":"\u22FE","&notnivc;":"\u22FD","&NotPrecedes;":"\u2280","&NotPrecedesEqual;":"\u2AAF\u0338","&NotPrecedesSlantEqual;":"\u22E0","&NotReverseElement;":"\u220C","&NotRightTriangle;":"\u22EB","&NotRightTriangleBar;":"\u29D0\u0338","&NotRightTriangleEqual;":"\u22ED","&NotSquareSubset;":"\u228F\u0338","&NotSquareSubsetEqual;":"\u22E2","&NotSquareSuperset;":"\u2290\u0338","&NotSquareSupersetEqual;":"\u22E3","&NotSubset;":"\u2282\u20D2","&NotSubsetEqual;":"\u2288","&NotSucceeds;":"\u2281","&NotSucceedsEqual;":"\u2AB0\u0338","&NotSucceedsSlantEqual;":"\u22E1","&NotSucceedsTilde;":"\u227F\u0338","&NotSuperset;":"\u2283\u20D2","&NotSupersetEqual;":"\u2289","&NotTilde;":"\u2241","&NotTildeEqual;":"\u2244","&NotTildeFullEqual;":"\u2247","&NotTildeTilde;":"\u2249","&NotVerticalBar;":"\u2224","&npar;":"\u2226","&nparallel;":"\u2226","&nparsl;":"\u2AFD\u20E5","&npart;":"\u2202\u0338","&npolint;":"\u2A14","&npr;":"\u2280","&nprcue;":"\u22E0","&npre;":"\u2AAF\u0338","&nprec;":"\u2280","&npreceq;":"\u2AAF\u0338","&nrArr;":"\u21CF","&nrarr;":"\u219B","&nrarrc;":"\u2933\u0338","&nrarrw;":"\u219D\u0338","&nRightarrow;":"\u21CF","&nrightarrow;":"\u219B","&nrtri;":"\u22EB","&nrtrie;":"\u22ED","&nsc;":"\u2281","&nsccue;":"\u22E1","&nsce;":"\u2AB0\u0338","&Nscr;":"\u{1D4A9}","&nscr;":"\u{1D4C3}","&nshortmid;":"\u2224","&nshortparallel;":"\u2226","&nsim;":"\u2241","&nsime;":"\u2244","&nsimeq;":"\u2244","&nsmid;":"\u2224","&nspar;":"\u2226","&nsqsube;":"\u22E2","&nsqsupe;":"\u22E3","&nsub;":"\u2284","&nsubE;":"\u2AC5\u0338","&nsube;":"\u2288","&nsubset;":"\u2282\u20D2","&nsubseteq;":"\u2288","&nsubseteqq;":"\u2AC5\u0338","&nsucc;":"\u2281","&nsucceq;":"\u2AB0\u0338","&nsup;":"\u2285","&nsupE;":"\u2AC6\u0338","&nsupe;":"\u2289","&nsupset;":"\u2283\u20D2","&nsupseteq;":"\u2289","&nsupseteqq;":"\u2AC6\u0338","&ntgl;":"\u2279","&Ntilde;":"\xD1","&Ntilde":"\xD1","&ntilde;":"\xF1","&ntilde":"\xF1","&ntlg;":"\u2278","&ntriangleleft;":"\u22EA","&ntrianglelefteq;":"\u22EC","&ntriangleright;":"\u22EB","&ntrianglerighteq;":"\u22ED","&Nu;":"\u039D","&nu;":"\u03BD","&num;":"#","&numero;":"\u2116","&numsp;":"\u2007","&nvap;":"\u224D\u20D2","&nVDash;":"\u22AF","&nVdash;":"\u22AE","&nvDash;":"\u22AD","&nvdash;":"\u22AC","&nvge;":"\u2265\u20D2","&nvgt;":">\u20D2","&nvHarr;":"\u2904","&nvinfin;":"\u29DE","&nvlArr;":"\u2902","&nvle;":"\u2264\u20D2","&nvlt;":"<\u20D2","&nvltrie;":"\u22B4\u20D2","&nvrArr;":"\u2903","&nvrtrie;":"\u22B5\u20D2","&nvsim;":"\u223C\u20D2","&nwarhk;":"\u2923","&nwArr;":"\u21D6","&nwarr;":"\u2196","&nwarrow;":"\u2196","&nwnear;":"\u2927","&Oacute;":"\xD3","&Oacute":"\xD3","&oacute;":"\xF3","&oacute":"\xF3","&oast;":"\u229B","&ocir;":"\u229A","&Ocirc;":"\xD4","&Ocirc":"\xD4","&ocirc;":"\xF4","&ocirc":"\xF4","&Ocy;":"\u041E","&ocy;":"\u043E","&odash;":"\u229D","&Odblac;":"\u0150","&odblac;":"\u0151","&odiv;":"\u2A38","&odot;":"\u2299","&odsold;":"\u29BC","&OElig;":"\u0152","&oelig;":"\u0153","&ofcir;":"\u29BF","&Ofr;":"\u{1D512}","&ofr;":"\u{1D52C}","&ogon;":"\u02DB","&Ograve;":"\xD2","&Ograve":"\xD2","&ograve;":"\xF2","&ograve":"\xF2","&ogt;":"\u29C1","&ohbar;":"\u29B5","&ohm;":"\u03A9","&oint;":"\u222E","&olarr;":"\u21BA","&olcir;":"\u29BE","&olcross;":"\u29BB","&oline;":"\u203E","&olt;":"\u29C0","&Omacr;":"\u014C","&omacr;":"\u014D","&Omega;":"\u03A9","&omega;":"\u03C9","&Omicron;":"\u039F","&omicron;":"\u03BF","&omid;":"\u29B6","&ominus;":"\u2296","&Oopf;":"\u{1D546}","&oopf;":"\u{1D560}","&opar;":"\u29B7","&OpenCurlyDoubleQuote;":"\u201C","&OpenCurlyQuote;":"\u2018","&operp;":"\u29B9","&oplus;":"\u2295","&Or;":"\u2A54","&or;":"\u2228","&orarr;":"\u21BB","&ord;":"\u2A5D","&order;":"\u2134","&orderof;":"\u2134","&ordf;":"\xAA","&ordf":"\xAA","&ordm;":"\xBA","&ordm":"\xBA","&origof;":"\u22B6","&oror;":"\u2A56","&orslope;":"\u2A57","&orv;":"\u2A5B","&oS;":"\u24C8","&Oscr;":"\u{1D4AA}","&oscr;":"\u2134","&Oslash;":"\xD8","&Oslash":"\xD8","&oslash;":"\xF8","&oslash":"\xF8","&osol;":"\u2298","&Otilde;":"\xD5","&Otilde":"\xD5","&otilde;":"\xF5","&otilde":"\xF5","&Otimes;":"\u2A37","&otimes;":"\u2297","&otimesas;":"\u2A36","&Ouml;":"\xD6","&Ouml":"\xD6","&ouml;":"\xF6","&ouml":"\xF6","&ovbar;":"\u233D","&OverBar;":"\u203E","&OverBrace;":"\u23DE","&OverBracket;":"\u23B4","&OverParenthesis;":"\u23DC","&par;":"\u2225","&para;":"\xB6","&para":"\xB6","&parallel;":"\u2225","&parsim;":"\u2AF3","&parsl;":"\u2AFD","&part;":"\u2202","&PartialD;":"\u2202","&Pcy;":"\u041F","&pcy;":"\u043F","&percnt;":"%","&period;":".","&permil;":"\u2030","&perp;":"\u22A5","&pertenk;":"\u2031","&Pfr;":"\u{1D513}","&pfr;":"\u{1D52D}","&Phi;":"\u03A6","&phi;":"\u03C6","&phiv;":"\u03D5","&phmmat;":"\u2133","&phone;":"\u260E","&Pi;":"\u03A0","&pi;":"\u03C0","&pitchfork;":"\u22D4","&piv;":"\u03D6","&planck;":"\u210F","&planckh;":"\u210E","&plankv;":"\u210F","&plus;":"+","&plusacir;":"\u2A23","&plusb;":"\u229E","&pluscir;":"\u2A22","&plusdo;":"\u2214","&plusdu;":"\u2A25","&pluse;":"\u2A72","&PlusMinus;":"\xB1","&plusmn;":"\xB1","&plusmn":"\xB1","&plussim;":"\u2A26","&plustwo;":"\u2A27","&pm;":"\xB1","&Poincareplane;":"\u210C","&pointint;":"\u2A15","&Popf;":"\u2119","&popf;":"\u{1D561}","&pound;":"\xA3","&pound":"\xA3","&Pr;":"\u2ABB","&pr;":"\u227A","&prap;":"\u2AB7","&prcue;":"\u227C","&prE;":"\u2AB3","&pre;":"\u2AAF","&prec;":"\u227A","&precapprox;":"\u2AB7","&preccurlyeq;":"\u227C","&Precedes;":"\u227A","&PrecedesEqual;":"\u2AAF","&PrecedesSlantEqual;":"\u227C","&PrecedesTilde;":"\u227E","&preceq;":"\u2AAF","&precnapprox;":"\u2AB9","&precneqq;":"\u2AB5","&precnsim;":"\u22E8","&precsim;":"\u227E","&Prime;":"\u2033","&prime;":"\u2032","&primes;":"\u2119","&prnap;":"\u2AB9","&prnE;":"\u2AB5","&prnsim;":"\u22E8","&prod;":"\u220F","&Product;":"\u220F","&profalar;":"\u232E","&profline;":"\u2312","&profsurf;":"\u2313","&prop;":"\u221D","&Proportion;":"\u2237","&Proportional;":"\u221D","&propto;":"\u221D","&prsim;":"\u227E","&prurel;":"\u22B0","&Pscr;":"\u{1D4AB}","&pscr;":"\u{1D4C5}","&Psi;":"\u03A8","&psi;":"\u03C8","&puncsp;":"\u2008","&Qfr;":"\u{1D514}","&qfr;":"\u{1D52E}","&qint;":"\u2A0C","&Qopf;":"\u211A","&qopf;":"\u{1D562}","&qprime;":"\u2057","&Qscr;":"\u{1D4AC}","&qscr;":"\u{1D4C6}","&quaternions;":"\u210D","&quatint;":"\u2A16","&quest;":"?","&questeq;":"\u225F","&QUOT;":'"',"&QUOT":'"',"&quot;":'"',"&quot":'"',"&rAarr;":"\u21DB","&race;":"\u223D\u0331","&Racute;":"\u0154","&racute;":"\u0155","&radic;":"\u221A","&raemptyv;":"\u29B3","&Rang;":"\u27EB","&rang;":"\u27E9","&rangd;":"\u2992","&range;":"\u29A5","&rangle;":"\u27E9","&raquo;":"\xBB","&raquo":"\xBB","&Rarr;":"\u21A0","&rArr;":"\u21D2","&rarr;":"\u2192","&rarrap;":"\u2975","&rarrb;":"\u21E5","&rarrbfs;":"\u2920","&rarrc;":"\u2933","&rarrfs;":"\u291E","&rarrhk;":"\u21AA","&rarrlp;":"\u21AC","&rarrpl;":"\u2945","&rarrsim;":"\u2974","&Rarrtl;":"\u2916","&rarrtl;":"\u21A3","&rarrw;":"\u219D","&rAtail;":"\u291C","&ratail;":"\u291A","&ratio;":"\u2236","&rationals;":"\u211A","&RBarr;":"\u2910","&rBarr;":"\u290F","&rbarr;":"\u290D","&rbbrk;":"\u2773","&rbrace;":"}","&rbrack;":"]","&rbrke;":"\u298C","&rbrksld;":"\u298E","&rbrkslu;":"\u2990","&Rcaron;":"\u0158","&rcaron;":"\u0159","&Rcedil;":"\u0156","&rcedil;":"\u0157","&rceil;":"\u2309","&rcub;":"}","&Rcy;":"\u0420","&rcy;":"\u0440","&rdca;":"\u2937","&rdldhar;":"\u2969","&rdquo;":"\u201D","&rdquor;":"\u201D","&rdsh;":"\u21B3","&Re;":"\u211C","&real;":"\u211C","&realine;":"\u211B","&realpart;":"\u211C","&reals;":"\u211D","&rect;":"\u25AD","&REG;":"\xAE","&REG":"\xAE","&reg;":"\xAE","&reg":"\xAE","&ReverseElement;":"\u220B","&ReverseEquilibrium;":"\u21CB","&ReverseUpEquilibrium;":"\u296F","&rfisht;":"\u297D","&rfloor;":"\u230B","&Rfr;":"\u211C","&rfr;":"\u{1D52F}","&rHar;":"\u2964","&rhard;":"\u21C1","&rharu;":"\u21C0","&rharul;":"\u296C","&Rho;":"\u03A1","&rho;":"\u03C1","&rhov;":"\u03F1","&RightAngleBracket;":"\u27E9","&RightArrow;":"\u2192","&Rightarrow;":"\u21D2","&rightarrow;":"\u2192","&RightArrowBar;":"\u21E5","&RightArrowLeftArrow;":"\u21C4","&rightarrowtail;":"\u21A3","&RightCeiling;":"\u2309","&RightDoubleBracket;":"\u27E7","&RightDownTeeVector;":"\u295D","&RightDownVector;":"\u21C2","&RightDownVectorBar;":"\u2955","&RightFloor;":"\u230B","&rightharpoondown;":"\u21C1","&rightharpoonup;":"\u21C0","&rightleftarrows;":"\u21C4","&rightleftharpoons;":"\u21CC","&rightrightarrows;":"\u21C9","&rightsquigarrow;":"\u219D","&RightTee;":"\u22A2","&RightTeeArrow;":"\u21A6","&RightTeeVector;":"\u295B","&rightthreetimes;":"\u22CC","&RightTriangle;":"\u22B3","&RightTriangleBar;":"\u29D0","&RightTriangleEqual;":"\u22B5","&RightUpDownVector;":"\u294F","&RightUpTeeVector;":"\u295C","&RightUpVector;":"\u21BE","&RightUpVectorBar;":"\u2954","&RightVector;":"\u21C0","&RightVectorBar;":"\u2953","&ring;":"\u02DA","&risingdotseq;":"\u2253","&rlarr;":"\u21C4","&rlhar;":"\u21CC","&rlm;":"\u200F","&rmoust;":"\u23B1","&rmoustache;":"\u23B1","&rnmid;":"\u2AEE","&roang;":"\u27ED","&roarr;":"\u21FE","&robrk;":"\u27E7","&ropar;":"\u2986","&Ropf;":"\u211D","&ropf;":"\u{1D563}","&roplus;":"\u2A2E","&rotimes;":"\u2A35","&RoundImplies;":"\u2970","&rpar;":")","&rpargt;":"\u2994","&rppolint;":"\u2A12","&rrarr;":"\u21C9","&Rrightarrow;":"\u21DB","&rsaquo;":"\u203A","&Rscr;":"\u211B","&rscr;":"\u{1D4C7}","&Rsh;":"\u21B1","&rsh;":"\u21B1","&rsqb;":"]","&rsquo;":"\u2019","&rsquor;":"\u2019","&rthree;":"\u22CC","&rtimes;":"\u22CA","&rtri;":"\u25B9","&rtrie;":"\u22B5","&rtrif;":"\u25B8","&rtriltri;":"\u29CE","&RuleDelayed;":"\u29F4","&ruluhar;":"\u2968","&rx;":"\u211E","&Sacute;":"\u015A","&sacute;":"\u015B","&sbquo;":"\u201A","&Sc;":"\u2ABC","&sc;":"\u227B","&scap;":"\u2AB8","&Scaron;":"\u0160","&scaron;":"\u0161","&sccue;":"\u227D","&scE;":"\u2AB4","&sce;":"\u2AB0","&Scedil;":"\u015E","&scedil;":"\u015F","&Scirc;":"\u015C","&scirc;":"\u015D","&scnap;":"\u2ABA","&scnE;":"\u2AB6","&scnsim;":"\u22E9","&scpolint;":"\u2A13","&scsim;":"\u227F","&Scy;":"\u0421","&scy;":"\u0441","&sdot;":"\u22C5","&sdotb;":"\u22A1","&sdote;":"\u2A66","&searhk;":"\u2925","&seArr;":"\u21D8","&searr;":"\u2198","&searrow;":"\u2198","&sect;":"\xA7","&sect":"\xA7","&semi;":";","&seswar;":"\u2929","&setminus;":"\u2216","&setmn;":"\u2216","&sext;":"\u2736","&Sfr;":"\u{1D516}","&sfr;":"\u{1D530}","&sfrown;":"\u2322","&sharp;":"\u266F","&SHCHcy;":"\u0429","&shchcy;":"\u0449","&SHcy;":"\u0428","&shcy;":"\u0448","&ShortDownArrow;":"\u2193","&ShortLeftArrow;":"\u2190","&shortmid;":"\u2223","&shortparallel;":"\u2225","&ShortRightArrow;":"\u2192","&ShortUpArrow;":"\u2191","&shy;":"\xAD","&shy":"\xAD","&Sigma;":"\u03A3","&sigma;":"\u03C3","&sigmaf;":"\u03C2","&sigmav;":"\u03C2","&sim;":"\u223C","&simdot;":"\u2A6A","&sime;":"\u2243","&simeq;":"\u2243","&simg;":"\u2A9E","&simgE;":"\u2AA0","&siml;":"\u2A9D","&simlE;":"\u2A9F","&simne;":"\u2246","&simplus;":"\u2A24","&simrarr;":"\u2972","&slarr;":"\u2190","&SmallCircle;":"\u2218","&smallsetminus;":"\u2216","&smashp;":"\u2A33","&smeparsl;":"\u29E4","&smid;":"\u2223","&smile;":"\u2323","&smt;":"\u2AAA","&smte;":"\u2AAC","&smtes;":"\u2AAC\uFE00","&SOFTcy;":"\u042C","&softcy;":"\u044C","&sol;":"/","&solb;":"\u29C4","&solbar;":"\u233F","&Sopf;":"\u{1D54A}","&sopf;":"\u{1D564}","&spades;":"\u2660","&spadesuit;":"\u2660","&spar;":"\u2225","&sqcap;":"\u2293","&sqcaps;":"\u2293\uFE00","&sqcup;":"\u2294","&sqcups;":"\u2294\uFE00","&Sqrt;":"\u221A","&sqsub;":"\u228F","&sqsube;":"\u2291","&sqsubset;":"\u228F","&sqsubseteq;":"\u2291","&sqsup;":"\u2290","&sqsupe;":"\u2292","&sqsupset;":"\u2290","&sqsupseteq;":"\u2292","&squ;":"\u25A1","&Square;":"\u25A1","&square;":"\u25A1","&SquareIntersection;":"\u2293","&SquareSubset;":"\u228F","&SquareSubsetEqual;":"\u2291","&SquareSuperset;":"\u2290","&SquareSupersetEqual;":"\u2292","&SquareUnion;":"\u2294","&squarf;":"\u25AA","&squf;":"\u25AA","&srarr;":"\u2192","&Sscr;":"\u{1D4AE}","&sscr;":"\u{1D4C8}","&ssetmn;":"\u2216","&ssmile;":"\u2323","&sstarf;":"\u22C6","&Star;":"\u22C6","&star;":"\u2606","&starf;":"\u2605","&straightepsilon;":"\u03F5","&straightphi;":"\u03D5","&strns;":"\xAF","&Sub;":"\u22D0","&sub;":"\u2282","&subdot;":"\u2ABD","&subE;":"\u2AC5","&sube;":"\u2286","&subedot;":"\u2AC3","&submult;":"\u2AC1","&subnE;":"\u2ACB","&subne;":"\u228A","&subplus;":"\u2ABF","&subrarr;":"\u2979","&Subset;":"\u22D0","&subset;":"\u2282","&subseteq;":"\u2286","&subseteqq;":"\u2AC5","&SubsetEqual;":"\u2286","&subsetneq;":"\u228A","&subsetneqq;":"\u2ACB","&subsim;":"\u2AC7","&subsub;":"\u2AD5","&subsup;":"\u2AD3","&succ;":"\u227B","&succapprox;":"\u2AB8","&succcurlyeq;":"\u227D","&Succeeds;":"\u227B","&SucceedsEqual;":"\u2AB0","&SucceedsSlantEqual;":"\u227D","&SucceedsTilde;":"\u227F","&succeq;":"\u2AB0","&succnapprox;":"\u2ABA","&succneqq;":"\u2AB6","&succnsim;":"\u22E9","&succsim;":"\u227F","&SuchThat;":"\u220B","&Sum;":"\u2211","&sum;":"\u2211","&sung;":"\u266A","&Sup;":"\u22D1","&sup;":"\u2283","&sup1;":"\xB9","&sup1":"\xB9","&sup2;":"\xB2","&sup2":"\xB2","&sup3;":"\xB3","&sup3":"\xB3","&supdot;":"\u2ABE","&supdsub;":"\u2AD8","&supE;":"\u2AC6","&supe;":"\u2287","&supedot;":"\u2AC4","&Superset;":"\u2283","&SupersetEqual;":"\u2287","&suphsol;":"\u27C9","&suphsub;":"\u2AD7","&suplarr;":"\u297B","&supmult;":"\u2AC2","&supnE;":"\u2ACC","&supne;":"\u228B","&supplus;":"\u2AC0","&Supset;":"\u22D1","&supset;":"\u2283","&supseteq;":"\u2287","&supseteqq;":"\u2AC6","&supsetneq;":"\u228B","&supsetneqq;":"\u2ACC","&supsim;":"\u2AC8","&supsub;":"\u2AD4","&supsup;":"\u2AD6","&swarhk;":"\u2926","&swArr;":"\u21D9","&swarr;":"\u2199","&swarrow;":"\u2199","&swnwar;":"\u292A","&szlig;":"\xDF","&szlig":"\xDF","&Tab;":"	","&target;":"\u2316","&Tau;":"\u03A4","&tau;":"\u03C4","&tbrk;":"\u23B4","&Tcaron;":"\u0164","&tcaron;":"\u0165","&Tcedil;":"\u0162","&tcedil;":"\u0163","&Tcy;":"\u0422","&tcy;":"\u0442","&tdot;":"\u20DB","&telrec;":"\u2315","&Tfr;":"\u{1D517}","&tfr;":"\u{1D531}","&there4;":"\u2234","&Therefore;":"\u2234","&therefore;":"\u2234","&Theta;":"\u0398","&theta;":"\u03B8","&thetasym;":"\u03D1","&thetav;":"\u03D1","&thickapprox;":"\u2248","&thicksim;":"\u223C","&ThickSpace;":"\u205F\u200A","&thinsp;":"\u2009","&ThinSpace;":"\u2009","&thkap;":"\u2248","&thksim;":"\u223C","&THORN;":"\xDE","&THORN":"\xDE","&thorn;":"\xFE","&thorn":"\xFE","&Tilde;":"\u223C","&tilde;":"\u02DC","&TildeEqual;":"\u2243","&TildeFullEqual;":"\u2245","&TildeTilde;":"\u2248","&times;":"\xD7","&times":"\xD7","&timesb;":"\u22A0","&timesbar;":"\u2A31","&timesd;":"\u2A30","&tint;":"\u222D","&toea;":"\u2928","&top;":"\u22A4","&topbot;":"\u2336","&topcir;":"\u2AF1","&Topf;":"\u{1D54B}","&topf;":"\u{1D565}","&topfork;":"\u2ADA","&tosa;":"\u2929","&tprime;":"\u2034","&TRADE;":"\u2122","&trade;":"\u2122","&triangle;":"\u25B5","&triangledown;":"\u25BF","&triangleleft;":"\u25C3","&trianglelefteq;":"\u22B4","&triangleq;":"\u225C","&triangleright;":"\u25B9","&trianglerighteq;":"\u22B5","&tridot;":"\u25EC","&trie;":"\u225C","&triminus;":"\u2A3A","&TripleDot;":"\u20DB","&triplus;":"\u2A39","&trisb;":"\u29CD","&tritime;":"\u2A3B","&trpezium;":"\u23E2","&Tscr;":"\u{1D4AF}","&tscr;":"\u{1D4C9}","&TScy;":"\u0426","&tscy;":"\u0446","&TSHcy;":"\u040B","&tshcy;":"\u045B","&Tstrok;":"\u0166","&tstrok;":"\u0167","&twixt;":"\u226C","&twoheadleftarrow;":"\u219E","&twoheadrightarrow;":"\u21A0","&Uacute;":"\xDA","&Uacute":"\xDA","&uacute;":"\xFA","&uacute":"\xFA","&Uarr;":"\u219F","&uArr;":"\u21D1","&uarr;":"\u2191","&Uarrocir;":"\u2949","&Ubrcy;":"\u040E","&ubrcy;":"\u045E","&Ubreve;":"\u016C","&ubreve;":"\u016D","&Ucirc;":"\xDB","&Ucirc":"\xDB","&ucirc;":"\xFB","&ucirc":"\xFB","&Ucy;":"\u0423","&ucy;":"\u0443","&udarr;":"\u21C5","&Udblac;":"\u0170","&udblac;":"\u0171","&udhar;":"\u296E","&ufisht;":"\u297E","&Ufr;":"\u{1D518}","&ufr;":"\u{1D532}","&Ugrave;":"\xD9","&Ugrave":"\xD9","&ugrave;":"\xF9","&ugrave":"\xF9","&uHar;":"\u2963","&uharl;":"\u21BF","&uharr;":"\u21BE","&uhblk;":"\u2580","&ulcorn;":"\u231C","&ulcorner;":"\u231C","&ulcrop;":"\u230F","&ultri;":"\u25F8","&Umacr;":"\u016A","&umacr;":"\u016B","&uml;":"\xA8","&uml":"\xA8","&UnderBar;":"_","&UnderBrace;":"\u23DF","&UnderBracket;":"\u23B5","&UnderParenthesis;":"\u23DD","&Union;":"\u22C3","&UnionPlus;":"\u228E","&Uogon;":"\u0172","&uogon;":"\u0173","&Uopf;":"\u{1D54C}","&uopf;":"\u{1D566}","&UpArrow;":"\u2191","&Uparrow;":"\u21D1","&uparrow;":"\u2191","&UpArrowBar;":"\u2912","&UpArrowDownArrow;":"\u21C5","&UpDownArrow;":"\u2195","&Updownarrow;":"\u21D5","&updownarrow;":"\u2195","&UpEquilibrium;":"\u296E","&upharpoonleft;":"\u21BF","&upharpoonright;":"\u21BE","&uplus;":"\u228E","&UpperLeftArrow;":"\u2196","&UpperRightArrow;":"\u2197","&Upsi;":"\u03D2","&upsi;":"\u03C5","&upsih;":"\u03D2","&Upsilon;":"\u03A5","&upsilon;":"\u03C5","&UpTee;":"\u22A5","&UpTeeArrow;":"\u21A5","&upuparrows;":"\u21C8","&urcorn;":"\u231D","&urcorner;":"\u231D","&urcrop;":"\u230E","&Uring;":"\u016E","&uring;":"\u016F","&urtri;":"\u25F9","&Uscr;":"\u{1D4B0}","&uscr;":"\u{1D4CA}","&utdot;":"\u22F0","&Utilde;":"\u0168","&utilde;":"\u0169","&utri;":"\u25B5","&utrif;":"\u25B4","&uuarr;":"\u21C8","&Uuml;":"\xDC","&Uuml":"\xDC","&uuml;":"\xFC","&uuml":"\xFC","&uwangle;":"\u29A7","&vangrt;":"\u299C","&varepsilon;":"\u03F5","&varkappa;":"\u03F0","&varnothing;":"\u2205","&varphi;":"\u03D5","&varpi;":"\u03D6","&varpropto;":"\u221D","&vArr;":"\u21D5","&varr;":"\u2195","&varrho;":"\u03F1","&varsigma;":"\u03C2","&varsubsetneq;":"\u228A\uFE00","&varsubsetneqq;":"\u2ACB\uFE00","&varsupsetneq;":"\u228B\uFE00","&varsupsetneqq;":"\u2ACC\uFE00","&vartheta;":"\u03D1","&vartriangleleft;":"\u22B2","&vartriangleright;":"\u22B3","&Vbar;":"\u2AEB","&vBar;":"\u2AE8","&vBarv;":"\u2AE9","&Vcy;":"\u0412","&vcy;":"\u0432","&VDash;":"\u22AB","&Vdash;":"\u22A9","&vDash;":"\u22A8","&vdash;":"\u22A2","&Vdashl;":"\u2AE6","&Vee;":"\u22C1","&vee;":"\u2228","&veebar;":"\u22BB","&veeeq;":"\u225A","&vellip;":"\u22EE","&Verbar;":"\u2016","&verbar;":"|","&Vert;":"\u2016","&vert;":"|","&VerticalBar;":"\u2223","&VerticalLine;":"|","&VerticalSeparator;":"\u2758","&VerticalTilde;":"\u2240","&VeryThinSpace;":"\u200A","&Vfr;":"\u{1D519}","&vfr;":"\u{1D533}","&vltri;":"\u22B2","&vnsub;":"\u2282\u20D2","&vnsup;":"\u2283\u20D2","&Vopf;":"\u{1D54D}","&vopf;":"\u{1D567}","&vprop;":"\u221D","&vrtri;":"\u22B3","&Vscr;":"\u{1D4B1}","&vscr;":"\u{1D4CB}","&vsubnE;":"\u2ACB\uFE00","&vsubne;":"\u228A\uFE00","&vsupnE;":"\u2ACC\uFE00","&vsupne;":"\u228B\uFE00","&Vvdash;":"\u22AA","&vzigzag;":"\u299A","&Wcirc;":"\u0174","&wcirc;":"\u0175","&wedbar;":"\u2A5F","&Wedge;":"\u22C0","&wedge;":"\u2227","&wedgeq;":"\u2259","&weierp;":"\u2118","&Wfr;":"\u{1D51A}","&wfr;":"\u{1D534}","&Wopf;":"\u{1D54E}","&wopf;":"\u{1D568}","&wp;":"\u2118","&wr;":"\u2240","&wreath;":"\u2240","&Wscr;":"\u{1D4B2}","&wscr;":"\u{1D4CC}","&xcap;":"\u22C2","&xcirc;":"\u25EF","&xcup;":"\u22C3","&xdtri;":"\u25BD","&Xfr;":"\u{1D51B}","&xfr;":"\u{1D535}","&xhArr;":"\u27FA","&xharr;":"\u27F7","&Xi;":"\u039E","&xi;":"\u03BE","&xlArr;":"\u27F8","&xlarr;":"\u27F5","&xmap;":"\u27FC","&xnis;":"\u22FB","&xodot;":"\u2A00","&Xopf;":"\u{1D54F}","&xopf;":"\u{1D569}","&xoplus;":"\u2A01","&xotime;":"\u2A02","&xrArr;":"\u27F9","&xrarr;":"\u27F6","&Xscr;":"\u{1D4B3}","&xscr;":"\u{1D4CD}","&xsqcup;":"\u2A06","&xuplus;":"\u2A04","&xutri;":"\u25B3","&xvee;":"\u22C1","&xwedge;":"\u22C0","&Yacute;":"\xDD","&Yacute":"\xDD","&yacute;":"\xFD","&yacute":"\xFD","&YAcy;":"\u042F","&yacy;":"\u044F","&Ycirc;":"\u0176","&ycirc;":"\u0177","&Ycy;":"\u042B","&ycy;":"\u044B","&yen;":"\xA5","&yen":"\xA5","&Yfr;":"\u{1D51C}","&yfr;":"\u{1D536}","&YIcy;":"\u0407","&yicy;":"\u0457","&Yopf;":"\u{1D550}","&yopf;":"\u{1D56A}","&Yscr;":"\u{1D4B4}","&yscr;":"\u{1D4CE}","&YUcy;":"\u042E","&yucy;":"\u044E","&Yuml;":"\u0178","&yuml;":"\xFF","&yuml":"\xFF","&Zacute;":"\u0179","&zacute;":"\u017A","&Zcaron;":"\u017D","&zcaron;":"\u017E","&Zcy;":"\u0417","&zcy;":"\u0437","&Zdot;":"\u017B","&zdot;":"\u017C","&zeetrf;":"\u2128","&ZeroWidthSpace;":"\u200B","&Zeta;":"\u0396","&zeta;":"\u03B6","&Zfr;":"\u2128","&zfr;":"\u{1D537}","&ZHcy;":"\u0416","&zhcy;":"\u0436","&zigrarr;":"\u21DD","&Zopf;":"\u2124","&zopf;":"\u{1D56B}","&Zscr;":"\u{1D4B5}","&zscr;":"\u{1D4CF}","&zwj;":"\u200D","&zwnj;":"\u200C"};function s(l){return l&&l.replace(/&#?[a-z0-9]+;/gi,o=>{if(a[o])return a[o];if(o.match(/^&#x[0-9a-f]+;$/i)){const f=o.substring(3,o.length-1),r=parseInt(f,16);return String.fromCodePoint(r)}if(o.match(/^&#[0-9]+;$/)){const f=o.substring(2,o.length-1),r=parseInt(f,10);return String.fromCodePoint(r)}return o})}h(s,"unescapeEntities")},pJGC:function(J,i,e){"use strict";var n=e("OZf9"),t=e("SQ0V"),a=e("Kn+X"),s=e("Sczb"),l=e("hRxb"),o=e("qH0c");const f=Object(t.c)("Sync unfurl state from server to redux",(r,m,c)=>{let{draft:u,filePermissions:d}=c;if(!u)return;const p=Object(a.e)(u)||"";if(!p)return;const v=m(),g=Object(a.n)(u)||[],b=(Object(s.h)(v,{ops:g})||[]).map(y=>Object(l.a)(v,y)).filter(y=>!!y);Object(n.a)(d,y=>{const C=y.file_id,_=b.includes(C);r(_?Object(o.c)({fileId:C,draftId:p,grant:y.grant}):Object(o.b)({draftId:p,fileId:C}))})});f.meta={name:"createThunk",key:"createThunksyncDraftFilePermissionsState",description:"Sync unfurl state from server to redux"},i.a=f},pTwU:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("DQNL"),t=e("2oNE");function a(s){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object(t.a)(s.id,Object(n.g)(s),l)}h(a,"makeSlackmentionForUsergroup")},paOu:function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("HI9p"),t=e("3ftV"),a=e("WXix"),s=e("mdQV"),l=e("m5Yc"),o=e("puGG"),f=e("PglX");const{_EMOJI_GROUP:r}=l.b;function m(u,d,p,v,g,O,b){const y=u.slice(O,b),C=O+Object(n.a)(y,a.a),_=O+Object(t.a)(y,a.a)+1;u.splice(C,_-C,{type:r,name:d,size:p,displayAlias:v,skinTone:g,elements:u.slice(C,_)})}h(m,"insertEmojiGroup");function c(u){let d,p,v,g,O,b=u.length-1;for(;b>=-1;){const C=u[b];if(v=v??b,p=p??0,Object(a.a)(C))C.name===d&&C.displayAlias===g&&C.skinTone===O?p+=1:(p>=o.c&&m(u,d,p,g,O,b+1,v+1),d=C.name,g=C.displayAlias,O=C.skinTone,v=b,p=1);else if(!Object(s.a)(C)||Object(f.a)(C)!==0){var y;p>=o.c&&m(u,d,p,g,O,b+1,v+1),d=void 0,g=void 0,O=void 0,v=void 0,p=void 0,!((y=C)===null||y===void 0)&&y.elements&&c(C.elements)}b-=1}return u}h(c,"groupEmojis")},pbND:function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("q1tI"),t=e.n(n),a=e("KYPV"),s=e("BHdc"),l=e("MYuU"),o=e("4r5K");function f(){const[p,v]=Object(n.useReducer)(r,[]),g=Object(n.useCallback)(b=>{v({type:"addHint",hintId:b})},[v]),O=Object(n.useCallback)(b=>{v({type:"removeHint",hintId:b})},[v]);return{hints:p,addHint:g,removeHint:O}}h(f,"useHints");function r(p,v){switch(v.type){case"addHint":return[...p,v.hintId];case"removeHint":return p.filter(g=>g!==v.hintId);default:return p}}h(r,"hintsReducer");var m=e("Z4OJ");const c=t.a.createContext({name:""});function u(p){let{children:v,name:g,className:O,labelId:b,validate:y,validateAsync:C,focusOnMount:_=!1}=p;const j=Object(o.a)(g),[E]=Object(a.d)({name:g,...C||y?{validate:C||y}:{}}),{hints:M,addHint:T,removeHint:P}=f(),B=Object(n.useMemo)(()=>({name:g,addHint:T,removeHint:P}),[T,g,P]),[R,U]=Object(n.useState)(!1);Object(n.useEffect)(()=>{_&&!R&&U(!R)},[R,_]);const K=Object(l.e)([b]),V=Object(l.e)([M,j.map(N=>N.id)]),z=Object(s.default)({"c-input_text--with_hint":M.length||j.length},O);return t.a.createElement(c.Provider,{value:B},v({field:{...E,ariaLabelledby:K,isInvalid:j.length>0,ariaDescribedby:V,className:z,focusOnMount:_&&!R},fieldErrors:j,hintProps:{addHint:T,removeHint:P}}))}h(u,"BaseField"),u.displayName="BaseField";var d=i.b=u},peVv:function(J,i,e){"use strict";e.d(i,"b",function(){return p}),e.d(i,"a",function(){return v});var n=e("q1tI"),t=e.n(n),a=e("XXd4"),s=e("Yauy"),l=e("y/Pn"),o=e("Wn1n"),f=e("E3dU"),r=e("JoR1"),m=e("T1zM"),c=e("3l96"),u=e("zg12"),d=e("SQ0V");const p=Object(d.c)("maybeShowDay1CreatorWelcomeModal",(g,O)=>{const b=O(),y=v(b);y&&Object(r.u)(b,"should_show_shared_channels_day1_creator_welcome_modal")&&Object(l.a)(y)&&Object(a.a)(b,y)&&(g(Object(c.a)({element:t.a.createElement(u.a,{sharedChannelConnected:!0,channelId:Object(s.i)(y)})})),g(Object(m.f)({pref:"should_show_shared_channels_day1_creator_welcome_modal",value:!1})))});p.meta={name:"createThunk",key:"createThunkmaybeShowDay1CreatorWelcomeModal",description:"maybeShowDay1CreatorWelcomeModal"};function v(g){const O=Object(o.a)(g);return Object(f.d)(g,O)}h(v,"getActiveChannel")},pfyn:function(J,i,e){"use strict";e.d(i,"a",function(){return se});var n=e("ifKl"),t=e("NZ+B"),a=e("0VPD"),s=e("fujP"),l=e("qAkX"),o=e("OtLZ"),f=e("Bw5p"),r=e("m8R6"),m=e("HA5h"),c=e("yIs4"),u=e("mM05"),d=e.n(u),p=e("lhZz"),v=e("RbOw"),g=e("5IZy"),O=e("kBpe"),b=e("Z44y"),y=e("veLH"),C=e("TQ9f"),_=e("kBas");function j($){if(!$)return!1;const X=$.getSelection();return X?X.index+X.length===$.getLength()-1:!1}h(j,"isSelectionAtEnd");var E=e("aVxC"),M=e("BBys"),T=e("xAZW"),P=e("dZlw"),B=e("0LZ2"),R=e("ktUG"),U=e("khnw"),K=e("pu3F"),V=e("mSgU");const z=K.D-1,N={bindings:{},onEnter:n.a,onEscape:n.a,onTab:n.a,featureReactMessages:!0,shouldInsertNewline:n.a},A=h(()=>({home:{key:U.g,handler(){this.quill.setSelection(0,0)}},shiftHome:{key:U.g,shiftKey:!0,handler($){this.quill.setSelection(0,$.index+$.length)}},end:{key:U.d,handler(){this.quill.setSelection(this.quill.getLength(),0)}},shiftEnd:{key:U.d,shiftKey:!0,handler($){this.quill.setSelection($.index,this.quill.getLength()-$.index)}}}),"getMacSpecificBindings"),x=h($=>{let{texty:X,range:q,context:Y,onBackspaceExternal:ee}=$;if(!X.isEnabled()||X.getModules().some(ne=>ne.onBackspace?ne.onBackspace({range:q,context:Y}):!1))return!1;if(ee){const ne=ee();return Object(t.a)(ne)?ne:!0}return!0},"onBackspace"),k=h($=>{let{modifiers:X={},range:q,context:Y,onEnterExternal:ee,quill:w,texty:ne,singleLineInput:ae,shouldInsertNewline:de=n.a,useWysiwyg:ge}=$;if(!ne.isEnabled()||ne.getModules().some(me=>me.onEnter?me.onEnter(X,{range:q,context:Y,shouldInsertNewline:de}):!1))return!1;if(!ae&&de(X)||ee(X)){var Q,ie;let me=[];if(ge&&Y){var oe;if(me=Object(a.a)(Object.keys(Y.format||{}),["bold","italic","underline","strike","code"]),Y&&!Object(s.a)(Y.format)&&Y.format.header&&Y.offset===0)return w.setSelection(q.index,"silent"),w.insertText(q.index,`
`,"user"),w.setSelection(q.index+1,"silent"),w.removeFormat(q.index),!1;if(Y&&!Object(s.a)(Y.format)&&Y.format.header&&Y.offset!==0&&!X.shiftKey&&setTimeout(()=>{const Se=w.getSelection();w.removeFormat(Se.index)},0),Y&&!Object(s.a)(Y.format)&&Y.format.slackhorizontalrule)return w.insertText(q.index+1,`
`,"user"),w.setSelection(q.index+1,"silent"),!1;if(Y.collapsed&&Y.format&&Y.format["code-block"]&&(!Y.suffix.length||Y.suffix.match(/^\s+$/))){const Se=q.index>1?w.getContents(q.index-2,2):null,Pe=Se&&Se.ops&&Se.ops.length===1&&Se.ops[0];if(Pe&&Pe.insert===`

`&&Pe.attributes&&Pe.attributes["code-block"])return w.insertText(q.index,`
`),w.setSelection(q.index+1,0),w.removeFormat(q.index+1,0),w.deleteText(q.index-2,2,"user"),!1}if(!(Y==null||(oe=Y.format)===null||oe===void 0)&&oe["code-block"]&&setTimeout(()=>{const Se=w.getFormat(q.index-1,1),Pe=w.getFormat(q.index,1);(!(Se!=null&&Se.border)||Pe!=null&&Pe.border)&&w.formatLine(q.index-1,1,"border",Se.border||Pe.border)},0),Object(b.a)()&&Y&&Y.collapsed&&Y.format&&Y.format.list){const Se=Object(l.a)(w.getContents().ops);return Se&&Se.attributes&&Se.attributes.list&&w.insertText(w.getLength(),`
`,"silent"),!0}if(!Object(b.a)()&&Y.format.list&&!Y.prefix.length&&!Y.suffix.length&&Y.empty)return w.formatLine(q.index,1,{list:!1,indent:0},"silent"),!1;if(Y&&Y.collapsed&&Y.format&&Y.format.blockquote&&!Y.prefix.length&&!Y.suffix.length){const Se=q.index>1?w.getContents(q.index-2,2):null,Pe=Se&&Se.ops&&Se.ops.length===1&&Se.ops[0];if(Pe&&Pe.insert===`

`&&Pe.attributes&&Pe.attributes.blockquote)return w.insertText(q.index,`
`),w.setSelection(q.index+1,0),w.removeFormat(q.index+1,0),w.deleteText(q.index-2,2,"user"),!1}Y&&Y.format&&Y.format.code&&Y.prefix.length&&Y.suffix.length&&(me=Object(o.a)(me,"code"),setTimeout(()=>(w.formatText(q.index,q.index+Y.suffix.length,{code:!1},"silent"),!0),0))}const be=Object(f.a)(Y.format||{},["code-block","blockquote","list"]);!(Y==null||(Q=Y.format)===null||Q===void 0)&&Q.indent&&(be.indent=Y.format.indent),!(Y==null||(ie=Y.format)===null||ie===void 0)&&ie.border&&(be.border=Y.format.border),ne.insertContentsAtCursor({contents:new d.a().insert(`
`,be).ops}),ge&&me.length&&me.forEach(Se=>{w.format(Se,!0)}),w.selection.scrollIntoView(w.scrollingContainer),Object(y.a)(w.scrollingContainer)&&j(w)&&(w.scrollingContainer.scrollTop=Number.MAX_SAFE_INTEGER)}return!1},"onEnter"),F=h($=>{let{onEscapeExternal:X,quill:q,texty:Y,useWysiwyg:ee,range:w,context:ne}=$;return Y.getModules().some(de=>de.onEscape?de.onEscape():!1)?!1:ee&&(ne.empty&&ne.collapsed&&ne.format.blockquote||ne.collapsed&&ne.format["code-block"]&&(ne.empty||ne.prefix.length&&ne.prefix.substr(-1)===`
`))?(q.removeFormat(w),!1):X?!X():!0},"onEscape"),L=h($=>{let{modifiers:X={},onTabExternal:q,texty:Y,context:ee}=$;return Y.getModules().some(ne=>ne.onTab?ne.onTab(X):!1)?!1:q?q({modifiers:X,texty:Y,context:ee}):!0},"onTab");function S(){let{quill:$,range:X,context:q}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Y=new d.a;let ee=null;!q.collapsed&&X.index>0&&(Y.retain(X.index),ee=$.getContents(X.index-1,1));const w=q.collapsed?$.getContents():$.getContents(X.index,X.length),ne=Object(M.a)(w);let ae=X.length;q.collapsed||(ae=w.compose(ne).length()),$.updateContents(Y.concat(ne));const de=q.collapsed?$.getContents():$.getContents(X.index,ae),ge=Object(E.a)(de,ee);$.updateContents(Y.concat(ge))}h(S,"convertMarkdown");const I=h(()=>({bold:{key:"B",shortKey:!0,handler($){return this.applyFormattingFromShortcut("bold",$)}},italic:{key:"I",shortKey:!0,handler($){return this.applyFormattingFromShortcut("italic",$)}},strike:{key:"x",shiftKey:!0,shortKey:!0,handler($){return this.applyFormattingFromShortcut("strike",$)}},code:{key:"c",shiftKey:!0,shortKey:!0,handler($){return this.applyFormattingFromShortcut("code",$)}},link:{key:"u",shiftKey:!0,shortKey:!0,handler(){return this.options.showLinkForm&&this.options.showLinkForm({source:R.MsgFormattingInputSource.KEYBOARD}),!1}},"bullet-list":{key:56,shiftKey:!0,shortKey:!0,handler($){return this.applyFormattingFromShortcut("bullet-list",$)}},"ordered-list":{key:55,shiftKey:!0,shortKey:!0,handler($){return this.applyFormattingFromShortcut("ordered-list",$)}},blockquote:{key:57,shiftKey:!0,shortKey:!0,handler($){return this.applyFormattingFromShortcut("blockquote",$)}},"blockquote-alt":{key:190,shiftKey:!0,shortKey:!0,handler($){return this.applyFormattingFromShortcut("blockquote",$)}},"code-block":{key:"c",shortKey:!0,shiftKey:!0,altKey:!0,handler($){return this.applyFormattingFromShortcut("code-block",$)}}}),"getFormattingBindings"),W=h(()=>({"block code down arrow":{key:U.c,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code-block"],handler($,X){if(!X.suffix.length||X.suffix===`
`){const q=this.quill.getLength()-1;X.prefix.length&&$.index===q&&this.quill.insertText($.index+1,`
`,"user")}return!0}},"up arrow out of code block":{key:U.r,format:{"code-block":!0},collapsed:!0,handler($,X){const[q]=this.quill.getLine($.index-1);return q&&!q.prev&&q.parent&&q.parent.statics&&q.parent.statics.blotName&&q.parent.statics.blotName==="scroll"&&X.prefix.length===0&&$.index===0&&setTimeout(()=>(this.quill.insertText(0,` 
`,{"code-block":!1},"silent"),this.quill.setSelection(0,0,"silent"),!1),0),!0}},"inline code right arrow":{key:U.o,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code"],handler($,X){return this.quill.getText($.index,1)===`
`&&X.prefix.length&&!X.suffix.length?(this.quill.insertText($.index," ","user"),this.quill.formatText($.index,1,"code",!1,"silent"),this.quill.setSelection($.index+1,0,"silent"),!1):!0}},"delete on empty line to merge with code block":{key:U.b,empty:!0,handler($){return setTimeout(()=>{const X=this.quill.getFormat($.index,0),q=this.quill.getFormat($.index-1,0);!(X!=null&&X.border)&&(q==null?void 0:q.border)>0&&this.quill.formatLine($.index,0,"border","1"),(X==null?void 0:X.border)>0&&!(q!=null&&q.border)&&this.quill.formatLine($.index-1,0,"border","1")},0),!0}},"delete line after code block from within code block":{key:U.b,format:{"code-block":!0},handler($){const X=this.quill.getText($.index,1)===`
`,q=this.quill.getFormat($.index,0);return X&&(q!=null&&q["code-block"])&&(this.quill.formatLine($.index+1,0,"code-block",!0),q!=null&&q.border&&this.quill.formatLine($.index+1,0,"border","1"),setTimeout(()=>{const Y=this.quill.getFormat($.index,0),ee=this.quill.getFormat($.index+1,0);!(Y!=null&&Y.border)&&(ee==null?void 0:ee.border)>0&&this.quill.formatLine($.index,0,"border","1"),(Y==null?void 0:Y.border)>0&&!(ee!=null&&ee.border)&&this.quill.formatLine($.index+1,0,"border","1")},0)),!0}},"backspace merging code blocks from empty line":{key:U.a,empty:!0,format:{"code-block":!1,blockquote:!1},handler($){return setTimeout(()=>{const X=this.quill.getFormat($.index-1,0),q=this.quill.getFormat($.index,0);!(X!=null&&X.border)&&(q==null?void 0:q.border)>0&&this.quill.formatLine($.index-1,0,"border","1"),(X==null?void 0:X.border)>0&&!(q!=null&&q.border)&&this.quill.formatLine($.index,0,"border","1")},0),!0}},"backspace merging code blocks from within code block":{key:U.a,offset:0,format:{"code-block":!0},handler($){return setTimeout(()=>{const X=this.quill.getFormat($.index-1,0),q=this.quill.getFormat($.index-2,0);X!=null&&X.border&&!(q!=null&&q.border)>0&&this.quill.formatLine($.index-2,0,"border","1"),!(X!=null&&X.border)&&(q==null?void 0:q.border)>0&&this.quill.formatLine($.index-1,0,"border","1")},0),!0}},"sanitize code block border information after undo":{key:"Z",shortKey:!0,format:{"code-block":!0,border:"1"},handler(){const $=this.quill.getSelection();return setTimeout(()=>{const X=this.quill.getContents();this.quill.setContents(X),this.quill.setSelection($.index,0)},0),!0}},"sanitize quoted list border information after undo":{key:"Z",shortKey:!0,format:{list:!0,border:"1"},handler($,X){return setTimeout(()=>{var q;!(X==null||(q=X.format)===null||q===void 0)&&q.border&&this.quill.formatLine($.index,$.length,{border:"0"})},0),!0}},"sanitize quoted blockquote border information after undo":{key:"Z",shortKey:!0,format:{blockquote:!0,border:"1"},handler($,X){return this.quill.formatLine($.index,$.length,{border:"0"}),X.empty?(this.quill.insertText($.index,"> "),this.quill.setSelection($.index+2,0)):(this.quill.insertText(0,"> "),this.quill.setSelection($.index+2,0)),!1}},"backspace empty code block with border":{key:U.a,collapsed:!0,empty:!0,offset:0,format:{"code-block":!0,border:!0},handler(){return this.quill.format("border","0","user"),!0}},"backspace empty code block":{key:U.a,collapsed:!0,empty:!0,offset:0,format:{"code-block":!0,border:!1},handler(){return this.quill.format("code-block",!1,"user"),!0}},"backspace empty blockquote":{key:U.a,collapsed:!0,empty:!0,offset:0,format:["blockquote"],handler($,X){var q;return(X==null||(q=X.format)===null||q===void 0?void 0:q.border)>=1?(this.quill.format("border","0","user"),!1):(this.quill.format("blockquote",!1,"user"),!1)}},"backspace non-empty single line blockquote":{key:U.a,collapsed:!0,empty:!1,offset:0,format:["blockquote"],handler($,X){var q;const Y=(X==null||(q=X.format)===null||q===void 0?void 0:q.border)>=1,ee=X==null?void 0:X.suffix,w=this.quill.getFormat($.index-1,0),ne=this.quill.getFormat($.index+ee.length+1,0),ae=w.blockquote||ne.blockquote,de=!ne.blockquote&&$.index===0;return Y&&(!ae||de)?(this.quill.format("border","0","silent"),!1):!Y&&(!ae||de)?(this.quill.format("blockquote",!1,"silent"),!1):(ee&&ae&&this.quill.deleteText($.index-1,1),!1)}},"convert markdown":!Object(b.a)()&&{key:"f",shortKey:!0,shiftKey:!0,handler($,X){S({quill:this.quill,range:$,context:X})}}}),"getWysiwygBindings"),D=h($=>{let{Quill:X,localWindow:q}=$;return{"inline code spacebar":{key:U.p,shiftKey:!1,metaKey:!1,altKey:!1,ctrlKey:!1,collapsed:!0,format:["code"],handler(Y,ee){const w=Object(r.a)(ee.format,["code"]);return ee.prefix.length&&!ee.suffix.length?(this.quill.setSelection(Y.index,"silent"),this.quill.insertText(Y.index," ","user"),this.quill.setSelection(Y.index,1,"silent"),this.quill.removeFormat(Y.index,1,"silent"),Object(s.a)(w)||this.quill.formatLine(Y.index,Y.length,w),this.quill.setSelection(Y.index+1,0,"silent"),!1):!0}},"delete image":{key:U.b,handler(Y){const ee=this.quill.getFormat(Y.index+1,1),w=this.quill.getFormat(Y.index,1);return ee&&ee.imageSrc&&ee.isPrivate!=="true"?(setTimeout(()=>{const ne=q.document.querySelector(`docsblockembed[data-image-src="${ee.imageSrc}"]`),ae=X.find(ne);return Object(v.b)(ae),this.quill.setSelection(Y.index+1,0),w&&w.imageSrc&&w.isPrivate!=="true"&&w.isSelected==="true"?(this.quill.deleteText(Y.index,1),!0):!1},0),!1):!0}},"backspace image":{key:U.a,handler(Y){const ee=this.quill.getFormat(Y.index-1,1),w=this.quill.getFormat(Y.index,1);return ee&&ee.imageSrc&&ee.isPrivate!=="true"?(setTimeout(()=>{const ne=q.document.querySelector(`docsblockembed[data-image-src="${ee.imageSrc}"]`),ae=X.find(ne);return Object(v.b)(ae),this.quill.setSelection(Y.index-1,0),w&&w.imageSrc&&w.isPrivate!=="true"&&w.isSelected==="true"?(this.quill.deleteText(Y.index,1),!0):!1},0),!1):(w&&w.imageSrc&&w.isPrivate!=="true"&&w.isSelected==="true"&&this.quill.deleteText(Y.index,1),!0)}},"undo block format immediately":{key:"Z",metaKey:!0,collapsed:!0,empty:!0,offset:0,handler(Y,ee){return ee.format&&ee.format["code-block"]?(this.quill.formatLine(Y.index,Y.length,{"code-block":!1}),this.quill.insertText(Y.index,"``` "),this.quill.setSelection(Y.index+4,0),!1):!0}}}},"getDocsWysiwygBindings");function H($){let{teamId:X,isIndent:q,indentLevel:Y}=$;const ee=q?R.MsgFormattingInputFormat.INDENT:R.MsgFormattingInputFormat.DEDENT;Object(g.a)(Object(p.getStoreInstanceByTeamId)(X)).track(R.EventId.MSG_FORMATTING_ADDED,{input_context:Object(b.a)()?R.MsgFormattingInputContext.POST:R.MsgFormattingInputContext.MESSAGE,input_source:R.MsgFormattingInputSource.KEYBOARD,input_format:ee,indent_level:Y,is_selection:!1})}h(H,"clogListIndentFormatting");function Z($){let{teamId:X,Quill:q}=$;return{indent:{key:U.q,format:["indent","list"],handler(Y,ee){var w;if(ee.collapsed&&ee.offset!==0)return!0;this.quill.format("indent","+1",q.sources.USER);const ae=((ee==null||(w=ee.format)===null||w===void 0?void 0:w.indent)||0)+1;return ae<=z&&H({teamId:X,isIndent:!0,indentLevel:ae}),!1}},outdent:{key:U.q,shiftKey:!0,format:["indent","list"],handler(Y,ee){var w;if(ee.collapsed&&ee.offset!==0)return!0;this.quill.format("indent","-1",q.sources.USER);const ne=ee==null||(w=ee.format)===null||w===void 0?void 0:w.indent;if(ne>0){const ae=ne-1;H({teamId:X,isIndent:!1,indentLevel:ae})}return!1}},"outdent backspace":{key:U.a,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(Y,ee){var w;ee.format.indent!=null?this.quill.format("indent","-1",q.sources.USER):ee.format.list!=null&&this.quill.format("list",!1,q.sources.USER);const ne=ee==null||(w=ee.format)===null||w===void 0?void 0:w.indent;if(ne>0){const ae=ne-1;H({teamId:X,isIndent:!1,indentLevel:ae})}}}}}h(Z,"getNestedListsBindings");const G=h(($,X)=>{let{texty:q,singleLineInput:Y,onEnterExternal:ee,onBackspaceExternal:w,onTabExternal:ne,inlineEmojiIsEnabled:ae,useWysiwyg:de,usePlainTextMode:ge,shouldInsertNewline:le,teamId:Q,localWindow:ie,Quill:oe}=X;const me=Object(O.p)()?"metaKey":"ctrlKey",be={...Z({teamId:Q,Quill:oe}),underline:{key:"u",shortKey:!0,handler:Se=>{var Pe;if(!(q==null||(Pe=q.options)===null||Pe===void 0)&&Pe.onPlusMenuShortcut)return q.options.onPlusMenuShortcut(),!1;if($.options.formats.indexOf("underline")===-1)return!0;const Ue=$.getModule("keyboard");return Ue&&Ue.applyFormattingFromShortcut("underline",Se),!0}},backspace:{key:U.a,handler:(Se,Pe)=>x({texty:q,range:Se,context:Pe,onBackspaceExternal:w})},enter:{key:U.e,context:{empty:!1},handler:(Se,Pe)=>k({range:Se,context:Pe,onEnterExternal:ee,quill:$,texty:q,singleLineInput:Y,shouldInsertNewline:le,useWysiwyg:de})},shiftEnter:{key:U.e,shiftKey:!0,context:{empty:!1},handler:(Se,Pe)=>k({modifiers:{shiftKey:!0},range:Se,context:Pe,onEnterExternal:ee,quill:$,texty:q,singleLineInput:Y,shouldInsertNewline:le,useWysiwyg:de})},metaEnter:{key:U.e,shiftKey:!1,shortKey:!0,handler:(Se,Pe)=>k({modifiers:{[me]:!0},range:Se,context:Pe,onEnterExternal:ee,quill:$,texty:q,singleLineInput:Y,shouldInsertNewline:le,useWysiwyg:de})},metaShiftEnter:{key:U.e,shiftKey:!0,shortKey:!0,handler:(Se,Pe)=>k({modifiers:{[me]:!0,shiftKey:!0},range:Se,context:Pe,onEnterExternal:ee,quill:$,texty:q,singleLineInput:Y,shouldInsertNewline:le,useWysiwyg:de})},optionEnter:{key:U.e,altKey:!0,handler:(Se,Pe)=>k({modifiers:{altKey:!0},range:Se,context:Pe,onEnterExternal:ee,quill:$,texty:q,singleLineInput:Y,shouldInsertNewline:le,useWysiwyg:de})},ctrlEnter:{key:U.e,ctrlKey:!0,handler:(Se,Pe)=>k({modifiers:{ctrlKey:!0},range:Se,context:Pe,onEnterExternal:ee,quill:$,texty:q,singleLineInput:Y,shouldInsertNewline:le,useWysiwyg:de})},tab:{key:U.q,handler:(Se,Pe)=>L({onTabExternal:ne,texty:q,context:Pe})},shiftTab:{key:U.q,shiftKey:!0,handler:(Se,Pe)=>L({modifiers:{shiftKey:!0},onTabExternal:ne,texty:q,context:Pe})},"indent code-block":{key:U.q,shiftKey:!1,format:{"code-block":!0},handler:()=>!0},"outdent code-block":{key:U.q,shiftKey:!0,format:{"code-block":!0},handler:()=>!0},"code exit":{key:U.e,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:h(function(){return!0},"handler")},"list autofill":de&&!ge&&{key:" ",collapsed:!0,format:{list:!1,code:!1,"code-block":!1},ctrlKey:null,shiftKey:null,altKey:null,prefix:/^\s*?(1(\.|\))|-|\*|\u2022|\[ ?\]|\[x\])$/,handler(Se,Pe){if(Pe.prefix&&Pe.prefix.startsWith("[")&&!this.quill.options.modules.slackdocslist)return!0;const Ue=Pe.prefix.length,je=this.quill.getLine(Se.index)[1],_e=this.quill.getFormat();if(je>Ue)return!0;let pe,fe;switch(Pe.prefix.trim()){case"[]":case"[ ]":pe="unchecked",fe=R.MsgFormattingInputFormat.CHECK_LIST;break;case"[x]":pe="checked",fe=R.MsgFormattingInputFormat.CHECK_LIST;break;case"-":case"*":case"\u2022":pe="bullet",fe=R.MsgFormattingInputFormat.BULLET_LIST;break;default:pe="ordered",fe=R.MsgFormattingInputFormat.ORDERED_LIST}const Ee=Object(P.a)(this.quill,Se),ye=_e!=null&&_e.blockquote?"1":"0";return Object(_.a)(this.quill,{format:{list:pe,border:ye},range:Se,replacementLength:Ue,charToInsert:" "}),Object(g.a)(Object(p.getStoreInstanceByTeamId)(Q)).track(R.EventId.MSG_FORMATTING_ADDED,{input_context:Object(b.a)()?R.MsgFormattingInputContext.POST:R.MsgFormattingInputContext.MESSAGE,input_source:R.MsgFormattingInputSource.MARKDOWN,input_format:fe,is_selection:!1,input_prexisting_block_formats:Ee}),!1}},"opt/ctrl shift left arrow":{key:U.k,shiftKey:!0,altKey:Object(O.p)(),ctrlKey:!Object(O.p)(),collapsed:!0,handler:h(function(Pe){if(!ae||!ae()||!Pe||Pe.index<1)return!0;const Ue=this.quill.getContents(Pe.index-1,1),Fe=Ue&&Ue.ops&&Ue.ops[0];return Object(C.a)(Fe)?(this.quill.setSelection(Pe.index-1,1),!1):!0},"handler")},"opt/ctrl shift right arrow":{key:U.o,shiftKey:!0,altKey:Object(O.p)(),ctrlKey:!Object(O.p)(),collapsed:!0,handler:h(function(Pe){if(!ae||!ae())return!0;const Ue=this.quill.getLength();if(!Pe||Pe.index>=Ue-1)return!0;const Fe=this.quill.getContents(Pe.index,1),je=Fe&&Fe.ops&&Fe.ops[0];return Object(C.a)(je)?(this.quill.setSelection(Pe.index,1),!1):!0},"handler")},"ctrl underline":{key:"U",ctrlKey:!0,handler(){return Object(O.h)()&&ie.document.execCommand("underline",!1,null),!0}}};return de&&!ge&&(Object(m.a)(be,W()),Object(m.a)(be,I()),Object(b.a)()&&Object(m.a)(be,D({Quill:oe,localWindow:ie}))),Object(O.p)()?Object(m.a)(be,A()):be},"getEarlyBindings"),te=h(($,X)=>{let{onCmdLeftWhenEmpty:q,onCmdRightWhenEmpty:Y,onCmdKWhenSelected:ee,onCmdZWhenEmpty:w,onDownArrowWhenEmpty:ne,onEscapeExternal:ae,onUpArrow:de,onUpArrowCmd:ge,onUpArrowShift:le,onDownArrow:Q,onDownArrowCmd:ie,onDownArrowShift:oe,onRightArrow:me,onLeftArrow:be,onSelectAll:Se,onPageUp:Pe,onPageDown:Ue,texty:Fe,useWysiwyg:je}=X;const _e=[{key:U.f,handler:(pe,fe)=>F({onEscapeExternal:ae,quill:$,texty:Fe,useWysiwyg:je,range:pe,context:fe})}];return de&&_e.push({key:U.r,format:{"code-block":!1},handler(){return de()}}),Q&&_e.push({key:U.c,handler(){return Q()}}),me&&_e.push({key:U.o,handler(){const pe=me();return Object(t.a)(pe)?pe:!0}}),be&&_e.push({key:U.k,handler(){const pe=be();return Object(t.a)(pe)?pe:!0}}),ge&&_e.push({key:U.r,shortKey:!0,handler(){return ge(),!0}}),ie&&_e.push({key:U.c,shortKey:!0,handler(){return ie(),!0}}),le&&_e.push({key:U.r,shiftKey:!0,handler(){return le(),!0}}),oe&&_e.push({key:U.c,shiftKey:!0,handler(){return oe(),!0}}),ne&&_e.push({key:U.c,handler(){return $.getLength()===1&&ne(),!0}}),q&&_e.push({key:U.k,shortKey:!0,handler(){return $.getLength()===1&&q(),!0}}),Y&&_e.push({key:U.o,shortKey:!0,handler(){return $.getLength()===1&&Y(),!0}}),w&&_e.push({key:"Z",shortKey:!0,handler(){return $.getLength()===1?!w():!0}}),ee&&_e.push({key:"K",shortKey:!0,handler(){return $.getSelection().length&&ee(),!0}}),Se&&_e.push({key:"A",shortKey:!0,handler(){const pe=Se();return Object(t.a)(pe)?pe:!0}}),Pe&&_e.push({key:U.n,handler(){const pe=Pe();return Object(t.a)(pe)?pe:!0}}),Ue&&_e.push({key:U.m,handler(){const pe=Ue();return Object(t.a)(pe)?pe:!0}}),_e},"getLateBindings");function se($){const X=Object(B.a)($),q=$||window,Y=X.import("modules/keyboard");return h(class extends Y{applyFormattingFromShortcut(ne,ae){const de=Object(P.a)(this.quill,ae),{didHandle:ge,addedFormatting:le,hadSelection:Q}=Object(T.a)(this.quill,{format:ne,index:ae.index,length:ae.length},this.options.useExpandedRichText);return ge&&Object(c.a)(V.a[ne])&&Object(g.a)(Object(p.getStoreInstanceByTeamId)(this.options.teamId)).track(le?R.EventId.MSG_FORMATTING_ADDED:R.EventId.MSG_FORMATTING_REMOVED,{input_context:Object(b.a)()?R.MsgFormattingInputContext.POST:R.MsgFormattingInputContext.MESSAGE,input_source:R.MsgFormattingInputSource.KEYBOARD,input_format:V.a[ne],is_selection:Q,input_prexisting_block_formats:de}),!1}onKeydown(ne){(ne.keyCode===U.g||ne.keyCode===U.d)&&this.quill.getLength()>1?ne.stopPropagation():this.onLeftArrow&&ne.keyCode===U.k&&this.quill.getLength()===1&&this.onLeftArrow()}unload(){this.quill.root.removeEventListener("keydown",this.onKeydown)}constructor(ne,ae){let de=ae;de=Object(m.a)({},{localWindow:q,Quill:X,...N},de);const ge=G(ne,de);de.bindings=Object(m.a)({},de.bindings,ge),super(ne,de),this.onKeydown=this.onKeydown.bind(this),ne.root.addEventListener("keydown",this.onKeydown),te(ne,de).forEach(Q=>this.addBinding(Q)),ae.onLeftArrow&&(this.onLeftArrow=ae.onLeftArrow)}},"SlackKeyboard")}h(se,"getSlackKeyboardModule")},pjzw:function(J,i,e){"use strict";e.d(i,"g",function(){return t}),e.d(i,"f",function(){return a}),e.d(i,"e",function(){return s}),e.d(i,"d",function(){return l}),e.d(i,"c",function(){return o}),e.d(i,"b",function(){return f}),e.d(i,"a",function(){return r});var n=e("ZKjC");const t=Object(n.b)(m=>{var c;return!!(!(m==null||(c=m.shortcutsMenu)===null||c===void 0)&&c.shouldOpen)});t.meta={name:"createSelector",key:"createSelectorshouldOpenShortcutsMenu",description:m=>{var c;return!!(!(m==null||(c=m.shortcutsMenu)===null||c===void 0)&&c.shouldOpen)}};const a=Object(n.b)(m=>{var c;return m==null||(c=m.shortcutsMenu)===null||c===void 0?void 0:c.viewContext});a.meta={name:"createSelector",key:"createSelectorgetShortcutsMenuViewContext",description:m=>{var c;return m==null||(c=m.shortcutsMenu)===null||c===void 0?void 0:c.viewContext}};const s=Object(n.b)(m=>{var c;return m==null||(c=m.shortcutsMenu)===null||c===void 0?void 0:c.threadTs});s.meta={name:"createSelector",key:"createSelectorgetShortcutsMenuThreadTs",description:m=>{var c;return m==null||(c=m.shortcutsMenu)===null||c===void 0?void 0:c.threadTs}};const l=Object(n.b)(m=>{var c;return m==null||(c=m.shortcutsMenu)===null||c===void 0?void 0:c.shortcutsMenuOpenTs});l.meta={name:"createSelector",key:"createSelectorgetShortcutsMenuOpenTs",description:m=>{var c;return m==null||(c=m.shortcutsMenu)===null||c===void 0?void 0:c.shortcutsMenuOpenTs}};const o=Object(n.b)(m=>{var c;return m==null||(c=m.shortcutsMenu)===null||c===void 0?void 0:c.pushedView});o.meta={name:"createSelector",key:"createSelectorgetPushedView",description:m=>{var c;return m==null||(c=m.shortcutsMenu)===null||c===void 0?void 0:c.pushedView}};const f=Object(n.b)(m=>{var c;return m==null||(c=m.shortcutsMenu)===null||c===void 0?void 0:c.openMethod});f.meta={name:"createSelector",key:"createSelectorgetOpenMethod",description:m=>{var c;return m==null||(c=m.shortcutsMenu)===null||c===void 0?void 0:c.openMethod}};const r=Object(n.b)(m=>{var c;return(c=m.shortcutsMenu)===null||c===void 0?void 0:c.openGifPicker});r.meta={name:"createSelector",key:"createSelectorgetNativeGifPickerToggleState",description:m=>{var c;return(c=m.shortcutsMenu)===null||c===void 0?void 0:c.openGifPicker}}},pmGC:function(J,i,e){"use strict";e.d(i,"a",function(){return r});var n=e("Lgge"),t=e("5TXe"),a=e("O86Y"),s=e("aVws"),l=e("s4P+"),o=e("2mvv"),f=e("vfQU");function r(m){const c=Object(s.c)(m),u=Object(a.g)(c);return window.desktop&&window.desktop.app&&window.desktop.app.uploadAppLogFiles?Object(f.Nc)({destination:"mc",token:Object(o.b)(c)}):Object(f.y)().then(d=>{const p=d&&d.length>0?d[0]:null;if(!p)return n.a.resolve();const v=p instanceof File?p:new File(p.buffer,p.name,p.options),g=Object(o.b)(c);return g?t.a.fetch({method:"profiling.addLogging",args:{token:g,platform:"ssb",log_file:v},teamId:u}):n.a.resolve()}).catch(d=>{Object(l.a)({teamId:u}).error(`Unable to upload app logs: ${d}`)})}h(r,"sendLogsForTeamId")},pmzr:function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("SQ0V"),t=e("x6tY"),a=e("QIbu"),s=e("PfQc"),l=e("dmdh"),o=e("lhZz"),f=e("+CZ0"),r=e("SIMs"),m=e("HHxC");const c=Object(n.c)("Opens a file from the thread in the canvas",(u,d,p,v)=>{if(!p.fileId)return;const g=d(),O=Object(l.e)(g,p.fileId);let b=a.a.CanvasFile;O&&Object(t.u)(O)&&(b=a.a.QuipFile);const y={type:b,id:O.id,userId:O.user||"",fileId:O.id};u(Object(s.a)({peerId:"self",contentViewType:b,contentViewConfig:{item:y}}));const C=Object(o.getStateForClientStore)(),_=Object(f.a)(C);!!_&&Object(r.x)(g,{huddleId:_})&&u(Object(m.a)({surface:a.b.WINDOW_FULL}))});c.meta={name:"createThunk",key:"createThunkopenFileInCanvas",description:"Opens a file from the thread in the canvas"}},"pt+W":function(J,i,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the slide editor in client (noop)");t.meta={name:"createAction",key:"createActionopenSlidesEditorDialogCircular",description:"Triggers a side-effect that opens the slide editor in client (noop)"},i.a=t},q3X1:function(J,i,e){"use strict";e.d(i,"c",function(){return o}),e.d(i,"a",function(){return f}),e.d(i,"b",function(){return r});var n=e("NFsq"),t=e("4TP3"),a=e("s4P+");const s="DRAFTS",l=[],o=h(c=>Object(n.a)(l,c),"shouldIgnoreDraftUpdateEvent");function f(c){if(!c||Object(n.a)(l,c))return;const{debug:u}=Object(a.b)({label:s});u(`Adding an id to the draft update event manager: ${c}`),l.push(c)}h(f,"addServerIdToUpdateEventManager");function r(c){if(!c||!Object(n.a)(l,c))return;const{debug:u}=Object(a.b)({label:s});u(`Removing an id from the draft update event manager: ${c}`),Object(t.a)(l,c)}h(r,"removeServerIdFromUpdateEventManager");const m={getTrackedIds:()=>l}},q3qm:function(J,i,e){"use strict";e.d(i,"a",function(){return c}),e.d(i,"b",function(){return g});var n=e("Lgge"),t=e("SQ0V"),a=e("WF6P"),s=e("j5nr"),l=e("cBJ3"),o=e("beVI"),f=e("G0eX"),r=e("O86Y"),m=e("gNhz"),c;(function(O){O.None="none",O.Viewer="viewer",O.Editor="editor"})(c||(c={}));const u=Object(t.c)("Sets a permission level for workspace link share",(O,b,y)=>{let{payload:C}=y;const _={...C};return _.reason="enable_cross_org_link_share",O(Object(a.a)(_))});u.meta={name:"createThunk",key:"createThunksetWorkspaceLinkSharingPermission",description:"Sets a permission level for workspace link share"};const d=Object(t.c)("Sets a permission level for workspace link share and updates file",(O,b,y)=>{let{payload:C}=y;return O(u({payload:C})).then(()=>O(Object(l.o)({fileId:C.fileId,orgOrWorkspaceAccess:C.accessLevel})))});d.meta={name:"createThunk",key:"createThunksetWorkspaceLinkSharingPermissionAndUpdatesFile",description:"Sets a permission level for workspace link share and updates file"};const p=Object(t.c)("Removes a workspace or org level link share",(O,b,y)=>{let{payload:C}=y;const _={...C};return _.reason="disable_cross_org_link_share",O(Object(s.a)(_))});p.meta={name:"createThunk",key:"createThunkremoveWorkspaceLinkSharingPermission",description:"Removes a workspace or org level link share"};const v=Object(t.c)("Removes a workspace or org level link share and updates file",(O,b,y)=>{let{payload:C}=y;return O(p({payload:C})).then(()=>O(Object(l.o)({fileId:C.fileId,orgOrWorkspaceAccess:"none"})))});v.meta={name:"createThunk",key:"createThunkremoveWorkspaceLinkSharingPermissionAndUpdatesFile",description:"Removes a workspace or org level link share and updates file"};const g=Object(t.c)("Calls the appropriate workspace link sharing thunk depending on the provided input.",(O,b,y)=>{let{fileId:C,orgSharingSetting:_}=y;const j=b(),E=Object(o.g)(j),M=Object(r.i)(j),T=Object(f.z)(E)?"org":"workspace",P=M;return _===c.None?O(v({payload:{fileId:C,entityType:T,entityId:P}})).catch(B=>n.a.reject(B)):_===c.Viewer||_===c.Editor?O(d({payload:{fileId:C,entityType:T,entityId:P,accessLevel:_===c.Viewer?m.a.Read:m.a.Write}})).catch(B=>n.a.reject(B)):n.a.reject(new Error("Invalid org sharing setting"))});g.meta={name:"createThunk",key:"createThunkhandleWorkspaceLinkSharingPermissionAndUpdatesFile",description:"Calls the appropriate workspace link sharing thunk depending on the provided input."}},q7Oo:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("nNoG");const l=new s.b("stories_av");function o(r){let{secondsRemaining:m,className:c}=r;const u=Object(a.default)("p-video_recorder_countdown",c);return t.a.createElement("div",{className:u},l.rt("Recording begins in {seconds}\u2026",{seconds:m}))}h(o,"VideoRecorderCountdown"),o.displayName="VideoRecorderCountdown";var f=i.a=o},qBqz:function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a}),e.d(i,"c",function(){return s});var n=e("JoR1");const t="who_can_share_contact_card",a={EVERYONE:"EVERYONE",TEAM_MEMBERS:"TEAM_MEMBERS",NO_ONE:"NO_ONE"},s=h(l=>Object(n.u)(l,t),"getWhoCanShareContactCardPref")},qCdX:function(J,i,e){"use strict";e.d(i,"a",function(){return K}),e.d(i,"b",function(){return V});var n=e("9oTK"),t=e.n(n),a=e("lhZz"),s=e("Aqb/"),l=e("PLUl"),o=e("GlHf"),f=e("Z7Ay"),r=e("fF9N"),m=e("p+AA"),c=e("NWwO"),u=e("3KJg"),d=e("YkFH"),p=e("QBFz"),v=e("fUOF"),g=e("7xYR"),O=e("Kdix"),b=e("3vtZ"),y=e("ykb+"),C=e("RVJP"),_=e("NH62"),j=e("1oFt");const E=1e3*60*10;let M=!1;const T=new _.a,P=new _.a,B=["event","longtask"];let R=h(class{start(){this.profiler=new Profiler({maxBufferSize:1e4,sampleInterval:0}),this.profiler.addEventListener("samplebufferfull",()=>{this.start()}),this.startTime=performance.now()}get sampleInterval(){return this.profiler.sampleInterval}stop(){return this.profiler.stop()}constructor(){this.start()}},"ContinuousProfiler");function U(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["selector_memo"];const F=Object(a.getStoreInstanceByTeamId)(x).getState();var L;return{...Object.fromEntries(k.map(I=>{var W;return[I,(L=(W=Object(C.c)(F,I))===null||W===void 0?void 0:W.group)!==null&&L!==void 0?L:"undefined"]}))}}h(U,"getJSProfileExperiments");function K(){var x;if(!Object(m.a)())return;const k=(x=window.PerformanceObserver)===null||x===void 0?void 0:x.supportedEntryTypes;if(!k)return;const F=B.filter(W=>k.includes(W));if(!F.length)return;const L=Object(a.getClientStoreInstance)();document.addEventListener("keydown",W=>{if(P.count("keystrokes"),W.target instanceof HTMLElement){var D,H;const Z=(D=W.target)===null||D===void 0||(H=D.dataset)===null||H===void 0?void 0:H.inputMetricBoundary;Z&&P.count(`${Z}_keystrokes`)}});let S;if(Object(v.a)("self_profiling","enabled")&&!Object(y.c)())try{S=new R}catch{}const I=new PerformanceObserver(W=>{const D=W.getEntries();if(!D)return;M=M||Object(b.y)();const H=L==null?void 0:L.getState(),Z=Object(g.getFocusedWorkspace)(H);S&&H&&Z&&function(){var G=Object(n.coroutine)(function*(){const se=S.sampleInterval,$=S.stop(),X=S.startTime;S=new R;const q=yield $,Y=performance.timeOrigin+performance.now(),ee=Date.now(),ne=Math.abs(Y-ee)<1e3?performance.timeOrigin:ee-performance.now();D.forEach(ae=>{if(ae.entryType==="longtask"){const de=Object(j.a)(q,[{start:ae.startTime,end:ae.startTime+ae.duration}]);if(q.samples.length>0){const ge=Math.max(ne+ae.startTime,ne+X);Object(p.b)("long_task",Z,de,{from:new Date(ge),until:new Date(ne+ae.startTime+ae.duration),sample_interval:se,experiments:U(Z),bucket:T.getLabel(ae.duration)})}}})});function te(){return G.apply(this,arguments)}return h(te,"reportProfiles"),te}()(),D.forEach(G=>{if(G.entryType==="longtask")Object(o.k)(H)&&T.increment("long_task",G.duration);else if(G instanceof PerformanceEventTiming&&G.entryType==="event"&&G.name==="keydown"){const $=G.processingStart-G.startTime,X=G.processingEnd-G.processingStart,q=G.duration;if(P.increment("input_delay",$),P.increment("input_processing",X),P.increment("input_duration",q),G.target instanceof HTMLElement){var te,se;const Y=(te=G.target)===null||te===void 0||(se=te.dataset)===null||se===void 0?void 0:se.inputMetricBoundary;Y&&(P.increment(`input_delay:${Y}`,$),P.increment(`input_processing:${Y}`,X),P.increment(`input_duration:${Y}`,q))}}})});F.forEach(W=>I.observe({type:W,durationThreshold:16}))}h(K,"registerPerformanceObserver");function V(){Object(m.a)()&&(z({isFirstReport:!0}),window.setInterval(()=>z({isFirstReport:!1}),E))}h(V,"reportMetricsOnAnInterval");function z(x){let{isFirstReport:k}=x;const F=Object(l.a)(),L=Object(r.b)(),S=Object(c.a)(),I=F.createMetricsTrace({label:S?"perf-metrics:ubs":"perf-metrics",tags:{...L,metric_version:11,is_first_report:k,in_huddle_during_event:M,user_based_sampled:Object(c.a)()?!0:void 0},samplingOptions:{sampleType:s.a.ALWAYS}});T.report(I),P.report(I),N(I),Object(u.d)(I,L),Object(d.f)(),F.reportTrace(I),M=!1}h(z,"reportAllBucketMetrics");function N(x){const k=Object(O.b)();for(const F of k){const L=F.getMetrics();if(!L)continue;const{averageAgePastGC:S,largestAgePastGC:I,numberOfExpiredObjects:W,numberOfObjects:D}=L;if(S+I+W+D===0)continue;const H=F.getName();x.store({name:`leaks:${H}:average_age_past_gc`,value:S}),x.store({name:`leaks:${H}:largest_age_past_gc`,value:I}),x.store({name:`leaks:${H}:number_of_expired_objects`,value:W}),x.store({name:`leaks:${H}:number_of_objects`,value:D})}}h(N,"reportLeakMetrics");const A={getJSProfileExperiments:U};Object(f.b)("bucketMetrics",()=>{const{metrics:x}=T.getDebug(),{counts:k,metrics:F}=P.getDebug();console.log("Bucketed Metrics"),console.table({...x,...F}),console.log("Input Counts"),console.table(k)})},qXtt:function(J,i,e){"use strict";var n=e("BHdc"),t=e("GzZI"),a=e("q1tI"),s=e.n(a),l=e("yxNq"),o=e("Cfcg"),f=e("xwCZ"),r=e("F0YV"),m=e("4AlF"),c=e("i5Ig"),u=e("ilQ9"),d=e("3WT/");const p=3;function v(b){let{className:y,connectedTeamIdsForDisplay:C=c.a,shouldRender:_}=b;if(!_)return null;const j=C.length,E=Object(t.a)(j).map(M=>s.a.createElement(r.b,{className:"p-connection_info_icon__icon",id:C[M],key:C[M],size:16}));return s.a.createElement("div",{className:Object(n.default)("p-connection_info_icon",y),"data-qa":"shared_channel_connection_info_icon"},E)}h(v,"SharedChannelConnectionInfoIcon"),v.displayName="SharedChannelConnectionInfoIcon";const g=h((b,y)=>{let{channel:C,id:_,member:j,memberIds:E}=y;const{channel:M,memberIds:T,modelObIds:P}=Object(d.b)(b,{channel:C,id:_,member:j,memberIds:E}),B=Object(m.a)(b,P),R=B.length?B.slice(0,p):B,K=Object(u.b)({channel:M,members:Object(f.j)(b,T)})!==u.a.none;return{connectedTeamIdsForDisplay:R,shouldRender:K}},"mapStateToProps");var O=i.a=Object(o.a)(g,null,null,{areStatePropsEqual:(b,y)=>Object(l.a)(b,y,2),areOwnPropsEqual:d.a})(v)},qY4A:function(J,i,e){"use strict";e.d(i,"a",function(){return _});var n=e("q1tI"),t=e.n(n),a=e("x6tY"),s=e("SQ0V"),l=e("Lgge"),o=e("dmdh"),f=e("bDQf"),r=e("5IZy"),m=e("ktUG"),c=e("v7mh"),u=e("2VFn"),d=e("oY18"),p=e("g3a/"),v=e("lqu/"),g=e("RV0M"),O=e("5yBE"),b=e("I0j/"),y=e("37+L"),C=e("UmHn");const _=Object(s.c)("Calls quip.addCanvasCollection and designates canvas as a collection",(j,E,M,T)=>{let{fileId:P,userId:B}=M;const R=E(),U=Object(o.e)(R,P),{isChildWindow:K}=T(g.a),V=K||Object(c.a)(R)!==u.d.Canvases;if(!Object(a.u)(U)&&!Object(a.h)(U))return l.a.reject(new Error("fileId missing while calling addCanvasCollection"));if(Object(r.a)({state:R}).track(m.EventId.CANVAS_STARRED,{contexts:{core:{quip_file_id:P,file_id:P,is_channel_canvas:Object(a.h)(U)}}}),V){const N=h(()=>j(Object(b.a)(Object(y.T)(C.a.BrowseCanvases))),"onClick");j(Object(d.a)({element:t.a.createElement(p.a,null,t.a.createElement("span",null,"Added ",t.a.createElement(v.a,{file:U,useNewChannelCanvasNaming:!0})," to Starred."," ",t.a.createElement(O.a,{onClick:N},"View")))}))}return j(Object(f.a)({fileId:P,userId:B,reason:"canvas_organization_collections_proto"}))});_.meta={name:"createThunk",key:"createThunkaddCanvasToFavorites",description:"Calls quip.addCanvasCollection and designates canvas as a collection"}},qawj:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("RVJP");const t=h(a=>Object(n.d)(a,"clips_super_reactions")==="on","isClipsSuperReactionsExperimentEnabled")},qcoW:function(J,i,e){"use strict";e.d(i,"a",function(){return E});var n=e("9oTK"),t=e.n(n),a=e("s4P+"),s=e("5IZy"),l=e("ktUG"),o=e("r6fw"),f=e("UthN"),r=e("SQ0V"),m=e("8yCK"),c=e("Wn1n"),u=e("ohbk"),d=e("f80L"),p=e("gCYc"),v=e("O9Jz"),g=e("0/8Q"),O=e("2CL1"),b=e("I0j/"),y=e("37+L"),C=e("2VFn"),_=e("rZ8V"),j=e("v7mh");const E=Object(r.c)("Opens the composer page",function(){var M=Object(n.coroutine)(function*(T,P,B){let{draftId:R,fromKeyboardShortcut:U,origin:K,shouldOpenInTile:V=!1}=B;const z=P(),N=Object(a.a)({state:z,label:"COMPOSER"}),A=Object(_.n)(z);let x=Object(c.a)(z);if(A){var k;const D=Object(j.a)(z);x=(k=Object(j.g)(z,{tab:D,container:C.i.Primary}))===null||k===void 0?void 0:k.id}if(x==="Pcomposer"&&!R){const D=Object(m.a)(z),H=Object(p.k)(z,D);if(H&&Object(f.a)(z,H)){N.info(`Composer page is already open with an empty draft ${D}`),A||T(Object(u.a)({id:"Pcomposer"}));return}}let L,S;if(R)L=R;else try{L=yield T(Object(d.a)()),N.info(`Creating a new composer draft ${L}`),U&&Object(s.a)({state:z}).track(l.EventId.COMPOSE_FLOW,{draft_type:"composer",contexts:{ui_context:{action:l.UiAction.KEYDOWN,step:l.UiStep.COMPOSE_FLOW_CREATE}}})}catch{return}const I=Object(O.a)(z);if(K?T(Object(g.b)(K)):I&&T(Object(g.b)(null)),N.info(`Opening the composer page to the following draft ${L}`),V){T(Object(v.a)({viewId:"Pcomposer",params:{draftId:L}}));return}if(A){var W;(W=T(Object(b.a)(Object(y.n)(L))))===null||W===void 0||W.catch(D=>{N.error("Could not open composer page",D)})}else T(Object(u.a)({id:"Pcomposer",routeParams:{draftId:Object(o.b)(L)},teamId:S})).catch(D=>{N.error("Could not open composer page",D)})});return function(T,P,B){return M.apply(this,arguments)}}());E.meta={name:"createThunk",key:"createThunkopenComposerPage",description:"Opens the composer page"}},qfW3:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("htTJ"),t=e("/0zS");function a(s){let{userDidDelete:l,userDidInsertSpace:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{userDidDelete:void 0,userDidInsertSpace:void 0};var f;if(!Object(n.a)(s))return!1;const r=(s==null||(f=s.attributes)===null||f===void 0?void 0:f.link)||"",m=Object(n.b)(s),c=r==null?void 0:r.match(/^(https?:\/\/)(.+)/);if(!c)return!1;const u=c[2].split(".");if((l||o)&&u.length===2&&u[0]===s.insert)return!1;const d=`${c[1]}${s.insert}`;if(!l&&!o&&d.length>((r==null?void 0:r.length)||0)&&d.substr(0,r==null?void 0:r.length)===r)return!0;const p=r==null?void 0:r.substr((m==null?void 0:m.length)*-1),v=r==null?void 0:r.substr(0,d.length);if(l&&(v===d||p===s.insert&&!Object(t.a)({input:d}).length))return!0;if(o){const g=m==null?void 0:m.split(" ");if(g.length===1||g.length===2){const O=`${c[1]}${g[0]}`,b=g[1]||"";if(O.length+b.length<=((r==null?void 0:r.length)||0)&&(r==null?void 0:r.substr(0,O.length))===O&&(r.substr(b.length*-1)===b||b.length===0))return!0}}return!1}h(a,"isOpBrokenAutolink")},qpkA:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("SQ0V"),t=e("Kmpi"),a=e("3zNH");const s=Object(n.c)('Stores a "recent" file',function(l,o){let{files:f,ts:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const m=[];return f.forEach(c=>{Object(t.b)(c)&&m.push({...c,actions:[{event_type:"CLOG",ts:r||String(Date.now()/1e3)}]})}),l(Object(a.a)({files:m}))});s.meta={name:"createThunk",key:"createThunkpushRecentFiles",description:'Stores a "recent" file'}},qrSN:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("oT5T");function s(){return t.a.createElement(a.a,{title:"You don\u2019t have access"},t.a.createElement("p",null,"Lists are currently an experimental feature in testing and not yet available to everyone. Please see #feedback-slack-lists for more information."))}h(s,"ListsDisabledDialog"),s.displayName="ListsDisabledDialog",i.a=s},r007:function(J,i,e){"use strict";var n=e("BHdc"),t=e("q1tI"),a=e.n(t),s=e("Cfcg"),l=e("3Hq1"),o=e("M1Wn"),f=e("xwCZ"),r=e("dlm8"),m=e("Yauy"),c=e("+tZp"),u=e("K7jq"),d=e("3yS5"),p=e("4AlF"),v=e("nNoG"),g=e("hUMe"),O=e("CTEJ"),b=e("3bXy"),y=e("Tevt"),C=e("ilQ9"),_=e("3WT/"),j=e("LFHb"),E=e("RVJP"),M=e("beVI"),T=e("dz36");const P=new v.b("shared_channels"),B={elementName:"view_filtered_members",stepVariant:"external_member_awareness_banner",onClick:{enableClogAction:!0}};function R(V){let{ariaId:z,className:N,firstTeamId:A,secondTeamId:x,memberName:k,onClickMemberCount:F,totalExternalMembers:L,totalTeamIds:S,type:I,experimentAdoptionInstantSlackGroupTreatment:W=!1,looksLikeInstantSlack:D=!1,showOnlyConnectedTeamsCount:H=!0,experimentScPapercutsWorkflowsGroupOn:Z=!1}=V;const[G,te]=Object(t.useState)(),se=Object(t.useCallback)(w=>{w!=null&&w.textContent&&te(w.textContent)},[]),$=h(w=>{let{tag:ne,text:ae}=w;return ne==="strong"?F?a.a.createElement(y.a,{"data-qa":"context_bar_link",onClick:F,className:"bold",autoClogProps:B},ae):a.a.createElement("strong",null,ae):ae},"memberCountReplacement");$.displayName="memberCountReplacement";const X=h(()=>{if(S===0)return null;let w;return S===1?w=P.rt("<strong>{teamName}</strong> can view this channel",{teamName:a.a.createElement(g.a,{id:A})}):S===2?w=P.rt("<strong>{firstTeamName}</strong> and <strong>{secondTeamName}</strong> can view this channel",{firstTeamName:a.a.createElement(g.a,{id:A}),secondTeamName:a.a.createElement(g.a,{id:x})}):w=P.rt("<strong>{numConnectedTeams} external organizations</strong> can view this channel",{numConnectedTeams:S}),w},"getNoMembersText");X.displayName="getNoMembersText";const q=h(w=>{if(S===0)return null;let ne;const ae=Object(j.a)(w);return S===1?ne=P.rt("<strong>{numExternalMembers} external {totalExtMembers, plural, =1 {person} other {people}}</strong> {totalExtMembers, plural, =1 {is} other {are}} from {teamName}",{numExternalMembers:ae,totalExtMembers:w,teamName:a.a.createElement(g.a,{id:A,bold:!1})},$):S===2?ne=P.rt("<strong>{numExternalMembers} external {totalExtMembers, plural, =1 {person} other {people}}</strong> {totalExtMembers, plural, =1 {is} other {are}} from {firstTeamName} and {secondTeamName}",{numExternalMembers:ae,totalExtMembers:w,firstTeamName:a.a.createElement(g.a,{id:A,bold:!1}),secondTeamName:a.a.createElement(g.a,{id:x,bold:!1})},$):S>2&&Z&&!H?ne=P.rt("<strong>{numExternalMembers} external {totalExtMembers, plural, =1 {person} other {people}}</strong> {totalExtMembers, plural, =1 {is} other {are}} from {firstTeamName}, {secondTeamName} and {numOtherConnectedTeams} other {numOtherConnectedTeams, plural, =1 {organization} other {organizations}}",{numExternalMembers:ae,totalExtMembers:w,firstTeamName:a.a.createElement(g.a,{id:A,bold:!1}),secondTeamName:a.a.createElement(g.a,{id:x,bold:!1}),numOtherConnectedTeams:S-2},$):ne=P.rt("<strong>{numExternalMembers} external {totalExtMembers, plural, =1 {person} other {people}}</strong> {totalExtMembers, plural, =1 {is} other {are}} from {numConnectedTeams} organizations",{numExternalMembers:ae,totalExtMembers:w,numConnectedTeams:S},$),ne},"getUpdatedText");if(q.displayName="getUpdatedText",I===C.a.none)return null;let Y=null;Object(l.a)(L)||Object(o.a)(L)?Y=a.a.createElement(O.a,{size:b.b.Large}):L===0?Y=X():Y=W&&D?Y=P.rt("<strong>{numExternalMembers} external {numExternalMembers, plural, =1 {person} other {people}}</strong> {numExternalMembers, plural, =1 {is} other {are}} in this channel",{numExternalMembers:L},$):q(L);let ee=null;switch(I){case C.a.im:ee=P.rt("{memberName} is from {teamName}",{memberName:k,teamName:a.a.createElement(g.a,{id:A})});break;case C.a.mpim:ee=Y;break;case C.a.channel:ee=Y;break}return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:Object(n.default)("p-connection_info_text",N),ref:se,"data-qa":"shared_channel_connection_info_text"},ee),z?a.a.createElement("span",{className:"offscreen",id:z},G):null)}h(R,"SharedChannelConnectionInfoText"),R.displayName="SharedChannelConnectionInfoText";const U=h((V,z)=>{let{channel:N,id:A,member:x,memberIds:k}=z;const{channel:F,member:L,memberIds:S,modelObIds:I}=Object(_.b)(V,{channel:N,id:A,member:x,memberIds:k});var W;const D=(W=Object(m.i)(F))!==null&&W!==void 0?W:"",H=L&&Object(c.a)(V,L),Z=Object(p.a)(V,I),[G,te]=Z,se=Object(C.b)({channel:F,members:Object(f.j)(V,S)});let $;D?$=Object(r.b)(V,D):S.length>0?$=S.filter(ee=>Object(d.a)(V,ee)).length:L&&Object(u.a)(L)&&($=1);const X=Object(E.d)(V,"adoption_instant_slack")==="treatment",q=Object(T.d)(Object(M.s)(V,G,!1)),Y=Object(E.d)(V,"sc_papercuts_workflows")==="on";return{firstTeamId:G,secondTeamId:te,memberName:H??"",totalTeamIds:Z==null?void 0:Z.length,type:se,totalExternalMembers:$,experimentAdoptionInstantSlackGroupTreatment:X,looksLikeInstantSlack:q,experimentScPapercutsWorkflowsGroupOn:Y}},"mapStateToProps");var K=i.a=Object(s.a)(U,null,null,{areOwnPropsEqual:_.a,areStatePropsEqual:(V,z)=>(V==null?void 0:V.totalExternalMembers)===(z==null?void 0:z.totalExternalMembers)})(R)},r4kb:function(J,i,e){J.exports=e.p+"audio_only_waves-8c9c442.gif"},rBAR:function(J,i,e){"use strict";e.d(i,"a",function(){return s}),e.d(i,"b",function(){return l}),e.d(i,"c",function(){return o}),e.d(i,"i",function(){return f}),e.d(i,"f",function(){return r}),e.d(i,"j",function(){return m}),e.d(i,"e",function(){return c}),e.d(i,"h",function(){return u}),e.d(i,"d",function(){return d}),e.d(i,"k",function(){return p}),e.d(i,"g",function(){return v});var n=e("ktUG"),t=e("pu3F"),a=e("oBV+");const s="publish_org_template",l="unpublish_org_template",o={uiComponentName:n.UiComponentName.QUIP_PERMISSIONS_ACCESS_SELECT,uiComponentVariant:"share_dialog",elementName:"quip_permissions_access_select_share_dialog_option",onOptionSelected:{enableClogAction:!0,setElementValueOnAction:!0}},f={onOptionSelected:{action:n.UiAction.SELECT}},r={eventId:n.EventId.QUIP_SHARE,uiComponentName:n.UiComponentName.QUIP_SHARE_DIALOG,uiComponentVariant:"copy_link",elementName:"copy_link_button",onClick:{enableClogAction:!0}},m={eventId:n.EventId.QUIP_SHARE,uiComponentName:n.UiComponentName.QUIP_SHARE_DIALOG,uiComponentVariant:"skip_for_now",elementName:"skip_now_button",onClick:{enableClogAction:!0}},c={eventId:n.EventId.QUIP_SHARE,uiComponentName:n.UiComponentName.QUIP_SHARE_DIALOG,uiComponentVariant:"close",elementName:"close_button",onClick:{enableClogAction:!0}},u=h(g=>{let{permissionsGrantLevel:O,viewContext:b}=g;return b===t.s.FILE_EMBEDDED_UNFURL||b===t.s.FILE_EMBEDDED_UNFURL_IN_CHANNEL_CANVAS?{eventId:n.EventId.QUIP_CANVAS_URL_SHARE,elementName:"share_button",onClick:{enableClogAction:!0},source:b===t.s.FILE_EMBEDDED_UNFURL_IN_CHANNEL_CANVAS?"channel-canvas":"canvas"}:{eventId:n.EventId.QUIP_SHARE,uiComponentName:n.UiComponentName.QUIP_SHARE_DIALOG,uiComponentVariant:`share_${O}`,elementName:"share_button",onClick:{enableClogAction:!0},...b===a.a?{source:"convert_to_template_modal"}:{}}},"getShareButtonAutoClogProps"),d=h((g,O)=>({uiComponentName:n.UiComponentName.QUIP_SHARE_DIALOG,uiComponentVariant:"access_management",elementName:"save_button",elementValue:g,onClick:{enableClogAction:!0},fileId:O}),"canvasAccessManagementSaveButtonAutoClogProps"),p={continueButton:{elementName:"continue_and_send",onClick:{enableClogAction:!0}},cancelButton:{elementName:"cancel",onClick:{enableClogAction:!0}}},v=h(g=>({continueButton:{elementName:g?"discard":"save",onClick:{enableClogAction:!0}},cancelButton:{elementName:"back",onClick:{enableClogAction:!0}}}),"getCanvasChangeAccessSpeedBumpAutoClogProps")},rBXw:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("Tevt"),l=e("9wj1"),o=e("qzps"),f=e("A/mR");function r(m){let{ts:c,format:u,fallback:d=void 0,link:p=void 0,noLinking:v=!1,do24hrTime:g=!1}=m;const O=Object(a.useDispatch)(),b=Object(f.g)(c,u,{fallbackString:d,do24hrTime:g}),y=Object(n.useCallback)(C=>{p&&b&&Object(o.b)(b,p)&&(O(Object(l.a)({text:b,url:p})),C.preventDefault())},[O,b,p]);return!b||b===u?null:!p||v?t.a.createElement("span",{"data-qa":"mrkdwn_date",className:"c-mrkdwn__date"},b):t.a.createElement(s.a,{"data-qa":"mrkdwn_date",href:p,maybeOpenSuspiciousLinkDialog:y},b)}h(r,"DateCommand"),r.displayName="DateCommand",i.a=t.a.memo(r)},rBeE:function(J,i,e){"use strict";e.d(i,"f",function(){return T}),e.d(i,"c",function(){return P}),e.d(i,"a",function(){return B}),e.d(i,"d",function(){return U}),e.d(i,"b",function(){return K}),e.d(i,"g",function(){return z}),e.d(i,"e",function(){return N});var n=e("nNoG"),t=e("ifKl"),a=e("SQ0V"),s=e("zxER"),l=e("G4qV"),o=e("/MKj"),f=e("xwCZ"),r=e("C3vN"),m=e("52Wj"),c=e("+tZp"),u=e("ptQX"),d=e("LvvF"),p=e("MUHj"),v=e("zb/F"),g=e("i9jZ"),O=e("5IZy"),b=e("ktUG"),y=e("G0eX"),C=e("beVI"),_=e("O86Y");const j=new n.b("member_profile"),E=new n.b("menu"),M=Object(l.a)((A,x)=>{let{memberId:k}=x;return Object(f.g)(A,k)},(A,x)=>{let{memberId:k}=x;return Object(d.b)(A,k)},(A,x)=>{const k=Object(m.b)(A),F=Object(r.V)(A),L=x?j.t("Copy display name"):j.t("Copy display name: @{displayName}",{displayName:k,__react:!0});return!F&&k?{key:"copy_display_name",dataQa:"copy_display_name",label:L,click:()=>{Object(v.e)(k)},show:!0,disabled:Object(r.qb)(A)}:null}),T=h(A=>{let{memberId:x}=A;return Object(s.c)(k=>x?M(k,{memberId:x}):void 0)},"useGetMenuTemplateCopyDisplayName"),P=Object(a.c)("Gets the template for copy display name menu item",(A,x,k)=>M(x(),k));P.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyDisplayNameThunk",description:"Gets the template for copy display name menu item"};const B=Object(a.c)("Clog member context item click",(A,x,k)=>{Object(O.a)({getState:x}).track(b.EventId.CONTEXT_MENU_ACTION,{label:k,is_iap1:!0})});B.meta={name:"createThunk",key:"createThunkclogItemClick",description:"Clog member context item click"};const R=Object(a.c)("Gets the template for copy display name menu item",(A,x,k)=>{const{memberId:F,label:L}=k,S=Object(c.a)(x(),Object(f.g)(x(),F));return{label:E.t("Copy name"),click:()=>{A(B(L));try{Object(v.d)({"text/plain":S,"text/html":`<span data-stringify-id="${F}" data-stringify-label="${S}">${S}</span>`})}catch{Object(v.e)(S)}}}});R.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyName",description:"Gets the template for copy display name menu item"};const U=Object(a.c)("Gets the template for copy name menu item",(A,x,k)=>A(R(k)));U.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyNameThunk",description:"Gets the template for copy name menu item"};const K=Object(a.c)("Copies link to member to clipboard",(A,x,k)=>{A(B(k.label));const F=x(),L=Object(C.s)(F,Object(_.g)(F)||"");Object(v.e)(Object(y.v)(L,`/team/${k.memberId}`))});K.meta={name:"createThunk",key:"createThunkcopyMemberLink",description:"Copies link to member to clipboard"};const V=Object(l.a)(A=>A,(A,x,k)=>{let{onClickCallback:F=t.a}=k;return F},(A,x,k)=>{let{isCanvasContext:F}=k;return F},(A,x,k)=>{let{memberId:F}=k;return Object(f.g)(x,F)},(A,x,k)=>{let{memberId:F}=k;return Object(c.a)(x,Object(f.g)(x,F))},(A,x,k)=>{let{memberId:F}=k;return Object(u.a)(x,F||"")},(A,x,k,F,L,S)=>{const I=Object(r.V)(F);let W=j.rt("Message {memberName}",{memberName:L})||"";return k&&(I?W=j.t("View message history"):W=j.t("Message")),!S||Object(r.T)(F)||k&&Object(r.jb)(F)?null:{key:"message",dataQa:"message",label:W,click:D=>{A(Object(p.a)({memberId:F.id,shouldOpenInTile:Object(g.d)(D),reason:"member-context-menu"})).then(()=>x())},show:!!F,disabled:Object(r.qb)(F)}}),z=h(A=>{let{memberId:x,isCanvasContext:k,onClickCallback:F}=A;const L=Object(o.useDispatch)();return Object(s.c)(S=>x?V(L,S,{memberId:x,isCanvasContext:k,onClickCallback:F}):void 0)},"useGetMenuTemplateMessage"),N=Object(a.c)("Gets the template for message menu item",(A,x,k)=>V(A,x(),k));N.meta={name:"createThunk",key:"createThunkgetMenuTemplateMessageThunk",description:"Gets the template for message menu item"}},rNqu:function(J,i,e){"use strict";e.d(i,"a",function(){return O});var n=e("9oTK"),t=e("fujP"),a=e("Lgge"),s=e("s4P+"),l=e("SQ0V"),o=e("YOgf"),f=e("n3tL"),r=e("Cfjn"),m=e("L1zx"),c=e("4lPb");const u=Object(l.c)('Ensures the various mention models are "known"',function(b,y){let{channelIds:C,memberIds:_,userGroupIds:j,reason:E}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object(t.a)(C)&&Object(t.a)(_)&&Object(t.a)(j))return a.a.resolve();const M=[];return Object(t.a)(C)||M.push(b(Object(r.a)({channelIds:C,reason:E}))),Object(t.a)(_)||M.push(b(Object(m.a)({memberIds:_,reason:E}))),Object(t.a)(j)||M.push(b(Object(c.a)({userGroupIds:j,reason:E}))),a.a.all(M)});u.meta={name:"createThunk",key:"createThunkensureMentionModelsArePresent",description:'Ensures the various mention models are "known"'},u.propTypes={channelIds:f.default.arrayOf(f.default.string),memberIds:f.default.arrayOf(f.default.string),reason:f.default.string.isRequired,userGroupIds:f.default.arrayOf(f.default.string)};var d=e("+l5E"),p=e("Kn+X"),v=e("BBdC");const g=Object(l.c)("Ensures any mentions within a set of blocks are present",function(b,y){let{blocks:C,reason:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object(t.a)(C))return a.a.resolve();const{info:j,warn:E}=Object(s.a)({getState:y,label:"DRAFTS"}),{channelIds:M,userIds:T,userGroupIds:P}=Object(d.u)(y(),C);if(!Object(t.a)(M)||!Object(t.a)(T)||!Object(t.a)(P)){j("Ensuring block mention models are present");const R="Could not ensure block mention models are present";return b(u({channelIds:M,memberIds:T,userGroupIds:P,reason:_})).catch(U=>{throw E(`ensureMentionModelsArePresent rejected: ${R}`,U),U}).timeout(2e3).catch(U=>{throw E(`ensureMentionModelsArePresent timed out: ${R}`),U})}return j("The blocks do not contain any mentions"),a.a.resolve()});g.meta={name:"createThunk",key:"createThunkensureBlocksMentionsArePresent",description:"Ensures any mentions within a set of blocks are present"};const O=Object(l.c)("Converts a server draft to a client draft",function(){var b=Object(n.coroutine)(function*(y,C){let{clientDraftId:_,draft:j}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!_||Object(t.a)(j))return a.a.resolve();const E=j,{warn:M}=Object(s.a)({getState:C,label:"DRAFTS"}),T=Object(p.v)(E);yield y(g({blocks:T,reason:"convertServerDraftToUnifiedDraft"})).catch(()=>{M(`Draft ops may contain unknown mentions - ${_}`)});const P=Object(o.a)(C(),T),B=(P==null?void 0:P.ops)||[],R=parseFloat(Object(p.p)(E)),U=R*1e3,K=Object(p.z)(E),V={client_draft_id:_,date_created:parseFloat(Object(p.h)(E)),destinations:Object(p.u)(E),file_ids:Object(v.a)(E),id:Object(p.o)(E),is_from_composer:K,last_updated:U,last_updated_ts:R,ops:B,date_scheduled:Object(p.i)(E)};return K||(V.temp_attached_draft_unique_id=Object(p.w)(E)),a.a.resolve(V)});return function(y,C){return b.apply(this,arguments)}}());O.meta={name:"createThunk",key:"createThunkconvertServerDraftToUnifiedDraft",description:"Converts a server draft to a client draft"}},rWqD:function(J,i,e){"use strict";e.d(i,"a",function(){return m});var n=e("dmdh"),t=e("6dQg"),a=e("mzZe"),s=e("Yauy"),l=e("ISSR"),o=e("x6tY"),f=e("ifSi"),r=e("68wo");const m=h((c,u)=>{if(!u||Object(l.a)(u))return!1;const d=Object(r.a)(c,u.id),p=d&&Object(t.a)(d)?Object(n.e)(c,d):null;if(!p)return!1;const v=p&&d?Object(f.b)(c,d):!1,g=p==null?void 0:p.linked_channel_id;let b=Object(a.a)(c,u??void 0)&&Object(s.db)(u);return v&&!g&&(b=!0),Object(o.Eb)(p)&&(b=!1),b},"canEditChannelSpace")},rYD8:function(J,i,e){"use strict";var n=e("n3tL"),t=e("q1tI"),a=e.n(t),s=e("Cfcg"),l=e("m8R6"),o=e("Enx8"),f=e("52Wj"),r=e("+tZp"),m=e("nNoG"),c=e("LvvF");function u(){return u=Object.assign||function(b){for(var y=1;y<arguments.length;y++){var C=arguments[y];for(var _ in C)Object.prototype.hasOwnProperty.call(C,_)&&(b[_]=C[_])}return b},u.apply(this,arguments)}h(u,"_extends");const d=new m.b("files"),p={name:n.default.string.isRequired,isChannelFiles:n.default.bool,showMemberNameIfHidden:n.default.bool},v={isChannelFiles:!1,showMemberNameIfHidden:!1},g=h(b=>{const y=Object(l.a)(b,["id","name","dispatch","firstName","skipPrefCompliance","isChannelFiles","showMemberNameIfHidden"]);let C=b.name;if(b.isChannelFiles){const _=b.name;C=d.t("Shared by {memberName}",{memberName:_})}return a.a.createElement("span",u({},y),C)},"MemberName");g.displayName="MemberName",g.propTypes=p,g.defaultProps=v;const O=h((b,y)=>{const{id:C,member:_,skipPrefCompliance:j,showMemberNameIfHidden:E}=y;if(j)return{name:Object(f.e)(_)};let M;return!E&&Object(c.b)(b,C)?M=d.t("Name hidden"):M=_?Object(r.a)(b,_,!1,!1,j,!1):Object(o.a)(b,C,!1,!1,!1,!1),{name:M}},"mapStateToProps");i.a=Object(s.a)(O)(g)},rneN:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("htTJ"),t=e("iu/Y");function a(l){var o;if(!Object(n.a)(l))return!1;const f=(l==null||(o=l.attributes)===null||o===void 0?void 0:o.link)||"",r=l.insert;if(l.insert===f)return!0;const m=f==null?void 0:f.match(/^(https?:\/\/)(.+)/);return m?`${m[1]}${r}`===f:!1}h(a,"isOpAutolink");function s(l,o){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{onlyAutoLinks:r}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const m=o.index||0,c=o.length||0,{op:u,opIndex:d}=Object(t.a)(l,m),p=c>0?m+c-1:m+c,{op:v,opIndex:g,opLength:O}=Object(t.a)(l,p);let b=u||{},y=d;const C=v||{};if(!Object(n.a)(b)&&m>0&&c===0&&f.link){const j=Object(t.a)(l,m-1);b=j.op||{},y=j.opIndex}const _=o;return(!r&&Object(n.a)(b)||r&&(Object(n.c)(b)||a(b)))&&(_.index=y,_.length=c+(m-_.index)),(!r&&Object(n.a)(C)||r&&(Object(n.c)(C)||a(C)))&&(_.length=g+O-_.index),_}h(s,"adjustSelectionToCoverLink")},rq8k:function(J,i,e){"use strict";e.d(i,"a",function(){return n});const n=[{type:"rich_text",elements:[]}]},s2GU:function(J,i,e){"use strict";e.d(i,"b",function(){return l}),e.d(i,"c",function(){return o}),e.d(i,"a",function(){return f});var n=e("0Uag"),t=e("52Wj"),a=e("FsHF"),s=e("mNiN");function l(r){if(r.is_broadcast_keyword||r.is_usergroup)return"";let m="";return Object(a.b)(r)&&(m=Object(t.e)(r)),m?`@${m}`:""}h(l,"getSecondaryNameForSearchResult");const o=Object(n.a)((r,m)=>r===Object(s.d)(f(m))||r===Object(s.d)(l(m)));function f(r){return r.is_broadcast_keyword?`@${r.name}`:r.is_usergroup?`@${r.handle}`:`@${Object(t.b)(r)}`}h(f,"getDisplayTextForSearchResult")},s8ZX:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("6R8Z");function l(f){let{screen:r,name:m,selected:c,onSelect:u,children:d,className:p,tabindex:v}=f;var g;const O=r==null||(g=r.thumbnail)===null||g===void 0?void 0:g.dataURL,b=Object(n.useMemo)(()=>{const C={};return O&&(C.backgroundImage=`url(${O})`),C},[O]),y=Object(n.useCallback)(()=>{u(r)},[u,r]);return t.a.createElement(s.a,{className:Object(a.default)("p-video_recorder_screen_picker_tile",{"p-video_recorder_screen_picker_tile--selected":c}),onClick:y,role:"radio","aria-checked":c,tabIndex:v},(O||d)&&t.a.createElement("div",{className:Object(a.default)("p-video_recorder_screen_picker_tile__thumb",p),style:b},d),t.a.createElement("div",{className:"p-video_recorder_screen_picker_tile__title"},m))}h(l,"VideoRecorderScreenPickerTile"),l.displayName="VideoRecorderScreenPickerTile";var o=i.a=l},sCfo:function(J,i,e){"use strict";function n(t){return!t||t.indexOf("a")>=0}h(n,"isAssistantTempTs"),i.a=n},sGZK:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("BHdc"),l=e("fujP"),o=e("x6tY"),f=e("CD4m"),r=e("sGXp"),m=e("ZobM"),c=e("oEDn"),u=e("dmdh"),d=e("lqu/"),p=e("S8QM"),v=e("8z04"),g=e("oh9B"),O=e("wsJ+");function b(M){var T;const P=Object(O.a)(),B=(T=M.match(P))===null||T===void 0?void 0:T[0];return B&&M.indexOf(B)===0?[B,M.slice(B.length).trim()]:[null,M]}h(b,"parseLeadingEmoji");var y=e("/qcS"),C=e("ZBdd");function _(M){let{className:T,"data-qa":P,"data-sk":B,fileFromPropsOrState:R,id:U,isDisabled:K,detailText:V,shouldShowHighlight:z=!0,shouldShowDetailText:N=!0,useNewChannelCanvasNaming:A=!1}=M;const x=(R==null?void 0:R.filetype)||(R==null?void 0:R.highlight_type)||"file",k=Object(n.useCallback)(()=>{if(!R)return null;if(Object(o.zb)(R)||Object(o.Tb)(R))return t.a.createElement(c.a,{className:"c-file_entity__icon",type:"trash"});if(Object(o.Db)(R)||Object(o.tb)(R)||Object(o.kb)(R))return t.a.createElement(c.a,{className:"c-file_entity__icon",type:"eye-closed"});if(!Object(o.ac)(R))return t.a.createElement(c.a,{className:"c-file_entity__icon",type:"question"});if(Object(o.o)(R))return t.a.createElement(p.a,{iconClassName:"c-file_entity__icon p-list_icon--search",file:R,isFilled:!1});if(Object(o.h)(R)||Object(o.u)(R)){const[L,S]=b(Object(o.Q)(R)||"");return L?t.a.createElement("div",{className:"c-file_entity__icon c-file_entity_emoji_conainer"},t.a.createElement(y.b,{text:L,emojiSize:y.a.SMALL,showTooltip:!1,stopAnimations:!0})):t.a.createElement("span",{className:"c-file_entity__icon"},t.a.createElement(m.a,{name:"canvas-content"}))}return t.a.createElement(c.a,{className:"c-file_entity__icon",file:"tiny",type:x})},[R,x]),F=K?r.d.dim:void 0;return Object(l.a)(R)?null:t.a.createElement(f.d,{size:"small",className:Object(s.default)("c-file_entity",T),"data-id":U||(R==null?void 0:R.id),"data-qa":P,"data-sk":Object(l.a)(B)?"small_file_entity":B,style:F,avatar:k,text:t.a.createElement(t.a.Fragment,null,t.a.createElement(f.c,{className:"c-file_entity__text"},t.a.createElement(d.a,{file:R,shouldShowHighlight:z,useNewChannelCanvasNaming:A})),N&&t.a.createElement(f.c,{className:"c-file_entity__detail","data-qa":"file_detail_text"},V))})}h(_,"SmallFileEntity"),_.displayName="SmallFileEntity";function j(M,T){let{id:P,file:B,detailType:R=v.a.FILETYPE}=T;const U=B||Object(u.e)(M,P),K=Object(g.a)(M,U,R);return{fileFromPropsOrState:U,detailText:K}}h(j,"mapStateToProps");var E=i.a=Object(a.a)(j)(_)},sMre:function(J,i,e){"use strict";var n=e("Z7Ay"),t=e("Lgge"),a=e("SQ0V"),s=e("LK2A"),l=e("O86Y"),o=e("yZoH"),f=e("ykb+"),r=e("I27i"),m=e("zm5I"),c=e("Ybt4"),u=e("KGIc"),d=e("7nxQ"),p=e("jlKB"),v=e("JoR1"),g=e("beVI"),O=e("KgyH"),b=e("+jzL"),y=e("qiCS"),C=e("G0eX"),_=e("z28c"),j=e("7ibc"),E=e("jeQL"),M=e("q1tI"),T=e.n(M),P=e("ktUG"),B=e("5IZy"),R=e("DToD"),U=e("2um6"),K=e("Pw4T"),V=e("1Np4"),z=e("CnKg"),N=e("n0Pp"),A=e("3L56"),x=e("8Dn9"),k=e("nVRZ"),F=e("+lUI"),L=e("kghi"),S=e("13wQ"),I=e("/46j"),W=e("B1w/"),D=e("dmdh"),H=e("Ubdx"),Z=e("8ZEM"),G=e("oY18"),te=e("afXM"),se=e("nNoG"),$=e("4cU5"),X=e("S0gs"),q=e("LkXz"),Y=e("wmqn"),ee=e("Qull"),w=e("RVJP"),ne=e("x6tY"),ae=e("ku/f"),de=e("Yp7W");const ge=new se.b("quip_delegate"),le=["long_task_over_threshold","unhandled_promise_rejection"],Q="canvas:model-probe",ie="canvas:fsck-probe",oe="canvas:model-checksum";let me=h(class{didInitialize(){var Qe,nt;(nt=(Qe=this).onInitialize)===null||nt===void 0||nt.call(Qe)}didFailToInitialize(Qe,nt){var _t,Et;nt?this.logger.error(nt,`didFailToInitialize: ${Qe}`):this.logger.error(new Error(`didFailToInitialize: ${Qe}`)),(Et=(_t=this).onFailToInitialize)===null||Et===void 0||Et.call(_t,nt||new Error(Qe))}refreshUserJwt(){return t.a.resolve(void 0)}focusedSectionStateChanged(){}updateTitle(Qe,nt,_t,Et){const kt=Object(W.a)(this.getState(),nt);kt&&(Object(I.c)(this.getState(),kt)!==Qe||Et&&Object(I.a)(this.getState(),kt)!==Et)&&this.dispatch(Object(S.a)({docId:kt,newTitleString:Qe,isEmpty:_t,newTitleBlocks:Et}))}updatePresenceInfo(Qe,nt){const _t=Object(W.a)(this.getState(),nt);if(_t){const Et=Qe.map(kt=>kt.replace("su:",""));this.dispatch(Object(H.d)({docId:_t,editors:Et}))}}openFindModal(Qe,nt){this.dispatch(Object(Z.b)({selectionString:Qe,replace:nt}))}updateFindResults(Qe,nt){this.dispatch(Object(Z.c)({resultCount:Qe,currentResultIndex:nt}))}didRecordDiagnosticsEvent(Qe,nt,_t){if(!Qe)return;const Et=Object(E.a)(Qe,(pn,An)=>(An==null?void 0:An.endsWith("_dom"))||(An==null?void 0:An.endsWith("_pblite"))||(An==null?void 0:An.startsWith("dom_"))||(An==null?void 0:An.startsWith("pblite_")));let kt=Qe.type;if(!kt||kt==="exception"){var jn;kt=Qe.message||Qe.exception||((jn=Qe.stack)===null||jn===void 0?void 0:jn.split(`
`)[0])}if(kt=Object(z.j)(kt),le.includes(kt)){nt?this.logger.debug(Et):this.logger.info(Et);return}if(_t){const pn=new Error(kt||"Unknown Quip Error");Qe.stack&&(pn.stack=Qe.stack,delete Et.stack),Object(F.a)(kt,()=>{this.logger.error(pn,Et)})||this.logger.warn(Et);return}if(nt){if((Qe==null?void 0:Qe.type)==="save_document"){const pn=(Qe==null?void 0:Qe.save_phase)||"";if(pn.includes("early_exit")||pn.includes("error")){this.logger.warn(Et);return}}this.logger.debug(Et);return}(Et==null?void 0:Et.type)==="document_prepare_for_close"&&(Et==null||delete Et.stack),this.logger.info(Et)}didRecordMetric(Qe,nt){const _t=h((jn,pn,An)=>{const lt=this.tracer.createSpan({name:jn,options:{tags:{...pn,success:An}},samplingOptions:{sampleType:$.g.ALWAYS}});this.tracer.reportSpans([lt])},"createAndReportProbeSpan");["unprompted_model_probe","unprompted_model_probe_changes_found","document_fsck_probe","document_fsck_probe_failure","model_checksum_attempted","model_checksum_mismatch"].includes(Qe)&&this.telemeter.count(Qe);const Et={};if(Qe==="unprompted_model_probe")_t(Q,nt,!0);else if(Qe==="unprompted_model_probe_changes_found"){Et.socket_state=Object(N.c)(this.getState());const{openCount:jn,missingFileIdCount:pn,missingSubCount:An,lastSubTimeAgo:lt,staticModeCount:Dn}=Object(L.a)(this.getState());Et.open_docs=jn,Et.temp_id_count=pn,Et.static_mode_count=Dn,Et.no_sub_count=An,Et.last_sub_time_ago=lt,An>0&&this.telemeter.count("unprompted_model_probe_missing_sub"),_t(Q,{...nt,...Et},!1)}else Qe==="document_fsck_probe"?_t(ie,nt,!0):Qe==="document_fsck_probe_failure"?_t(ie,nt,!1):Qe==="model_checksum_attempted"?_t(oe,nt,!0):Qe==="model_checksum_mismatch"&&_t(oe,nt,!1);const kt=nt.thread_id;kt?this.dispatch(Object(A.a)({quipThreadId:kt,reason:"didRecordMetric"})).then(jn=>{this.clogger.track(P.EventId.QUIP_DOC_EMBED_EVENT,{contexts:{quip:{metric:Qe,...nt,...Et},core:{quip_file_id:jn,file_id:jn}}})}):this.clogger.track(P.EventId.QUIP_DOC_EMBED_EVENT,{contexts:{quip:{metric:Qe,...nt,...Et}}})}didRecordClientperfMetric(Qe,nt,_t,Et){const kt=this.tracer.createSpan({name:Qe,options:{startTime:this.perfTimeOrigin+nt,closeTime:this.perfTimeOrigin+_t,tags:Et}});this.tracer.reportSpans([kt])}didSaveDoc(Qe){this.dispatch(Object(A.a)({quipThreadId:Qe,reason:"didSaveDoc"})).then(nt=>{this.dispatch(Object(x.b)({fileId:nt,lastSaved:Date.now()}))})}didCompleteNetworkRequest(Qe){Object(k.g)({method:Qe.method,url:Qe.path,headers:Qe.requestHeaders,body:Qe.requestBody},{headers:Qe.responseHeaders,body:{}})}startTrace(Qe,nt){if(!this.trace)return null;const _t=this.trace.startSpan(`canvas:${Qe}`,{tags:nt}),Et=Symbol("span");return this.spans.set(Et,_t),Et}startSpan(Qe,nt,_t){if(!Qe||!this.trace)return null;const Et=this.spans.get(Qe);if(Et){const kt=this.trace.startSpan(`canvas:${nt}`,{parentSpanId:Et.getId(),tags:_t}),jn=Symbol("span");return this.spans.set(jn,kt),jn}return this.logger.debug("Invalid parent span/trace id"),null}endTraceOrSpan(Qe,nt){if(!Qe||!this.trace)return;const _t=this.spans.get(Qe);_t?(nt&&_t.addTags(nt),_t.close(),this.spans.delete(Qe)):this.logger.debug("Invalid trace or span id",Qe)}a11yAnnounce(Qe,nt,_t,Et){const kt=Object(W.a)(this.getState(),nt);kt&&Object(R.c)(Qe,kt,_t,Et)}a11yAnnounceIfScreenReaderEnabled(Qe,nt,_t,Et){Object(U.j)(this.getState())&&this.a11yAnnounce(Qe,nt,_t,Et)}showToast(Qe,nt){const _t=nt==null?void 0:nt.targetWindow;this.dispatch(Object(G.a)({element:T.a.createElement(te.a,{message:Qe,svgIconProps:nt==null?void 0:nt.svgIconProps}),targetWindow:_t}))}showToastForContext(Qe,nt){switch(Qe){case s.ToastMessageContext.LINK_COPIED:return this.dispatch(Object(q.a)({targetWindow:nt})),!0;case s.ToastMessageContext.LINK_FILE_SHARE_BLOCKED:{const _t=ge.t("File sharing has been disabled in canvases using Slack Connect");return this.showToast(_t,{targetWindow:nt}),!0}case s.ToastMessageContext.TABLE_SIZE_LIMIT_REACHED:{const _t=ge.t("This table has reached the maximum number of cells allowed in a canvas.");return this.showToast(_t,{svgIconProps:{name:"disable"},targetWindow:nt}),!0}default:return!1}}showDialogForContext(Qe,nt){switch(Qe){case s.DialogContext.UNSUPPORTED_FILE_TYPE:return this.dispatch(Object(ae.a)({error:de.a.CanvasHeaderImageUnsupportedFileType,targetWindow:nt})),!0;default:return!1}}isOnline(){return Object(r.e)(this.getState())}updateFileReadTsBeforeSave(Qe){const nt=this.getState(),_t=Object(W.a)(nt,Qe),Et=Date.now();if(_t){const kt=Object(D.e)(nt,_t),jn=Object(ne.h)(kt);this.dispatch(Object(X.a)({fileId:_t,timestamp:Et})),this.clogger.track(P.EventId.CANVAS_NEW_EDITS,{contexts:{ui_context:{action:P.UiAction.DISMISS,ui_step:P.UiStep.CANVAS_EDIT_DISMISS_HIGHLIGHTS,ui_component_name:P.UiComponentName.CANVAS_NEW_EDITS_HIGHLIGHTS},core:{is_channel_canvas:jn}}})}}addHighlightsForPill(Qe,nt,_t){const Et=this.getState(),kt=Object(W.a)(Et,Qe),jn=Object(w.d)(Et,"canvas_badging_highlighting")==="on";if(kt){const pn=Object(D.e)(Et,kt),An=Object(ne.h)(pn);if(An||jn&&!An){const lt=Date.now();nt.length===0&&(this.dispatch(Object(ee.a)({fileId:kt,timestamp:lt,reason:"mark-read-dismiss-highlights"})),_t?this.clogger.track(P.EventId.CANVAS_NEW_EDITS,{contexts:{ui_context:{action:P.UiAction.DISMISS,ui_step:P.UiStep.CANVAS_CLICK_PILL_DISMISS_HIGHLIGHTS,ui_component_name:P.UiComponentName.CANVAS_NEW_EDITS_HIGHLIGHTS},core:{is_channel_canvas:An}}}):this.clogger.track(P.EventId.CANVAS_NEW_EDITS,{contexts:{ui_context:{action:P.UiAction.DISMISS,ui_step:P.UiStep.CANVAS_SCROLL_DISMISS_HIGHLIGHTS,ui_component_name:P.UiComponentName.CANVAS_NEW_EDITS_HIGHLIGHTS},core:{is_channel_canvas:An}}}));const Dn=nt.map(fn=>({sectionId:fn,timestamp:lt}));this.dispatch(Object(Y.c)({fileId:kt,sections:Dn}))}}}markAllHighlightsSeen(Qe){const nt=this.getState(),_t=Object(W.a)(nt,Qe);_t&&this.dispatch(Object(Y.a)({fileId:_t}))}constructor({dispatch:Qe,getState:nt,onInitialize:_t,onFailToInitialize:Et,trace:kt}){this.spans=new Map,this.dispatch=Qe,this.getState=nt,this.onInitialize=_t,this.onFailToInitialize=Et,this.clogger=Object(B.a)({getState:nt}),this.logger=Object(c.b)({getState:nt}),this.telemeter=Object(K.d)({getState:nt}),this.tracer=Object(V.a)({getState:nt}),this.perfTimeOrigin=performance.timeOrigin||performance.timing.navigationStart,this.trace=kt}},"QuipDelegate");var be=e("u0bz"),Se=e("/mzS"),Pe=e("nSuI");let Ue=h(class{config(){return{renderTargetUrl:`${location.protocol}//${location.hostname}/docs/ui-render-target`,supportedEmbededObjectTypes:[s.EmbeddedObjectType.SLACK_OBJECT,s.EmbeddedObjectType.LINK,s.EmbeddedObjectType.TEXT,s.EmbeddedObjectType.HYPERLINK,s.EmbeddedObjectType.TABLE,s.EmbeddedObjectType.DRAG_OVERLAY,s.EmbeddedObjectType.HEADER,s.EmbeddedObjectType.COMMENT_METADATA],supportedSlackObjectTypes:[s.SlackObjectType.USER,s.SlackObjectType.FILE,s.SlackObjectType.UNFURL,s.SlackObjectType.DOCUMENT,s.SlackObjectType.PENDING_URL,s.SlackObjectType.GENERIC,s.SlackObjectType.BACKGROUND]}}},"QuipEmbedConfigProvider");var Fe=e("9hgN"),je=e("cQoj"),_e=e("6v4I"),pe=e("9oTK"),fe=e("mM05"),Ee=e.n(fe),ye=e("/4Fx"),Te=e("25Vh"),Oe=e("KENN"),Ce=e("fR2/"),ce=e("TQ9f");let he=h(class{getHtmlFromSlackTextyJson(Qe){var nt=this;return Object(pe.coroutine)(function*(){let _t;try{const pn=JSON.parse(Qe);if(pn===null)return t.a.resolve({html:""});_t=new Ee.a(pn)}catch{return t.a.resolve({html:""})}const Et=Object(Te.b)(_t);if(!Et)return t.a.resolve({html:""});const kt=Et.ops.map(nt.convertSpecialOpsToCustom),jn=new ye.QuillDeltaToHtmlConverter(kt,{});return jn.renderCustomWith(pn=>{switch(pn.insert.type){case"slackmention":{const An=pn.insert.value,lt=An.type==="mention"?"data-stringify-id":"data-channel-id";return`<a data-stringify-type="${An.type}" ${lt}="${An.id}">${An.text}</a>`}case"slackemoji":{const An=pn.insert.value.text;return`<img alt="${An}" data-stringify-type="emoji" data-stringify-emoji="${An}" stringify-emoji="${An}">`}default:return""}}),t.a.resolve({html:jn.convert()})})()}convertSpecialOpsToCustom(Qe){var nt;if(!((nt=Qe.attributes)===null||nt===void 0)&&nt.slackmention){const _t=Object(Ce.b)(Qe);if(Object(Oe.a)().includes(_t))return Qe;let Et;if(Object(Ce.e)(Qe))Et="channel";else if(Object(Ce.g)(Qe))Et="mention";else return Qe;return{insert:{slackmention:{type:Et,id:_t,text:Qe.insert}}}}return Object(ce.a)(Qe)?{insert:{slackemoji:{type:"slackemoji",text:Object(ce.c)(Qe)}}}:Qe}},"QuipSlackTextyHtmlConversionProvider");var Me=e("UXvI"),Ae=e("M7RD");const{addObjects:xe,removeObjects:Re,clearObjects:Ge}=Ae.a;var ze=e("ZKjC"),Ie=e("oTSI"),Ne=e("jvIc"),Ke=e("thso"),Ve=e("UOL+");const $e=150,tt=100;function qe(At){var Qe,nt;return Object(Ke.b)((nt=(Qe=Object(Ve.a)(At))===null||Qe===void 0?void 0:Qe.quipAtoms)!==null&&nt!==void 0?nt:At==null?void 0:At.quipAtoms)}h(qe,"getObjects");const ut=Object(Ie.a)(At=>new Ne.a({teamId:At,cacheSizeMaximum:$e,cacheSizeTarget:tt,evictionEnabled:!0,getObjects:qe,removeObjects:Qe=>{let{ids:nt,isCacheEviction:_t}=Qe;return Ae.a.removeObjects({ids:nt,isCacheEviction:_t})},label:"quipAtoms",samplePercentage:100}));var rt=e("aVws");const yt=Object(ze.b)((At,Qe)=>{const nt=Ae.c.getObjectById(Object(Ve.a)(At),Qe),_t=Object(l.i)(At),Et=_t&&Object(rt.a)(_t);return Et&&(nt?ut(Et).recordHit(Qe):ut(Et).recordMiss()),nt==null?void 0:nt.value});yt.meta={name:"createSelector",key:"createSelectorgetMaybeOutdatedAtomValueByKey",description:(At,Qe)=>{const nt=Ae.c.getObjectById(Object(Ve.a)(At),Qe),_t=Object(l.i)(At),Et=_t&&Object(rt.a)(_t);return Et&&(nt?ut(Et).recordHit(Qe):ut(Et).recordMiss()),nt==null?void 0:nt.value}};var Mt=e("5NQM");const st=2*1e3,Vt=30*1e3;let Wt=h(class{get(Qe){return this.tempState.has(Qe)?this.tempState.get(Qe):yt(this.getState(),Qe)}set(Qe,nt){return this.tempState.set(Qe,nt),this.scheduleDispatch()}delete(Qe){return this.tempState.set(Qe,void 0),this.scheduleDispatch()}constructor(Qe){this.tempState=new Map,this.scheduleDispatch=Object(Me.a)(()=>Object(Mt.c)(()=>{const nt=[],_t=[];Array.from(this.tempState.entries()).forEach(Et=>{let[kt,jn]=Et;jn===void 0?(_t.push(kt),this.tempState.delete(kt)):jn instanceof Object||(nt.push({id:kt,value:jn}),this.tempState.delete(kt))}),this.dispatch(xe({objects:nt})),this.dispatch(Re({ids:_t}))},{timeout:st}),Vt,{leading:!1,trailing:!0}),this.dispatch=Qe.dispatch,this.getState=Qe.getState}},"QuipAtomStorageProvider");const Xt={IDLE_CALLBACK_TIMEOUT:st,THROTTLE_TIMEOUT:Vt};var Ut=e("zE4u"),Nt=e("I3z+"),Ft=e("Aqb/"),_n=e("T5R/"),cn=e("AdD7"),Rn=e("PXOn"),Vn=e("Oczg"),ea=e("7iTs");let Lt;const vn={All:"1",Embedded:"embedded",Controller:"controller"};let Wn=h(()=>t.a.resolve(Promise.resolve().then(e.bind(null,"LK2A"))).then(At=>{let{CollabApi:Qe}=At;return nt=>new Qe(nt)}),"builtInCollabClientCreator");const Nn=h(()=>{let At;return Object(f.b)()?At="slack-dev":Object(f.f)()?At="staging.slack-dev":At="slack-prod",`https://${At}.slack.quip.systems`},"getQuipIngressOrigin"),ia=h(At=>Nn(),"collabEmbeddedScriptOrigin"),Ea=h((At,Qe)=>(Lt&&!Lt.isRejected()||(Lt=new t.a((nt,_t)=>{const Et=document.createElement("script");Et.src=Qe===vn.All||Qe===vn.Embedded?s.GrafterUrls.EMBEDDED_JS:`${ia(At)}/collab/embedded.js`,Et.type="module",Et.crossOrigin="anonymous",Et.onload=()=>{const kt=Date.now();let jn;const pn=h(()=>{const An=window.Collab;An?(clearInterval(jn),nt(lt=>new An(lt))):Date.now()-kt>1e4&&(clearInterval(jn),_t(new Error("Collab API failed to load")))},"check");jn=setInterval(pn,100),pn()},Et.onerror=(kt,jn,pn,An,lt)=>{_t(lt)},window.Collab=void 0,document.body.appendChild(Et)})),Lt),"loadExternalClientCreator"),bn=h(At=>{if(Object(w.d)(At,"canvas_ingress_same_origin")==="on"){const nt=Object(l.g)(At);return`https://${Object(Rn.a)(nt)}/canvas`}const Qe=Object(g.g)(At);return`https://slack-infra-canvas.${Object(C.t)(Qe)}`},"collabBaseURL");let Xn=!0;const vt=Object(a.c)("Initialize the Quip SDK client",(At,Qe)=>{const nt=Qe(),_t=Object(l.g)(nt),Et=Object(l.i)(nt),kt=new URLSearchParams(window.location.search),jn=kt.get("use_remote_collab_script")==="1";var pn;const An=(pn=kt.get("quip_js_path"))!==null&&pn!==void 0?pn:void 0;if(!_t)return t.a.reject(new Error("Missing team ID for client initialization"));const lt=Vn.a.get(nt);if(lt&&!lt.isRejected()&&!lt.isCancelled())return lt;const Dn=Object(y.e)(window.location.href),fn=Dn&&Dn.client_theme,kn=Object(m.a)(nt);document.documentElement.dataset.enableSystemJsForking="true";const wn=Object(V.a)({getState:Qe});let fa;const In=Object(w.d)(nt,"canvas_ingress_same_origin")==="on";Xn&&(fa=wn.createTrace({traceName:"canvas:create-collab-api",tags:{"same-origin":In},samplingOptions:{sampleType:Ft.a.ALWAYS}}),Xn=!1);const ha=et(nt,jn,An,fa),Dt=ha.catch(jt=>{throw Object(c.b)({getState:Qe}).error(jt,"Failed to initialize Collab SDK: creator promise rejected",Je(ha)),jt}).then(jt=>{let $t=null;return mt(At,Qe,Tn=>new t.a((dn,Un)=>{const Bn=new me({dispatch:At,getState:Qe,onInitialize(){dn($t)},onFailToInitialize(Kn){Un(Kn)},trace:fa}),Kt=Qt({state:nt,dispatch:At,getState:Qe,teamId:_t,topLevelTeamId:Et,clientThemeQP:fn,clientTheme:kn,quipDelegate:Bn,attemptNumber:Tn,quipJsPath:An});$t=jt(Kt),Object(n.c)(_t,"quipCollab",$t)}),(Tn,dn)=>{Pt({timeMs:Tn,retries:dn,client:$t,getState:Qe})},(Tn,dn)=>{Tt({error:Tn,retries:dn,client:$t,getState:Qe})})}).then(jt=>(fa&&(fa.addTags({success:!0}),wn.reportTrace(fa)),jt)).catch(jt=>{throw fa&&(fa.addTags({success:!1,error:`${jt}`}),wn.reportTrace(fa)),jt});return Vn.a.set(nt,Dt),Dt});vt.meta={name:"createThunk",key:"createThunkinitializeClient",description:"Initialize the Quip SDK client"};function Je(At){return At.isPending()?"pending":At.isFulfilled()||At.isResolved()?"resolved":At.isRejected()?`rejected: ${At.reason}`:At.isCancelled()?"cancelled":"weird"}h(Je,"getPromiseStateDescription");function et(At,Qe,nt,_t){const Et=_t==null?void 0:_t.startSpan("canvas:client-creator-promise"),kt=nt===vn.All||nt===vn.Embedded;return(Qe||kt?Ea(At,nt):Wn()).finally(()=>{Et==null||Et.close()})}h(et,"getClientCreatorPromise");function mt(At,Qe,nt,_t,Et){let kt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:3,jn=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0;if(!Object(r.d)(Qe()))return t.a.reject(new Error("Slack is offline"));const pn=Date.now(),An=setTimeout(()=>{_t(Date.now()-pn,kt)},2e4);return nt(jn).then(lt=>(clearTimeout(An),lt)).catch(lt=>{if(clearTimeout(An),Et(lt,kt),kt===1)throw lt;return At(Object(o.a)()).then(Dn=>{if(!Dn)throw new Error("checkAuth failed");return t.a.delay(2e3)}).then(()=>mt(At,Qe,nt,_t,Et,kt-1,jn+1))})}h(mt,"retry");function Pt(At){const{retries:Qe,timeMs:nt,client:_t,getState:Et}=At,kt=h(pn=>{Object(c.b)({getState:Et}).error(new Error("Collab init still running"),{retries:Qe,initLog:pn,timeMs:nt})},"log"),jn=_t?_t.getInitLog(30):t.a.resolve({});_t?jn.then(pn=>{kt(pn)}):kt({})}h(Pt,"logSlowAttempt");function Tt(At){const{error:Qe,retries:nt,client:_t,getState:Et}=At;Object(c.b)({getState:Et}).error(Qe,"Failed to initialize Collab SDK: controller load (1/2)",{retries:nt,bridgeLog:_t==null?void 0:_t.getBridgeDebugReport()});const kt=h(pn=>{Object(c.b)({getState:Et}).error(Qe,"Failed to initialize Collab SDK (2/2)",{retries:nt,initLog:pn})},"log2"),jn=_t?_t.getInitLog(30):t.a.resolve({});_t?jn.then(pn=>{kt(pn)}):kt({}),jn.then(pn=>{Object(c.b)({getState:Et}).warn("Failed to initialize Collab SDK (unredacted)",Qe,{retries:nt,bridgeLog:_t==null?void 0:_t.getBridgeDebugReport(!1),initLog:pn})})}h(Tt,"logCollabLoadFailure");function Qt(At){const{state:Qe,dispatch:nt,getState:_t,teamId:Et,topLevelTeamId:kt,clientThemeQP:jn,clientTheme:pn,quipDelegate:An,attemptNumber:lt,quipJsPath:Dn}=At,fn=[];fn.push(s.Feature.SLACK_AUTOCOMPLETE),fn.push(s.Feature.DISABLE_GLOBAL_SHORTCUTS),Object(j.y)(Qe)&&fn.push(s.Feature.A11Y_KEYBOARD_NAVIGATION),Object(w.d)(Qe,"canvas_shortcut_command")==="on"&&fn.push(s.Feature.SLASH_SHORTCUT_COMMANDS),Object(w.d)(Qe,"canvas_insert_command_nux")==="on"&&fn.push(s.Feature.SLASH_SHORTCUT_COMMANDS_NUX),Object(j.z)(Qe)&&fn.push(s.Feature.INLINE_COMMENTS),fn.push(s.Feature.ADD_COLUMN_FROM_SECTION_MENU),fn.push(s.Feature.REQUEST_COMPLETION_HOOK),Object(w.d)(Qe,"canvas_draggable_controls")==="on"&&fn.push(s.Feature.DRAGGABLE_CONTROL),fn.push(s.Feature.MOVE_CARET_WHEN_OPENING_ANNOTATION),fn.push(s.Feature.OPEN_ANNOTATION_TAB_IN_FOCUSED_SECTION),Object(j.x)(Qe)&&fn.push(s.Feature.ALLOW_SLACK_OBJECT_TITLE_UNFURL);const kn=be.a.getOrCreate(Qe),wn=Se.a.getOrCreate(Qe),fa=Pe.a.getOrCreate(Qe);Object(Nt.c)(Qe)&&fn.push(s.Feature.SAVED_FOR_LATER),Object(_.a)(Qe)&&fn.push(s.Feature.LOCK_SECTION_FOR_INLINE_ANNOTATION),Object(j.b)(Qe)&&fn.push(s.Feature.ALLOW_SLACK_TEMPLATE_PLACEHOLDER),Object(ea.a)(Qe)&&fn.push(s.Feature.UNFURL_EMBED);const In=[s.SlackObjectType.CHANNEL,s.SlackObjectType.EMOJI,s.SlackObjectType.USER];Object(w.d)(Qe,"canvas_use_new_section_highlight_styles")==="on"&&fn.push(s.Feature.USE_NEW_SECTION_HIGHLIGHT),Object(w.d)(Qe,"canvas_toolbar_performance")==="on"&&fn.push(s.Feature.USE_INLINE_TOOLBAR_PERF_IMPROVEMENTS),Object(j.l)(Qe)&&fn.push(s.Feature.PRIVATE_MESSAGE_SPEEDBUMP_FOR_TITLE_UNFURLS),Object(w.d)(Qe,"canvas_model_updates_probe")==="on"&&fn.push(s.Feature.MODEL_UPDATES_PROBE),Object(w.d)(Qe,"canvas_model_fsck_probe")==="on"&&fn.push(s.Feature.MODEL_FSCK_PROBE),Object(w.d)(Qe,"canvas_model_integrity_probe")==="on"&&fn.push(s.Feature.MODEL_INTEGRITY_PROBE),Object(w.d)(Qe,"canvas_model_integrity_changes_check")==="on"&&fn.push(s.Feature.MODEL_INTEGRITY_CHANGES_CHECK),Object(w.d)(Qe,"canvas_image_min_dimensions")==="on"&&fn.push(s.Feature.IMAGE_MIN_DIMENSIONS),Object(w.d)(Qe,"canvas_clickable_comments")==="on"&&fn.push(s.Feature.ONLY_OPEN_ANNOTATION_WHEN_CARET_IS_INSIDE),Object(w.d)(Qe,"quip_transient_edit_highlights")==="on"&&fn.push(s.Feature.TRANSIENT_SECTION_HIGHLIGHTING),Object(w.d)(Qe,"canvas_optimize_embeds_rendering")==="on"&&fn.push(s.Feature.OPTIMIZE_EMBEDS_RENDERING),Object(w.d)(Qe,"canvas_optimize_section_status_rendering")==="on"&&fn.push(s.Feature.OPTIMIZE_SECTION_STATUS),Object(w.d)(Qe,"canvas_header_image")==="on"&&fn.push(s.Feature.ALLOW_HEADER_IMAGE),Object(w.d)(Qe,"canvas_content_reactions")==="on"&&fn.push(s.Feature.CONTENT_REACTION_BAR),Object(w.d)(Qe,"canvas_gutter_redesign")==="on"&&fn.push(s.Feature.GUTTER_REDESIGN),Object(w.d)(Qe,"canvas_new_edits_pill")==="on"&&fn.push(s.Feature.SECTION_UPDATE_PILL_ENABLED),Object(w.d)(Qe,"canvas_simple_tables_cell_merging")==="on"&&fn.push(s.Feature.SIMPLE_TABLES_CELL_MERGING),Object(w.d)(Qe,"canvas_badging_highlighting")==="on"&&fn.push(s.Feature.HIGHLIGHT_IN_STANDALONE_CANVASES),Object(w.d)(Qe,"canvas_enable_react_18")==="on"&&fn.push(s.Feature.ENABLE_REACT_18),Object(w.d)(Qe,"canvas_pause_private_message_unfurl_snapshots")==="on"&&fn.push(s.Feature.PAUSE_PRIVATE_MESSAGE_UNFURL_SNAPSHOTS),Object(w.d)(Qe,"canvas_toolbar_2")==="on"&&fn.push(s.Feature.NEW_COLUMN_PLACEHOLDERS),Object(w.d)(Qe,"canvas_lists_ga")==="on"&&fn.push(s.Feature.CANVAS_LISTS_GA);const ha=Fe.a.getOrCreate(Qe,Vn.c,In),Dt=je.a.getOrCreate(Qe),jt=new _e.a,$t=new he,Tn=Ut.a.getOrCreate(Qe),dn=Object(_n.b)(),Un=Object(w.d)(Qe,"canvas_systemjs_shared_loader")==="on";return{fileDataProvider:wn,commentsDataProvider:kn,documentEventProvider:fa,delegate:An,features:fn,origin:bn(Qe),appearance:jn??pn,underlineAllLinks:Object(v.u)(Qe,"underline_links"),enableAnimations:Object(v.u)(Qe,"a11y_animations"),displayEmojiAsPlainText:Object(p.a)(Qe),spellcheckEnabled:Object(v.u)(Qe,"webapp_spellcheck"),slackObjectProvider:ha,anchorLinkProvider:Dt,teamId:Et,topLevelTeamId:kt,embeddedConfigProvider:new Ue,atomStorageProvider:new Wt({dispatch:nt,getState:_t}),urlParsersProvider:jt,slackObjectUIProvider:Tn,slackTextyHtmlConversionProvider:$t,enableWebCaching:Object(j.h)(Qe),useSmartQuotesAndDashes:!!dn&&dn.useSmartQuotes&&dn.useSmartDashes,attemptNumber:lt,isGov:Object(cn.b)(),useGraftedMode:Dn===vn.All||Dn===vn.Controller,useSystemJsSharedFork:Un,xhrWithCredentials:!0,getSlackToken:()=>{var Bn;const Kt=(Bn=Object(O.a)({},{teamId:Et}))===null||Bn===void 0?void 0:Bn.token;if(!Kt){const Kn=new Error("getSlackToken error");throw Object(c.b)({getState:_t}).error(Kn,`Looking for ${Et} but could only find: ${Object(b.c)().join(",")}`),Kn}return Kt},language:Object(d.a)(),pathRewriteHook:Bn=>{let Kt=Object(u.f)();return(!Kt||Kt==="0")&&(Kt="dev"),`${Bn}${Bn.includes("?")?"&":"?"}_x_version_ts=${encodeURIComponent(Kt)}`}}}h(Qt,"createInitConfig");var dt=i.a=vt;const zt={builtInCollabClientCreator:Wn,collabCreatorPromise:Lt};Object.defineProperty(zt,"collabCreatorPromise",{get:()=>Lt,set:At=>{Lt=At}}),Object.defineProperty(zt,"builtInCollabClientCreator",{get:()=>Wn,set:At=>{Wn=At}})},sXH4:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("68qM"),s=e("Z2IC"),l=e("xPkT");const o=24,f=h(r=>{let{streamManager:m,recording:c,onDotsUpdate:u,className:d,warningHighlight:p}=r;const v=Object(s.a)(()=>new AudioContext),g=Object(s.a)(()=>{const P=v.createAnalyser();return P.fftSize=32,P.smoothingTimeConstant=.2,P}),O=Object(s.a)(()=>new Uint8Array(g.frequencyBinCount)),b=Object(n.useRef)(),[y,C]=Object(n.useState)(()=>new Array(o).fill(-1)),_=Object(n.useRef)(y);_.current=y;const j=m.microphoneStream;Object(a.a)(()=>{j&&(b.current=v.createMediaStreamSource(j),b.current.connect(g))},[j]);const E=10,M=5;Object(a.a)(()=>{if(!c)return;const P=new Array(M).fill(0);let B=0;const R=setInterval(()=>{g.getByteFrequencyData(O);let U=0;for(let V=0;V<O.length;V++)U+=(O[V]/(255*.9))**2;const K=Math.sqrt(U/O.length);if(P[B]=K,B+=1,B===M){const V=Math.min(1,Math.max.apply(void 0,P));C([..._.current.slice(-o+1),V]),B=0}},1e3/E/M);return()=>clearInterval(R)},[c]),Object(n.useEffect)(()=>{u&&u(y)},[y,u]);const T=Object(n.useMemo)(()=>({mode:"data",color:p?"red":"blue"}),[p]);return t.a.createElement(l.a,{data:_.current,width:o,className:d,highlight:T,minHeight:3})},"AudioWaveformRecorder");f.displayName="AudioWaveformRecorder",i.a=f},"sa+Q":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("U00I"),s=e("m5Yc"),l=e("wnwS");const o=h(f=>{let{type:r,channelId:m,style:c,clogLinkClick:u,noLinking:d}=f;return r!==s.b.CHANNEL||!m?null:t.a.createElement(l.a,{style:c},t.a.createElement(a.a,{id:m,noLinking:d,clogLinkClick:u}))},"Channel");o.displayName="Channel",i.a=o},slMn:function(J,i,e){"use strict";var n=e("gSGL"),t=e("nKoU"),a=e("bPB8");const s=h(l=>{if(!Object(n.a)(l))return null;const o=[...l].map(f=>{const r=f.codePointAt(0);if(!r)return null;const m=r.toString("16");return Object(t.a)(m,4,"0")});return Object(a.a)(o).join("-")},"convertNativeEmojiToUnicodeSequence");i.a=s},somW:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("Jk7K"),l=e("DXiN"),o=e("g3+L");const f=h(Oe=>{const{startFocusTransitionFallbackTimeout:Ce,cancelFocusTransitionFallback:ce}=Object(n.useContext)(o.a),he=Object(n.useCallback)((Ae,xe)=>{Ce(Oe,Ae,xe)},[Oe,Ce]),Me=Object(n.useCallback)(()=>{ce(Oe)},[ce,Oe]);return Object(n.useEffect)(()=>()=>{ce(Oe)},[ce,Oe]),[he,Me]},"useFocusTransitionFallback");var r=e("MLXQ"),m=e("VymY"),c=e("WfUL"),u=e("lhZz"),d=e("SQ0V"),p=e("JoR1"),v=e("npde"),g=e("nNoG"),O=e("mD0D"),b=e.n(O),y=e("Cfcg"),C=e("BHdc"),_=e("+kJ4"),j=e("I6n1"),E=e("WMzb"),M=e("/MKj"),T=e("T1zM"),P=e("zxER");function B(Oe){const Ce=Object(M.useDispatch)();return[Object(P.c)(ce=>Object(p.u)(ce,Oe)),ce=>Ce(Object(T.f)({pref:Oe,value:ce}))]}h(B,"useUserPref");var R=e("G5NC"),U=e("7JUD"),K=e("iUFw"),V=e("Ws5+"),z=e("3V+Q"),N=e("AEEY"),A=e("9org"),x=e("zKrX"),k=e("YyjR"),F=e("lvWT"),L=e("1Qjs"),S=e("tYRW"),I=e("MIV3");function W(){return W=Object.assign||function(Oe){for(var Ce=1;Ce<arguments.length;Ce++){var ce=arguments[Ce];for(var he in ce)Object.prototype.hasOwnProperty.call(ce,he)&&(Oe[he]=ce[he])}return Oe},W.apply(this,arguments)}h(W,"_extends");const D=new g.b("contextual_help"),H={elementName:"contextual_help_modal_pref",onChange:{enableClogAction:!0}},Z=h(Oe=>{let{suppressOnClose:Ce=!1,cancelButtonAutoClogProps:ce,cancelButtonText:he,children:Me,className:Ae,closeModal:xe,"data-qa":Re="contextual_help_modal",onSubmit:Ge=a.a,contextualHelpCheckboxLabel:ze,pref:Ie,showCancelButton:Ne=!1,submitButtonAutoClogProps:Ke,submitButtonText:Ve,submitButtonType:$e="primary",title:tt="",illustration:qe,setUserPrefByApi:ut=a.a}=Oe;const rt=Object(E.a)(),[yt]=B(Ie),Mt=j.c[Ie],[st,Vt]=Object(n.useState)(Mt!==yt),Wt="contextual-help-modal-dialog-title",Xt="contextual-help-modal-dialog-content",Ut=Object(n.useCallback)(cn=>{rt.action("CONTEXTUAL-HELP-MODAL",`Changed ${Ie}: ${cn}`),Object(R.a)()?Object(I.a)(Object(T.f)({pref:Ie,value:cn})):ut({pref:Ie,value:cn})},[rt,Ie,ut]),Nt=Object(n.useCallback)(function(){let cn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Ce?Ut(!Mt):cn&&Ut(Mt!==st),xe()},[Ce,xe,Mt,st,Ut]),Ft=Object(n.useCallback)(cn=>{Vt(cn.target.checked)},[]),_n=Object(n.useCallback)(()=>{Ge(),Nt(!0)},[Nt,Ge]);return t.a.createElement(U.a,{className:Ae,labelledby:Wt,describedby:Xt,closeModal:Nt,role:"alertdialog",dataQa:Re,shouldReturnFocusAfterClose:!0,showCloseButton:!1},t.a.createElement(F.a,null,qe?t.a.createElement(L.a,W({"aria-hidden":!0},qe)):null,t.a.createElement(S.a,{title:tt,id:Wt,"data-qa":`${Re}_header`})),t.a.createElement(N.a,null,t.a.createElement(A.a,{"data-qa":`${Re}_content`,id:Xt},Me)),t.a.createElement(x.a,{"data-qa":`${Re}_footer`,className:Object(C.default)({"c-contextual_help_shortcuts_list__footer_with_checkbox":!Ce})},!Ce&&t.a.createElement(z.b,{"data-qa":`${Re}_pref_checkbox_label`,type:"inline",cursor:"pointer",text:ze||D.t("Don\u2019t show me this again",{fallbackHash:"a4232cdf54911c7d294da66c7a7a824355769293",fallbackHashNs:"msg_edit"})},t.a.createElement(V.a,{checked:st,onChange:Ft,autoClogProps:H})),t.a.createElement(k.a,null,Ne&&t.a.createElement(K.d,{type:"outline",onClick:Nt,"data-qa":`${Re}_cancel`,autoClogProps:ce},he||D.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"generic_dialog"})),t.a.createElement(K.d,{type:$e,onClick:_n,"data-qa":`${Re}_submit`,autoClogProps:Ke,autoFocus:!0},Ve||D.t("Got It",{fallbackHash:"c8a487428d655b8f4d84feb9acdac446bb649d66",fallbackHashNs:"messages"})))))},"ContextualHelpModal");Z.displayName="ContextualHelpModal";const G=h(Oe=>({closeModal:()=>Oe(Object(_.a)()),setUserPrefByApi:Ce=>Object(T.f)(Ce)}),"mapDispatchToProps");var te=Object(y.a)(null,G)(Z),se=e("DPHH"),$=e("Trx9"),X=e("kBpe"),q=e("d/xU"),Y=e("Tevt");const ee=new g.b("contextual_help"),w={elementName:"confirm_seen_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},ne={elementName:"learn_more_link_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},ae={src:b.a,alt:""},de=h(()=>{const Oe=Object(X.i)(),Ce=ee.t("Are you trying to move sections?",{fallbackHash:"3f506b9d5da983587d6842f20a64fa5d55ff16a2"}),ce=`https://${Object(q.n)()}/help/articles/115003340723-Navigate-Slack-with-your-keyboard`,he=Object(se.c)("Cmd"),Me=Object(se.c)("Ctrl"),Ae=Object(se.c)(se.b.ArrowLeft),xe=Object(se.c)(se.b.ArrowRight),Re=ee.t("F6"),Ge=ee.rt("{ctrlKey}+{f6Key}",{ctrlKey:Me,f6Key:Re}),ze=h(()=>Object(X.p)()?ee.rt("{cmdKey}+{ctrlKey}+{leftArrowKey} or {rightArrowKey}",{cmdKey:he,ctrlKey:Me,leftArrowKey:Ae,rightArrowKey:xe}):Oe?Re:Ge,"getSectionNavigationKeys"),Ie=ee.rt("<ul><li>To move focus between different sections of Slack\u2019s interface press <strong>{sectionNavigationKeys}</strong></li><li>To navigate between items in toolbars, lists, and tabs use <strong>arrow keys</strong></li></ul><link>Learn more about keyboard navigation</link>",{sectionNavigationKeys:ze(),"<link>":Ke=>{let{text:Ve}=Ke;return t.a.createElement(Y.a,{href:ce,autoClogProps:ne},Ve)},fallbackHash:"98591a618babdd526f05af764ebdd2c6a90047c1"}),Ne=ee.t("OK",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"generic_dialog"});return t.a.createElement($.a,{uiComponentName:"ContextualHelpForSectionNavigationModal",clogImpression:!0},t.a.createElement(te,{pref:"should_show_contextual_help_for_section_navigation",submitButtonAutoClogProps:w,title:Ce,illustration:ae,suppressOnClose:!0,submitButtonText:Ne},Ie))},"ContextualHelpForSectionNavigationModal");de.displayName="ContextualHelpForSectionNavigationModal";var ge=de;const le=Object(v.a)(ge),Q=Object(d.c)("Maybe open modal dialog with contextual help for section navigation",(Oe,Ce)=>{const ce=Ce();Object(p.u)(ce,"should_show_contextual_help_for_section_navigation")&&Oe(le())});Q.meta={name:"createThunk",key:"createThunkshowContextualHelpForSectionNavigation",description:"Maybe open modal dialog with contextual help for section navigation"};var ie=Q,oe=e("u43d"),me=e("O86Y"),be=e("1ufr"),Se=e("/0iu"),Pe=e("s4P+"),Ue=e("azFB"),Fe=e("7xYR"),je=e("XMOc");function _e(){return _e=Object.assign||function(Oe){for(var Ce=1;Ce<arguments.length;Ce++){var ce=arguments[Ce];for(var he in ce)Object.prototype.hasOwnProperty.call(ce,he)&&(Oe[he]=ce[he])}return Oe},_e.apply(this,arguments)}h(_e,"managed_focus_container_extends");const pe={display:"contents"},fe="active-managed-focus-container",Ee=h(()=>!0,"shouldAlwaysFocus"),ye=h(Oe=>{const{id:Ce,index:ce,focusFn:he=a.a,restoreFocusFn:Me=void 0,enableSectionNavigation:Ae=!0,refToForward:xe=void 0,onFocus:Re=a.a,onBlur:Ge=a.a,shouldFocus:ze=Ee,onFirstHiddenTabStopFocus:Ie=a.a,onLastHiddenTabStopFocus:Ne=a.a,tabCountToShowContextualHelp:Ke=4,window:Ve,windowToken:$e=void 0,windowId:tt=void 0,className:qe,...ut}=Oe,{document:rt}=Ve,{registerSection:yt,unregisterSection:Mt,setActiveSection:st}=Object(n.useContext)(s.a),Vt=Object(r.a)(xe),[Wt,Xt]=Object(n.useState)(),[Ut,Nt]=Object(n.useState)(0),{getState:Ft}=Object(M.useStore)(),_n=Ft();let cn=_n,Rn;Object(oe.a)(_n)?(Rn=Object(Fe.getFocusedWorkspace)(_n),cn=Object(u.getStateByTeamId)(Rn)):Rn=Object(me.g)(_n);const Vn=Object(Pe.a)({state:cn}),ea=Object(p.u)(cn,"should_show_contextual_help_for_section_navigation"),Lt=Object(n.useCallback)(dt=>Object(u.dispatchForTeamId)(Rn,Object(T.f)({pref:"should_show_contextual_help_for_section_navigation",value:dt})),[Rn]),[vn,Wn]=Object(n.useState)(!1),Nn=Object(n.useCallback)(()=>{if(vn)return;const dt=Ut+1;if(ea){Nt(0),Lt(!1),Wn(!0),Object(u.dispatchForTeamId)(Rn,le({openModalProps:{forceTargetWindowId:tt}}));return}if(dt>=Ke){Nt(0),Wn(!0),Object(u.dispatchForTeamId)(Rn,le({openModalProps:{forceTargetWindowId:tt}}));return}Nt(dt)},[vn,Lt,ea,Ke,Ut,Rn,tt]),ia=Object(n.useCallback)(dt=>{Ie(dt)},[Ie]),Ea=Object(n.useCallback)(dt=>{Ne(dt),Nn()},[Nn,Ne]),bn=Object(n.useCallback)(dt=>{st(Ce),Re(dt)},[Ce,Re,st]),Xn=Object(n.useCallback)(dt=>{const{target:zt,currentTarget:At,relatedTarget:Qe}=dt;At.contains(Qe)||Xt(zt),Ge(dt)},[Ge,Xt]),vt=Object(n.useCallback)(()=>ze()?!Vt.current||Ce===Se.c?!0:!!Object(m.d)(Vt.current):!1,[Vt,ze,Ce]),Je=Object(n.useCallback)(()=>{var dt;return!!(!((dt=Vt.current)===null||dt===void 0)&&dt.contains(rt.activeElement))},[Vt,rt.activeElement]),et=h(()=>!(!Wt||!Wt.focus||!Vt.current.contains(Wt)||!Object(c.a)(Wt,Ve)),"canFocusPreviouslyFocusedElement"),mt=Object(n.useCallback)(dt=>{if(dt!==rt.activeElement||!Vt.current||Je())return;const zt=Object(m.d)(Vt.current);zt&&zt.focus()},[Vt,rt.activeElement,Je]),Pt=Object(n.useCallback)(dt=>{if(Ut===0||vn)return;const{key:zt,shiftKey:At}=dt.detail;zt==="Tab"&&!At||Nt(0)},[vn,Ut]),[Tt]=f(mt);Object(n.useEffect)(()=>(rt.addEventListener("keyboard-navigation",Pt),()=>{rt.removeEventListener("keyboard-navigation",Pt)}),[rt,Pt]),Object(n.useEffect)(()=>(Ae&&(yt(Ce,{focus:()=>{et()&&(Me?Me(Wt):Wt==null||Wt.focus(),rt.activeElement===Wt)||(he(),Tt(je.a,rt.activeElement))},shouldFocus:vt},ce),Je()&&st(Ce)),Ae||Mt(Ce),()=>{Mt(Ce)}),[Ae,he,Me,Ce,ce,yt,Mt,vt,Wt]),Object(n.useEffect)(()=>{var dt;Ae&&(!((dt=Vt.current)===null||dt===void 0)&&dt.getElementsByClassName(fe).length)&&Vn.devHint("UNEXPECTED MANAGED FOCUS CONTAINER HIERARCHY",`Detected an active nested ManagedFocusContainer in container ${Ce}; this will disrupt app-level F6 navigation (see https://slack-github.com/slack/webapp/blob/master/js/modern/slack-kit/accessibility-components/managed-focus-container/managed-focus-container.tsx#L30-L36)`)},[Ae,Vt,Vn,Ce]);const Qt=Ae?fe:void 0;return t.a.createElement(l.b,_e({onFocus:bn,onBlur:Xn,onFirstHiddenTabStopFocus:ia,onLastHiddenTabStopFocus:Ea,ref:Vt,className:Object(C.default)(qe,Qt)},ut))},"ManagedFocusContainer");ye.displayName="ManagedFocusContainer",ye.defaultProps={style:pe,window:Ue.a};var Te=i.a=Object(be.a)(ye)},sqFq:function(J,i,e){"use strict";e.d(i,"b",function(){return l}),e.d(i,"a",function(){return o});var n=e("oTSI"),t=e("s4P+"),a=e("ktUG");const s=h(f=>{try{return JSON.stringify(f)}catch(r){return Object(t.b)().error("stringify-error-constructing-link-trigger-context-from-message",r),""}},"stringifyObject"),l=Object(n.a)(f=>f!=null&&f.channelId?{location:"message",channelId:f.channelId,messageTs:(f==null?void 0:f.ts)||""}:{location:"markdown_link"},s),o=Object(n.a)((f,r)=>({eventId:a.EventId.HERMES_LINK_TRIGGER,uiComponentName:a.UiComponentName.LINK_TRIGGER_URL,entryPoint:f?"message":"other",workflowTriggerId:r.triggerId,channelId:f==null?void 0:f.channelId,onClick:{enableClogAction:!0}}),s)},sryV:function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a});var n=e("NRPS");function t(s,l){var o,f;const r=Object(n.a)(l),m=(o=r==null?void 0:r.find(u=>u[1]===s))===null||o===void 0?void 0:o[0];if(m)return m;const c=Object(n.b)(s,s);return(f=r==null?void 0:r.find(u=>u[1]===c))===null||f===void 0?void 0:f[0]}h(t,"getTimezoneLabel");function a(s,l){const o=t(s,l);if(o)return o.replace(/\(UTC ?[+-]? ?.*?\)/,"").trim()}h(a,"getTimezoneLocationLabel")},sw7J:function(J,i,e){"use strict";e.d(i,"a",function(){return W});var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("/MKj"),l=e("zxER"),o=e("Zbwg"),f=e("eUIW"),r=e("nNoG"),m=e("52Wj"),c=e("E3dU"),u=e("xwCZ"),d=e("Lgge"),p=e("0/Hl"),v=e("SQ0V"),g=e("t+0D"),O=e("dmdh"),b=e("/L8c"),y=e("cBJ3"),C=e("O86Y"),_=e("x6tY"),j=e("7ibc");const E=Object(v.c)("Calls files.revokePermission and updates the file object in the store",(D,H,Z)=>{let{fileId:G,entityId:te,revokeNonmemberPrivateChannel:se=!1}=Z;const $=H(),X=Object(C.g)($),q="revoke-permission",Y=Object(j.e)($);if(!X)return d.a.reject(new Error("Missing teamId"));if(se)return D(Object(g.a)({fileId:G,revokeNonmemberPrivateChannel:se,reason:q,teamId:X})).then(()=>{D(Object(y.l)({fileId:G}))}).catch(ee=>d.a.reject(ee));if(te&&Object(f.a)(te))return D(Object(g.a)({fileId:G,userId:te,reason:q,teamId:X})).then(()=>{D(Object(y.k)({fileId:G,entityId:te,entityType:p.a.Member}))}).catch(ee=>d.a.reject(ee));if(te&&Object(o.a)(te)){const ee=[];if(Y){const w=Object(b.a)($,te);if(w){const ne=Object(O.e)($,G);!!Object(_.Y)(ne).find(Q=>Q===w)&&ee.push(w),!!Object(_.O)(ne).find(Q=>Q===te)&&ee.push(te)}else ee.push(te)}else ee.push(te);return D(Object(g.a)({fileId:G,channelId:te,reason:q,teamId:X})).then(()=>{ee.forEach(w=>{D(Object(y.k)({fileId:G,entityId:w,entityType:p.a.Channel}))})}).catch(w=>d.a.reject(w))}return d.a.reject(new Error("Invalid entity id"))});E.meta={name:"createThunk",key:"createThunkrevokePermissionAndUpdateFile",description:"Calls files.revokePermission and updates the file object in the store"};var M=e("YUBf"),T=e("9WS/"),P=e("Ec0U"),B=e("oY18"),R=e("ktUG"),U=e("/CFe"),K=e("afXM"),V=e("bUGr"),z=e("AutL"),N=e("Fn/R"),A=e("RVJP"),x=e("rZ8V"),k=e("VymY"),F=e("oLdd");const L=new r.b("share-dialog"),S={uiComponentName:R.UiComponentName.QUIP_PERMISSIONS_CONFIRMATION_SPEEDBUMP,uiComponentVariant:"revoke_access_speedbump",onClick:{enableClogAction:!0}},I={continueButton:{elementName:"revoke_button",...S},cancelButton:{elementName:"cancel_button",...S}};function W(D){let{fileId:H,entityId:Z,unknownPrivateChannelCount:G,closeSpeedBump:te,onRevokeAccessError:se=a.a,isSlackList:$,isTemplate:X}=D;const q=Object(s.useDispatch)(),Y=Object(n.useRef)(null),ee=Object(l.c)(me=>Object(A.d)(me,"canvas_collection_prototype")==="on"&&Object(x.n)(me)),w=Object(l.c)(me=>Object(A.d)(me,"canvas_user_created_templates")==="on"),ne=Object(l.c)(me=>Object(o.a)(Z)?Object(c.d)(me,Z):void 0),ae=Object(l.c)(me=>Object(f.a)(Z)?Object(u.g)(me,Z):void 0),de=Object(N.a)(ae),ge=Object(l.c)(me=>Object(z.b)(me,H??""));Object(n.useEffect)(()=>{setTimeout(()=>{var me;return(me=Object(k.d)(Y==null?void 0:Y.current))===null||me===void 0?void 0:me.focus()},0)},[]);const le=Object(n.useCallback)(()=>{if(H&&Z){let me=L.t("Canvas access removed");X?me=w?L.t("Template access removed"):L.t("Canvas access removed"):$&&(me=L.t("List access removed")),q(E({fileId:H,entityId:Z})).then(()=>{q(Object(B.a)({element:t.a.createElement(K.a,{message:L.t("This request is being processed, permissions will be removed after a couple of minutes.")})})),q(Object(B.a)({element:t.a.createElement(K.a,{message:me})})),ee&&ge&&Object(f.a)(Z)&&q(Object(V.a)({fileId:H,userId:Z}))}).catch(()=>{se({entityId:Z})}).finally(()=>{te()})}else H&&G&&q(E({fileId:H,revokeNonmemberPrivateChannel:!0})).then(()=>{q(Object(B.a)({element:t.a.createElement(K.a,{message:L.t("It might take a couple minutes to remove everyone in these channels")})}))}).catch(()=>{se({entityId:P.a})}).finally(()=>{te()})},[H,Z,G,X,$,q,w,ee,ge,se,te]);if(!H||!ne&&!ae&&!G)return null;let Q;de?(Q=L.t("Remove workflow from this canvas?"),X&&(Q=w?L.t("Remove workflow from this template?"):L.t("Remove workflow from this canvas?"))):ae?X&&w?Q=L.t("Remove {name} from this template?",{name:Object(m.c)(ae)}):$?Q=L.t("Remove {name} from this list?",{name:Object(m.c)(ae)}):Q=L.t("Remove {name} from this canvas?",{name:Object(m.c)(ae)}):G?X&&w?Q=L.t("Remove {count, plural, =1 {# restricted channel} other {# restricted channels}} from this template?",{count:G}):$?Q=L.t("Remove {count, plural, =1 {# restricted channel} other {# restricted channels}} from this list?",{count:G}):Q=L.t("Remove {count, plural, =1 {# restricted channel} other {# restricted channels}} from this canvas?",{count:G}):ne&&(X&&w?Q=L.rt("Remove #{channelName} from this template?",{channelName:t.a.createElement(T.a,{channel:ne,bold:!1})}):$?Q=L.rt("Remove #{channelName} from this list?",{channelName:t.a.createElement(T.a,{channel:ne,bold:!1})}):Q=L.rt("Remove #{channelName} from this canvas?",{channelName:t.a.createElement(T.a,{channel:ne,bold:!1})}));let ie;de?(ie=L.t("This workflow will stop working once it`s removed from this canvas. The workflow\u2019s creators will be notified."),X&&(ie=w?L.t("This workflow will stop working once it`s removed from this template. The workflow\u2019s creators will be notified."):"This workflow will stop working once it`s removed from this template. The workflow\u2019s creators will be notified.")):ie=L.t("Keep in mind that some people may still have access if it\u2019s been shared in another channel they\u2019re in.");const oe=de?L.t("Remove Workflow"):L.t("Remove Access");return t.a.createElement("div",{ref:Y},t.a.createElement(M.k,{className:"p-canvas_access_speedbump",heading:Q,description:ie,onContinue:le,continueButtonLabel:oe,continueButtonType:"danger",onCancel:te,cancelButtonLabel:L.t("Cancel"),"data-qa":U.b.REVOKE_ACCESS_SPEEDBUMP,autoClogProps:I}))}h(W,"CanvasRevokeAccessSpeedBump")},sz8i:function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("ZKjC"),t=e("x6tY"),a=e("E3dU"),s=e("E97Y"),l=e("dmdh"),o=e("y6S6");const f=Object(n.b)((r,m)=>{let{fileId:c,userId:u}=m;if(!u)return!1;const d=c?Object(l.e)(r,c):void 0;return!!(Object(t.D)(d).some(g=>g.user_id===u)||[...Object(t.O)(d)].some(g=>{if(Object(s.h)(Object(a.d)(r,g)))return!1;const O=Object(o.c)(r,g,u);return O.isKnown&&O.isMember}))});f.meta={name:"createSelector",key:"createSelectorisFileExplicitlySharedWith",description:(r,m)=>{let{fileId:c,userId:u}=m;if(!u)return!1;const d=c?Object(l.e)(r,c):void 0;return!!(Object(t.D)(d).some(g=>g.user_id===u)||[...Object(t.O)(d)].some(g=>{if(Object(s.h)(Object(a.d)(r,g)))return!1;const O=Object(o.c)(r,g,u);return O.isKnown&&O.isMember}))}}},szr9:function(J,i,e){"use strict";e.r(i),e.d(i,"getInsertData",function(){return d}),e.d(i,"getMatch",function(){return p}),e.d(i,"getResultFrecencyId",function(){return v}),e.d(i,"recordSelection",function(){return g});var n=e("gSGL"),t=e("Fsnq"),a=e("5IZy"),s=e("Yauy"),l=e("2oNE"),o=e("I8Au"),f=e("coh6"),r=e("GS6c"),m=e("tcou"),c=e("ktUG");const u=/(^|\n|.)([#\uFF03][^~`!@#\uFF03$%^&*()+=[\]{}\\|;:'",.<>/?\s]*)$/i,d=h(function(O){let{useChannelTagging:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!O||!O.item)return null;Object(a.a)().track(c.EventId.PFP_ACTION,{contexts:{growth:{action:"autocomplete_select",trigger:"channel"}}});const y=Object(s.s)(O.item);return b?{text:`#${y}`,format:{slackmention:Object(l.a)(O.item.id||"",`#${y}`)}}:{text:`#${y}`,ensure_preceding_space:!0}},"getInsertData"),p=h(O=>{if(!Object(n.a)(O))return null;const b=O.match(u)||[],[,y,C]=b;if(!C||Object(o.a)(y))return null;if(y==="/"){const E=Object(m.a)(O);if(E&&E.length===1&&E[0].text===O)return null}const _=(b.index||0)+Object(t.a)(y);return{match:O.slice(_),index:_}},"getMatch"),v=h(O=>O&&O.item.id,"getResultFrecencyId"),g=h(O=>{let{clogger:b,query:y,result:C,results:_,teamId:j,useSearcherSessions:E}=O;const M={query:y,results:_,selectedItemId:C.item.id,source:"texty-autocomplete"};E?Object(r.a)({teamId:j,key:"texty-autocomplete"}).clogSearcherAccept({clogger:b,data:M}):Object(f.c)({clogger:b,data:M})},"recordSelection")},t7g0:function(J,i,e){"use strict"},t9SR:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("gV07"),l=e("kBd7"),o=e("HKlo"),f=e("wnwS"),r=e("m5Yc"),m=e("BfA7"),c=e("37+L"),u=e("I0j/"),d=e("Pn4H");const p=h(g=>{let{type:O,usergroupId:b,style:y,onUserGroupClick:C,transitionFocusTo:_,navigate:j}=g;const E=Object(n.useCallback)(M=>{M.preventDefault(),j&&b?j(Object(c.ob)(b)):C&&b&&C(b),_&&_({focusKey:o.c.VIEW_USER_GROUPS})},[C,_,b,j]);return O!==r.b.USERGROUP||!b?null:t.a.createElement(f.a,{style:y},t.a.createElement(s.a,{id:b,onClick:E}))},"UserGroupElement");p.displayName="UserGroupElement";const v=h(g=>({onUserGroupClick:O=>g(Object(d.a)({groupId:O})),navigate:O=>g(Object(u.a)(O))}),"mapDispatchToProps");i.a=Object(a.a)(null,v)(Object(m.a)(Object(l.a)(p)))},tO3t:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("n3tL"),s=e("Cfcg"),l=e("QLhP"),o=e("C3vN"),f=e("ww7Y"),r=e("hooW"),m=e("9I4P"),c=e("nNoG");const u=new c.b("bot-name"),d={isWorkflow:a.default.bool.isRequired,className:a.default.string,name:a.default.string,badge:a.default.bool,isChannelFiles:a.default.bool,"data-qa":a.default.string},p={className:void 0,name:void 0,badge:!0,isChannelFiles:!1,"data-qa":void 0},v=h(O=>{let{className:b,name:y,badge:C,isWorkflow:_,isChannelFiles:j,"data-qa":E}=O;const M=j&&y?u.t("Shared by {name}",{name:y}):y;return t.a.createElement("span",{className:b,"data-qa":E},M||t.a.createElement(r.a,null)," ",C&&!j&&t.a.createElement(f.a,{isWorkflow:_}))},"BotName");v.displayName="BotName",v.propTypes=d,v.defaultProps=p;const g=h((O,b)=>{let{id:y}=b;const C=Object(l.b)(O,y);return{name:Object(m.a)(C),isWorkflow:Object(o.rb)(C)}},"mapStateToProps");i.a=Object(s.a)(g)(v)},taW2:function(J,i,e){"use strict";e.d(i,"a",function(){return l}),e.d(i,"c",function(){return o}),e.d(i,"d",function(){return f}),e.d(i,"b",function(){return r});var n=e("O86Y"),t=e("zxER"),a=e("dmdh"),s=e("x6tY");function l(m,c,u){return`${Object(s.N)(m,c)}?record_id=${u}`}h(l,"getPermalinkForListRecord");function o(m,c){const u=Object(t.c)(n.g),d=Object(t.c)(p=>Object(a.e)(p,m));return l(d,u,c)}h(o,"useGetPermalinkForListRecord");function f(m,c){const u=Object(t.c)(n.g),d=Object(t.c)(v=>Object(a.e)(v,m)),p=Object(s.N)(d,u);return c?`${p}?view_id=${c}`:p}h(f,"useGetPermalinkForListView");function r(m){const c=Object(t.c)(n.g),u=Object(t.c)(d=>Object(a.e)(d,m));return Object(s.N)(u,c)}h(r,"useGetPermalinkForList")},tbSn:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("/MKj"),l=e("zxER"),o=e("3l96"),f=e("nNoG"),r=e("oEDn"),m=e("qDEp"),c=e("Tsh7"),u=e("hwNb"),d=e("BHto"),p=e("wQZu");const v=new f.b("stories_av");function g(O){let{onSubmit:b,className:y,downloadLink:C,recordDuration:_,disabled:j,clogButton:E,clogImpression:M}=O;const T=Object(s.useDispatch)(),{videoRef:P}=Object(n.useContext)(p.a),B=Object(n.useMemo)(()=>({id:"",url_private:C,duration_ms:_*1e3}),[C,_]),R=Object(n.useCallback)(()=>{var V;P==null||(V=P.current)===null||V===void 0||V.pause(),T(Object(o.a)({element:t.a.createElement(d.a,{file:B,onSubmit:b,clogButton:E,clogImpression:M}),isStackable:!0}))},[P,T,b,E,M,B]);if(!Object(l.c)(u.c))return null;const K=t.a.createElement(m.f,{type:"outline",onClick:R,"aria-label":v.t("Select thumbnail"),className:Object(a.default)("p-video_recorder__borderless_button",y),disabled:j},t.a.createElement(r.a,{type:"image",className:"p-video_review_modal__retry_icon"}),v.t("Select Thumbnail"));return j?t.a.createElement(c.d,{tip:v.t("File needs to finish processing before selecting a thumbnail")},t.a.createElement("div",null,K)):K}h(g,"EditThumbnailButton"),g.displayName="EditThumbnailButton",i.a=g},tfz1:function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(t){return!!(t&&t.attributes&&t.attributes["code-block"])}h(n,"isOpCodeBlockItem")},tiWk:function(J,i,e){"use strict";var n=e("9oTK"),t=e("gSGL"),a=e("SQ0V"),s=e("gCYc"),l=e("Hxmd"),o=e("hD77"),f=e("q3X1"),r=e("Y4Ot"),m=e("XELS"),c=e("3D8U"),u=e("qH0c");const d=Object(a.c)("Swaps the draft ID for file permissions",(P,B,R)=>{let{oldDraftId:U,newDraftId:K,clearOldDraftData:V=!1}=R;if(U===void 0||K===void 0||U===K)return;const z=B(),N=Object.values(Object(c.a)(z,U)||{});N==null||N.forEach(A=>{P(Object(u.c)({draftId:K,fileId:A.fileId,grant:A.grant}))}),V&&P(Object(u.a)({draftIds:[U]}))});d.meta={name:"createThunk",key:"createThunkswitchDraftIdForFilePermissions",description:"Swaps the draft ID for file permissions"};var p=d,v=e("Kn+X"),g=e("s4P+"),O=e("TZwK"),b=e("mEPG"),y=e("7YN0");const C=Object(a.c)("Swaps the draft ID for in flight pending file uploads",(P,B,R)=>{let{oldDraftId:U,newDraftId:K}=R;if(U===K)return;const V=Object(O.c)(B(),U);V==null||V.forEach(N=>{P(Object(b.b)({draftId:K,pendingFileId:N})),P(Object(b.c)({draftId:U,pendingFileId:N}))});const z=Object(y.d)(U);z==null||z.forEach(N=>{Object(y.e)(K,N)}),Object(y.b)(U)});C.meta={name:"createThunk",key:"createThunkswitchDraftIdForPendingFiles",description:"Swaps the draft ID for in flight pending file uploads"};var _=C,j=e("KVhq"),E=e("nwIl");const M=Object(a.c)("Schedule a draft for sending",function(){var P=Object(n.coroutine)(function*(B,R,U){let{draftId:K,dateScheduled:V,msgParams:z,acknowledgedUnfurls:N}=U;const A=Object(s.k)(R(),K);if(!A)throw new Error(`No draft for client_draft_id ${K}`);const x=Object(E.f)(R()),k=Object(g.a)({getState:R});k.info("SCHEDULE-DRAFT",`Scheduling ${K} for ${V}`),Object(o.a)(K);const F=Object(v.s)(A),L=Object(v.o)(A);Object(f.a)(L||K);const S={...A,client_draft_id:F,is_from_composer:!0,date_scheduled:V,last_updated:Date.now()},I=Object(v.e)(S);B(p({oldDraftId:K,newDraftId:I})),x&&K!==I&&B(Object(j.c)({origDraftId:K,newDraftId:I}));try{const W={draft:S,reason:"schedule-draft",syncDateScheduled:!0,msgParams:z,acknowledgedUnfurls:N,origClientDraftId:A.client_draft_id},D=yield B(L?Object(r.a)(W):Object(m.a)(W));if(!D.draft)throw new Error("Missing draft in response");const H=D.draft,Z=Object(v.f)(H);H.is_from_composer||k.error("SCHEDULE-DRAFT",`${Z} not detached`);const G=H==null?void 0:H.date_scheduled;V!==G&&k.error("SCHEDULE-DRAFT",`${Z} draft returned from server does not have expected date scheduled. Expected date scheduled: ${V}, returned date scheduled ${G}`),yield B(Object(l.a)({clientDraftId:K,fetchedDraft:H,forceReconciliation:!0}));const te=Object(s.k)(R(),Z),se=Object(v.o)(te),$=Object(v.i)(te);V!==$&&k.error("SCHEDULE-DRAFT",`${Z} reconciled draft does not have expected date scheduled. Expected date scheduled: ${V}, returned date scheduled ${$}`),k.info("SCHEDULE-DRAFT",`draft scheduled and reconciled with client ID ${Z}, serverId ${se}, and dateScheduled ${$}`);const X=Object(v.e)(te);return X!==K&&Object(t.a)(X)&&(B(_({oldDraftId:K,newDraftId:X})),B(Object(u.a)({draftIds:[K]}))),F}finally{Object(f.b)(L||K)}});return function(B,R,U){return P.apply(this,arguments)}}());M.meta={name:"createThunk",key:"createThunkscheduleDraft",description:"Schedule a draft for sending"};var T=i.a=M},tnTT:function(J,i,e){"use strict";e.r(i),e.d(i,"register",function(){return He});var n=e("9oTK"),t=e("Omjo"),a=e("lhZz"),s=e("7xYR"),l=e("I27i"),o=e("Lgge"),f=e("BEaa"),r=e("s4P+"),m=e("Pw4T"),c=e("Aqb/"),u=e("PLUl"),d=e("31wZ"),p=e("Nf6b"),v=e("4p6e"),g=e("uBea"),O=e("ycWl"),b=e("Z7Ay"),y=e("6rGi");function C(){return Object(y.a)().waitForHuddleToEnd()}h(C,"waitForHuddleToEnd");var _=e("KGIc"),j=e("G5NC"),E=e("+CZ0");const M=45*60*1e3,T=2e4,P=3*60*60*1e3,B="MIN-VERSION",R="mvp",U="mvb:stale",K="mvb:prev_poll_interval",V="mvb:check",z="mvb:prevent",N="mvb:defer",A="mvb:defer:await_blur",x="mvb:defer:await_online",k=.1,F=1;let L=!1;const S=R;function I(re){const ue=Object(_.b)();return ue?parseInt(ue,10)<re:!1}h(I,"isVersionStale");let W=h(class{start(){if(this.pollTimer){this.logger.error("MinVersionPoll can only be started once");return}if(!L&&(Object(v.a)()||Object(g.a)()))return;this.logger.info("Starting client min-version poll.");const ue=Object(f.a)(M,.8,1.2);this.pollTimer=window.setInterval(()=>this.checkForMinVersionBumpAndMaybeReload(),ue),this.initDebugger()}checkForMinVersionBumpAndMaybeReload(){var ue=this;return Object(n.coroutine)(function*(){const ve=ue.logger,De=ue.telemeter;ue.lastPollTs=Date.now(),ve.info("Checking to see if we should reload"),De.count(`${R}_check`);try{const We="polling",we=yield ue.checkForMinVersionBump(We);if(!we){ve.info("Missing client.shouldReload response. No need to reload");return}const{client_min_version:Be,should_reload:ke,reason:Le}=we;if(ue.maybeStartTrace(Be),ue.maybeStartPreventReloadSpan(Be),!ke){ve.info("No need to reload"),De.count(`${R}_shouldreload_prevent_api`),ue.maybeIncrementPreventReloadReason(Be,Le);return}if(!Object(d.a)(Be)){De.count(`${R}_shouldreload_prevent_client`),ue.maybeIncrementPreventReloadReason(Be,"client");return}ue.maybeClosePreventReloadSpan(),ve.info("Time to reload! Waiting until the client is online and unfocused."),ue.isSafeToReloadRightNow()?De.count(`${R}_shouldreload_immediate`):(De.count(`${R}_shouldreload_will_defer`),ue.isClientOnline()||De.count(`${R}_shouldreload_will_defer_offline`),ue.maybeStartAwaitSafeTimeToReloadSpan(),yield ue.awaitSafeTimeForReload(),ue.maybeCloseAwaitSafeTimeToReloadSpan());const Ze="client.shouldReload told us to reload earlier; we are now unfocused and online";ve.info(Ze),ue.maybeCloseAndReportTrace();try{ue.beforeReloadCallback()}catch(ot){ue.logger.error("MinVersionPoll: beforeReloadCallback failed with error",ot)}Object(O.a)({reason:Ze,reasonKey:"client_should_reload"})}catch(We){ve.error("client.shouldReload check failed",We)}})()}awaitSafeTimeForReload(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;var ve=this;return Object(n.coroutine)(function*(){const De=ve.telemeter,We=ve.logger;return ve.maybeIncrementRetryAttempts(ue),o.a.all([ve.awaitOnline(),ve.awaitBlur()]).tap(()=>{We.info(`Online and unfocused, will wait ${T}ms to reload`)}).delay(T).then(()=>ve.isSafeToReloadRightNow()?(De.count(`${R}_shouldreload_did_defer`),!0):(We.info(`Waited ${T} ms but now it is no longer safe to reload. Trying again...`),We.info(`Online: ${ve.isClientOnline()}; Inactive: ${!ve.isClientActive()||ve.hasWaitedTooLongForBlur}; Retry attempts: ${ue}`),ve.awaitSafeTimeForReload(ue+1)))})()}isClientActive(){return!!(document.hasFocus()||Object(j.a)()&&Object(E.c)(Object(a.getStateForClientStore)()))}isSafeToReloadRightNow(){return this.isClientOnline()&&(!this.isClientActive()||this.hasWaitedTooLongForBlur)}awaitBlur(){var ue=this;return Object(n.coroutine)(function*(){if(!ue.isClientActive()||ue.hasWaitedTooLongForBlur)return!0;const ve=ue.logger,De=ue.telemeter;ue.awaitBlurPromise||(ue.awaitBlurPromise=o.a.delay(P).then(()=>{ve.info(`Waited the max ${P}ms for a blur event`),De.count(`${R}_shouldreload_waited_too_long_for_blur`),ue.hasWaitedTooLongForBlur=!0})),ue.maybeStartAwaitBlurSpan();const We=[];document.hasFocus()||(ve.info("Waiting for blur event to reload"),We.push(Object(p.a)("blur"))),Object(j.a)()&&Object(E.c)(Object(a.getStateForClientStore)())&&(ve.info("Waiting for huddle to end to reload"),We.push(C()));const we=o.a.all(We);return o.a.race([we,ue.awaitBlurPromise]).tap(()=>{ue.maybeCloseAwaitBlurSpan()})})()}awaitOnline(){var ue=this;return Object(n.coroutine)(function*(){return ue.isClientOnline()?!0:(ue.logger.info("Waiting to come back online to reload"),ue.maybeStartAwaitOnlineSpan(),Object(p.a)("online").tap(()=>{ue.maybeCloseAwaitOnlineSpan()}))})()}initDebugger(){Object(b.a)("minVersionPoll",{checkAndMaybeReloadNow:()=>this.checkForMinVersionBumpAndMaybeReload(),checkNow:()=>this.checkForMinVersionBump("slackdebug"),getLastPollTime:()=>this.lastPollTs,timer:this.pollTimer})}maybeStartTrace(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;try{var ve,De,We,we;if(!I(ue)||this.trace)return;const Be={client_min_version:ue,last_poll_ts:this.lastPollTs,method:"client.shouldReload",reason:"polling",metric_version:F},ke=ue*1e3,Le=this.getLastSocketConnection(),Ze=Math.max(ke,Le);this.rootSpan=this.tracer.createSpan({name:U,options:{startTime:Ze,tags:Be},samplingOptions:{sampleType:c.a.SESSION,sampleRate:k}});const ot=this.tracer.createSpan({name:K,options:{startTime:Ze,tags:Be,traceId:(ve=this.rootSpan)===null||ve===void 0?void 0:ve.getTraceId(),parentSpanId:(De=this.rootSpan)===null||De===void 0?void 0:De.getId()}});ot.close(),this.tracer.reportSpans([ot]),this.trace=this.tracer.createTrace({traceName:V,traceId:(We=this.rootSpan)===null||We===void 0?void 0:We.getTraceId(),parentSpanId:(we=this.rootSpan)===null||we===void 0?void 0:we.getId(),tags:Be})}catch{}}maybeStartPreventReloadSpan(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;try{if(!this.trace||!I(ue)||this.preventSpan)return;this.preventSpan=this.trace.startSpan(z)}catch{}}maybeClosePreventReloadSpan(){try{if(!this.trace||!this.preventSpan)return;this.preventSpan.close(),this.preventSpan=null}catch{}}maybeIncrementPreventReloadReason(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ve=arguments.length>1?arguments[1]:void 0;try{if(!this.trace||!I(ue)||!this.preventSpan)return;const De=`reason:${ve||"unknown"}`,We=this.preventSpan.getTag(De)||0;this.preventSpan.setTag(De,We+1)}catch{}}maybeStartAwaitSafeTimeToReloadSpan(){try{if(!this.trace||this.awaitSafeTimeForReloadSpan)return;this.awaitSafeTimeForReloadSpan=this.trace.startSpan(N,{tags:{is_online:this.isClientOnline(),is_blurred:!document.hasFocus(),has_waited_too_long_for_blur:this.hasWaitedTooLongForBlur}})}catch{}}maybeCloseAwaitSafeTimeToReloadSpan(){try{if(!this.trace||!this.awaitSafeTimeForReloadSpan)return;this.awaitSafeTimeForReloadSpan.close(),this.awaitSafeTimeForReloadSpan=null}catch{}}maybeStartAwaitOnlineSpan(){try{var ue;if(!this.trace||this.awaitOnlineSpan)return;this.awaitOnlineSpan=this.trace.startSpan(x,{parentSpanId:(ue=this.awaitSafeTimeForReloadSpan)===null||ue===void 0?void 0:ue.getId()}),this.maybeIncrementAwaitOnlineAttempts()}catch{}}maybeCloseAwaitOnlineSpan(){try{if(!this.trace||!this.awaitOnlineSpan)return;this.awaitOnlineSpan.close(),this.awaitOnlineSpan=null}catch{}}maybeStartAwaitBlurSpan(){try{var ue;if(!this.trace||this.awaitBlurSpan)return;this.awaitBlurSpan=this.trace.startSpan(A,{parentSpanId:(ue=this.awaitSafeTimeForReloadSpan)===null||ue===void 0?void 0:ue.getId()}),this.maybeIncrementAwaitBlurAttempts()}catch{}}maybeCloseAwaitBlurSpan(){try{if(!this.trace||!this.awaitBlurSpan)return;this.awaitBlurSpan.addTags({is_blurred:!document.hasFocus(),has_waited_too_long_for_blur:this.hasWaitedTooLongForBlur}),this.awaitBlurSpan.close(),this.awaitBlurSpan=null}catch{}}maybeIncrementRetryAttempts(ue){try{if(!this.trace||!this.awaitSafeTimeForReloadSpan)return;this.awaitSafeTimeForReloadSpan.setTag("total_retry_attempts",ue)}catch{}}maybeIncrementAwaitOnlineAttempts(){try{if(!this.trace||!this.awaitSafeTimeForReloadSpan)return;const ue="await_online_attempts",ve=this.awaitSafeTimeForReloadSpan.getTag(ue)||0;this.awaitSafeTimeForReloadSpan.setTag(ue,ve+1)}catch{}}maybeIncrementAwaitBlurAttempts(){try{if(!this.trace||!this.awaitSafeTimeForReloadSpan)return;const ue="await_blur_attempts",ve=this.awaitSafeTimeForReloadSpan.getTag(ue)||0;this.awaitSafeTimeForReloadSpan.setTag(ue,ve+1)}catch{}}maybeCloseAndReportTrace(){try{var ue;if(!this.trace||!this.trace||!this.rootSpan)return;(ue=this.rootSpan)===null||ue===void 0||ue.close(),this.tracer.reportTrace(this.trace),this.tracer.reportSpans([this.rootSpan]),this.trace=null,this.rootSpan=null}catch{}}testOnlyReset(){if(!Object(v.a)()&&!Object(g.a)())throw new Error("MinVersionPoll.reset should only be called in test files!");clearInterval(this.pollTimer),this.pollTimer=null,this.awaitBlurPromise&&(this.awaitBlurPromise.cancel(),this.awaitBlurPromise=null),this.lastPollTs=null,this.hasWaitedTooLongForBlur=!1}constructor({checkForMinVersionBump:ue,beforeReloadCallback:ve,getLastSocketConnection:De,isClientOnline:We,logger:we=Object(r.b)({label:B}),telemeter:Be=Object(m.a)(),tracer:ke=Object(u.a)()}){this.hasWaitedTooLongForBlur=!1,this.awaitBlurPromise=null,this.pollTimer=null,this.lastPollTs=null,this.rootSpan=null,this.trace=null,this.preventSpan=null,this.awaitSafeTimeForReloadSpan=null,this.awaitOnlineSpan=null,this.awaitBlurSpan=null,this.checkForMinVersionBump=ue,this.beforeReloadCallback=ve,this.getLastSocketConnection=De,this.logger=we,this.telemeter=Be,this.tracer=ke,this.isClientOnline=We}},"MinVersionPoll");Object.defineProperty({forceStartMinVersionPollInTests:L},"forceStartMinVersionPollInTests",{get:()=>L,set:re=>{L=re}});var H=e("WUSA"),Z=e("nNoG"),G=e("S1sa"),te=e("CpTu"),se=e("fujP"),$=e("YsUP"),X=e("WCk1"),q=e("ykb+"),Y=e("PY4h");const ee=Object(X.a)("Check to see whether we need to reload",function(){var re=Object(n.coroutine)(function*(ue,ve,De){let{reason:We="unknown",teamIds:we=[],skipExpiryCheck:Be=!1}=De;const ke=Object(r.b)();if(Object(q.c)())return ke.warn("MIN-VERSION","Cannot check whether to reload when using js_path. Skipping client.shouldReload call."),{should_reload:!1,reason:"js_path"};if(!Object(j.a)())throw new Error("client.shouldReload should only be used in the client.");const Le=Object(_.e)();if(!Le)throw new Error("Cannot check whether to reload if we\u2019re missing versionTs");const Ze=Object(_.d)(),ot=parseInt(Ze??"",10),bt={versionTs:Le,reason:We,buildVersionTs:ot,skipExpiryCheck:Be};Object(se.a)(we)||(bt.teamIds=we),Object($.a)(ot)&&Object(r.b)().error("MIN-VERSION",`Invalid build version timestamp: ${Ze}`);const ht=Object(_.c)();ht&&(bt.configVersionTs=ht),Object(r.b)().info("MIN-VERSION",`teamIds: ${(we==null?void 0:we.join(","))||"NONE"}; versionTs: ${Le}; buildVersionTs: ${ot}; configVersionTs: ${ht}; All config versions: ${Object(_.a)()}`);try{return ue(Object(Y.a)(bt))}catch(Yt){var Bt;throw(Yt==null||(Bt=Yt.data)===null||Bt===void 0?void 0:Bt.error)==="invalid_arguments"&&Object(r.b)().error(`client.shouldReload failed with invalid arguments: team_ids=${we.join(",")}; version=${bt.buildVersionTs}`,Yt),Yt}});return function(ue,ve,De){return re.apply(this,arguments)}}());ee.meta={name:"createFetcher",key:"createFetcherclientShouldReloadImmediately",description:"Check to see whether we need to reload"};var w=e("ZKjC"),ne=e("g8rC");const ae="govslack_min_version_bumps",de="on",ge=Object(w.b)(re=>Object(ne.a)(re,ae,de));ge.meta={name:"createSelector",key:"createSelectorisGovSlackMinVersionBumpsToggleEnabledForAnyTeam",description:re=>Object(ne.a)(re,ae,de)};var le=ge,Q=e("VHGx"),ie=e("IU/j");const oe={is_expired:!1,ok:!0},me={is_expired:!1,ok:!1};function be(re){return Se.apply(this,arguments)}h(be,"clientCheckVersion");function Se(){return Se=Object(n.coroutine)(function*(re){let{teamIds:ue,enterpriseIds:ve}=re;if(Object(q.c)())return Object(r.b)().warn("MIN-VERSION","Cannot check whether to reload when using js_path. Skipping client.checkVersion call."),oe;if(!Object(j.a)())throw new Error("client.checkVersion should only be used in the client.");try{var De;const We={team_ids:ue,enterprise_ids:ve,build_version_ts:parseInt((De=Object(_.d)())!==null&&De!==void 0?De:"",10)},we=Object(_.c)();we&&(We.config_version_ts=we);const Be=Pe(We),ke=yield Q.b.fetch({url:"/api/client.checkVersion",httpMethod:"POST",payload:Be});return JSON.parse(ke)}catch(We){return Object(r.b)().error("Failed to fetch/parse client.checkVersion response",We),me}}),Se.apply(this,arguments)}h(Se,"_clientCheckVersion");function Pe(re){return Object(ie.a)(re,"client.checkVersion")}h(Pe,"getClientCheckVersionPayload");var Ue=e("AdD7"),Fe=e("kIXQ");const je="MIN-VERSION";function _e(re){return pe.apply(this,arguments)}h(_e,"check_for_min_version_bump_checkForMinVersionBump");function pe(){return pe=Object(n.coroutine)(function*(re){const ue=Object(a.getClientStoreInstance)();if(Object(Ue.b)()&&le(ue.getState()))return fe(re);const ve=Object(s.getFocusedWorkspace)(ue.getState()),De=Object(a.getStoreInstanceByTeamId)(ve),We=Object(s.getBootedWorkspaces)(ue.getState());return De.dispatch(ee({teamIds:We,reason:re}))}),pe.apply(this,arguments)}h(pe,"_checkForMinVersionBump");function fe(re){return Ee.apply(this,arguments)}h(fe,"checkForMinVersionBumpInGovClients");function Ee(){return Ee=Object(n.coroutine)(function*(re){const ue=Object(a.getClientStoreInstance)();var ve;const De=(ve=Object(s.getBootedWorkspaces)(ue.getState()))!==null&&ve!==void 0?ve:[],We=Object(s.getBootedOrgs)(ue.getState()),{is_expired:we,client_min_build_version:Be}=yield be({teamIds:De,enterpriseIds:We});if(!we)return{should_reload:!1,client_min_version:Be};const ke=Object(u.a)(),Le=ke.createMetricsTrace({label:"gov_mvb",samplingOptions:{sampleType:c.a.ALWAYS}}),[Ze,ot]=Object(G.a)(De,Cn=>Object(Fe.b)(Cn));Le.addTags({client_min_version:Be,has_gov_teams:!!Ze.length,has_commercial_teams:!!ot.length});const{should_reload:bt,reason:ht}=yield ye({teamIds:Ze,reason:re});if(!bt)return Le.count({name:"prevent"}).addTags({environment:"gov",reason:ht??"none"}),ke.reportTrace(Le),Object(r.b)().info(je,`Gov teams failed rate limit check with reason ${ht??"none"}; Preventing reload. teams: (${Ze.join(",")}) `),{should_reload:!1,client_min_version:Be,reason:ht};const{should_reload:Bt,reason:Yt}=yield ye({teamIds:ot,reason:re});return Bt?(Le.count({name:"reload"}),ke.reportTrace(Le),{should_reload:!0,client_min_version:Be}):(Le.count({name:"prevent"}).addTags({environment:"commercial",reason:Yt??"none"}),ke.reportTrace(Le),Object(r.b)().info(je,`Commercial teams failed rate limit check with reason ${Yt??"none"}; Preventing reload. teams: (${ot.join(",")})`),{should_reload:!1,client_min_version:Be,reason:Yt})}),Ee.apply(this,arguments)}h(Ee,"_checkForMinVersionBumpInGovClients");function ye(re){return Te.apply(this,arguments)}h(ye,"shouldClientReloadForTeams");function Te(){return Te=Object(n.coroutine)(function*(re){let{teamIds:ue,reason:ve}=re;const De=Oe(ue);return De?De.dispatch(ee({teamIds:ue,reason:ve,skipExpiryCheck:!0})):{should_reload:!0}}),Te.apply(this,arguments)}h(Te,"_shouldClientReloadForTeams");function Oe(re){const ue=Object(te.a)(re,ve=>!!Object(a.getStoreInstanceByTeamId)(ve));if(ue)return Object(a.getStoreInstanceByTeamId)(ue)}h(Oe,"findAnyStoreInstanceForTeamIds");const Ce=new Z.b("min-version-poll");let ce=!1;function he(){const re=Object(a.getClientStoreInstance)();var ue;const ve=new W({isClientOnline:()=>!!Object(l.d)(re.getState()),checkForMinVersionBump:_e,getLastSocketConnection:()=>(ue=Object(l.h)(re.getState()))!==null&&ue!==void 0?ue:0,beforeReloadCallback:()=>{Me()}});if(ce){Object(t.c)("MinVersionPoll can\u2019t be started more than once!");return}ve.start(),ce=!0,Object(m.a)().count(`${S}_start_2`)}h(he,"registerMinVersionPoll");function Me(){if(!Object(j.a)())return;const re=Object(a.getClientStoreInstance)(),ue=Object(s.getFocusedWorkspace)(re.getState());Object(a.getStoreInstanceByTeamId)(ue).dispatch(Object(H.a)({message:Ce.t("Reloading Slack\u2026"),assertive:!0}))}h(Me,"notifyAboutReloadAccessibly");const Ae={notifyAboutReloadAccessibly:Me};var xe=e("kBpe");const Re=3*60*1e3,Ge=60*60*1e3,ze=10*60*1e3,Ie="ssb-memory-stats";var Ne=e("kiPk"),Ke=e("vfQU"),Ve=e("xt0X"),$e=e("U28S");const tt=Object(r.b)();function qe(re){return yt(re)}h(qe,"fetchMemoryStats");const ut=[["workingSetSize",""],["peakWorkingSetSize","peak_"],["privateBytes","private_"]];let rt;function yt(re){return(Ke.A.isAvailable()?Object(Ke.A)():Object(Ke.z)()).then(ue=>{const ve={},De=ue.processMetrics||ue;if(!De||De.length===0)return tt.warn("STATS",`No memory stats collected getAppMetrics:${De}`,{subtype:"stats_no_memory"}),ve;if(navigator&&navigator.hardwareConcurrency){const we=Object(Ne.a)(De,Be=>{let{cpu:ke}=Be;return ke.percentCPUUsage*navigator.hardwareConcurrency});ve[`cpu_v5_app_${re}_teams`]=Object($e.b)(we,2)}De.forEach(we=>{let{type:Be,memory:ke}=we;ut.forEach(Le=>{let[Ze,ot]=Le;if(Ze in ke){const bt=`memory_v5_app_${ot}mb_${re}_teams_${Be.toLowerCase()}_process`;bt in ve||(ve[bt]=0),ve[bt]+=Math.round(Object(Ve.b)(ke[Ze]))}})});const We=Mt(De,"workingSetSize");return ve[`memory_v5_app_mb_${re}_teams`]=We,rt&&(ve[`memory_v5_app_mb_delta_${re}_teams`]=We-rt),rt=We,ve[`memory_v5_app_peak_mb_${re}_teams`]=Mt(De,"peakWorkingSetSize"),Object(xe.x)()&&(ve[`memory_v5_app_private_mb_${re}_teams`]=Mt(De,"privateBytes")),st(ve,5,re),ve}).catch(ue=>tt.error("STATS",`getAppMetrics failed: ${ue.message}`))}h(yt,"fetchMemoryStatsV5");function Mt(re,ue){const ve=Object(Ne.a)(re,De=>{let{memory:We}=De;return We[ue]});return Math.ceil(Object(Ve.b)(ve))}h(Mt,"sumMemoryMetricsByKey");function st(re,ue,ve){window.performance&&window.performance.memory&&(re[`heap_v${ue}_used_mb_${ve}_teams`]=Object(Ve.a)(performance.memory.usedJSHeapSize),re[`heap_v${ue}_total_mb_${ve}_teams`]=Object(Ve.a)(performance.memory.totalJSHeapSize))}h(st,"addJSHeapMetrics"),Object(b.a)("ssbMetrics",{fetchMemoryStatsV5:yt});function Vt(){if(!Object(xe.i)())return o.a.resolve();const re=Object(m.a)(),ue=Object(u.a)(),ve=ue.createMetricsTrace({label:Ie});function De(){const we=Object(a.getStateForClientStore)(),Be=Object(s.getBootedWorkspaces)(we),ke=Be?Be.length:0;return qe(ke).then(Le=>Le?(Object.keys(Le).forEach(ot=>{re.store(ot,Le[ot],{allow_negative:ot.indexOf("delta")!==-1});const bt=/_\d+?_teams/;ve.store({name:ot.replace(bt,""),value:Le[ot]}).addTags({num_teams:ke})}),ue.reportTrace(ve),Le):null)}h(De,"fetchStatsAndBeacon");const We=Ge+Math.floor(Math.random()*ze);return setInterval(()=>De(),We),setTimeout(()=>De(),Re),o.a.resolve()}h(Vt,"storeSSBMemoryStatsOnAnInterval");var Wt=e("Fsnq"),Xt=e("owWc"),Ut=e("xwCZ"),Nt=e("Wjv9"),Ft=e("RVJP"),_n=e("1Np4"),cn=e("thso");function Rn(){const re="store_metrics_v3";function ue(){const De=Object(a.getStateForClientStore)(),We=Object(s.getBootedWorkspaces)(De);We&&We.forEach(we=>{const Be=Object(a.getStateByTeamId)(we);if(!Be)return;const ke=Object(_n.a)({state:Be}),Le=ke.createMetricsTrace({label:re}),Ze=Le.startSpan(`${re}:size_compute_time`),ot=Object(Wt.a)(Be.files);Le.store({name:`${re}:files:count`,value:ot});const bt=Object(Wt.a)(Object(cn.b)(Object(Ut.b)(Be)));Le.store({name:`${re}:members:count`,value:bt});const ht=Object(Wt.a)(Object(cn.b)(Be.channels));Le.store({name:`${re}:channels:count`,value:ht});const Bt=Object(Xt.a)(Object(cn.b)(Object(Nt.a)(Be)),(Mn,rn)=>Mn+Object(Wt.a)(Object(cn.b)(rn)),0);Le.store({name:`${re}:messages:count`,value:Bt}),Le.store({name:`${re}:total:count`,value:ot+bt+ht+Bt});const Yt=Object(Ft.d)(Be,"members_store_cache_eviction");Yt&&Le.store({name:`${re}:members:count`,value:bt}).addTags({group:Yt});const Cn=Object(Ft.d)(Be,"messages_cache_eviction");Cn&&Le.store({name:`${re}:messages:count`,value:Bt}).addTags({group:Cn});const an=Object(Ft.d)(Be,"channels_cache_eviction");an&&Le.store({name:`${re}:channels:count`,value:ht}).addTags({group:an}),Object(Ft.d)(Be,"aggressive_messages_cache_eviction")==="treatment"&&Le.store({name:"cache_messages_aggressive_store_size",value:Bt}).addTags({group:"treatment"}),Object(Ft.d)(Be,"aggressive_messages_cache_eviction")==="control"&&Le.store({name:"cache_messages_aggressive_store_size",value:Bt}).addTags({group:"control"}),Ze.close(),ke.reportTrace(Le)})}h(ue,"fetchStatsAndBeacon");const ve=Ge+Math.floor(Math.random()*ze);setInterval(()=>ue(),ve)}h(Rn,"storeReduxStoreStatsOnAnInterval");var Vn=e("2um6");function ea(){try{const re=Object(a.getClientStoreInstance)();if(!re)return;const ue=Object(s.getFocusedWorkspace)(re==null?void 0:re.getState());if(!ue)return;const ve=Object(a.getStoreInstanceByTeamId)(ue);if(!ve)return;Object(Vn.l)(ve)}catch(re){Object(r.b)().warn("BOOT-CLIENT","trying to set default accessibility preferences failed",re)}}h(ea,"updateA11yPreferences");var Lt=e("nzWX"),vn=e("d/xU");function Wn(){Object(Ke.eb)()&&Object(Lt.d)("ssb_instance_id",Object(Ke.N)(),365*10,`.${Object(vn.n)()}`)}h(Wn,"setUpSSBInstanceCookie");var Nn=e("Fvov");const ia=h(()=>{if(!Object(xe.r)()){Object(t.b)("BOOT","Service Worker unavailable; Skipping registration.");return}Object(Nn.c)()},"registerServiceWorkerOnBoot");var Ea=e("qiCS");const bn=["force_cold_boot","new_enough_acceptable"];function Xn(){!Object(q.e)()||Object(q.c)()||window.isReloading||bn.forEach(re=>{if(!window.location.search.match(re))return;const ue=Object(Ea.b)(window.location.href,re);window.history.replaceState(window.history.state,"",ue),Object(t.b)("BOOT",`cleared ${re} flag`)})}h(Xn,"clearReloadURLState");var vt=e("KLFD"),Je=e("VnPF");function et(){return mt.apply(this,arguments)}h(et,"cleanUpOldPersistedData");function mt(){return mt=Object(n.coroutine)(function*(){const re=Object(vt.a)();yield Object(Je.a)(re)}),mt.apply(this,arguments)}h(mt,"_cleanUpOldPersistedData");var Pt=e("vnlm");function Tt(){const re=Object(a.getClientStoreInstance)();Object(s.getBootedWorkspaces)(re.getState()).forEach(ve=>{const De=Object(a.getStoreInstanceByTeamId)(ve);Object(Pt.b)({teamId:ve,store:De})})}h(Tt,"persistNewData");var Qt=e("fUOF");function dt(){if(!Object(xe.i)()||!Object(xe.p)())return;const re=Object(Qt.a)("squirrel_mac_direct_contents_write","on");Ke.fc.isAvailable()?(Object(t.b)("BOOT",`Setting Squirrel Mac Direct Contents Write = ${re?"enabled":"disabled"}`),Object(Ke.fc)(re)):Object(t.b)("BOOT","setSquirrelMacDirectContentsWriteEnabled not available")}h(dt,"setUpSquirrelMacDirectContentsWrite");var zt=e("0akA"),At=e("JN2d"),Qe=e("t4eE"),nt=e("j77i");const _t="recentlyUsedTeamIds",Et="mostRecentlyUsedDate",kt=10;function jn(){if(!Object(Qe.b)())return;const re=Object(nt.f)(_t)||[];if((re==null?void 0:re.length)<=kt)return;const ue=re.slice(kt),ve=Object(At.a)();ue.forEach(De=>{const We=ve[De];if(!We)return;const we=We[Et];if(!we)return;const Be=Object(zt.a)(new Date,new Date(we));Object(m.d)({teamOrEnterpriseId:De}).store("least_recently_used_workspaces_last_use",Be)})}h(jn,"reportLongTailTeamUsage");var pn=e("LqbL");function An(){Object(a.getClientStoreInstance)().dispatch(Object(pn.setDidBootAllWorkspaces)()),Object(r.b)().info("BOOT","Client boot completed"),Object(m.a)().count("sonic_boot_completed")}h(An,"markBootComplete");var lt=e("dSGR");const Dn="is_sonic_on_gantry_v2_enabled";var fn;(function(re){re.ROLLBACK="rollback",re.ROLLOUT="rollout"})(fn||(fn={}));function kn(){return wn.apply(this,arguments)}h(kn,"saveSonicOnGantryV2ExperimentToSW");function wn(){return wn=Object(n.coroutine)(function*(){try{if(Object(Ue.b)())return;const re=Object(nt.f)(lt.a);Object(nt.u)(lt.a,void 0);const ue=!!(yield Object(Nn.b)({key:Dn}));if(!re){ue&&(yield Object(Nn.a)({key:Dn}));return}if(ue)return;Object(r.b)().info("BOOT",`Writing SoGv2 assignment (${re}) to Service Worker.`),yield Object(Nn.e)({key:Dn,value:re});const ve=Object(u.a)(),De=ve.createSpan({name:Dn,options:{tags:{action:fn.ROLLOUT,is_sonic_on_gantry_v2_enabled:re}},samplingOptions:{sampleType:c.a.ALWAYS}});ve.reportSpans([De])}catch(re){Object(r.b)().error("GANTRY-BOOT","Failed to read/store Sonic on Gantry V2 group in cache",re)}}),wn.apply(this,arguments)}h(wn,"_saveSonicOnGantryV2ExperimentToSW"),Object(b.a)("sonicOnGantryV2Toggle",{saveToggleState:function(){var re=Object(n.coroutine)(function*(ue){yield Object(Nn.e)({key:Dn,value:ue})});return function(ue){return re.apply(this,arguments)}}(),clearToggleState:Object(n.coroutine)(function*(){yield Object(Nn.a)({key:Dn})}),getToggleState:()=>Object(Nn.b)({key:Dn}),saveSonicOnGantryV2ExperimentToSW:kn});var fa=e("XzGp"),In=e("qCdX"),ha=e("pOPU");function Dt(){try{Object(In.b)(),Object(ha.b)(),Object(fa.a)()}catch(re){Object(r.b)().error("Failed to report client metrics",re)}}h(Dt,"reportClientMetrics");var jt=e("5TXe"),$t=e("9Gfp"),Tn=e("SQ0V"),dn=e("O86Y"),Un=e("2mvv"),Bn=e("pmGC");const Kt=Object(Tn.c)("Signal to the desktop that all delegates are ready",(re,ue)=>{Object(Ke.q)(),en(ue),ln(ue)});Kt.meta={name:"createThunk",key:"createThunkonWebappBooted",description:"Signal to the desktop that all delegates are ready"};var Kn=Kt;const aa=new Set;function ln(re){setTimeout(Object(n.coroutine)(function*(){var ue;const ve=re(),De="ssb",We=Object(Un.b)(ve),we=Object(dn.g)(ve),Be=Object(dn.d)(ve);if(Be){if(aa.has(Be))return;aa.add(Be)}const ke=yield jt.a.fetch({method:"api.features",args:{token:We,platform:De},teamId:we}),Le=ke==null||(ue=ke.features)===null||ue===void 0?void 0:ue.desktop_diagnostics_timestamp;if(Le){const Ze=Object(r.a)({teamId:we,label:"CLIENT-LOGS"});Ze.info(`Received request ${Le} for logs ON BOOT; sending them up...`);try{yield Object(fa.b)()}catch(ot){Ze.warn(`Error running client metrics ON BOOT for request ${Le}: ${ot}`)}Object(Bn.a)(we)}}),6e4)}h(ln,"maybeUploadLogs");function en(re){Object($t.i)(re(),"feature_desktop_system_notification_playback")&&Object(Ke.I)("settings","notificationPlayback")&&Object(Ke.dc)({name:"notificationPlayback",value:"system"})}h(en,"maybeForceNotificationPlayback");const xt="SIGNAL-TO-DESKTOP";function sn(){if(!Object(xe.i)())return;const ue=Object(a.getClientStoreInstance)().getState(),ve=Object(s.getFocusedWorkspace)(ue);(ve?Object(r.a)({teamId:ve}):Object(r.b)()).info(xt,"Attempted boot for all workspaces, signaling desktop");for(const We of Object(s.getBootedWorkspaces)(ue)||[])Object(a.dispatchForTeamId)(We,Kn())}h(sn,"maybeSignalBootedToDesktop");var nn=e("4cU5");function Ln(){const ue=Object(a.getClientStoreInstance)().getState(),ve=Object(s.getBootedWorkspaces)(ue),De=Object(s.getFocusedWorkspace)(ue),we=Object(a.getStoreInstanceByTeamId)(De).getState(),Be=Object(_n.a)({state:we}),ke=Be.createSpan({name:"workspaces:booted",samplingOptions:{sampleType:nn.g.ALWAYS},options:{tags:{count:ve.length}}});ke.close(),Be.reportSpans([ke])}h(Ln,"beaconWorkspacesCount");var Pn=e("On6p");const yn=1e3*60*30;function Zt(re){const ue=h(()=>{const ve=re.createSpan({name:"desktop_dogfood:active",samplingOptions:{sampleType:nn.g.ALWAYS},options:{tags:{ssb_version:Object(Ke.Pc)(),ssb_instance_id:Object(Ke.N)(),ssb_platform:Object(Ke.H)(),unrefined:!0}}});ve.close(),re.reportSpans([ve])},"report");setInterval(ue,yn),ue()}h(Zt,"queueDesktopDogfoodActivityInterval");function qn(){if(Object(xe.i)()&&Object(Ke.T)()===Pn.a)try{const ue=Object(a.getClientStoreInstance)().getState(),ve=Object(s.getFocusedWorkspace)(ue),We=Object(a.getStoreInstanceByTeamId)(ve).getState(),we=Object(_n.a)({state:We}),Be=we.createSpan({name:"desktop_dogfood:booted",samplingOptions:{sampleType:nn.g.ALWAYS},options:{tags:{ssb_version:Object(Ke.Pc)(),ssb_instance_id:Object(Ke.N)(),ssb_platform:Object(Ke.H)(),unrefined:!0}}});Be.close(),we.reportSpans([Be]),Zt(we)}catch(re){Object(r.b)().error("Failed to report dogfood boot",re)}}h(qn,"setupDesktopDogfoodMetricReporter");var ta=e("sMre"),la=e("Ybt4"),Yn=e("5NQM"),Jt=e("z28c");const Qn=4,Zn=h(re=>1e4*2**re,"getDelayForAttempt"),Hn=Object(Tn.c)("Preload Collab SDK after boot",function(re,ue){let{attempt:ve=1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return re(Object(ta.a)()).then(De=>{if(navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller){var we,Be;navigator==null||(we=navigator.serviceWorker)===null||we===void 0||(Be=we.controller)===null||Be===void 0||Be.postMessage({type:"canvas_prefetch",urls:De.controllerModuleUrls()})}else Object(Ft.d)(ue(),"rm_preload_quip")!=="treatment"&&De.preload()}).catch(De=>{Object(la.b)({getState:ue}).error(De,`Error preloading Quip SDK (${ve} / ${Qn})`),ve<Qn&&setTimeout(()=>{re(Hn({attempt:ve+1}))},Zn(ve))})});Hn.meta={name:"createThunk",key:"createThunkpreloadQuip",description:"Preload Collab SDK after boot"};function Sa(){const re=Object(a.getStateForClientStore)(),ue=Object(s.getBootedWorkspaces)(re)||[];try{const ve=ue.find(De=>{const We=Object(a.getStateByTeamId)(De);return Object(Jt.a)(We)});if(!ve)return;Object(Yn.c)(()=>{Object(a.dispatchForTeamId)(ve,Hn())},{timeout:2e3})}catch(ve){Object(la.c)().error(ve,"Error preloading Quip SDK")}}h(Sa,"initPreloadQuip");var Ca=e("peVv");function La(){const re=Object(a.getClientStoreInstance)();if(re)try{const ue=re.getState(),ve=Object(s.getFocusedWorkspace)(ue);Object(a.getStoreInstanceByTeamId)(ve).dispatch(Object(Ca.b)())}catch(ue){Object(r.b)().error("BOOT","Failed to show Day 1 Creator welcome modal",ue)}}h(La,"maybeShowDay1CreatorWelcomeModalAtBoot");function Gt(re){let ue="";for(let ve=0;ve<re.classList.length;ve++)ue+=`.${re.classList[ve]}`;return ue}h(Gt,"describeClasses");function Ct(re){return re.id?`#${re.id}`:""}h(Ct,"describeId");function It(re){return[re.tagName.toLowerCase(),Gt(re),Ct(re)].join("")}h(It,"describeDomElement");function on(re){let ue=It(re),ve=re;for(;ve.parentElement;)ve=ve.parentElement,ue=`${It(ve)} > ${ue}`;return ue}h(on,"describeDomLocation");function Sn(){if(!("ReportingObserver"in window))return;const re=Object(q.b)()?`https://${Object(vn.j)()}/events/report`:`https://${Object(vn.o)()}/events/report`;try{new window.ReportingObserver(ue=>{for(const ve of ue)if(ve.type==="coep"&&ve.body){const De=ve.body.toJSON(),{blockedURL:We,destination:we}=De;if(we==="image"&&We){const Be=document.getElementsByTagName("img");for(let ke=0;ke<Be.length;ke++){const Le=Be[ke];if(Le.src===We){De.html=Le.outerHTML;try{De.domLocation=on(Le)}catch(Ze){De.domLocationError=Ze.message}fetch(re,{method:"POST",body:JSON.stringify({type:"coep-enriched",url:ve.url,body:De})});break}}}}},{buffered:!0}).observe()}catch(ue){Object(t.c)("BOOT","Error creating ReportingObserver",ue)}}h(Sn,"enrichCoepReports");function He(re){re.hooks.bootComplete.tap("Begin min version polling",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return he(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Prepare to record SSB memory usage stats on an interval",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return Vt(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Prepare to record Redux store size stats on an interval",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return Rn(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Update accessibility preferences",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return ea(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Set-up a cookie with the SSB instance ID to send along with API requests",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return Wn(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Register the service worker",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return ia(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Clear force_cold_boot and new_enough_acceptable params from URL",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return Xn(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Clean up old persisted data for expired teams",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return yield et(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Persist data for all booted teams",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return Tt(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Enable the direct-contents-write feature of Squirrel.Mac on Mac SSB",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return dt(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Collect data on how long it's been since people have used their least active teams",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return jn(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Mark the client boot as complete",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return An(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("(Desktop only) Signal to desktop that all teams have booted",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return sn(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Preload quip assets",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return Sa(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Maybe show Day 1 creator welcome modal",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return La(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Collect client metrics on an interval",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return Dt(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Write sonic_on_gantry_v2 flag to the service worker",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return kn(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Record a count of booted teams",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return Ln(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Install a ReportingObserver to enrich COEP reports",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return Sn(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}()),re.hooks.bootComplete.tap("Report dogfood metrics",function(){var ue=Object(n.coroutine)(function*(ve){let{contextualInfo:De}=ve;return qn(),{contextualInfo:De}});return function(ve){return ue.apply(this,arguments)}}())}h(He,"register")},tvTu:function(J,i,e){"use strict";e.d(i,"a",function(){return d});var n=e("Lgge"),t=e("fujP"),a=e("SQ0V"),s=e("7XZu"),l=e("Shth"),o=e("HD5C"),f=e("Dpf0"),r=e("7YN0"),m=e("mEPG"),c=e("TZwK"),u=e("AyK6");const d=Object(a.c)("Attach an eager upload to a draft",function(p,v){let{file:g,pendingFileId:O,uploadPromise:b=n.a.resolve(),draftId:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!O)return;let C=y;p(Object(m.b)({draftId:C,pendingFileId:O})),Object(r.e)(C,{pendingFileId:O,uploadPromise:b}),b.then(function(){let{fileIds:_=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(t.a)(_))return;const j=_[0],E=g.dataUrl,M=g.orientation,T=g.width,P=g.height;p(Object(o.a)({fileId:j,dataUrl:E,orientation:M,width:T,height:P})),C=Object(c.b)(v(),O),Object(u.c)(v(),{pendingFileId:O})||p(Object(f.a)({draftId:C,fileId:j})),p(Object(s.d)({pendingFileId:O})),p(Object(m.c)({draftId:C,pendingFileId:O}))}).catch(()=>{p(Object(s.h)({pendingFileId:O,status:l.a.ERROR}))}).finally(()=>{Object(r.a)(C,O)})});d.meta={name:"createThunk",key:"createThunkattachUploadToDraft",description:"Attach an eager upload to a draft"}},u0yg:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("Kyco"),t=e("vLZU"),a=e("o07q");const s="conversationsListPrefs",l={},o=Object(n.b)({},l,{scope:t.k.orgShared,storeKey:s,persistenceEnabled:!0}).on(a.a,(f,r)=>{let{channelId:m}=r;if(!m||!f[m])return f;const c={...f};return delete c[m],c}).on(a.b,(f,r)=>{let{channelId:m,prefs:c}=r;return m?{...f,[m]:c}:f});i.b=o},u2NN:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("f2qs");function s(){return s=Object.assign||function(o){for(var f=1;f<arguments.length;f++){var r=arguments[f];for(var m in r)Object.prototype.hasOwnProperty.call(r,m)&&(o[m]=r[m])}return o},s.apply(this,arguments)}h(s,"_extends");const l=h(o=>{const f=!!(o.isSameDocument&&o.sectionId);return t.a.createElement(a.a,s({},o,{hideTitle:f}))},"CanvasMention");l.displayName="CanvasMention",i.a=l},u5Oj:function(J,i,e){"use strict";var n=e("OZf9"),t=e("SQ0V"),a=e("Kn+X"),s=e("jprL"),l=e("pgMT"),o=e("Sczb"),f=e("MUHO");const r=Object(t.c)("Sync unfurl state from server to redux",(m,c,u)=>{let{draft:d,unfurl:p}=u;if(!d)return;const v=Object(a.e)(d)||"";if(!v)return;const g=c(),O=Object(a.n)(d)||[],b=Object(o.h)(g,{ops:O})||[],y=Object(o.c)(g,v);Object(n.a)(y||[],(C,_)=>{const j=b.includes(_),E=p.includes(_);if(!(j&&E&&C.status!==s.f)){if(j&&E&&C.status===s.f){m(Object(l.d)({draftId:v,url:_,status:s.a}));return}if(j&&!E){m(Object(f.a)({draftId:v,url:_}));return}m(Object(l.c)({draftId:v,url:_}))}})});r.meta={name:"createThunk",key:"createThunksyncDraftUnfurlState",description:"Sync unfurl state from server to redux"},i.a=r},u5wV:function(J,i,e){"use strict";e.d(i,"a",function(){return g}),e.d(i,"b",function(){return y});var n=e("9oTK"),t=e("oTSI"),a=e("uAML"),s=e("Lgge"),l=e("lhZz"),o=e("oL+a"),f=e("KjUZ"),r=e("gSGL"),m=e("yIs4"),c=e("5W60");const u=100;function d(C,_){let j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.a;return Object(r.a)(_)?Object(m.a)(j)?j>u?s.a.reject(new Error(`Can't request more than ${u} members per query`)):Object(c.d)(C,{method:c.c.MEMBER_LIST,args:{channels:[_],present_first:!0,filter:"workflows NOT deactivated",count:j}}).then(function(){var E=Object(n.coroutine)(function*(M){let{results:T}=M;return T?T.map(B=>B.id).join(","):void 0});return function(M){return E.apply(this,arguments)}}()):s.a.reject(new Error("Expected count to be a Number.")):s.a.reject(new Error("No channel id given"))}h(d,"fetchChannelFirstNBotMembers");var p=e("3nbt"),v=e("s4P+");const g="HERMES_WORKFLOW_APPS_CFM";function O(C,_){return b.apply(this,arguments)}h(O,"fetchAndUpsertFirstNWorkflowAppsForChannel");function b(){return b=Object(n.coroutine)(function*(C,_){return s.a.map(_,function(){var j=Object(n.coroutine)(function*(E){const M=o.a,T=yield d(C,E,M),{workflow_apps:P,ok:B}=yield Object(l.dispatchForTeamId)(C,Object(p.a)({userIds:T,channelId:E,reason:"find-workflows-for-bot-users"}));if(!B){Object(v.a)({teamId:C}).error(g,"unable to fetch workflowApps, functions.workflows.findWorkflowForBotUsers responded with not ok");return}yield Object(l.dispatchForTeamId)(C,Object(f.c)({channelId:E,workflowAppsList:P}))});return function(E){return j.apply(this,arguments)}}())}),b.apply(this,arguments)}h(b,"_fetchAndUpsertFirstNWorkflowAppsForChannel");const y=Object(t.a)(()=>new a.b({fetch:O,isEnabled:()=>!0,metricsName:"workflow-apps-list"}))},uD37:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("Z0Cl"),l=e("puGG"),o=e("EJqq");const f=h(je=>{const{emojiGroup:_e,colSpan:pe}=je;if(!_e)return null;const fe=_e.name.replace(/ /g,"_");return t.a.createElement("span",{role:"columnheader","aria-colspan":pe,className:"p-emoji_picker__heading p-emoji_picker__heading--emoji-14-no-bg","data-qa":`${fe}_header`},_e.nameLocalized)},"EmojiListGroupItem");f.displayName="EmojiListGroupItem";var r=t.a.memo(f),m=e("Cfcg"),c=e("O86Y"),u=e("8hJe"),d=e("yrot"),p=e("YJrJ"),v=e("QYtq"),g=e("/qcS"),O=e("nift"),b=e("nNoG"),y=e("Trx9"),C=e("CpuT"),_=e("0cEW"),j=e("3V+Q"),E=e("la4u"),M=e("BHdc"),T=e("RaLP"),P=e.n(T),B=e("whaK");const R=h(je=>{let{url:_e,emojiSize:pe=O.a.MEDIUM,displayText:fe,alt:Ee}=je;const[ye,Te]=Object(n.useState)(!1),[Oe,Ce]=Object(n.useState)(!1),ce=Object(n.useCallback)(()=>{Te(!0)},[]),he=Object(n.useCallback)(()=>{Ce(!0)},[]);return _e?t.a.createElement(t.a.Fragment,null,!ye&&t.a.createElement("div",{className:`c-emoji  c-emoji__${pe} c-emoji__loading`}),t.a.createElement("img",{className:`c-emoji  c-emoji__${pe}`,src:Oe?P.a:_e,alt:Ee??fe,onLoad:ce,onError:he})):null},"MaskedEmoji");R.displayName="MaskedEmoji";const U=h((je,_e)=>{const{emojiSkinToneIdLeft:pe="",emojiSkinToneIdRight:fe="",emojiSize:Ee=O.a.MEDIUM,text:ye}=_e,Te=Object(B.a)(je,{forceDisplay:!0}),Oe=Object(c.g)(je)||"",Ce=Object(b.m)({teamOrEnterpriseId:Oe,recalc:!1}),ce=Object(o.i)({state:je,locale:Ce,name:ye});return{url:Object(d.k)(je,{text:ye,teamId:Oe,emojiMode:Te,emojiSize:Ee,emojiSkinToneIdLeft:pe,emojiSkinToneIdRight:fe})||"",displayText:ce||""}},"mapStateToProps");var K=Object(m.a)(U)(R);function V(){return V=Object.assign||function(je){for(var _e=1;_e<arguments.length;_e++){var pe=arguments[_e];for(var fe in pe)Object.prototype.hasOwnProperty.call(pe,fe)&&(je[fe]=pe[fe])}return je},V.apply(this,arguments)}h(V,"_extends");const z=h(je=>{let{baseEmojiName:_e,emojiSkinToneIdLeft:pe="",emojiSkinToneIdRight:fe="",key:Ee,value:ye,refToForward:Te=null,name:Oe,hasKeyboardFocus:Ce,ariaLabel:ce="",onChange:he,isSelected:Me,dataQa:Ae=""}=je;const xe=Object(n.useRef)(null);return Object(n.useImperativeHandle)(Te,()=>({focus:()=>{var Re;xe==null||(Re=xe.current)===null||Re===void 0||Re.focus()}})),t.a.createElement(j.b,{className:"p-emoji_multi_skintone_popover_emoji__label_wrapper",text:t.a.createElement("div",{className:Object(M.default)("p-emoji_multi_skintone_popover__emoji",{"p-emoji_multi_skintone_popover__emoji--selected":Me,"p-emoji_multi_skintone_popover__emoji--focus-visible":Ce})},t.a.createElement(K,{text:_e,emojiSkinToneIdLeft:pe,emojiSkinToneIdRight:fe,alt:ce})),htmlFor:Ee,type:"inline",cursor:"pointer",dataQaLabel:Ae},t.a.createElement(E.a,{ref:xe,id:Ee,name:Oe,className:"p-emoji_multi_skintone_popover__radio_button",value:ye,checked:Me,onChange:he}))},"MultiSkinToneEmojiPopoverItem");z.displayName="MultiSkinToneEmojiPopoverItem";var A=t.a.forwardRef((je,_e)=>t.a.createElement(z,V({refToForward:_e},je))),x=e("Oy0v"),k=e("eoxr"),F=e("m40f"),L=e("5KsB"),S=e("Y31Q");const I=new b.b("emoji_picker");function W(je,_e,pe){return I.t("{baseEmojiLocalized} {side} {skinToneId}",{skinToneId:Object(L.a)(je),baseEmojiLocalized:_e,side:pe})}h(W,"getRadioButtonAriaLabel");function D(je,_e,pe,fe){return!je&&!_e?I.t("Select skin tones for the emoji"):je&&!_e?W(je,pe,"left"):_e&&!je?W(_e,pe,"right"):Object(S.a)(fe,!0)}h(D,"getEmojiButtonAriaLabel");var H=e("DXiN"),Z=e("ktUG");function G(){return G=Object.assign||function(je){for(var _e=1;_e<arguments.length;_e++){var pe=arguments[_e];for(var fe in pe)Object.prototype.hasOwnProperty.call(pe,fe)&&(je[fe]=pe[fe])}return je},G.apply(this,arguments)}h(G,"emoji_multi_skin_tone_popover_extends");const te=new b.b("emoji_picker"),se=["Tab","F6","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];function $(je){return typeof je.key!="string"?!1:se.includes(je.key)}h($,"isKeyboardNavEvent");const X=h(je=>{let{emoji:_e,popoverProps:pe,onClick:fe}=je;var Ee;const ye=Object(b.m)(),Te=Object(a.useDispatch)(),Oe=Object(n.useRef)(null),[Ce,ce]=Object(n.useState)(""),[he,Me]=Object(n.useState)(""),[Ae,xe]=Object(n.useState)((pe==null?void 0:pe.openedWithKeyboard)||!1),[Re,Ge]=Object(n.useState)(!1),ze=((Ee=Object(x.a)(_e))===null||Ee===void 0?void 0:Ee.name)||"",Ie=!Ce||!he,Ne=Ce&&he?Object(k.a)(ze,Ce,he):ze,Ke=Te(Object(o.j)({locale:ye,name:Ne})),Ve=Te(Object(o.j)({locale:ye,name:ze})),$e=Object(n.useMemo)(()=>D(Ce,he,Ve||"",Ke||""),[Ve,Ce,he,Ke]),tt=Object(n.useCallback)((Nt,Ft,_n)=>Nt!=="top"&&Nt!=="bottom"?{}:_n?Ft?{left:Ft.left+Ft.width/2-_n.left,right:"initial"}:{}:{},[]),qe=h(Nt=>{const{target:Ft,currentTarget:_n}=Nt,{parentElement:cn}=_n;cn!=null&&cn.contains(Ft)&&Ge(!0)},"onFocus"),ut=h(Nt=>{const{currentTarget:Ft,relatedTarget:_n}=Nt,{parentElement:cn}=Ft;if(!(cn!=null&&cn.contains(_n))&&(Ge(!1),xe(!1),_n!=null&&_n.matches(".c-popover__content")&&_n.contains(Ft))){var Rn;(Rn=Oe.current)===null||Rn===void 0||Rn.focus()}},"onBlur"),rt=h(Nt=>{Nt.key==="Tab"&&Nt.stopPropagation(),$(Nt)&&xe(!0)},"onKeyDown"),yt=h(Nt=>{Nt.stopPropagation()},"onMouseMove"),Mt=h(()=>{xe(!1)},"onMouseDown"),st=h(Nt=>{const Ft=Nt.target.value;ce(Ft)},"setLeftRadioButton"),Vt=h(Nt=>{const Ft=Nt.target.value;Me(Ft)},"setRightRadioButton"),Wt=Object(n.useCallback)(Nt=>{Ie||fe(Nt,Ne)},[Ie,fe,Ne]),Xt=Object(n.useCallback)(()=>{var Nt;(Nt=Oe.current)===null||Nt===void 0||Nt.focus()},[]),Ut=Object(n.useMemo)(()=>({elementName:Ne,onClick:{enableClogAction:!0}}),[Ne]);return t.a.createElement(v.a,G({},pe,{key:"emoji-popover-with-pointer",position:_.b.Top,tryOppositePosition:!0,ariaRole:"dialog",ariaLabel:te.t("Multi Skin Tone Emoji Picker"),onOpen:Xt,offsetY:(pe.offsetY||0)-5}),Nt=>{let{position:Ft,top:_n,left:cn,targetBounds:Rn}=Nt;const Vn={top:_n,left:cn};return t.a.createElement(y.a,{eventId:Z.EventId.EMOJI_PICKER_SKIN_TONE_MENU_OPENED,uiComponentName:Z.UiComponentName.EMOJI_MULTI_SKIN_TONE_PICKER,uiStep:Z.UiStep.MULTI_SKIN_TONE_EMOJI_PICKER_OPENED,clogImpression:!0},t.a.createElement(H.a,{hasKeyboardFocusWithin:Re},t.a.createElement("div",{key:"emoji-multi-tone-picker","data-qa":"emoji-multi-tone-picker",role:"presentation",className:"p-emoji_multi_skintone_popover__container",onKeyDown:rt,onMouseMove:yt,onMouseDown:Mt,onFocus:qe,onBlur:ut},t.a.createElement(C.a,{className:"p-emoji_multi_skintone_popover__row","aria-label":te.t("Left skin tone modifier")},O.b.map((ea,Lt)=>t.a.createElement(A,{ref:Lt===0?Oe:null,name:"left-emoji-skin-tones",dataQa:"left-emoji-skin-tone",key:`left-${_e}-${ea}`,baseEmojiName:ze,emojiSkinToneIdLeft:ea,isSelected:Ce===ea,value:ea,hasKeyboardFocus:Ae,ariaLabel:W(ea,Ve||"","left"),onChange:st}))),t.a.createElement(C.a,{className:"p-emoji_multi_skintone_popover__row","aria-label":te.t("Right skin tone modifier")},O.b.map(ea=>t.a.createElement(A,{name:"right-emoji-skin-tones",dataQa:"right-emoji-skin-tone",key:`right-${_e}-${ea}`,baseEmojiName:ze,emojiSkinToneIdRight:ea,isSelected:he===ea,value:ea,hasKeyboardFocus:Ae,ariaLabel:W(ea,Ve||"","right"),onChange:Vt}))),t.a.createElement("div",{className:"p-emoji_multi_skintone_popover__row p-emoji_multi_skintone_popover__row--last_row"},t.a.createElement(y.a,{eventId:Z.EventId.EMOJI_PICKER_SKIN_TONE_MENU_SELECTED,uiStep:Z.UiStep.MULTI_SKIN_TONE_EMOJI_SELECTED},t.a.createElement(F.a,{className:Object(M.default)("p-emoji_multi_skintone_popover__button",{"p-emoji_multi_skintone_popover__button--highlight":Ce&&he}),onClick:Wt,"aria-disabled":Ie,autoClogProps:Ut},t.a.createElement(K,{text:Ne,emojiSkinToneIdLeft:Ce,emojiSkinToneIdRight:he,emojiSize:g.a.LARGER,alt:$e}))))),t.a.createElement("div",{className:Object(M.default)("p-emoji_multi_skintone_popover__pointer",`p-emoji_multi_skintone_popover__pointer--${Ft}`),style:tt(Ft,Rn,Vn)})))})},"MultiSkintoneEmojiPopover");X.displayName="MultiSkintoneEmojiPopover";var q=X,Y=e("ifKl"),ee=e("AiJP"),w=e("Tsh7"),ne=e("VW9X");function ae(){return ae=Object.assign||function(je){for(var _e=1;_e<arguments.length;_e++){var pe=arguments[_e];for(var fe in pe)Object.prototype.hasOwnProperty.call(pe,fe)&&(je[fe]=pe[fe])}return je},ae.apply(this,arguments)}h(ae,"emoji_list_emoji_button_extends");const de=new b.b("emoji_button"),ge=/:/g,le=h(je=>{let{emoji:_e,dataQa:pe,className:fe,onClick:Ee,onMouseEnter:ye=Y.a,onMouseLeave:Te=Y.a,isDisabled:Oe=!1,emojiSize:Ce=g.a.MEDIUM,dataColorIndex:ce,isSelected:he,autoClogProps:Me={},localizedEmoji:Ae,isProductivityEmojiGroup:xe=!1,refToForward:Re,itemIndex:Ge=0,isMultiSkintoneCapable:ze=!1,usingKeyboard:Ie,onContextMenu:Ne=Y.a}=je;var Ke;const Ve=Object(n.useRef)(null);Object(n.useImperativeHandle)(Re,()=>Ve.current);const{highlightFirstSearchResult:$e,highlightOnMultiPickerEscape:tt,showHandyReactions:qe,keyboardIntoPicker:ut}=Object(n.useContext)(p.a),[rt,yt]=Object(n.useState)(!1),Mt=_e?`emoji-picker-${_e.replace(ge,"")}`:void 0;let st=pe||"emoji_list_item",Vt=Object(S.a)(Ae);const Wt=((Ke=Object(x.a)(_e))===null||Ke===void 0?void 0:Ke.name)||"",Xt=Object(ee.a)();xe&&(Vt=Xt[Wt]?Xt[Wt].description:Vt,st="emoji_list_productivity_item");const Ut=Object(n.useMemo)(()=>{if(xe&&Xt[Wt])return{elementName:`emoji_picker_${qe?"reaction":"message"}_emoji--${Wt}`,onClick:{enableClogAction:!0},...Me}},[xe,Xt,Wt,qe,Me]);Object(n.useEffect)(()=>{if(he&&(ut||Ie)&&(ut||!rt)&&!$e){var Lt;Ve==null||(Lt=Ve.current)===null||Lt===void 0||Lt.focus()}else if(document.activeElement===Ve.current&&rt){var vn;Ve==null||(vn=Ve.current)===null||vn===void 0||vn.blur()}!he&&rt&&yt(!1)},[Ve,he,Ie,rt,$e,ut]);const Nt=Object(n.useCallback)(Lt=>{yt(!0),ye(Lt)},[ye]),Ft=Object(n.useCallback)(Lt=>{yt(!1),Te(Lt)},[Te]),_n=Object(n.useCallback)(Lt=>{Ee(Lt,_e)},[Ee,_e]),cn=Object(n.useCallback)(Lt=>{ze&&(Lt.preventDefault(),Lt.stopPropagation(),Ne(Lt))},[ze,Ne]),Rn=($e||tt)&&he,Vn=Object(n.useMemo)(()=>Object(M.default)(fe,"p-emoji_picker__list_item",{"p-emoji_picker__list_item--a11y-not-selected":!he,key_selection:Rn}),[he,Rn,fe]),ea=t.a.createElement(F.a,{role:"gridcell","aria-colindex":Ge+1,ref:Ve,id:Mt,onClick:_n,onContextMenu:cn,onMouseEnter:Nt,onMouseLeave:Ft,className:Vn,"data-color-index":ce,"data-name":_e,"data-qa":st,tabIndex:he?0:-1,autoClogProps:Ut,disabled:Oe},t.a.createElement(g.b,{text:_e,emojiSize:Ce,forceDisplay:!0,ariaLabel:"",alt:Vt}));return ze?t.a.createElement(w.d,{tip:de.rt("Right click to<br></br>customize skin tones"),position:"top",delay:500,zIndex:"above_fs"},ea):ea},"EmojiListEmojiButton");le.displayName="EmojiListEmojiButton";var Q=t.a.forwardRef((je,_e)=>t.a.createElement(le,ae({},je,{refToForward:_e})));const ie=h(je=>{const{emoji:_e,localizedEmoji:pe,index:fe,emojiIndex:Ee,isSelected:ye,isProductivityEmojiGroup:Te,onMouseEnter:Oe,onMouseLeave:Ce,onEmojiClick:ce,isMultiSkintone:he,itemIndex:Me=0,usingKeyboard:Ae,onMultiSkinTonePopoverEscape:xe}=je,{enableSkinTonePicker:Re}=Object(n.useContext)(p.a),Ge=Object(n.useCallback)(($e,tt)=>{$e.preventDefault(),ce($e,tt)},[ce]),ze=Object(n.useCallback)(()=>{Oe(_e,fe)},[_e,fe,Oe]),Ie=Object(n.useCallback)(()=>{Ce(_e)},[_e,Ce]),Ne=h($e=>t.a.createElement(q,{popoverProps:$e,emoji:_e,onClick:Ge}),"renderEmojiMultiSkinTonePopover");Ne.displayName="renderEmojiMultiSkinTonePopover";const Ke=Object(n.useCallback)($e=>{he&&$e.key===u.a.ESCAPE&&xe()},[he,xe]),Ve=t.a.createElement(Q,{key:`${_e}_${Ee}`,emoji:_e,localizedEmoji:pe,onClick:Ge,onMouseEnter:ze,onMouseLeave:Ie,isSelected:ye,isProductivityEmojiGroup:Te,dataColorIndex:fe%l.e,itemIndex:Me,usingKeyboard:Ae,isMultiSkintoneCapable:he&&Re});return he&&Re?t.a.createElement(v.b,{renderPopover:Ne,isContextMenu:!0,shouldSetTargetBoundsForContextMenu:!1,offsetY:window.pageYOffset,onClose:Ke},Ve):Ve},"EmojiListEmojiItem");ie.displayName="EmojiListEmojiItem";const oe=h((je,_e)=>{const{emoji:pe}=_e,fe=Object(c.g)(je)||"";return{isMultiSkintone:!!Object(d.p)(je,{text:pe,teamId:fe})}},"emoji_list_emoji_item_mapStateToProps");var me=Object(m.a)(oe)(t.a.memo(ie)),be=e("FAxm");function Se(){return Se=Object.assign||function(je){for(var _e=1;_e<arguments.length;_e++){var pe=arguments[_e];for(var fe in pe)Object.prototype.hasOwnProperty.call(pe,fe)&&(je[fe]=pe[fe])}return je},Se.apply(this,arguments)}h(Se,"emoji_list_row_extends");const Pe=h((je,_e)=>je>0?Object(s.a)(_e.slice(0,je),{type:be.a.EMOJI}).reduce((pe,fe)=>pe+(fe.items||[]).length,0):0,"getPrecedingEmojiCount"),Ue=h(je=>{const{screenRows:_e,index:pe,style:fe,showProductivityReacji:Ee,onEmojiClick:ye,onMouseEnter:Te,onMouseLeave:Oe,isEmojiSelected:Ce,usingKeyboard:ce,locale:he,activeGroupName:Me,onMultiSkinTonePopoverEscape:Ae}=je,xe=Object(a.useDispatch)();if(!_e||pe===0)return null;const Re=_e[pe];if(!Re)return null;const{group:Ge,type:ze,items:Ie}=Re,Ne=Re.ariaAttributes;if(ze==="group"&&(Ge==null?void 0:Ge.name)!==Me)return t.a.createElement("div",Se({className:"p-emoji_picker__row",style:fe},Ne),t.a.createElement(r,{emojiGroup:Ge}));if(ze==="group"&&(Ge==null?void 0:Ge.name)===Me)return t.a.createElement("div",{className:"p-emoji_picker__row",style:fe,"aria-hidden":"true"},t.a.createElement(r,{emojiGroup:Ge}));if(ze==="empty-header-row")return t.a.createElement("div",Se({className:"p-emoji_picker__row",style:fe},Ne),t.a.createElement("div",null));const Ke=Ie&&Ie.map((Ve,$e)=>{var tt;const qe=pe*l.d+$e,ut=Ce(Ve,qe),rt=Pe(pe,_e)+$e+1,yt=xe(Object(o.j)({locale:he,name:Ve}));return t.a.createElement(me,{key:`${Ve}_${rt}`,emoji:Ve,localizedEmoji:yt||"",index:qe,emojiIndex:rt,isSelected:ut,isProductivityEmojiGroup:Ee&&((tt=Re.group)===null||tt===void 0?void 0:tt.name)==="Getting Work Done",onEmojiClick:ye,onMouseEnter:Te,onMouseLeave:Oe,itemIndex:$e,usingKeyboard:ce,onMultiSkinTonePopoverEscape:Ae})});return Ke?t.a.createElement("div",Se({className:"p-emoji_picker__row",style:fe},Ne),Ke):null},"EmojiListRow");Ue.displayName="EmojiListRow";var Fe=i.a=Ue},uEJH:function(J,i,e){"use strict";e.d(i,"a",function(){return _}),e.d(i,"b",function(){return E});var n=e("n3tL"),t=e("WCk1"),a=e("2XU3"),s=e("/Glb"),l=e("s4P+"),o=e("5IZy"),f=e("9Gfp"),r=e("E97Y"),m=e("E3dU"),c=e("UIhb"),u=e("dmdh"),d=e("QLhP"),p=e("ANTO"),v=e("x6tY"),g=e("xwCZ"),O=e("Nnn3");const b=2,y={};function C(M){const[T,P,B]=M.split("-");switch(T){case"message":return{channel:B,timestamp:P};case"file":return{file:P};case"file_comment":return{file_comment:P};default:throw new Error("type not handled")}}h(C,"getApiArgsFromReactionKey");function _(M){return y[M]}h(_,"getPendingReactionApiRequestForKey");const j=Object(t.a)("Get reactions for a reaction key",function(M,T){let{reactionKey:P,attempt:B=1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(y[P]&&B===1)return y[P];const R=M(Object(a.apiCall)({method:"reactions.get",args:{...C(P),full:!0}})).tap(()=>{delete y[P]}).catch(function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(l.a)({getState:T}).error(`fetchReactions encountered an error: ${JSON.stringify(U.data)}`),B<b)return M(j({reactionKey:P,attempt:B+1}));throw delete y[P],U});return y[P]||(y[P]=R),R});j.meta={name:"createFetcher",key:"createFetcherfetchReactions",description:"Get reactions for a reaction key"},j.propTypes={reactionKey:n.default.string.isRequired,attempt:n.default.number};const E=Object(t.a)("Submit addition or removal of a reactions for a reaction key",function(M,T){let{reactionKey:P,name:B,add:R,reason:U}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const K=T(),V=R?"reactions.add":"reactions.remove",z=C(P),{channel:N,timestamp:A,file:x}=z,k=Object(f.a)(K),F=A?Object(c.b)(K,N,A):null;let L=null;if(F)L=Object(p.a)(K,F).botId;else if(x){const H=Object(u.e)(K,x);L=H?Object(v.H)(H).botId:null}if(!L){const H=Object(g.g)(K,k);L=Object(O.a)(K,H)}let S=null;if(L){const H=Object(d.b)(K,L);S=H?H.app_id:null}const I=N?Object(m.d)(K,N):null,W=I?Object(r.c)(I):null;Object(o.a)({state:K}).track(R?"REACTION_ADDED":"REACTION_REMOVED",{member_id:k,app_id:S,bot_id:L,channel_id:N,channel_type:N?N.charAt(0):null,channel_privacy_type:W,message_timestamp:A});const D={method:V,args:{...z,name:B},reason:U};return M(Object(s.apiCallPersisted)(D))});E.meta={name:"createFetcher",key:"createFetchersubmitAddOrRemoveReaction",description:"Submit addition or removal of a reactions for a reaction key"},E.propTypes={reactionKey:n.default.string.isRequired,name:n.default.string.isRequired,add:n.default.bool.isRequired,reason:n.default.string.isRequired}},uHvG:function(J,i,e){"use strict";var n=e("pHS2"),t=e("TGBA"),a=e("BeL+"),s=e("xWuZ"),l=e("bPB8"),o=e("zmn3"),f=e("Yk7g"),r=e("1myf"),m=e("wBxZ"),c=e("q1tI"),u=e.n(c),d=e("BHdc"),p=e("zxER"),v=e("9Gfp"),g=e("N8ug"),O=e("Tsh7"),b=e("f3d1"),y=e("/qcS"),C=e("qawj");const _=12,j=10,E=25,M=5,T=h(B=>{let{duration:R,reactions:U,className:K}=B;const V=Object(p.c)(C.a),z=Object(p.c)(v.a);if(!V||!R||R===1/0)return null;const N=h(A=>{if(!A)return null;const x=R/Math.floor(A/_)||1,k=new Map;for(const I of U){var F;const W=Math.min(I.offsetMs,R*1e3-1),D=(Math.ceil((W+1)/1e3/x)-1)*x;var L;const H=(L=(F=I.users)===null||F===void 0?void 0:F.includes(z))!==null&&L!==void 0?L:!1,Z=k.get(D);Z?(Z.reactions.push(I),Z.count+=I.count,Z.reacted=Z.reacted||H):k.set(D,{bucket:D,reactions:[I],count:I.count,reacted:H})}let S=M;for(const I of k.values())I.count>S&&(S=I.count);return[...k.values()].map(I=>{var W;const D=Object(n.a)(I.reactions,"name"),H=Object(t.a)(D).map(G=>{var te;const se=Object(a.a)(Object(s.a)(Object(l.a)(Object(o.a)(G,"users"))));return{...G[0],baseName:(te=G[0].name)===null||te===void 0?void 0:te.split("::")[0],users:se,reacted:se.includes(z)}}),Z=Object(f.a)(Object(r.a)(H,["reacted","users.length"]));return u.a.createElement(O.d,{tip:()=>u.a.createElement(b.a,{reactions:Object(m.a)(Z,6),showClickToRemove:!1}),key:`${I.bucket}-${I.count}`},u.a.createElement("div",{className:Object(d.default)("p-media_scrubber_reactions_overlay__dot",{"p-media_scrubber_reactions_overlay__dot--reacted":I.reacted,"p-media_scrubber_reactions_overlay__dot--single":I.reactions.length===1&&((W=I.reactions[0].users)===null||W===void 0?void 0:W.length)===1}),style:{left:`${(I.bucket/R*100).toFixed(2)}%`,height:Math.max(j,(I.count/S)**.75*E)}},u.a.createElement(y.b,{className:"p-media_scrubber_reactions_overlay__dot_emoji",text:Z[0].name,emojiSize:y.a.SMALL,renderEmojiFallback:!0,showTooltip:!1})))})},"renderDots");return N.displayName="renderDots",u.a.createElement(g.a,null,A=>{let{width:x,measureRef:k}=A;return u.a.createElement("div",{className:Object(d.default)("p-media_scrubber_reactions_overlay",K),ref:k},N(x))})},"MediaScrubberReactionsOverlay");T.displayName="MediaScrubberReactionsOverlay";var P=i.a=u.a.memo(T)},uOwe:function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("yd6n"),t=e("V3Ux"),a=e("dMn3"),s=e("8wuB"),l=e("fe47");function o(f,r){const{isHidden:m,...c}=r,u=Object(l.b)(f.id);if(u===null)return f.id===r.id&&f.type===r.type;if(f.type!==Object(a.a)(f.id,r.type))return!1;const{namespace:d,macroCallbackId:p,namedInputs:v}=u,g=s.a[d].find(C=>{let{callbackId:_}=C;return _===p});if(!g)return!1;const O=v.find(C=>{let{value:_}=C;return _===r.id}),b=g.inputParameters.find(C=>{let{name:_}=C;return _===(O==null?void 0:O.parameter)});if(!O||!b||b.type==="integer"&&r.type==="slack#/types/timestamp")return!0;if(b.type==="array")return r.type==="array"&&Object(n.d)(c,b);if((g==null?void 0:g.callbackId)==="canvas_card"&&b.name==="object_id"){var y;switch((y=v.find(_=>{let{parameter:j}=_;return j==="object_type"}))===null||y===void 0?void 0:y.value){case"canvas":return r.type==="slack#/types/canvas_id";case"message":return r.type==="slack#/types/message_context";case"user":return r.type==="slack#/types/user_id";default:return!1}}return(g==null?void 0:g.callbackId)==="message_url"&&b.name==="object_id"?r.type==="slack#/types/message_context":!!(Object(t.a)(n.a,b.type)&&Object(n.n)(c,b))}h(o,"isWorkflowTokenValid")},uYNn:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("0LZ2"),t=e("k2bd"),a=e("4pJt");function s(l){const o=Object(n.a)(l),f=o.import("core/module"),r=o.import("parchment");return h(class extends f{unload(){this.onClickOption&&this.quill.root.removeEventListener("click",this.onTokenClick)}listen(){this.onClickOption&&this.quill.root.addEventListener("click",this.onTokenClick,!1)}onTokenClick(u){if(!this.onClickOption)return!0;const d=u.target.closest(`.${a.d}`);if(d===null)return!0;const v=r.find(d).offset(this.quill.scroll),g=this.quill.getContents(v,1);if(g.ops[0]&&Object(t.a)(g.ops[0])){u.preventDefault(),u.stopPropagation();const O=g.ops[0].insert.workflowtoken;if(!O.isAvailable||!O.isClickable)return!0;this.onClickOption({token:O,element:d,index:v})}return!0}constructor(u,d={}){super(u,d),this.onClickOption=d.onClick,this.onTokenClick=this.onTokenClick.bind(this),this.listen()}},"WorkflowTokenModule")}h(s,"getWorkflowTokenModule")},up1q:function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("G4qV"),t=e("O86Y"),a=e("DmfU"),s=e("UOL+");const l=h((f,r)=>{var m,c;const u=Object(t.g)(f);if(!u||!r)return null;Object(a.c)(u,r);var d;return(d=(m=Object(s.a)(f))===null||m===void 0||(c=m.conversationsListPrefs)===null||c===void 0?void 0:c[r])!==null&&d!==void 0?d:null},"getConversationsListPrefsByChannelId"),o=Object(n.a)((f,r,m)=>l(f,m),(f,r)=>r,(f,r)=>f==null?void 0:f[r])},"v+CX":function(J,i,e){"use strict";e.d(i,"a",function(){return g});var n=e("9oTK"),t=e.n(n),a=e("Lgge"),s=e("fujP"),l=e("s4P+"),o=e("SQ0V"),f=e("RVJP"),r=e("pOmS"),m=e("E3dU"),c=e("Zbwg"),u=e("OCIX"),d=e("SwbJ"),p=e("O6kw"),v=e("tvTu");const g=Object(o.c)("Kicks off the file upload and updates the draft store with the file IDs",function(){var O=Object(n.coroutine)(function*(b,y){let{draftId:C,files:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!C||Object(s.a)(_))return;const j=Object(l.a)({getState:y,label:"EAGER-UPLOADS"}),E=yield b(Object(p.a)({selectedFiles:_,draftId:C}));if(Object(s.a)(E)){j.info("No remaining files to upload after filtering");return}const M=y(),T=Object(f.d)(M,"workspace_context_for_netskope")==="on";let P;if(T&&Object(c.a)(C))P=Object(r.a)(Object(m.d)(M,C));else if(T&&Object(u.a)(C)){const B=C.split("-")[0];P=Object(r.a)(Object(m.d)(M,B))}return a.a.all(E.map(B=>b(Object(d.a)({file:B,clientContextTeamId:P})).then(function(){let{pendingFileId:R,uploadPromise:U=a.a.resolve()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return b(Object(v.a)({file:B,pendingFileId:R,uploadPromise:U,draftId:C})),U})))});return function(b,y){return O.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkuploadDraftFiles",description:"Kicks off the file upload and updates the draft store with the file IDs"}},v7hc:function(J,i,e){"use strict";e.d(i,"a",function(){return _});var n=e("RaLP"),t=e.n(n),a=e("gSGL"),s=e("CpTu"),l=e("EJqq"),o=e("whaK"),f=e("Oy0v"),r=e("RJAC"),m=e("lhZz"),c=e("s4P+"),u=e("yrot"),d=e("JoR1"),p=e("UPr+"),v=e("nift"),g=e("haNl"),O=e("Y31Q"),b=e("0LZ2"),y=e("JvzI");function C(j,E){let M=E;return Object(d.u)(j,"a11y_animations")||(M=Object(r.a)(j,{url:E,stopAnimations:!0,isEmoji:!0})),M}h(C,"getActualEmojiUrl");function _(j){const E=Object(b.a)(j),M=j||window,T=E.import("blots/embed");let P=h(class extends T{static create(R){let U;Object(a.a)(R)?(Object(c.b)().error("slackemoji_bad_input"),U=R):U=R.text;const K=super.create(U);K.setAttribute("data-id",U),K.setAttribute("data-title",U),K.setAttribute("data-stringify-text",U),K.setAttribute("class","emoji"),K.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),K.setAttribute("alt",Object(O.a)(U));const V=Object(f.a)(U),z=V?V.name:"";return K.addEventListener("load",N=>{const A=N.target;let x=null;if(A.closest)x=A.closest(".ql-editor");else if(M.document.documentElement.contains(A)){let L=A;do{if(L.classList.contains("ql-editor")){x=L;break}L=L.parentElement||L.parentNode}while(L!==null&&L.nodeType===1)}if(!x)return;const k=x.getAttribute("data-team-id");let F=`background-image: url(${t.a});`;if(k){const L=Object(m.getStateByTeamId)(k),S=Object(y.a)({teamOrEnterpriseId:k}),I=Object(l.i)({state:L,locale:S,name:U})||U;I&&I!==U&&(K.setAttribute("data-title",I),K.setAttribute("alt",Object(O.a)(I)));const W=Object(u.j)(L,{...R,teamId:k,emojiMode:Object(o.a)(L,{forceDisplay:!0}),emojiSize:v.a.LARGE});W?(F=`background-image: url(${C(L,W)});`,V&&Object(u.o)(L,{text:z,teamId:k})&&A.setAttribute("data-has-skin-tone","")):(F="background-image: none;",A.classList.add("sk_foreground_low_solid_bg","rounded"),Object(p.b)(k,[z]).then(D=>{var H;const Z=(H=Object(s.a)(D,["name",z]))===null||H===void 0?void 0:H.value;A.classList.remove("sk_foreground_low_solid_bg","rounded"),Z?(F=`background-image: url(${C(L,Z)});`,A.setAttribute("style",F)):A.setAttribute("style",`background-image: url(${t.a});`)}))}A.setAttribute("style",F),Object(g.g)(z)}),K}static value(R){return{text:R.getAttribute("data-id")}}},"SlackEmoji");return P.blotName="slackemoji",P.tagName="img",P}h(_,"getSlackEmojiFormat")},vRwa:function(J,i,e){"use strict";e.d(i,"a",function(){return l});var n=e("CpTu"),t=e("F294"),a=e("s4P+"),s=e("Yauy");function l(o){let{globalIndex:f,results:r,matchLength:m,formats:c}=o;const u=Object(n.a)(r,v=>!Object(s.X)(v)),d=Object(t.a)(r);if(!u&&!d)return null;const p=u||d;return Object(a.b)().info("AUTOSLUG",`Creating channel mention (${p==null?void 0:p.id})`),{id:(p==null?void 0:p.id)||"",label:`#${Object(s.K)(p)}`,globalIndex:f,length:m,formats:c,type:"mention"}}h(l,"createPotentialMentionChannelObject")},"vS+A":function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("+QGB"),s=e("BHdc"),l=e("v5z3"),o=e("oEDn"),f=e("c+dP"),r=e("qDEp"),m=e("nNoG");function c(){return c=Object.assign||function(v){for(var g=1;g<arguments.length;g++){var O=arguments[g];for(var b in O)Object.prototype.hasOwnProperty.call(O,b)&&(v[b]=O[b])}return v},c.apply(this,arguments)}h(c,"_extends");const u=new m.b("setup_page"),d=h(v=>{let{tipState:g=l.g.Explainer,...O}=v;const{optOutIconClass:b,optOutButtonClass:y}=O,C=Object(n.useCallback)(_=>t.a.createElement(a.a,c({shouldClearMessageInputCtaOnClose:!1,tipState:g},_)),[g]);return t.a.createElement(f.e,{renderMenu:C,position:"top"},t.a.createElement(r.d,{"data-qa":"opt_out_button",className:Object(s.default)(y,"p-opt_out_button"),"aria-label":u.t("Opt out of all tips")},t.a.createElement(o.a,{"data-qa":"opt_out_icon",type:"times-small",className:Object(s.default)(b,"p-opt_out_button_icon p-opt_out_button_icon--ia4")})))},"OptOut");d.displayName="OptOut";var p=i.a=Object(n.memo)(d)},vSLz:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("nNoG"),l=e("jWAO"),o=e("Trx9"),f=e("nFQW");function r(){return r=Object.assign||function(d){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(d[g]=v[g])}return d},r.apply(this,arguments)}h(r,"_extends");const m=new s.b("educational_kit"),c=h(d=>{let{iconName:p,heading:v,children:g,onDismiss:O,"data-qa":b="",autoClogProps:y,className:C}=d;const _=Object(a.default)("c-educational_alert",{"c-educational_alert--with_close_icon":!!O,"c-educational_alert--with_no_icon":!p},C);return t.a.createElement(o.a,r({},y),t.a.createElement(l.d,{className:_,"data-qa":b,icon:p,heading:v},t.a.createElement("div",{className:"c-educational_alert__body"},g),O&&t.a.createElement(f.a,{className:"c-educational_alert__close_icon","data-qa":"alert_close_button",icon:"times",size:"small","aria-label":m.t("Dismiss",{fallbackHash:"70afe9eff3f2888493d9b5169fec8331af1810de",fallbackHashNs:"trials_highlight_paid_features"}),onClick:O})))},"EducationalAlert");c.displayName="EducationalAlert";var u=i.a=c},vUzD:function(J,i,e){J.exports=e.p+"trial-message-limit-trial-offer-v2-dark-69f9d4e.gif"},vVwU:function(J,i,e){"use strict";var n=e("SQ0V"),t=e("pu3F"),a=e("coh6"),s=e("GS6c"),l=e("O86Y"),o=e("wWBL");const f=h(m=>(m||"").replace(/:|\uFF1A/g,""),"getCleanQuery"),r=Object(n.c)("Find emoji that match a search query",function(m,c){let{query:u,limit:d=t.c,useSearcherSessions:p=!0,searcherKey:v="texty-autocomplete",searchViewContext:g}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const O={entities:{emoji:{matchKeywords:!0}},sort:{source:"texty-autocomplete"},limit:d,returnMetadata:!0,tiered:!0,searchViewContext:g},b=c();return p&&Object(o.c)(b)?Object(s.a)({teamId:Object(l.g)(b),key:v}).search({query:f(u),options:O}):m(Object(a.F)({query:f(u),options:O}))});r.meta={name:"createThunk",key:"createThunkautocompleteEmoji",description:"Find emoji that match a search query"},i.a=r},vY0R:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("nNoG"),s=e("WAPM");const l=new a.b("slack_connect_external_limited"),o=h(()=>{const f=l.t("Learn more"),r=1500012572621;return t.a.createElement(s.a,{articleId:r},f)},"ExternalLimitedLearnMoreLink");o.displayName="ExternalLimitedLearnMoreLink",i.a=o},vZeV:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("DwFS");const t=Object(n.a)("Sets microphone currently active state");t.meta={name:"createAction",key:"createActionsetMicrophoneActiveState",description:"Sets microphone currently active state"}},vaRI:function(J,i,e){"use strict";var n=e("9oTK"),t=e.n(n),a=e("vfQU"),s=e("kBpe");function l(f){return o.apply(this,arguments)}h(l,"checkSystemMediaAccess");function o(){return o=Object(n.coroutine)(function*(f){if(!Object(s.j)("4.9.0")||Object(s.o)())return!0;const r=yield Object(a.R)(f);return r.status==="not-determined"&&f!=="screen"?!!(yield Object(a.b)(f)).isGranted:r.isAvailable&&r.status==="granted"}),o.apply(this,arguments)}h(o,"_checkSystemMediaAccess"),i.a=l},vbN2:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("4ALb"),s=e("yVnW");function l(o){let{elapsed:f,duration:r}=o;return t.a.createElement("span",{className:"p-media_controls__timestamp"},Object(a.a)(f)," / ",Object(a.a)(r))}h(l,"PlaybackTimestamp"),l.displayName="PlaybackTimestamp",i.a=l},vbTZ:function(J,i,e){"use strict"},veLH:function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(t){return!!(t&&(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth))}h(n,"isElementScrollable")},vhgo:function(J,i,e){"use strict";e.d(i,"a",function(){return se});var n=e("mM05"),t=e.n(n),a=e("WIr4"),s=e("BeL+"),l=e("xWuZ"),o=e("yIs4"),f=e("3Hq1"),r=e("lhZz"),m=e("5IZy"),c=e("Z44y"),u=e("ktUG"),d=e("kBas"),p=e("gSGL"),v=e("0qhH"),g=e("lnVG"),O=e("wr1M");const b=Object.keys(O.a);var C=h(X=>{if(!X)return null;const q=X.ops;if(!q||!q.length)return null;let Y,ee;return q.length===1&&Object(v.a)(q[0])?(ee=0,Y=Object(p.a)(q[0].insert)?q[0].insert:""):q.length===2&&Object(g.a)(q[0])&&Object(v.a)(q[1])&&(ee=q[0].retain,Y=Object(p.a)(q[1].insert)?q[1].insert:""),!Y||!Object(o.a)(ee)||!b.includes(Y)?null:{delimiter:Y,position:ee}},"getMarkdownDelimiterData"),_=e("Ms05"),j=e("8QLk");function E(X){let{lineText:q,delimiter:Y,position:ee}=X;if(!q||!Y||!Object(o.a)(ee))return null;let w;for(let le=ee-1;le>=0;le--)if(q[le]===Y){w=le;break}if(!Object(o.a)(w)){for(let le=ee+1;le<q.length;le++)if(q[le]===Y){w=le;break}}if(!Object(o.a)(w))return null;const ne=Math.min(ee,w),ae=Math.max(ee,w),de=ne>0?ne-1:ne,ge=Object(j.a)(ae+2,ae,q.length);return{matchStart:de,matchEnd:ge}}h(E,"findPotentialMatchBounds");function M(X,q){if(!X||!q)return new t.a;const{delimiter:Y,position:ee}=C(q)||{};if(!Y||!Object(o.a)(ee))return new t.a;let w=new t.a,ne=0;return X.eachLine((ae,de)=>{const ge=ae&&ae.ops,le=Object(_.a)(ge),Q=ne+(le?le.length:0)+1,ie=ee>=ne&&ee<Q,oe=de["code-block"];if(ie&&!oe){const me=ee-ne,{matchStart:be,matchEnd:Se}=E({lineText:le,delimiter:Y,position:me})||{},Pe=le&&le.substring(be||0,Se);if(Pe){const Ue=O.b[Y],Fe=O.a[Y];Pe.replace(Ue,(je,_e,pe)=>{w=new t.a().retain(ne).retain(be||0).retain(_e.length-1).delete(1).retain(pe.length,{[Fe]:!0}).delete(1)})}}ne=Q}),w}h(M,"buildLocalMarkdownChangeDelta");var T=e("Y/OQ"),P=e("nBOy");function B(X,q){const Y={action:"noop",delta:new t.a};if(!X||!q)return Y;const{delimiter:ee,position:w}=C(q)||{};if(!ee||!Object(o.a)(w)||ee!=="`"&&ee!=="\uFF40")return Y;const ne=w,ae=ne-2,de=ne+1,ge=Object(T.a)(X.ops),le=ge.substring(ae,de);if(le!=="```"&&le!=="\uFF40\uFF40\uFF40")return Y;const Q=Object(P.a)(X,ne),ie=Object(P.a)(X,ae-1),oe=Q!=null&&Q.blockquote||ie!=null&&ie["code-block"]&&((ie==null?void 0:ie.border)||0)>=1?1:void 0;if(Q!=null&&Q.code)return Y;const me=Q&&Q["code-block"],be=ge.charAt(ae-1),Se=ge.charAt(de),Pe=new t.a().retain(ae).delete(3);if(me)return me&&Se===`
`?(Pe.retain(1).insert(`
`),{action:"remove",delta:Pe}):Y;be!==`
`&&ae!==0&&Pe.insert(`
`,{...Q});const Fe=ge.indexOf(`
`,ne),je={"code-block":!0};if(Object(o.a)(oe)&&(je.border=oe),Fe!==-1){const pe=Fe-ne-1;return Pe.retain(pe).delete(1).insert(`
`,je),{action:"insert",delta:Pe}}const _e=ge.length-ne;return Pe.retain(_e-1).insert(`
`,je),{action:"insert",delta:Pe}}h(B,"buildLocalCodeBlockMarkdownChangeDelta");var R=e("XpTY");function U(X,q){if(!X||!q)return new t.a;const{delimiter:Y,position:ee}=C(q)||{};if(!Y||!Object(o.a)(ee))return new t.a;if(Y!==">"&&Y!=="\uFF1E")return new t.a;const w=Object(T.a)(X.ops);if(w.charAt(ee-1)!==`
`&&ee!==0)return new t.a;const ae=Object(P.a)(X,ee),de=(ae==null?void 0:ae.blockquote)&&!(ae!=null&&ae.border);if(Object(R.a)(ae||{})&&!de)return new t.a;const ge=new t.a().retain(ee).delete(1),le=w.indexOf(`
`,ee),Q={blockquote:!0};if(de&&(Q.border=1),le!==-1){const oe=le-ee-1;return ge.retain(oe).delete(1).insert(`
`,Q)}const ie=w.length-ee;return ge.retain(ie-1).insert(`
`,Q)}h(U,"buildLocalBlockQuoteMarkdownChangeDelta");var K=e("lCmp"),V=e("tfz1"),z=e("Awek");function N(X){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(!X||q!=="code-block"&&q!=="blockquote")return!1;const Y=X.ops;if(!Y)return!1;const ee=q==="code-block"?V.a:z.a;return Object(K.a)(Y,w=>ee(w))}h(N,"shouldClogBlockFormattingEvent");var A=e("iu/Y");function x(X){if(!X)return null;const q=X.ops;if(!q)return null;if(q.length===2&&Object(g.a)(q[0])&&Object(v.a)(q[1])){const Y=q[0].retain,ee=Object(p.a)(q[1].insert)?q[1].insert:"",w=ee&&ee.length;return{position:Y,insert:ee,insertLength:w}}return null}h(x,"getChangeDeltaInsertData");var F=h((X,q)=>{if(!X||!q)return new t.a;const{position:Y,insert:ee,insertLength:w}=x(q)||{};if(!Object(o.a)(Y)||!ee)return new t.a;const{op:ne,opIndex:ae}=Object(A.a)(X,Y)||{};if(!ne||!Object(o.a)(ae)||!Object(v.a)(ne))return new t.a;const de=Y-ae,ge=Object(p.a)(ne.insert)?ne.insert:"",le=de-1,Q=de+(Object(o.a)(w)?w:0),ie=ge.charAt(le),oe=ge.charAt(Q);if(ie!==oe)return new t.a;if(!b.includes(ie))return new t.a;const me=ie;if(ee.indexOf(me)!==-1)return new t.a;const be=ge.substring(le-1,Q+1),Se=O.b[me];if(!be.match(Se))return new t.a;const Pe=Object(P.a)(X,Y)||{};if(Pe["code-block"]||Pe.code)return new t.a;const Fe=O.a[me];return new t.a().retain(ae).retain(le).delete(1).retain(Object(o.a)(w)?w:0,{[Fe]:!0}).delete(1)},"handleDoubleDelimeterInserts"),L=e("dZlw"),S=e("0LZ2");const I=/(^|\s)\*[^*]*\S\*$/,W=/(^|\s)_[^_]*\S_$/,D=/(^|\s)(?:`|\uFF40)[^`\uFF40]*\S(?:`|\uFF40)$/,H=/(^|\s)~[^~]*\S~$/,Z={bold:u.MsgFormattingInputFormat.BOLD,italic:u.MsgFormattingInputFormat.ITALIC,strike:u.MsgFormattingInputFormat.STRIKE,code:u.MsgFormattingInputFormat.CODE,"code-block":u.MsgFormattingInputFormat.CODE_BLOCK,blockquote:u.MsgFormattingInputFormat.BLOCKQUOTE,hr:u.MsgFormattingInputFormat.HR,h1:u.MsgFormattingInputFormat.H1,h2:u.MsgFormattingInputFormat.H2};function G(X){return!!{[u.MsgFormattingInputFormat.BOLD]:!1,[u.MsgFormattingInputFormat.ITALIC]:!1,[u.MsgFormattingInputFormat.STRIKE]:!1,[u.MsgFormattingInputFormat.CODE]:!1,[u.MsgFormattingInputFormat.UNDERLINE]:!1,[u.MsgFormattingInputFormat.LINK]:!1,[u.MsgFormattingInputFormat.H1]:!1,[u.MsgFormattingInputFormat.H2]:!1,[u.MsgFormattingInputFormat.HR]:!1,[u.MsgFormattingInputFormat.CHECK_LIST]:!1,[u.MsgFormattingInputFormat.BULLET_LIST]:!0,[u.MsgFormattingInputFormat.ORDERED_LIST]:!0,[u.MsgFormattingInputFormat.CODE_BLOCK]:!0,[u.MsgFormattingInputFormat.BLOCKQUOTE]:!0,[u.MsgFormattingInputFormat.DEDENT]:!0,[u.MsgFormattingInputFormat.INDENT]:!0}[X]}h(G,"isClogFormatComposerBlockLevelFormat");function te(X){const q=[];return X.length()&&(X.ops||[]).forEach(w=>{!w.retain||!w.attributes||q.push(Object.keys(w.attributes))}),Object(s.a)(Object(l.a)(q))}h(te,"getAppliedFormatsFromDelta");function se(X){const Y=Object(S.a)(X).import("core/module");return h(class extends Y{unload(){this.quill.root.removeEventListener("compositionstart",this.resetFormatsToRestore)}listen(){this.quill.on("selection-change",this.onSelectionChange),this.quill.on("text-change",this.resetFormatsToRestore),this.quill.root.addEventListener("compositionstart",this.resetFormatsToRestore),this.options.convertHorizontalRule&&this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{"code-block":!1,code:!1},prefix:/^---$/,offset:3},this.formatHorizontalRule),this.options.convertHeaders&&this.quill.keyboard.addBinding({key:" ",ctrlKey:null,shiftKey:null,altKey:null,collapsed:!0,format:{header:!1,"code-block":!1,code:!1},prefix:/^#{1,2}$/},this.formatHeader)}onSelectionChange(ne,ae){this.formatsToRestoreOnBackspace&&(ne?ne&&Object(o.a)(this.wasBlurredAtIndex)?(this.wasBlurredAtIndex!==ne.index&&this.resetFormatsToRestore(),this.wasBlurredAtIndex=null):Object(o.a)(this.wasBlurredAtIndex)||this.resetFormatsToRestore():this.wasBlurredAtIndex=ae.index)}onBackspace(){return this.formatsToRestoreOnBackspace&&this.formatsToRestoreOnBackspace.length&&(this.formatsToRestoreOnBackspace.forEach(ne=>{this.quill.format(ne,!0)}),this.formatsToRestoreOnBackspace=null),!1}resetFormatsToRestore(){this.formatsToRestoreOnBackspace=null}clogMarkdownFormattingEvent(ne){let{format:ae,range:de}=ne;if(!this.clogger)return;const ge=Z[ae];if(Object(f.a)(ge))return;const le={input_context:Object(c.a)()?u.MsgFormattingInputContext.POST:u.MsgFormattingInputContext.MESSAGE,input_source:u.MsgFormattingInputSource.MARKDOWN,input_format:ge,is_selection:!1};if(G(ge)&&de){const Q=Object(L.a)(this.quill,de);le.input_prexisting_block_formats=Q}this.clogger.track(u.EventId.MSG_FORMATTING_ADDED,le)}formatHorizontalRule(ne){const ae=ne.index-3;this.quill.deleteText(ae,3),this.quill.insertEmbed(ae,"slackhorizontalrule",!0),this.quill.setSelection(ae+1,"silent"),this.quill.removeFormat(ae+1),this.clogMarkdownFormattingEvent({format:"hr"})}formatHeader(ne,ae){if(ae.offset>2)return!0;Object(d.a)(this.quill,{format:{header:ae.offset},range:ne,replacementLength:ae.offset,charToInsert:" "});const de=ae.offset===1?"h1":"h2";return this.clogMarkdownFormattingEvent({format:de}),!1}afterTextChangeQueue(){if(this.formatsAppliedInQueue){this.formatsToRestoreOnBackspace=this.formatsAppliedInQueue;const ae=this.quill.getFormat()||{};var ne;for(let de=0;de<((ne=this.formatsToRestoreOnBackspace)!==null&&ne!==void 0?ne:[]).length;de++){const ge=this.formatsToRestoreOnBackspace[de];ae[ge]?(this.quill.format(ge,!1),this.clogMarkdownFormattingEvent({format:ge})):(this.formatsToRestoreOnBackspace.splice(de,1),de-=1)}}this.formatsAppliedInQueue=null}buildTextChangeDelta(ne,ae){let{initialTextChangeDelta:de,useWysiwyg:ge=!1,formattingOnly:le=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!ne||!de)return new t.a;if(!ge)return new t.a;if(le)return new t.a;let Q=M(ne,de);if(Q.length()!==0){const ie=te(Q);this.formatsAppliedInQueue=ie.length?ie:null}if(Q.length()===0&&(Q=F(ne,de),te(Q).forEach(oe=>{this.clogMarkdownFormattingEvent({format:oe})})),Q.length()===0){const{delta:ie}=B(ne,de);Q=ie;const oe="code-block";N(Q,oe)&&this.clogMarkdownFormattingEvent({format:oe,range:ae})}if(Q.length()===0){Q=U(ne,de);const ie="blockquote";N(Q,ie)&&this.clogMarkdownFormattingEvent({format:ie,range:ae})}return Q}constructor(ne,ae){super(ne,ae),Object(a.a)(this,["formatHorizontalRule","formatHeader","resetFormatsToRestore","onSelectionChange","onBackspace"]);const de=this.options.teamId,ge=Object(r.getStoreInstanceByTeamId)(de);this.clogger=Object(m.a)(ge),this.formatsToRestoreOnBackspace=null,this.formatsAppliedInQueue=null,this.listen()}},"SlackMarkdown")}h(se,"getSlackMarkdownModule");const $=se(window)},vjzz:function(J,i,e){"use strict";e.d(i,"a",function(){return n}),e.d(i,"b",function(){return t}),e.d(i,"c",function(){return a});const n="prefill_suggestions_channels_",t="prefill_suggestions_users_";function a(s,l){return!s||typeof s!="string"||(s==null?void 0:s.length)===0||!l||!(s!=null&&s.includes(n))&&!(s!=null&&s.includes(t))?s||"":s.split(",").filter(f=>f.startsWith(l))[0]||""}h(a,"parseNewXpSuggestedChannelsRequestId")},vnlm:function(J,i,e){"use strict";e.d(i,"b",function(){return be});var n=e("9oTK"),t=e("UXvI"),a=e("mXhK"),s=e("vLZU"),l=e("O86Y"),o=e("9Gfp"),f=e("s4P+"),r=e("G5NC"),m=e("Z7Ay"),c=e("usyg"),u=e("5NQM"),d=e("bJfW"),p=e("BCd4"),v=e("tHrB"),g=e("8g3S"),O=e("j77i"),b=e("OU2B"),y=e("NLR5"),C=e("lhZz"),_=e("7xYR");const j="immediately-persist-redux-state",E={};let M=h((pe,fe)=>{E[pe]=fe},"setPrevState"),T=h(pe=>E[pe],"getPrevState"),P=h((pe,fe)=>{try{sessionStorage.setItem(pe,JSON.stringify(fe))}catch(Ee){return Ee}return!0},"setItem");const B=h(pe=>{let fe;try{const Ee=sessionStorage.getItem(pe);Ee||Object(f.b)().error(`Failed to read item from local storage for key ${pe}`),fe=JSON.parse(Ee)}catch{}return fe},"getItem"),R=h(pe=>{try{sessionStorage.removeItem(pe)}catch{}},"removeItem");function U(pe){let{state:fe={},reducerConfig:Ee={},teamId:ye,userId:Te,keyPrefix:Oe="",prevStatePassedIn:Ce}=pe;const ce=Object(l.d)(fe);Object.keys(fe).forEach(he=>{const Me=fe[he],{persistenceEnabled:Ae=!1,persistImmediately:xe=!1,scope:Re,beforeWriteTransform:Ge}=Object(s.u)(Ee[he])||{};if(!Ae||!xe)return;const ze=ce&&Object(s.B)({scope:Re})&&!Object(b.a)(ce)?ce:ye,Ie=Object(s.r)({teamId:ze,userId:Te,key:`${Oe}${he}`});let Ne;if(Ce){if(Ne=Ce[he],Me===Ne)return}else{if(Ne=T(Ie),Me===Ne)return;M(Ie,Me)}const Ke=Ge?Ge(Me,ze):Me,Ve=P(Ie,Ke);if(Ve!==!0&&(Object(y.a)({successState:!1,spanName:j}),Object(f.a)({teamId:ye}).error("Cannot save state to sessionStorage",Ve)),ce){const $e=[];Object(s.B)({scope:Re})?_.getWorkspacesByOrg?$e.push(...Object(_.getWorkspacesByOrg)(Object(C.getStateForClientStore)(),ce)):$e.push(ye):$e.push(ce),$e.forEach(tt=>{const qe=Object(s.r)({teamId:tt,userId:Te,key:`${Oe}${he}`});R(qe)})}})}h(U,"immediatelyPersistReduxState"),Object.defineProperties({setPrevState:M,getPrevState:T,setItem:P,getItem:B},{setPrevState:{get:()=>M,set:pe=>{M=pe}},getPrevState:{get:()=>T,set:pe=>{T=pe}},setItem:{get:()=>P,set:pe=>{P=pe}}});var V=e("IJpL"),z=e("Lgge"),N=e("fujP"),A=e("ifKl"),x=e("SQ0V"),k=e("iZ9S"),F=e("rIJ2"),L=e("PLUl"),S=e("69+H"),I=e("uUAy");const W=Object(F.a)(10),D="persist-redux-state";function H(pe){let{teamId:fe,enterpriseId:Ee,storeKey:ye}=pe;const Te=Object(L.a)(),Oe=Te.createMetricsTrace({label:"redux-persistence"});Oe.count({name:"invalid-data-persisted"}).addTags({team_id:fe,enterprise_id:Ee,store:ye}),Te.reportTrace(Oe)}h(H,"beaconInvalidPersistedData");function Z(pe){let{reducerConfig:fe={},state:Ee,teamId:ye,enterpriseId:Te}=pe;const Oe={[ye]:{},[Te||ye]:{}};return Object.keys(Ee).forEach(Ce=>{const ce=fe[Ce],{persistenceEnabled:he=!1,persistImmediately:Me=!1,scope:Ae,beforeWriteTransform:xe}=Object(s.u)(ce)||{};if(!he||Me)return;const Re=Te&&Object(s.B)({scope:Ae})&&!Object(b.a)(Te)?Te:ye;Oe[Re][Ce]=xe?xe(Ee[Ce],Re):Ee[Ce]}),Te&&Object(N.a)(Oe[Te])&&delete Oe[Te],Oe}h(Z,"prepareStateForStorage");const G=Object(x.c)("Persists Redux state into IndexedDB",function(){var pe=Object(n.coroutine)(function*(fe,Ee){const ye=Object(f.a)({getState:Ee}),Te=Ee(),Oe=Object(l.d)(Te),Ce=Object(l.h)(Te);if(!Te||!Ce)throw ye.error("Cannot persist state because missing information",{state:Te,teamOrEnterpriseId:Ce}),new Error("Cannot persist state");const ce=Z({reducerConfig:Object(s.t)(Ce),state:Te,teamId:Ce,enterpriseId:Oe});return z.a.map(Object.keys(ce),he=>{const Me=Object(k.e)();Me||ye.error("Failed to get appName while persisting redux state");const xe=`persist:${Object(s.E)({appName:Me,teamId:he,userId:Object(o.a)(Te)})}`;return W&&setTimeout(()=>{const Re=ce[he];Object.entries(Re).forEach(Ge=>{let[ze,Ie]=Ge;const Ne=!0,Ke=`${s.l}${ze}`;Object(S.a)(Ke)&&(Object(S.b)(Ke,Ie,{logErrorOnFailure:Ne})||H({teamId:Ce,enterpriseId:Oe,storeKey:ze}))})},5e3),Object(N.a)(ce[he])?I.a.delete(xe):I.a.set(xe,ce[he]).then(A.a)},{concurrency:2}).then(()=>{Object(y.a)({successState:!0,spanName:D}),ye.info("PERSIST","Successfully persisted state")}).catch(he=>{Object(y.a)({successState:!1,spanName:D}),ye.error("Could not persist Redux state",he)})});return function(fe,Ee){return pe.apply(this,arguments)}}());G.meta={name:"createThunk",key:"createThunkpersistReduxState",description:"Persists Redux state into IndexedDB"},G.propTypes=null;var te=G;const se={prepareStateForStorage:Z};var $=e("v6mS"),X=e("1G0c");const q=100,Y=25,ee={},w={},ne={},ae={},de={};let ge=h(pe=>{let fe=de[pe];return fe||(fe=Object(t.a)(U,q),de[pe]=fe),fe},"getImmediatelyPersistStateThrottled"),le=!0,Q=!0,ie=0,oe=0;function me(pe){return pe&&ae[pe]}h(me,"teamIsInitialized");function be(pe){let{teamId:fe,store:Ee}=pe;if(fe&&!me(fe)){const ye=Ee.getState(),Te=Object(o.a)(ye),Oe=Object(s.t)(fe),Ce=Object(f.a)({teamId:fe});Pe({store:Ee,teamId:fe,userId:Te,reducerConfig:Oe,logger:Ce}),Ue({teamId:fe,store:Ee,logger:Ce}),ae[fe]=fe}}h(be,"initPersistenceForTeam");function Se(pe){let{teamId:fe,store:Ee,logger:ye}=pe;Object(u.b)(ne[fe]),w[fe]=!0,ne[fe]=Object(u.c)(()=>{Ee.dispatch(te()).then(()=>{oe=0,ie=0,ee[fe]=performance.now()}).catch(Te=>{ye.warn(s.C,"Could not persist state from Redux",Te),oe+=1,ie=Object(p.b)({attempts:oe})*1e3,oe>=Y&&(le=!1)}).finally(()=>{w[fe]=!1})})}h(Se,"schedulePersist");function Pe(pe){let{store:fe,teamId:Ee,userId:ye,reducerConfig:Te,logger:Oe}=pe;const Ce="[DEBUG]";Object(m.c)(Ee,"persist",{persist:Object(n.coroutine)(function*(){Oe.debug(s.C,Ce,"Storing redux state"),yield fe.dispatch(te()),Oe.debug(s.C,Ce,"Storing redux state to IndexedDB")}),get:Object(n.coroutine)(function*(){Oe.debug(s.C,Ce,"Getting stored state from IndexedDB");const ce=yield Object($.a)({teamId:Ee,userId:ye});return Oe.debug(s.C,Ce,"Got stored state",ce),ce}),clear:Object(n.coroutine)(function*(){if(!X.a){Oe.warn("Attempting to call purgeModelAndClearObjectStore from a non-gantry context");return}Oe.debug(s.C,Ce,"Clearing stored state in IndexedDB"),yield Object(X.a)(Ee),Oe.debug(s.C,Ce,"Cleared stored state in IndexedDB")})}),Object(m.c)(Ee,"immediatePersist",{persist:function(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fe.getState();Oe.debug(s.C,Ce,"Persisting to immediate persistence"),U({state:ce,teamId:Ee,userId:ye,reducerConfig:Te})},get:()=>(Oe.debug(s.C,Ce,"Getting immediately persisted state"),V.c&&Object(V.c)({teamId:Ee,userId:ye})),clear:()=>(Oe.debug(s.C,Ce,"Clearing immediately persisted state"),V.b&&Object(V.b)({teamId:Ee,userId:ye}))})}h(Pe,"initDebugger");function Ue(pe){let{teamId:fe,store:Ee,logger:ye}=pe;const Te=Object(t.a)(()=>{ye.info(s.C,"Persisting state to storage because we just lost network connectivity"),Se({teamId:fe,store:Ee,logger:ye})},s.j,{leading:!0});window.addEventListener("offline",Te),window.addEventListener("beforeunload",()=>{const Oe=Object(O.f)("orderedTeamIds"),Ce=Ee.getState().isShared;if(Array.isArray(Oe)&&Oe.includes(fe)===!1){const ce=Object(O.f)("teams");if(!(Ce&&Object(d.b)(fe)&&Oe.find(Me=>{var Ae;const xe=ce==null||(Ae=ce[Me])===null||Ae===void 0?void 0:Ae.enterprise_id;return xe&&xe===fe}))){ye.info(s.C,"Not persisting state to storage even though the window is about to unload - teamId not found in sidebar");return}}Ce||(Ee.dispatch(Object(g.a)()),Object(c.c)()),ye.info(s.C,"Persisting state to storage because the window is about to unload"),Ee.dispatch(te())})}h(Ue,"initEventListeners");const Fe=Object(a.b)("Persists data from Redux into sessionStorage and IndexedDB for rehydration later",(pe,fe,Ee)=>{const ye=fe(Ee);if(!Object(r.a)()||Object(v.b)().isEnabled)return ye;const Te=pe.getState(),Oe=Object(l.h)(Te);if(!Oe)return ye;const Ce=Object(o.a)(Te),ce=Object(s.t)(Oe);if(!Te||!ce||!Oe||!Ce)return ye;const he=Object(f.a)({teamId:Oe});if(me(Oe)&&le){const Me=ee[Oe],Ae=w[Oe],xe=!Me||performance.now()-Me>=s.i+ie;!Ae&&xe&&Se({teamId:Oe,store:pe,logger:he})}return Q&&ge(Oe)({state:Te,teamId:Oe,userId:Ce,reducerConfig:ce}),ye});Fe.meta={name:"createMiddleware",key:"createMiddlewarepersistenceMiddleware",description:"Persists data from Redux into sessionStorage and IndexedDB for rehydration later"};var je=i.a=Fe;const _e={immediatelyPersistStateThrottledByTeam:de,getImmediatelyPersistStateThrottled:ge,lastPersistedTsByTeam:ee,currentlyAwaitingPersistByTeam:w,initializedTeams:ae,MAX_CONSECUTIVE_FAILURES:Y,persistenceEnabled:le,numberOfConsecutiveFailures:oe,additionalTimeToAwaitPersist:ie};Object(m.a)("persist",{toggle:()=>{le=!le,Object(f.b)().info(s.C,`Persistence is ${le?"ON":"OFF"}`)}}),Object(m.a)("immediatePersist",{toggle:()=>{Q=!Q,Object(f.b)().info(s.C,`Immediate persistence is ${Q?"ON":"OFF"}`)}}),Object.defineProperties(_e,{getImmediatelyPersistStateThrottled:{get:()=>ge,set:pe=>{ge=pe}},persistenceEnabled:{get:()=>le,set:pe=>{le=pe}},additionalTimeToAwaitPersist:{get:()=>ie,set:pe=>{ie=pe}},numberOfConsecutiveFailures:{get:()=>oe,set:pe=>{oe=pe}}})},vrU2:function(J,i,e){"use strict";e.d(i,"b",function(){return c}),e.d(i,"c",function(){return u}),e.d(i,"a",function(){return d});var n=e("u0LO"),t=e("Cyb+"),a=e("xwCZ"),s=e("28Q5"),l=e("5jHt"),o=e("C3vN"),f=e("ZKjC");const r=Object(f.b)((p,v)=>{var g;return p==null||(g=p.clipsNux)===null||g===void 0?void 0:g[v]});r.meta={name:"createSelector",key:"createSelectorgetClipsNuxOverride",description:(p,v)=>{var g;return p==null||(g=p.clipsNux)===null||g===void 0?void 0:g[v]}};const m=Object(f.b)((p,v)=>r(p,v)!==void 0);m.meta={name:"createSelector",key:"createSelectorhasClipsNuxOverride",description:(p,v)=>r(p,v)!==void 0};function c(p,v){let{channelId:g,component:O=n.c.ClipsNux}=v;if(g&&!Object(l.d)(p,g)||Object(s.f)(p))return!1;if(m(p,O))return r(p,O);if(!Object(t.f)(p,O,n.a.Click)&&!Object(t.f)(p,O,n.a.Impression)&&!Object(t.f)(p,O,n.a.Dismiss))return!1;var b;const y=(b=Object(t.a)(p,O,n.a.Click))!==null&&b!==void 0?b:0;var C;const _=(C=Object(t.a)(p,O,n.a.Dismiss))!==null&&C!==void 0?C:0,j=y>0||_>0,E=Date.now()/1e3,M=Object(t.b)(p,O,n.a.Impression)||E,T=E-M>=7*24*60*60;return!(j||T)}h(c,"shouldShowClipsNUX");function u(p,v){let{channelId:g,component:O=n.c.ClipsNux}=v;return c(p,{channelId:g,component:O})&&m(p,O)?r(p,O):!1}h(u,"shouldShowClipsNUXPill");function d(p,v){let{blurEnabled:g}=v;const O=Object(t.f)(p,n.c.ClipsNuxBlur,n.a.Click),b=Object(t.d)(p,n.c.ClipsNuxBlur);var y;const C=(y=Object(o.i)(Object(a.c)(p)))!==null&&y!==void 0?y:0;return O&&!b&&!g&&C<1642377600}h(d,"shouldShowClipsBlurNUX")},w3JV:function(J,i,e){"use strict";e.d(i,"b",function(){return a}),e.d(i,"a",function(){return s});const n=5;var t;(function(l){l.TOP="top",l.BOTTOM="bottom"})(t||(t={}));function a(l){let{toolbarHeight:o,toolbarWidth:f,toolbarPositionData:r,toolbarPositioning:m=t.TOP,continuouslyCenterWithinEditor:c=!1}=l;const u={left:0,top:0};if(!r)return u;const{rect:d,editorWidth:p,containerWidthBound:v,containerLeftBound:g,containerTopBound:O,viewportWidth:b}=r;if(!d)return u;const y=d.left+g;let C=d.top+O-o-n;m===t.BOTTOM&&(C=d.bottom+O+n);let _=y;d.width>=f?d.width!==p&&(_=y+Math.abs((d.width-f)/2)):d.width<f&&y>p/2-p/4&&d.right<p/2+p/4?_=y-Math.abs((d.width-f)/2):d.width<f&&y>f&&(_=y-(f-d.width));const M=b-10-_-f;if(M<0&&(_-=M*-1),c){const B=(v-p)/2,R=Math.max(g+B-12,8),U=Math.min(g+B+p-f+12,b-f-8);d.width===p?_=y-12:_=y+(d.width-f)/2,_=Math.min(U,Math.max(_,R))}return{left:_,top:C}}h(a,"calculateToolbarPosition");function s(l){let{toolbarHeight:o,toolbarRect:f}=l;if(!f)return;const r=o+n;return f.top<r?t.BOTTOM:t.TOP}h(s,"calculateToolbarPositioning")},w5j6:function(J,i,e){"use strict";e.d(i,"b",function(){return l}),e.d(i,"c",function(){return o}),e.d(i,"a",function(){return m});var n=e("SQ0V"),t=e("s4P+"),a=e("dYsn"),s=e("SJuT");const l=Object(n.c)("Remove message eligible for unsending",c=>{c(Object(s.a)({messageEligibleForUnsending:null}))});l.meta={name:"createThunk",key:"createThunkremoveMessageEligibleForUnsending",description:"Remove message eligible for unsending"};const o=Object(n.c)("Update message eligible for unsending",(c,u,d)=>{let{channelId:p,threadTs:v,expiryTs:g}=d;c(Object(s.a)({messageEligibleForUnsending:{channelId:p,threadTs:v,expiryTs:g}}))});o.meta={name:"createThunk",key:"createThunkupdateMessageEligibleForUnsending",description:"Update message eligible for unsending"};const f=Object(n.c)("Add messages that were unsent while pending to redux",(c,u,d)=>{let{messagesToDelete:p}=d;c(Object(s.b)({messagesToDelete:p}))});f.meta={name:"createThunk",key:"createThunkupdateMessagesToDelete",description:"Add messages that were unsent while pending to redux"};const r=Object(n.c)("Add messages that were unsent while pending to redux",(c,u,d)=>{let{clientMsgId:p}=d;const v=u(),g=Object(a.c)(v);c(Object(s.b)({messagesToDelete:g.filter(O=>O!==p)}))});r.meta={name:"createThunk",key:"createThunkremoveDeletedMessageId",description:"Add messages that were unsent while pending to redux"};const m=Object(n.c)("Maybe add messages that were unsent while pending to redux",(c,u,d)=>{let{isPending:p,clientMsgId:v}=d;if(p&&v){const g=Object(t.a)({getState:u}),O=u(),b=Object(a.c)(O),y=v;b.includes(y)||(g.info("UNDO-SEND-MESSAGE-STORE",`Adding pending message to store with client message ID: ${v}`),b.push(v),c(f({messagesToDelete:b})))}});m.meta={name:"createThunk",key:"createThunkmaybeUpdateMessagesToDeleteWithMessage",description:"Maybe add messages that were unsent while pending to redux"}},wFOH:function(J,i,e){"use strict";e.d(i,"a",function(){return d});var n=e("bPB8"),t=e("zmn3"),a=e("okoL"),s=e("1myf"),l=e("uXhx"),o=e("vPIQ"),f=e("6CnZ"),r=e("UIhb"),m=e("y8dB"),c=e("+l5E"),u=e("6Mvn");function d(p,v){const g=Object(f.j)(p,v);if(!g||!g.timestamps)return null;const O=Object(r.a)(p,v),b=Object(m.a)(Object(n.a)(Object(t.a)(g.timestamps,C=>O[C]))),y=Object(a.a)(Object(s.a)(Object(l.a)(b.messages,c.fb),"ts"),5);return Object(o.a)(y,C=>Object(u.a)(p,C))}h(d,"getLastMessageInChannel")},wNt4:function(J,i,e){"use strict";e.d(i,"a",function(){return p});var n=e("9oTK"),t=e.n(n),a=e("q1tI"),s=e.n(a),l=e("SQ0V"),o=e("s4P+"),f=e("j/ar"),r=e("LaOi"),m=e("3l96"),c=e("W9RG"),u=e("yHsb"),d=e("+HIp");const p=Object(l.c)("Handle a user clicking on an identity link",function(){var v=Object(n.coroutine)(function*(g,O,b){let{url:y,channelId:C}=b;const _=Object(o.a)({getState:O}),j=Object(f.c)(O(),y),E=Object(f.d)(O(),y),M=Object(c.g)(O());if(!Object(f.e)(O(),y)){window.open(y,"_blank","noopener,noreferrer");return}if(!j){_.error(`error getting appId for domain: ${E}`,y),window.open(y,"_blank","noopener,noreferrer");return}const T=Object(d.b)(O(),j);if(!M||T){window.open(y,"_blank","noopener,noreferrer");return}if(Object(d.a)(O(),j)){g(Object(u.b)({appId:j,url:y,channelId:C,domain:E}));return}if(Object(d.c)(O(),j)===null){g(Object(m.a)({element:s.a.createElement(r.a,{appId:j,domain:E,url:y,channelId:C}),isStackable:!0}));return}window.open(y,"_blank","noopener,noreferrer")});return function(g,O,b){return v.apply(this,arguments)}}());p.meta={name:"createThunk",key:"createThunkhandleIdentityTransferLinkClick",description:"Handle a user clicking on an identity link"}},wQZu:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("q1tI"),t=e.n(n);const a=t.a.createContext({})},wRRE:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("C3vN"),l=e("Fn/R"),o=e("ehcD"),f=e("ny0b"),r=e("xwCZ"),m=e("LvvF"),c=e("BHdc"),u=e("SNS2"),d=e("n3y5");const p=24,v="c-base_icon_image_stacked__image c-base_icon_image_stacked__image--top",g="c-base_icon_image_stacked__svg";function O(M){let{primaryImage:T,secondaryImage:P,primaryIsHiddenUser:B,secondaryIsHiddenUser:R,className:U,ariaHidden:K}=M,V;return P?V=t.a.createElement("image",{clipPath:"url(#c-base_icon_image_stacked__clip)",width:p,height:p,xlinkHref:P,"data-qa":"image-secondary"}):V=t.a.createElement("rect",{className:"c-base_icon_image_stacked__image--missing",clipPath:"url(#c-base_icon_image_stacked__clip)",width:p,height:p,"data-qa":"image-secondary"}),t.a.createElement("div",{"aria-hidden":K,className:Object(c.default)("c-base_icon_image_stacked",U)},R?t.a.createElement(u.a,{"data-qa":"image-secondary",className:g,size:p}):t.a.createElement("svg",{className:g,height:p,width:p,"aria-hidden":"true"},t.a.createElement("clipPath",{id:"c-base_icon_image_stacked__clip"},t.a.createElement("path",{d:"M0,0 L28,0 L28,10 L16,10 C13,10 10,13 10,16 L10,28 L0,28 L0,0 Z"})),V,t.a.createElement("path",{className:"c-base_icon_image_stacked__svg_stroke",d:"M10,23.5 L5,23.5 C2,23.5 0.5,22 0.5,20 L0.5,3.5 C0.5,2 2,0.5 3.5,0.5 L20.5,0.5 C22,0.5 23.5,2 23.5,3.5 L23.5,10"})),B?t.a.createElement(u.a,{"data-qa":"image-primary",className:v,size:p}):t.a.createElement(d.a,{image:T,classes:v,size:p,ariaHidden:!0,"data-qa":"image-primary"}))}h(O,"ImageStackedBaseIcon"),O.displayName="ImageStackedBaseIcon";var b=O;function y(M){return M?Object(f.a)({avatarHash:Object(s.f)(M),memberId:M.id,size:p,teamOrEnterpriseId:Object(l.a)(M)?Object(o.d)(M):Object(o.e)(M)}).imageUrl:void 0}h(y,"getMemberImage");function C(M){let{className:T,primaryMember:P,primaryIsHiddenUser:B,secondaryMember:R,secondaryIsHiddenUser:U}=M;const K=P&&y(P),V=R&&y(R);return t.a.createElement(b,{className:T,primaryImage:K,secondaryImage:V,primaryIsHiddenUser:B??!1,secondaryIsHiddenUser:U??!1})}h(C,"FaceStack"),C.displayName="FaceStack";function _(M,T){let{primaryMemberId:P,secondaryMemberId:B}=T;return{primaryMember:Object(r.g)(M,P),secondaryMember:Object(r.g)(M,B),primaryIsHiddenUser:Object(m.b)(M,P),secondaryIsHiddenUser:Object(m.b)(M,B)}}h(_,"mapStateToProps");const j=Object(a.a)(_)(C);var E=i.a=j},wTse:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n);i.a=t.a.createContext({})},wf34:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("nNoG"),l=e("v5z3"),o=e("ktUG"),f=e("Trx9"),r=e("zonX"),m=e("rZ8V"),c=e("zxER"),u=e("vSLz"),d=e("B4rO");const p=new s.b("setup_page"),v=h(O=>{let{tip:b,isSPFNonWorkWorkspace:y}=O;const C={[l.f.AtMention]:y?p.rt("<strong>Get someone\u2019s attention</strong>, Type \u201C@\u201D and a name, and they\u2019ll get a notification about your message.",{fallbackHash:"1007ed272ca74dd3d9d88ddc91cf582be3dcc88c"}):p.rt("<strong>Get a coworker\u2019s attention</strong>, Type \u201C@\u201D and a name, and they\u2019ll get a notification about your message.",{fallbackHash:"0eae88de2aca1dc92c184ca6f19ece9ab56f576f"}),[l.f.Reacji]:p.rt("<strong>Give a quick reaction.</strong> Like \u2795 for something you agree with, or \u2705 to approve an idea.")},_=Object(c.c)(m.n),j=Object(c.c)(d.a);Object(r.a)(b,l.g.Explainer);const E=Object(n.useMemo)(()=>({eventId:o.EventId.NEWXP_TEAM_CREATE,uiStep:o.UiStep.PROG_DISC_TIP,stepVariant:b,elementName:l.g.Explainer,clogImpression:!0}),[b]);return _&&j?t.a.createElement(u.a,{autoClogProps:E,className:Object(a.default)(`p-setup_prog_disc_message_menu_explainer_tip--${b}`,{"p-setup_prog_disc_message_menu_explainer_tip--ia4":_}),"data-qa":`explainer_tip--${b}`},C[b]):t.a.createElement(f.a,{eventId:o.EventId.NEWXP_TEAM_CREATE,uiStep:o.UiStep.PROG_DISC_TIP,stepVariant:b,elementName:l.g.Explainer,clogImpression:!0},t.a.createElement("div",{className:Object(a.default)("p-setup_prog_disc_message_menu_explainer_tip",`p-setup_prog_disc_message_menu_explainer_tip--${b}`,{"p-setup_prog_disc_message_menu_explainer_tip--ia4":_}),"data-qa":`explainer_tip--${b}`},C[b]))},"ProgressiveDisclosureMessageMenuExplainerTip");v.displayName="ProgressiveDisclosureMessageMenuExplainerTip";var g=i.a=v},wmqn:function(J,i,e){"use strict";e.d(i,"b",function(){return t}),e.d(i,"c",function(){return a}),e.d(i,"a",function(){return s});var n=e("DwFS");const t=Object(n.a)("Set whether we are fetching the sections for a canvas");t.meta={name:"createAction",key:"createActionsetIsFetchingHighlightedSections",description:"Set whether we are fetching the sections for a canvas"};const a=Object(n.a)("Update the array of highlighted sections");a.meta={name:"createAction",key:"createActionupdateHighlightedSections",description:"Update the array of highlighted sections"};const s=Object(n.a)("Mark all sections seen and not count towards the pill");s.meta={name:"createAction",key:"createActionmarkAllSectionsSeen",description:"Mark all sections seen and not count towards the pill"}},wnwS:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc"),s=e("yH2S"),l=e("NV6F"),o=e("Tevt"),f=e("NNLN"),r=e("UahF"),m=e("zxER"),c=e("/MKj"),u=e("Tsh7"),d=e("3l96"),p=e("Atq3");const v=h(C=>{const _=new Date(C),j=_.getMinutes(),E=j%15;return E<8?_.setMinutes(j-E):_.setMinutes(j+(15-E)),_.setSeconds(0),_.setMilliseconds(0),_.getTime()/1e3},"roundToNearest15Minutes");function g(C){let{children:_}=C;const j=Object(n.useContext)(f.a),E=Object(m.c)(B=>j.ts?Object(r.a)(B,j.ts):void 0),M=Object(c.useDispatch)(),T=Object(n.useCallback)(()=>{M(Object(d.a)({element:Object(l.A)({channelId:j==null?void 0:j.channelId,appType:"gcal",threadTs:j==null?void 0:j.threadTs,isProfileAppView:!1})}))},[M,j==null?void 0:j.channelId,j==null?void 0:j.threadTs]),P=Object(n.useCallback)(()=>{if(E!=null&&E.contextType)switch(E==null?void 0:E.contextType){case"create_event":if(!(E!=null&&E.createEventPayload)){T();break}if(!(E!=null&&E.createEventPayload.start_date)){T();break}if(!(E!=null&&E.createEventPayload.title)){T();break}M(Object(d.a)({element:Object(l.A)({channelId:j==null?void 0:j.channelId,appType:"gcal",threadTs:j==null?void 0:j.threadTs,presetDate:new Date(E==null?void 0:E.createEventPayload.start_date).toISOString().split("T")[0],presetStartTime:v(E==null?void 0:E.createEventPayload.start_date),presetTitle:E==null?void 0:E.createEventPayload.title,isProfileAppView:!1})}));break;case"view_schedule":if(!(E!=null&&E.viewSchedulePayload)||!(E!=null&&E.viewSchedulePayload.start_time)||!(E!=null&&E.viewSchedulePayload.date)){T();break}M(Object(d.a)({element:Object(l.A)({channelId:j==null?void 0:j.channelId,appType:"gcal",threadTs:j==null?void 0:j.threadTs,presetDate:new Date(E==null?void 0:E.viewSchedulePayload.date).toISOString().split("T")[0],presetStartTime:v(E==null?void 0:E.viewSchedulePayload.start_time),isProfileAppView:!1})}));break;case"find_a_time":if(!(E!=null&&E.findATimePayload)){T();break}if(!(E!=null&&E.findATimePayload.duration)){T();break}break;case"describe_knowledgebase":break;default:Object(p.a)(E==null?void 0:E.contextType)}},[E,M,j==null?void 0:j.channelId,j==null?void 0:j.threadTs,T]);return t.a.createElement(u.d,{tip:E==null?void 0:E.debugPayload},t.a.createElement(o.a,{className:"p-assistant_thread_ambient_suggestion","data-qa":"assistant-thread-ambient-suggestion",onClick:P},_))}h(g,"AssistantThreadAmbientSuggestion"),g.displayName="AssistantThreadAmbientSuggestion";var O=t.a.memo(g);const b=h(C=>{let{children:_,style:j}=C;if(!_)return null;const{bold:E,italic:M,strike:T,code:P,clientHighlight:B,subjectLine:R,noLeftCap:U,noRightCap:K}=j||{},{workflowSuggestionHighlight:V,workflowSuggestionKey:z,slackAssistantAmbientSuggestion:N,slackAssistantAmbientSuggestionKey:A}=j||{};let x=_;if(T&&(x=t.a.createElement("s",{"data-stringify-type":"strike"},x)),M&&(x=t.a.createElement("i",{"data-stringify-type":"italic"},x)),E&&!R&&(x=t.a.createElement("b",{"data-stringify-type":"bold"},x)),B&&(x=t.a.createElement("span",{className:"c-mrkdwn__highlight"},x)),V){const k=Object(l.k)();x=t.a.createElement(k,{workflowSuggestionKey:z},x)}if(N&&(x=t.a.createElement(O,{suggestion:A},x)),P){const k=Object(a.default)("c-mrkdwn__code",{"c-mrkdwn__code--no_left_cap":U,"c-mrkdwn__code--no_right_cap":K});x=t.a.createElement(s.a,{blockType:"code"},t.a.createElement(s.b,null,t.a.createElement("code",{"data-stringify-type":"code",className:k},x)))}return t.a.createElement(t.a.Fragment,null,x)},"WithFormattingStyles");b.displayName="WithFormattingStyles";var y=i.a=b},wr1M:function(J,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return a}),e.d(i,"e",function(){return s}),e.d(i,"d",function(){return l}),e.d(i,"c",function(){return o});var n=e("jmOL");const t={"*":"bold",_:"italic","`":"code","~":"strike",">":"blockquote","\uFF0A":"bold","\uFF40":"code","\uFF3F":"italic","\uFF1E":"blockquote"},a={"*":n.c,_:n.e,"`":n.d,"~":n.f,"\uFF0A":n.g,"\uFF40":n.h,"\uFF3F":n.a},s=/^>>> ?/m,l=/^\uFF1E\uFF1E\uFF1E ?/m,o=/^[>\uFF1E]($| |(?=[^_]))/},wyn0:function(J,i,e){"use strict";e.d(i,"a",function(){return t});var n=e("ZTSm");class t{hasDuplicates(s){const l=s?this.channelNameCounts.get(s):void 0;return l?l>1:!1}constructor(s){this.channelNameCounts=s.filter(n.a).reduce((l,o)=>{var f;return l.set(o,((f=l.get(o))!==null&&f!==void 0?f:0)+1),l},new Map)}}h(t,"ChannelNameCounter")},x3iO:function(J,i,e){"use strict";var n=e("bPB8"),t=e("zmn3"),a=e("G4qV"),s=e("dmdh"),l=e("BBdC"),o=e("vUys"),f=e("4gSQ"),r=e("0UjO"),m=e("AyK6");const c=[],u=Object(a.a)([(d,p)=>{let{draftId:v}=p;return Object(o.a)(d,v)},(d,p)=>Object(m.a)(d),(d,p)=>Object(s.b)(d),(d,p)=>Object(r.a)(d),(d,p)=>{let{draft:v}=p;const g=Object(l.a)(v);return g==null||g.forEach(O=>Object(s.e)(d,O,!0)),g}],function(d,p,v,g){let O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];const b=Object(n.a)(Object(t.a)(d,E=>p==null?void 0:p[E]));var y;const j=[...Object(n.a)(Object(t.a)(O,E=>Object(f.b)((y=v==null?void 0:v[E])!==null&&y!==void 0?y:{id:E,isUnknown:!0},g[E]))).filter(E=>!b.find(M=>M.persistedFileId===E.persistedFileId)),...b];return j.length===0?c:j},{memoizeOptions:{maxSize:2}});i.a=u},x5Qe:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("gSGL"),t=e("P1FA");function a(s){return Object(n.a)(s)?Object(t.a)((s||"").trim().toLowerCase()):""}h(a,"normalize")},xAZW:function(J,i,e){"use strict";e.d(i,"a",function(){return Fe});var n=e("mM05"),t=e.n(n),a=e("gSGL"),s=e("m8R6"),l=e("fujP"),o=e("IzLi"),f=e("8QLk"),r=e("TQ9f"),m=e("htTJ"),c=e("Z44y"),u=e("5SjC"),d=e("tfz1"),p=e("rneN");const v="block-formatter";var g=e("s4P+"),O=e("4WY+"),b=e("eHe6"),y=e("oonp"),C;(function(je){je.BulletList="bullet-list",je.OrderedList="ordered-list",je.CodeBlock="code-block",je.BlockQuote="blockquote"})(C||(C={}));function _(je){return je===C.BulletList||je===C.OrderedList||je===C.CodeBlock||je===C.BlockQuote}h(_,"stringIsBlockFormat");const j={[C.OrderedList]:O.c,[C.BulletList]:O.d,[C.CodeBlock]:b.a,[C.BlockQuote]:y.b};function E(je){const _e=[C.BulletList,C.OrderedList,C.CodeBlock,C.BlockQuote],pe={[C.BulletList]:!1,[C.OrderedList]:!1,[C.CodeBlock]:!1,[C.BlockQuote]:!1};return _e.forEach(fe=>{const Ee=j[fe];Ee(je)&&(pe[fe]=!0)}),pe}h(E,"getBlockFormatsOfLine");var M=e("CpTu"),T=e("yIs4"),P=e("OZf9"),B=e("KCKY"),R=e("RQuH"),U=e("c8Bs"),K=e("kiyg");function V(je,_e,pe){const fe=j[pe],Ee=Object(K.a)(je,_e);return!Object(U.a)(Ee,Te=>fe(Te))}h(V,"shouldAddBlockFormattingToRange");function z(je){var _e;const pe=je==null||(_e=je.cache)===null||_e===void 0?void 0:_e.length;return!pe||!Object(T.a)(pe)?null:pe}h(z,"getLineLength");function N(je,_e){if(!je||!_e)return null;const pe=je.getIndex(_e),fe=z(_e);return!Object(T.a)(pe)||!Object(T.a)(fe)||pe<-1||fe<-1?null:{index:pe,length:fe}}h(N,"getLineRange");function A(je,_e){const pe=E(_e),fe=pe[C.BlockQuote],Ee=pe[C.OrderedList]||pe[C.BulletList],ye=pe[C.CodeBlock];if(fe)return;const Te=N(je,_e);if(!Te){Object(g.b)().error("setBlockQuoteOnLine: cannont determine range for line");return}if(Ee||ye){je.formatLine(Te==null?void 0:Te.index,Te==null?void 0:Te.length,"border","1");return}je.formatLine(Te==null?void 0:Te.index,Te==null?void 0:Te.length,"blockquote",!0)}h(A,"setBlockQuoteOnLine");function x(je,_e){var pe;const fe=E(_e),Ee=fe[C.BlockQuote],ye=fe[C.OrderedList]||fe[C.BulletList],Te=fe[C.CodeBlock];if(!Ee)return;const Oe=N(je,_e);if(!Oe){Object(g.b)().error("removeBlockQuoteOnLine: cannont determine range for line");return}if(ye||Te){je.formatLine(Oe==null?void 0:Oe.index,Oe==null?void 0:Oe.length,"border","0");return}je.formatLine(Oe==null?void 0:Oe.index,Oe==null?void 0:Oe.length,"blockquote",!1),!((pe=je.getFormat(Oe))===null||pe===void 0)&&pe.border&&je.formatLine(Oe==null?void 0:Oe.index,Oe==null?void 0:Oe.length,"border","0")}h(x,"removeBlockQuoteOnLine");function k(je,_e,pe){pe?A(je,_e):x(je,_e)}h(k,"toggleBlockQuoteOnLine");function F(je,_e,pe){pe?L(je,_e):S(je,_e)}h(F,"toggleCodeBlockOnLine");function L(je,_e){const pe=E(_e),fe=pe[C.CodeBlock],Ee=pe[C.OrderedList]||pe[C.BulletList],ye=pe[C.BlockQuote];if(fe)return;const Te=N(je,_e);if(!Te){Object(g.b)().error("setCodeBlockOnLine: cannont determine range for line");return}if(ye&&!Ee){je.formatLine(Te.index,Te.length,{blockquote:!1,border:"1","code-block":!0});return}const Oe=je.getFormat(Te),Ce=(Oe==null?void 0:Oe.border)>0?Oe.border:void 0;je.formatLine(Te.index,Te.length,{"code-block":!0,border:Ce})}h(L,"setCodeBlockOnLine");function S(je,_e){const pe=E(_e),fe=pe[C.CodeBlock],Ee=pe[C.BlockQuote];if(!fe)return;const ye=N(je,_e);if(!ye){Object(g.b)().error("removeCodeBlockOnLine: cannont determine range for line");return}if(Ee){je.formatLine(ye.index,ye.length,{border:"0",blockquote:!0});return}je.formatLine(ye==null?void 0:ye.index,ye==null?void 0:ye.length,"code-block",!1)}h(S,"removeCodeBlockOnLine");function I(je,_e){const pe=E(_e),fe=pe[C.OrderedList],Ee=pe[C.BulletList],ye=pe[C.CodeBlock],Te=pe[C.BlockQuote];if(fe)return;const Oe=N(je,_e);if(!Oe){Object(g.b)().error("setOrderedListOnLine: cannont determine range for line");return}if(Te&&!Ee&&!ye){je.formatLine(Oe.index,Oe.length,{blockquote:!1,border:"1",list:"ordered"});return}const Ce=je.getFormat(Oe),ce=(Ce==null?void 0:Ce.border)>0?Ce.border:void 0;je.formatLine(Oe.index,Oe.length,{list:"ordered",border:ce})}h(I,"setOrderedListOnLine");function W(je,_e){const pe=E(_e),fe=pe[C.OrderedList],Ee=pe[C.BlockQuote];if(!fe)return;const ye=N(je,_e);if(!ye){Object(g.b)().error("removeOrderedListOnLine: cannont determine range for line");return}if(Ee){je.formatLine(ye.index,ye.length,{border:0,indent:0,blockquote:!0});return}je.formatLine(ye==null?void 0:ye.index,ye==null?void 0:ye.length,"list",!1)}h(W,"removeOrderedListOnLine");function D(je,_e,pe){pe?I(je,_e):W(je,_e)}h(D,"toggleOrderedListOnLine");function H(je,_e){const pe=E(_e),fe=pe[C.BulletList],Ee=pe[C.OrderedList],ye=pe[C.CodeBlock],Te=pe[C.BlockQuote];if(fe)return;const Oe=N(je,_e);if(!Oe){Object(g.b)().error("setUnorderedListOnLine: cannont determine range for line");return}const Ce=je.getFormat(Oe);if(Te&&!Ee&&!ye){je.formatLine(Oe.index,Oe.length,{blockquote:!1,border:"1",list:"bullet"});return}const ce=(Ce==null?void 0:Ce.border)>0?Ce.border:void 0;je.formatLine(Oe.index,Oe.length,{list:"bullet",border:ce})}h(H,"setUnorderedListOnLine");function Z(je,_e){const pe=E(_e),fe=pe[C.BulletList],Ee=pe[C.BlockQuote];if(!fe)return;const ye=N(je,_e);if(!ye){Object(g.b)().error("removeUnorderedListOnLine: cannot determine range for line");return}if(Ee){je.formatLine(ye.index,ye.length,{border:0,indent:0,blockquote:!0});return}je.formatLine(ye==null?void 0:ye.index,ye==null?void 0:ye.length,"list",!1)}h(Z,"removeUnorderedListOnLine");function G(je,_e,pe){pe?H(je,_e):Z(je,_e)}h(G,"toggleUnorderedListOnLine");function te(je,_e,pe,fe){fe===C.BlockQuote?k(je,_e,pe):fe===C.OrderedList?D(je,_e,pe):fe===C.BulletList?G(je,_e,pe):fe===C.CodeBlock&&F(je,_e,pe)}h(te,"toggleBlockFormatOnLine");function se(je,_e,pe,fe){Object(K.a)(je,_e).forEach(ye=>{te(je,ye,pe,fe)})}h(se,"toggleBlockFormatOverRange");let $=h(class{shouldAddOrRemoveBlockFormattingToRange(){return V(this.quill,this.selectionRange,this.selfBlockFormat)}addLineFormatActionsForSelection(){this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex,this.endOfSelectionLineIndex,()=>!0,_e=>{let{currentLineIndex:pe}=_e;this.addFormatAction(pe,this.selfBlockFormat,this.isAddingFormatting)})}setAllLineFormattingActions(){this.addLineFormatActionsForSelection(),this.logger.debug("block-formatter -- added lineFormatActions",this.formatActions)}formatSelection(){return this.setAllLineFormattingActions(),Object(P.a)(this.formatActions,(_e,pe)=>{if(!_e||Object(l.a)(_e.orderedFormatActions))return;const fe=N(this.quill,this.lines[pe]),Ee=[];_e.orderedFormatActions.forEach((ye,Te)=>{Te===0?te(this.quill,this.lines[pe],ye.isAdding,ye.blockFormat):(Ee[Te]||(Ee[Te]=[]),Ee[Te].push(()=>{se(this.quill,fe,ye.isAdding,ye.blockFormat)}))}),Ee.forEach(ye=>{ye!=null&&ye.length&&(ye==null?void 0:ye.length)>0&&setTimeout(()=>Object(B.a)(ye)(),0)})}),{addedFormatting:this.isAddingFormatting}}getLineIndexOfSelectionStartAndEnd(){const _e=this.selectionRange.index,pe=this.selectionRange.index+this.selectionRange.length,fe={};this.lines.forEach((Oe,Ce)=>{const ce=N(this.quill,Oe),he=ce.index,Me=ce.index+ce.length;Object(R.a)(_e,he,Me)&&(fe.selectionStartLineIndex=Ce),Object(R.a)(pe,he,Me)&&(fe.selectionEndLineIndex=Ce)});const Ee=Object(T.a)(fe==null?void 0:fe.selectionStartLineIndex)&&Object(T.a)(fe.selectionEndLineIndex),ye=(fe==null?void 0:fe.selectionStartLineIndex)<=(fe==null?void 0:fe.selectionEndLineIndex);return Ee&&ye||this.logger.error("getLineIndexOfSelectionStartAndEnd invalid return value",fe),fe}forLineFromIndexToIndexWhile(_e,pe,fe,Ee){if(_e<0||pe>=this.lines.length)return;const ye=h(he=>_e<pe?he+1:he-1,"getNextIndex"),Te=h(he=>_e<pe?he-1:he+1,"getPreviousIndex"),Oe=h(he=>{const Me=he,xe={currentLine:this.lines[he],currentLineIndex:Me},Re=Te(he);Object(R.a)(Re,0,this.lines.length)&&(xe.previousLineIndex=Re,xe.previousLine=this.lines[Re]);const Ge=ye(he);return Object(R.a)(Ge,0,this.lines.length)&&(xe.nextLineIndex=Ge,xe.nextLine=this.lines[Ge]),xe},"getLineContextFromIndex");if(_e===pe){fe({currentLine:this.lines[_e],currentLineIndex:_e})&&Ee(Oe(_e));return}const Ce=h(he=>_e<pe?he<=pe:he>=pe,"moreLinesToIterateOver");let ce=_e;for(;Ce(ce)&&!(ce<0||ce>=this.lines.length);){const he=Oe(ce);if(!fe(he))break;Ee(he),ce=ye(ce)}}addFormatAction(_e,pe,fe){this.formatActions[_e].formatActionsMap[pe]!==fe&&(this.formatActions[_e].formatActionsMap[pe]=fe,this.formatActions[_e].orderedFormatActions.push({isAdding:fe,blockFormat:pe}))}constructor(_e,pe){this.formatActions=[],this.logger=Object(g.b)({label:v}),this.quill=_e,this.selectionRange=_e.getSelection(),this.lines=_e.getLines(),this.lines.forEach((Ee,ye)=>{this.formatActions[ye]={orderedFormatActions:[],formatActionsMap:{}}}),this.selfBlockFormat=pe,this.selfFormatIdentifier=j[this.selfBlockFormat];const fe=this.getLineIndexOfSelectionStartAndEnd();this.startOfSelectionLineIndex=fe.selectionStartLineIndex,this.endOfSelectionLineIndex=fe.selectionEndLineIndex,this.isAddingFormatting=this.shouldAddOrRemoveBlockFormattingToRange()}},"BlockFormatter"),X=h(class extends ${addLineFormatActionsThatBleedInFromAboveAndBelow(){const _e=h(fe=>{let{currentLine:Ee,currentLineIndex:ye}=fe;return ye>=this.startOfSelectionLineIndex&&ye<=this.endOfSelectionLineIndex||this.selfFormatIdentifier(Ee)},"whileFunction"),pe=h(fe=>{let{currentLineIndex:Ee,previousLineIndex:ye}=fe;this.lineHasGreedyWhenAddingFormatOrPendingGreedyFormat(ye)&&this.greedyFormatWhenAdding&&this.addFormatAction(Ee,this.greedyFormatWhenAdding,!0)},"lineCallback");this.startOfSelectionLineIndex>0&&this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex-1,this.lines.length-1,_e,pe),this.endOfSelectionLineIndex<this.lines.length-1&&this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex+1,0,_e,pe)}setAllLineFormattingActions(){this.addLineFormatActionsThatBleedInFromAboveAndBelow(),this.logger.debug("non-greedy-block-formatter -- added lineFormatActions",this.formatActions),super.setAllLineFormattingActions()}lineHasGreedyWhenAddingFormat(_e){return!_e||!this.greedyFormatWhenAdding?!1:j[this.greedyFormatWhenAdding](_e)}lineHasGreedyWhenAddingFormatOrPendingGreedyFormat(_e){return!Object(T.a)(_e)||!this.greedyFormatWhenAdding?!1:this.lineHasGreedyWhenAddingFormat(this.lines[_e])||!!this.formatActions[_e].formatActionsMap[this.greedyFormatWhenAdding]}constructor(_e,pe,fe){super(_e,pe),this.greedyFormatWhenAdding=fe===C.BlockQuote?fe:void 0}},"NonGreedyBlockFormatter"),q=h(class extends X{removeListAboveAndBelowIfSelectionHasPreservedFormat(){const _e=h(fe=>{let{currentLine:Ee}=fe;return this.selfFormatIdentifier(Ee)&&this.lineHasPreservedFormatForList(Ee)},"whileFunction"),pe=h(fe=>{let{currentLineIndex:Ee}=fe;this.addFormatAction(Ee,this.selfBlockFormat,!1)},"lineCallback");this.startOfSelectionLineIndex>0&&this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex-1,0,_e,pe),this.endOfSelectionLineIndex<this.lines.length-1&&this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex+1,this.lines.length-1,_e,pe)}addListAboveAndBelowIfSelectionHasPreservedFormat(){const _e=h(fe=>{let{currentLine:Ee}=fe;return this.lineOnlyHasPreservedFormatForList(Ee)},"whileFunction"),pe=h(fe=>{let{currentLineIndex:Ee}=fe;this.addFormatAction(Ee,this.selfBlockFormat,!0)},"lineCallback");this.startOfSelectionLineIndex>0&&this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex-1,0,_e,pe),this.endOfSelectionLineIndex<this.lines.length-1&&this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex+1,this.lines.length-1,_e,pe)}setAllLineFormattingActions(){this.isAddingFormatting?this.addListAboveAndBelowIfSelectionHasPreservedFormat():this.removeListAboveAndBelowIfSelectionHasPreservedFormat(),this.logger.debug("list-block-formatter -- added lineFormatActions",this.formatActions),super.setAllLineFormattingActions()}lineHasPreservedFormatForList(_e){const pe=E(_e),fe=this.listWideFormatToPreserve;return!!pe[fe]}lineOnlyHasPreservedFormatForList(_e){const pe=E(_e),fe=this.listWideFormatToPreserve,Ee=!!pe[fe];if(!Ee)return!1;const ye=Object(M.a)(Object.keys(pe),Te=>Te!==fe&&pe[Te]);return Ee&&!ye}constructor(_e,pe,fe){super(_e,pe,fe),this.listWideFormatToPreserve=C.BlockQuote}},"ListBlockFormatter");class Y extends q{constructor(_e){super(_e,C.BulletList,C.BlockQuote)}}h(Y,"list_formatters_BulletListFormatter");class ee extends q{constructor(_e){super(_e,C.OrderedList,C.BlockQuote)}}h(ee,"list_formatters_OrderedListFormatter");class w extends X{constructor(_e){super(_e,C.CodeBlock,C.BlockQuote)}}h(w,"code_block_formatter_CodeBlockFormatter");let ne=h(class extends ${addLineFormatActionsThatBleedUpFromSelection(){if(this.startOfSelectionLineIndex===0)return;const _e=this.lines[this.startOfSelectionLineIndex],pe=this.getYieldingFormatOfLine(_e);if(!pe)return;const Ee=j[pe],ye=h(Oe=>{let{currentLine:Ce}=Oe;return Ee(Ce)},"whileFunctionUp"),Te=h(Oe=>{let{currentLineIndex:Ce}=Oe;this.addFormatAction(Ce,this.selfBlockFormat,this.isAddingFormatting)},"lineCallback");this.forLineFromIndexToIndexWhile(this.startOfSelectionLineIndex,0,ye,Te)}addLineFormatActionsThatBleedDownFromSelection(){if(this.endOfSelectionLineIndex===this.lines.length-1)return;const _e=this.lines[this.endOfSelectionLineIndex],pe=this.getYieldingFormatOfLine(_e);if(!pe)return;const Ee=j[pe],ye=h(Oe=>{let{currentLine:Ce}=Oe;return Ee(Ce)},"whileFunctionDown"),Te=h(Oe=>{let{currentLineIndex:Ce}=Oe;this.addFormatAction(Ce,this.selfBlockFormat,this.isAddingFormatting)},"lineCallback");this.forLineFromIndexToIndexWhile(this.endOfSelectionLineIndex,this.lines.length-1,ye,Te)}setAllLineFormattingActions(){this.addLineFormatActionsThatBleedUpFromSelection(),this.addLineFormatActionsThatBleedDownFromSelection(),this.logger.debug("greedy-block-formatter -- added lineFormatActions",this.formatActions),super.setAllLineFormattingActions()}getYieldingFormatOfLine(_e){const pe=E(_e),fe=this.isAddingFormatting?this.yieldingAddingFormats:this.yieldingRemovingFormats;let Ee;for(const ye of fe)if(pe[ye]){Ee=ye;break}return Ee}constructor(_e,pe,fe=[],Ee=[]){super(_e,pe),this.yieldingAddingFormats=fe,this.yieldingRemovingFormats=Ee}},"GreedyBlockFormatter");const ae=C.BlockQuote,de=[C.OrderedList,C.BulletList,C.CodeBlock],ge=[C.CodeBlock,C.OrderedList,C.BulletList];class le extends ne{constructor(_e){super(_e,ae,de,ge)}}h(le,"block_quote_formatter_QuotedBlockFormatter");function Q(je,_e){const pe=Object(g.b)({label:v}),fe=je.getSelection();if(!fe)return{didHandle:!1};if(!_(_e))return ie(_e);const ye={[C.BulletList]:Y,[C.OrderedList]:ee,[C.CodeBlock]:w,[C.BlockQuote]:le}[_e];if(!ye)return ie(_e);pe.debug(`attempting to apply ${_e} to user selection`);const Te=new ye(je),{addedFormatting:Oe}=Te.formatSelection();return{didHandle:!0,addedFormatting:Oe,hadSelection:fe.length>0}}h(Q,"applyBlockFormatToSelection");function ie(je){return Object(g.b)().error(`applyBlockFormattingToselection(): ${je} is not supported`),{didHandle:!1}}h(ie,"logUnsupportedBlockFormat");var oe=e("3yyz"),me=e("k2bd"),be=e("vIgB");const Se=h((je,_e,pe)=>{let fe={};const Ee=je.getContents(_e,pe);let ye=!1;const Te=[];let Oe=_e;for(const Ce of Ee.ops){const ce=Object(me.e)(Ce);if(Object(me.a)(Ce)&&(ce===be.d.SlackTypesRichText||ce===be.d.SlackTypesExpandedRichText))ye=!0;else{const he=Object(oe.a)(Ce);Te.push({index:Oe,length:he}),Oe+=he}}if(!ye)return fe;if(ye)for(const Ce of Te){const ce=Object(s.a)(je.getFormat(Ce.index,Ce.length),["indent"]);fe={...fe,...ce}}return fe},"getFormatAroundRichTextWft"),Pe={h1:{key:"header",value:1},h2:{key:"header",value:2},h3:{key:"header",value:3},"bullet-list":{key:"list",value:"bullet"},"ordered-list":{key:"list",value:"ordered"},"check-list":{key:"list",value:"unchecked"},"code-block":{key:"code-block",value:!0},blockquote:{key:"blockquote",value:!0},paragraph:{key:"paragraph",value:!0}};function Ue(je,_e){let{format:pe,index:fe,length:Ee}=_e,ye=0;if(!(pe==="code-block"||pe==="code"))return ye;let Te=fe,Oe=Ee;if(pe==="code-block"){const[he,Me]=je.getLine(fe);Te=fe-Me;let Ae=Me;if(fe+Ee>Te+he.length()){const[Re,Ge]=je.getLine(fe+Ee);Ae+=(Re==null?void 0:Re.length())-Ge}Oe=Ee+Ae}let Ce=!1;const ce=je.getContents(Te,Oe).map(he=>{if(Object(r.a)(he)&&!Object(a.a)(he.insert)){var Me,Ae;const Re=((Me=he.insert)===null||Me===void 0||(Ae=Me.slackemoji)===null||Ae===void 0?void 0:Ae.text)||"";return Ce=!0,ye=ye+Re.length-1,{insert:Re}}if(Object(m.c)(he)&&Object(a.a)(he.insert)){var xe;const Re=he.insert||"",Ge=((xe=he.attributes)===null||xe===void 0?void 0:xe.link)||"";return Ce=!0,ye=ye+Ge.length-Re.length,{insert:Ge}}return he});if(Ce){const he=new t.a;Te>0&&he.retain(Te),ce.forEach(Me=>{he.insert(Me.insert,Me.attributes)}),he.delete(Oe),je.updateContents(he)}return pe==="code-block"&&(Object(c.a)()?je.removeFormat(Te,Oe+ye):je.formatText(Te,Oe+ye,{strike:!1,italic:!1,bold:!1,link:void 0}),je.history.cutoff()),ye}h(Ue,"maybeAdaptDeltaForCode");function Fe(je,_e,pe){let{format:fe,index:Ee,length:ye}=_e,Te=Object(s.a)(je.getFormat(Ee,ye),["indent"]);const Oe=Se(je,Ee,ye);Object(l.a)(Oe)||(Te={...Te,...Oe});const Ce=Object(l.a)(Te)?!1:Te[fe],ce=Pe[fe]||void 0;let he=!Ce,Me=0;he&&(Me=Ue(je,{format:fe,index:Ee,length:ye}));let Ae=ye+Me;if(fe==="paragraph")return je.removeFormat(Ee,Ae),{didHandle:!0,addedFormatting:he,hadSelection:!1};if(ce&&Object(o.a)(ce)){if(!pe&&!Object(c.a)())return Q(je,fe);const Ge=ce.key,ze=ce.value,Ie=Object.keys(Te)[0],Ne=Object.values(Te)[0];if(he=!!(Ge!==Ie&&ze||Ie==="header"&&Ge==="header"&&ze!==Ne),Ae>0&&Ge==="code-block"&&!he){const Ke=je.getText(Ee+Ae-1,1),Ve=je.getFormat(Ee+Ae+1,1);Ke&&!Ve["code-block"]&&(Ae-=1)}return je.formatLine(Ee,Ae,{[Ge]:he?ze:!1}),{didHandle:!0,addedFormatting:he,hadSelection:Ae>0}}if(Ae>0){let Ge=Ee,ze=Ae;if(!Object(c.a)()){const $e=Object(p.a)(je.getContents(),{index:Ee,length:Ae},je.getFormat(Ee,Ae),{onlyAutoLinks:!0});Ge=$e.index,ze=$e.length}if(je.getFormat(Ge,ze)["code-block"])return{didHandle:!1};const Ne=je.getContents(Ge,ze),Ke=Ge+ze;let Ve=0;return Object(u.a)(Ne,($e,tt)=>{const qe=Object(oe.a)($e),ut=Ge+Ve;if(Ve+=qe,Object(d.a)(tt))return;const rt=Ke-ut,yt=Object(f.a)(qe,0,rt);yt===0||je.getFormat(ut,yt)["code-block"]||je.formatText(ut,yt,{[fe]:he})}),{didHandle:!0,addedFormatting:he,hadSelection:!0}}const xe=je.getSelection();return je.getFormat(xe||void 0)["code-block"]?{didHandle:!1}:(je.format(fe,he),{didHandle:!0,addedFormatting:he,hadSelection:!1})}h(Fe,"applyFormattingToSelection")},xHh6:function(J,i,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the Channel Details modal in client (noop)");t.meta={name:"createAction",key:"createActionopenAboutChannelModalCircular",description:"Triggers a side-effect that opens the Channel Details modal in client (noop)"},i.a=t},xJTX:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("gPPH"),s=e("wKGu"),l=e("ktUG"),o=e("Z2IC");function f(r){let{recording:m}=r;const c=Object(s.a)(),u=Object(o.a)(a.a),[d,p]=Object(n.useState)();Object(n.useEffect)(()=>{m||p(Object(a.a)())},[m]);const v=Object(n.useCallback)(b=>{let{step:y,sink:C,uiProperties:_}=b;c.track(l.EventId.AV_CAPTURE,{recording_session:u,recording_id:d,media_type:"video",...C,contexts:{ui_context:{ui_step:y,action:"impression",ui_properties:_}}})},[d,u,c]),g=Object(n.useRef)(!1);return Object(n.useEffect)(()=>{u&&d&&!g.current&&(g.current=!0,v({step:"initial_screen",uiProperties:{element_type:l.ElementType.MODAL}}))},[v,d,u,c]),Object(n.useEffect)(()=>{m&&v({step:"review",sink:{blur_enabled:m.blurEnabled,bg_img_enabled:m.bgImgEnabled},uiProperties:{element_type:l.ElementType.COMPONENT,element_name:"screen"}})},[v,d,u,c,m]),{clogButton:Object(n.useCallback)((b,y,C)=>{c.track(l.EventId.AV_CAPTURE,{...C,recording_session:u,recording_id:d,media_type:"video",contexts:{ui_context:{ui_step:y,action:"click",ui_properties:{element_type:"button",element_name:b}}}})},[d,u,c]),clogImpression:v}}h(f,"useVideoRecorderClogging"),i.a=f},xKHu:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("khnw"),t=e("8hJe");const a=h(s=>(s==null?void 0:s.keyCode)>=n.s&&s.keyCode<=n.l||(s==null?void 0:s.keyCode)>=n.h&&s.keyCode<=n.j||(s==null?void 0:s.key)===t.a.BACKSPACE||(s==null?void 0:s.key)===t.a.DASH||(s==null?void 0:s.key)===t.a.UNDERSCORE,"isAlphanumericOrCertainSpecialCharacters")},xPkT:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("BHdc");const s=h((u,d)=>{const p=[],v=(u.length-1)/(d-1);for(let g=0;g<d;g++){const O=g*v,b=Math.floor(O),y=Math.min(u.length-1,Math.ceil(O)),C=O-b,_=u[y]*C+u[b]*(1-C);p.push(_)}return p},"upsampleWaveform"),l=h((u,d)=>{const p=[],v=u.length/d;for(let g=0;g<d;g++){const O=g*v,b=Math.max(0,Math.round(O)),y=Math.min(u.length,Math.round(O+v));let C=0;for(let _=b;_<y;_++)C+=u[_]**2;p.push(Math.sqrt(C/(y-b)))}return p},"downsampleWaveform"),o=h((u,d)=>u.length===0||d<=0||Math.floor(d)!==d||u.length===d?u:u.length>d?l(u,d):s(u,d),"sampleWaveform"),f=34,r=6,m=h(u=>{let{data:d,width:p,highlight:v,className:g,style:O,minHeight:b=r}=u;const[y,C]=Object(n.useState)(d);Object(n.useEffect)(()=>{C(o(d,p))},[d,p]);const _=h((j,E)=>{if(!v)return!1;switch(v.mode){case"data":return j>=0;case"before":return E<v.index;default:return!1}},"shouldHighlight");return t.a.createElement("div",{className:Object(a.default)("p-audio_waveform",g),style:O},y.map((j,E)=>{const M=_(j,E);return t.a.createElement("div",{className:Object(a.default)("p-audio_waveform__dot",{"p-audio_waveform__dot--highlight":M,[`p-audio_waveform__dot--${v==null?void 0:v.color}`]:M&&(v==null?void 0:v.color)}),style:{height:Math.min(b+j*f,f)},key:E})}))},"AudioWaveform");m.displayName="AudioWaveform";var c=i.a=m},xXOU:function(J,i,e){"use strict";e.d(i,"a",function(){return m}),e.d(i,"b",function(){return u});var n=e("q1tI"),t=e.n(n),a=e("2mql"),s=e.n(a),l=e("mLC8"),o=e("dlyp");function f(){return f=Object.assign||function(d){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(d[g]=v[g])}return d},f.apply(this,arguments)}h(f,"_extends");function r(){return(d,p,v,g,O,b,y)=>{var C;const _=(performance==null?void 0:performance.timeOrigin)||(performance==null||(C=performance.timing)===null||C===void 0?void 0:C.navigationStart);_&&l.d.addSpanToAutoTraces({type:o.b.React,spanName:`react:<${d}>.render`,additionalSpanOptions:{startTime:O+_,closeTime:b+_,tags:{phase:p,interactions:y.size?Array.from(y).join(", "):void 0,actualDuration:v,baseDuration:g}}})}}h(r,"makeRenderCallback");function m(d){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const v=n.useRef();if(n.useEffect(()=>{v.current&&(l.d.addSpanToAutoTraces({type:o.b.React,spanName:`react:<${d}>.render-approx`,additionalSpanOptions:{startTime:v.current}}),v.current=void 0)}),!p){v.current=l.d.getCurrentTime();return}const g=r();return{RenderProfiler:h(b=>{let{children:y}=b;return n.createElement(n.Profiler,{id:d,onRender:g},y)},"RenderProfiler")}}h(m,"useAutoTracing"),m.displayName="useAutoTracing";let c=h(class extends n.Component{componentDidMount(){if(this.lastRenderStartTs){const{name:p}=this.props;l.d.addSpanToAutoTraces({type:o.b.React,spanName:`react:<${p}>.render-approx`,additionalSpanOptions:{startTime:this.lastRenderStartTs}}),delete this.lastRenderStartTs}}componentDidUpdate(){if(this.lastRenderStartTs){const{name:p}=this.props;l.d.addSpanToAutoTraces({type:o.b.React,spanName:`react:<${p}>.render-approx`,additionalSpanOptions:{startTime:this.lastRenderStartTs}}),delete this.lastRenderStartTs}}render(){const{name:p,children:v}=this.props;return this.onProfilerRender?n.createElement(n.Profiler,{id:p,onRender:this.onProfilerRender},v):(this.lastRenderStartTs=l.d.getCurrentTime(),v)}constructor(p){super(p);const{useProfilerAPI:v}=p;v&&(this.onProfilerRender=r())}},"AutoTracing");c.displayName="AutoTracing";function u(d,p){const{name:v}=p,g=v||d.displayName||d.name||"",O=n.forwardRef((b,y)=>n.createElement(c,f({},p,{name:g}),n.createElement(d,f({},b,{ref:y}))));return O.displayName=`auto-metrics(${g})`,s()(O,d)}h(u,"withAutoTracing"),u.displayName="withAutoTracing"},xZS8:function(J,i,e){"use strict";e.r(i);var n=e("q1tI"),t=e.n(n),a=e("WMzb"),s=e("JBL2"),l=e("4ALb");function o(Gt){let Ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,It=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const[on,Sn]=Object(n.useState)(),[He,re]=Object(n.useState)(),[ue,ve]=Object(n.useState)();return Object(n.useEffect)(()=>{if(Gt){const De=Object(l.b)({audioOnly:!1,screenCapture:Ct,blob:Gt});re(De);const We=new File([Gt],De,{type:Gt.type});It||(We.subtype="slack_video"),Sn(We);const we=URL.createObjectURL(Gt);return ve(we),()=>{URL.revokeObjectURL(we)}}Sn(void 0),ve(void 0)},[Gt,Ct,It]),{downloadLink:ue,file:on,fileName:He}}h(o,"useBlob");var f=o,r=e("xJTX"),m=e("/MKj"),c=e("WY9I"),u=e("h6Kc");function d(){const Gt=Object(m.useDispatch)();Object(n.useEffect)(()=>(Gt(Object(u.a)({buttonType:c.a.STORY,expanded:!0})),()=>{Gt(Object(u.a)({buttonType:c.a.STORY,expanded:!1}))}),[Gt])}h(d,"useComposerButtonExpandedToggle");var p=d;function v(Gt){const[Ct,It]=Object(n.useState)(!0),[on,Sn]=Object(n.useState)(!0),[He,re]=Object(n.useState)();return Object(n.useEffect)(()=>{if(Gt&&!Gt.fromComputer){const ue=Gt.cameraOn||!1;Ct!==ue&&It(ue)}},[Ct,Gt]),Object(n.useEffect)(()=>{if(Gt&&!Gt.fromComputer){const ue=Gt.microphoneOn||!1;on!==ue&&Sn(ue)}},[on,Gt]),Object(n.useEffect)(()=>{Gt&&!Gt.fromComputer&&He!==Gt.mediaSourceId&&re(Gt.mediaSourceId)},[He,Gt]),{initialCameraOn:Ct,initialMicrophoneOn:on,initialMediaSourceId:He}}h(v,"useInitialRecordingStates");var g=v,O=e("9oTK"),b=e("BHdc"),y=e("Lgge"),C=e("nNoG"),_=e("kBpe"),j=e("WSQ4"),E=e("x5Wd"),M=e("YUBf"),T=e("UQYs"),P=e("oSkh"),B=e("+kJ4"),R=e("Tsh7"),U=e("nFQW"),K=e("ap5V");const V=new C.b("stories_av"),z=h(Gt=>{let{onClick:Ct}=Gt;const It=Object(m.useDispatch)(),on=Object(n.useCallback)(()=>{It(Object(K.a)({articleId:4406611622163})),It(Object(B.a)()),Ct&&Ct()},[It,Ct]),Sn=V.t("See how they work",{fallbackHash:"7609eab36b3efe32bd6a6c43fd71dfd7df8ca120"});return t.a.createElement(R.d,{tip:Sn,position:"bottom"},t.a.createElement(U.a,{className:"p-clips_nux_video_modal_help_icon",icon:"question-circle","aria-label":V.t("See how they work",{fallbackHash:"7609eab36b3efe32bd6a6c43fd71dfd7df8ca120"}),onClick:on}))},"ClipsNuxVideoModalHelpIcon");z.displayName="ClipsNuxVideoModalHelpIcon";var N=z,A=e("oEDn"),x=e("qDEp");const k=new C.b("stories_av");function F(Gt){let{onRetry:Ct,className:It}=Gt;return t.a.createElement(x.f,{type:"outline",onClick:Ct,"aria-label":k.t("Retry recording"),className:Object(b.default)("p-video_recorder__borderless_button",It)},t.a.createElement(A.a,{type:"repeat",className:"p-video_review_modal__retry_icon"}),k.t("Start Over"))}h(F,"RetryButton"),F.displayName="RetryButton";var L=F,S=e("hTnU"),I=e("hwUI"),W=e("2VFn");function D(Gt){let{windowId:Ct=W.c,recording:It,reviewing:on,clogButton:Sn}=Gt;const He=Object(m.useDispatch)(),re=Object(a.a)(),ue=Object(n.useCallback)(()=>{He(Object(B.a)()),re.info("VIDEO-RECORDER","closing"),Sn("close",on?"review":"recording")},[He,Sn,on,re]),ve=Object(n.useCallback)(De=>{if(De||!It&&!on){ue();return}He(Object(S.a)({openModalProps:{isStackable:!0},onConfirmClose:ue}))},[He,ue,It,on]);return Object(n.useEffect)(()=>{if(Ct===W.c)return He(Object(I.b)(!!It||!!on)),()=>{He(Object(I.b)(!1))}},[He,It,on,Ct]),{closeModal:ve}}h(D,"useSpeedBump");var H=D,Z=e("K8V4");function G(Gt){let{saveRecording:Ct,initialCameraOn:It,initialMicrophoneOn:on}=Gt;const Sn=Object(a.a)(),[He,re]=Object(n.useState)(),[ue,ve]=Object(n.useState)();Object(n.useEffect)(()=>{ue&&(Ct({...ue,mediaSourceId:He==null?void 0:He.id}),ve(void 0))},[ue,Ct,He==null?void 0:He.id]);const De=Object(Z.a)({saveRecording:ve,initialCameraOn:It,initialMicrophoneOn:on}),We=De.startScreenCapture,we=De.stopScreenCapture,Be=De.startRecording,ke=Object(n.useCallback)(Object(O.coroutine)(function*(){He&&(yield We(He.id)),Be()}),[He,Be,We]),Le=Object(n.useCallback)(ot=>(re(ot),Sn.info("VIDEO-RECORDER",`screen selected: ${ot==null?void 0:ot.id}`),We(ot==null?void 0:ot.id)),[We,Sn]),Ze=Object(n.useCallback)(()=>{re(void 0),we()},[we]);return{...De,startRecording:ke,startScreenCapture:Le,stopScreenCapture:Ze,selectedScreen:He,setSelectedScreen:re}}h(G,"useStreamManagerWithPreselectedScreen");var te=G,se=e("pJ2S"),$=e("jUSB"),X=h(function(){return Object($.d)(se.v)},"play_boop");const q=3;function Y(Gt){let{onCountdownFinish:Ct}=Gt;const It=Object(a.a)(),[on,Sn]=Object(n.useState)(0),He=Object(n.useRef)(),re=Object(n.useCallback)(Object(O.coroutine)(function*(){It.info("VIDEO-RECORDER","starting countdown");let ve=q;Sn(q),yield X(),He.current=setInterval(()=>{ve-=1,ve===0?(clearInterval(He.current),It.info("VIDEO-RECORDER","countdown complete"),Ct()):X(),Sn(ve)},1e3)}),[It,Ct]),ue=Object(n.useCallback)(()=>{It.info("VIDEO-RECORDER","cancelling countdown"),clearInterval(He.current),Sn(0)},[It]);return Object(n.useEffect)(()=>()=>{clearInterval(He.current)},[]),{countingDown:on>0,countdownSecondsRemaining:on,startCountdown:re,cancelCountdown:ue}}h(Y,"useCountdown");var ee=Y,w=e("FH+Z");const ne="VIDEO-RECORDER";function ae(Gt){let{recording:Ct,recordingPaused:It,stopRecording:on}=Gt;const Sn=Object(a.a)(),He=w.a*1e3,re=Object(n.useRef)(),ue=Object(n.useRef)(He),ve=Object(n.useRef)(0),De=Object(n.useCallback)(()=>{ve.current=performance.now(),re.current=setTimeout(()=>{Sn.info(ne,"time limit reached, stopping"),on()},ue.current)},[Sn,on]);Object(n.useEffect)(()=>{if(Ct)if(It){const We=performance.now()-ve.current;ue.current-=We,Sn.info(ne,`pausing time limit after ${We/1e3} seconds`)}else De(),Sn.info(ne,`recording time limit: ${ue.current/1e3} seconds`);else ue.current=He;return()=>{clearTimeout(re.current)}},[Sn,Ct,It,De,He])}h(ae,"useRecordingTimeLimit");var de=ae;function ge(Gt){let{recording:Ct,cameraOn:It,screenCaptureOn:on,stopRecording:Sn}=Gt;const He=Object(a.a)();Object(n.useEffect)(()=>{Ct&&!It&&!on&&(He.info("VIDEO-RECORDER","stopping recording because screen capture ended"),Sn())},[It,Ct,on,Sn,He])}h(ge,"useRecordingRequiresVideo");var le=ge,Q=e("vfQU");const ie="VIDEO-RECORDER";function oe(Gt){let{selectedScreen:Ct,screenCaptureOn:It}=Gt;const on=Object(a.a)();Object(n.useEffect)(()=>{if(!Object(Q.eb)())return;(function(){var He=Object(O.coroutine)(function*(){if(Ct&&It){if(!(Ct!=null&&Ct.display_id)){on.info(ie,"no display_id, not minimizing");return}const re=Object(Q.P)(),ue=yield Object(Q.J)(re);if(!ue){on.info(ie,"could not get desktop app display");return}parseInt(Ct.display_id,10)===ue.id?(on.info(ie,"minimizing"),Object(Q.Db)(re)):on.info(ie,"not minimizing")}});return h(function(){return He.apply(this,arguments)},"maybeMinimize")})()()},[Ct,It,on])}h(oe,"useMaybeMinimizeDesktopAppOnScreenCapture");var me=oe,be=h(function(Gt){let{screenCaptureOn:Ct,windowToken:It}=Gt;Object(n.useEffect)(()=>{Object(Q.eb)()&&(Ct||Object(Q.w)(It||Object(Q.P)()))},[Ct,It])},"use_focus_after_screen_capture_ends"),Se=e("ktUG"),Pe=e("jWAO"),Ue=e("Tevt");const Fe=new C.b("stories_av"),je=h(Gt=>{let{microphoneFailed:Ct,cameraFailed:It,screenCaptureFailed:on,clogImpression:Sn}=Gt;if(Object(n.useEffect)(()=>{if(!Ct&&!It&&!on)return;const ue=[];It&&ue.push("camera"),Ct&&ue.push("microphone"),on&&ue.push("screenshare"),Sn({step:"initial_screen",sink:{types:ue.join("|")},uiProperties:{element_type:Se.ElementType.ALERT,element_name:"permissions_prompt"}})},[It,Sn,Ct,on]),!Ct&&!It&&!on)return null;let He;if(Ct||It){let ue,ve;Ct&&It?(ue=Fe.t("Can\u2019t access camera and microphone"),Object(_.i)()&&Object(_.p)()?ve=Fe.rt("Check your <a>system preferences</a> to make sure Slack has permission to access your camera and microphone, and try again.",null,De=>{let{text:We}=De;return t.a.createElement(Ue.a,{href:"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone"},We)}):Object(_.i)()?ve=Fe.rt("Check your <a>system settings</a> to make sure Slack has permission to access your camera and microphone, and try again.",null,De=>{let{text:We}=De;return Object(_.x)()?t.a.createElement(Ue.a,{href:"ms-settings:privacy-microphone"},We):We}):ve=Fe.t("Check your browser settings to make sure Slack has permission to access your camera and microphone, and try again.")):Ct?(ue=Fe.t("Can\u2019t access microphone"),Object(_.i)()&&Object(_.p)()?ve=Fe.rt("Check your <a>system preferences</a> to make sure Slack has permission to access your microphone, and try again.",null,De=>{let{text:We}=De;return t.a.createElement(Ue.a,{href:"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone"},We)}):Object(_.i)()?ve=Fe.rt("Check your <a>system settings</a> to make sure Slack has permission to access your microphone, and try again.",null,De=>{let{text:We}=De;return Object(_.x)()?t.a.createElement(Ue.a,{href:"ms-settings:privacy-microphone"},We):We}):ve=Fe.t("Check your browser settings to make sure Slack has permission to access your microphone, and try again.")):(ue=Fe.t("Can\u2019t access camera"),Object(_.i)()&&Object(_.p)()?ve=Fe.rt("Check your <a>system preferences</a> to make sure Slack has permission to access your camera, and try again.",null,De=>{let{text:We}=De;return t.a.createElement(Ue.a,{href:"x-apple.systempreferences:com.apple.preference.security?Privacy_Camera"},We)}):Object(_.i)()?ve=Fe.rt("Check your <a>system settings</a> to make sure Slack has permission to access your camera, and try again.",null,De=>{let{text:We}=De;return t.a.createElement(Ue.a,{href:"ms-settings:privacy-webcam"},We)}):ve=Fe.t("Check your browser settings to make sure Slack has permission to access your camera, and try again.")),He=t.a.createElement(Pe.d,{className:"p-video_recorder_alert",heading:ue,level:Pe.b.warning},ve)}let re;return on&&(re=t.a.createElement(Pe.d,{className:"p-video_recorder_alert",heading:Fe.t("Can\u2019t share your screen",{fallbackHash:"61f286b3ce870fd00239ba4a3ece6af09233d319"}),level:Pe.b.warning},Object(_.i)()?Fe.t("Check your system preferences to make sure Slack has screen recording permission, and try again.",{fallbackHash:"8da7501ec5f67866ac25d93c2d5c219b4c9fb704"}):Fe.t("Check your system preferences to make sure your browser has screen recording permission, and try again.",{fallbackHash:"e4dc82ddd4f5fb99d4f9093961e9caef8f12e0f3"}))),t.a.createElement(t.a.Fragment,null,He,re)},"VideoRecorderAlert");je.displayName="VideoRecorderAlert";var _e=je,pe=e("l6CK"),fe=e("/ZWZ");function Ee(Gt){const[Ct,It]=Object(n.useState)(Gt),on=Object(n.useRef)(!0);return Object(n.useLayoutEffect)(()=>{const Sn=setInterval(()=>{if(!on.current)return;const He=Math.floor(Gt());He!==Ct&&It(He)},250);return()=>clearInterval(Sn)},[Ct,Gt]),Object(n.useEffect)(()=>()=>{on.current=!1},[]),Ct}h(Ee,"useElapsedSeconds");var ye=Ee,Te=e("aV5m");function Oe(Gt){let{getCurrentDuration:Ct,className:It}=Gt;const on=Object(b.default)("auto_right_margin no_left_margin",It);return t.a.createElement("span",{className:on},Object(l.a)(ye(Ct))," /"," ",Object(l.a)(w.a))}h(Oe,"VideoRecorderTimer");var Ce=e("O6kw");const ce=new C.b("stories_av");function he(Gt){let{draftId:Ct,onFileSelected:It,clogButton:on}=Gt;const Sn=Object(m.useDispatch)(),He=Object(n.useRef)(null),re=Object(n.useCallback)(()=>{var ve;on("upload","initial_screen"),(ve=He.current)===null||ve===void 0||ve.click()},[on]),ue=Object(n.useCallback)(()=>{var ve,De;const We=(ve=He.current)===null||ve===void 0||(De=ve.files)===null||De===void 0?void 0:De[0];We&&Sn(Object(Ce.a)({selectedFiles:[We],draftId:Ct})).then(we=>{const Be=we[0];Be&&It(Be)})},[Sn,Ct,It]);return t.a.createElement(t.a.Fragment,null,t.a.createElement(x.f,{type:"outline",className:"p-video_recorder__borderless_button auto_right_margin",onClick:re},t.a.createElement(A.a,{type:"cloud-upload",className:"margin_right_50"}),ce.rt("Upload Video",{fallbackHash:"503a3d8ca27443c8f052d4092e928c0d93f4033f"})),t.a.createElement("input",{type:"file",accept:"video/*",hidden:!0,ref:He,onChange:ue}))}h(he,"VideoRecorderUploadFile"),he.displayName="VideoRecorderUploadFile";var Me=he,Ae=e("DPHH"),xe=e("RMmo");const Re=new C.b("stories_av");function Ge(Gt){let{recordingPaused:Ct,pauseRecording:It,resumeRecording:on,enableTooltip:Sn=!0}=Gt;const He=Object(n.useCallback)(()=>{Ct?on():It()},[It,Ct,on]);Object(n.useEffect)(()=>{const ve=new xe.a;return ve.bindAll([{keys:["space"],handler:He,filter:De=>!De||!De.target?!1:De.target.nodeName==="BUTTON"}]),()=>ve.reset()},[He]);const re=t.a.createElement(x.f,{type:"outline","aria-label":Ct?Re.t("Resume recording"):Re.t("Pause recording"),"aria-pressed":Ct,className:"p-video_recorder__borderless_button p-video_recorder_pause_button",onClick:He},t.a.createElement(A.a,{type:Ct?"play":"pause",className:"p-video_recorder_pause_button__icon"}),Ct?Re.rt("Resume"):Re.rt("Pause")),ue=Object(n.useMemo)(()=>t.a.createElement("span",{className:"p-video_recorder_pause_button__tooltip"},Re.rt("Press <key>Space</key>",{"<key>":ve=>{var De,We;return t.a.createElement(Ae.a,{label:(De=ve.text)===null||De===void 0||(We=De.props)===null||We===void 0?void 0:We.children})}})),[]);return Sn?t.a.createElement(R.d,{tip:ue},re):re}h(Ge,"VideoRecorderPauseButton"),Ge.displayName="VideoRecorderPauseButton";var ze=Ge;const Ie=new C.b("stories_av");function Ne(Gt){let{canRecord:Ct,recording:It,cameraOn:on,startRecording:Sn,stopRecording:He,setRecording:re,screenCaptureOn:ue,startScreenCapture:ve,stopScreenCapture:De,getCurrentDuration:We,recordingPaused:we,pauseRecording:Be,resumeRecording:ke,clogButton:Le,draftId:Ze}=Gt;const ot=Object(n.useCallback)(()=>{Sn(),Le("record","recording")},[Le,Sn]),bt=Object(n.useCallback)(()=>{He(),Le("stop","recording")},[Le,He]),ht=Object(n.useCallback)(mn=>{re({blob:mn,fromComputer:!0})},[re]),Bt=ye(We),Yt=It&&on||!It&&!Object(_.i)(),Cn=Yt?t.a.createElement(Te.a,{screenCaptureOn:ue,startScreenCapture:ve,stopScreenCapture:De,clogButton:Le}):null,an=It?Ie.rt("Stop"):Ie.rt("Record"),Mn=t.a.createElement(x.f,{type:"danger",onClick:It?bt:ot,disabled:!Ct,"aria-pressed":It,"aria-label":It?Ie.t("Stop recording"):Ie.t("Record")},an),rn=It?t.a.createElement(Oe,{getCurrentDuration:We}):null;let xn;Bt>=w.a-30&&(xn="#E01E5A");const gt=It?t.a.createElement(fe.a,{duration:w.a,elapsed:Bt,scrubbable:!1,interpolate:!we,color:xn}):null,Rt=It?null:t.a.createElement(Me,{onFileSelected:ht,draftId:Ze,clogButton:Le});return t.a.createElement("div",{className:Object(b.default)("p-video_recorder_footer",{"p-video_recorder_footer--recording":It}),role:"toolbar"},Rt,gt,rn,Cn,It&&t.a.createElement(t.a.Fragment,null,Yt&&t.a.createElement("div",{className:"p-video_recorder_footer__separator"}),t.a.createElement(ze,{recordingPaused:we,pauseRecording:Be,resumeRecording:ke})),Ct&&Mn,!Ct&&t.a.createElement(R.d,{tip:Ie.t("Turn on your camera, or select a screen to share (or both!)")},t.a.createElement("span",null,Mn)))}h(Ne,"VideoRecorderFooter"),Ne.displayName="VideoRecorderFooter";var Ke=Ne,Ve=e("8QLk"),$e=e("dG8s"),tt=e("vaRI"),qe=e("s8ZX"),ut=e("S1sa");const rt=new C.b("view");function yt(Gt){const Ct=rt.t("Slack");return Gt.name.startsWith(`${Ct} |`)}h(yt,"isScreenProbablySlack");function Mt(Gt){const[Ct,It]=Object(ut.a)(Gt,on=>!!on.display_id);return[...Ct,...It.filter((on,Sn)=>!(Sn===0&&yt(on)))]}h(Mt,"filterScreens");var st=Mt;const Vt=new C.b("stories_av");function Wt(Gt){let{selectedScreen:Ct,setSelectedScreen:It,initialMediaSourceId:on,clogButton:Sn}=Gt;const[He,re]=Object(n.useState)(null),[ue,ve]=Object(n.useState)(!1);Object(n.useEffect)(()=>{Object(tt.a)("screen").then(we=>{we||ve(!0),Object($e.c)({width:320,height:240},["screen","window"]).then(Be=>{re(st(Be).map(ke=>{const[Le,Ze,ot]=ke.id.split(":");return ot==="0"?ke:{...ke,id:[Le,Ze,"0"].join(":")}}))})})},[]),Object(n.useEffect)(()=>{if(on&&He){const we=He.find(Be=>{let{id:ke}=Be;return ke===on});we&&It(we)}},[on,He,It]);const De=Object(n.useCallback)(we=>{It(Ct===we?void 0:we),Sn("share_screen","recording",{state:we?"on":"off"})},[Sn,Ct,It]),We=Object(n.useCallback)(we=>{if(!He||!["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(we.key))return;const ke=we.currentTarget.querySelectorAll("button"),Le=Array.from(ke).findIndex(bt=>document.activeElement===bt);let Ze=0;we.key==="ArrowLeft"&&(Ze=Le-1),we.key==="ArrowRight"&&(Ze=Le+1),we.key==="ArrowUp"&&(Ze=Le-3),we.key==="ArrowDown"&&(Ze=Le+3),Ze=Object(Ve.a)(Ze,0,ke.length);const ot=ke[Ze];ot&&ot.focus()},[He]);return!ue&&(!He||!He.length)?null:t.a.createElement("div",{className:"p-video_recorder_screen_picker"},t.a.createElement("div",{id:"p-video_recorder_modal__screens_section_label",className:"p-video_recorder_modal__section_label"},Vt.rt("Share your screen (optional)")),ue&&t.a.createElement(Pe.d,{className:"p-video_recorder_screen_picker__access_alert",level:Pe.b.warning},Object(_.p)()?Vt.rt("Allow screen recording access in <a>system preferences</a>",{"<a>":we=>{let{text:Be}=we;return t.a.createElement(Ue.a,{href:"x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture"},Be)}}):Vt.rt("Please check your system preferences to give screen share access to Slack.")),!ue&&He&&t.a.createElement("div",{className:"p-video_recorder_screen_picker__screens_grid",role:"radiogroup","aria-labelledby":"p-video_recorder_modal__screens_section_label",onKeyDown:We},He.map((we,Be)=>t.a.createElement(qe.a,{key:we.id,screen:we,name:we.name,selected:(Ct==null?void 0:Ct.id)===we.id,onSelect:De,tabindex:Be===0?0:-1}))))}h(Wt,"VideoRecorderScreenPicker"),Wt.displayName="VideoRecorderScreenPicker";var Xt=Wt;const Ut=new C.b("stories_av");function Nt(Gt){let{cancelCountdown:Ct}=Gt;return t.a.createElement("div",{className:"p-video_recorder_footer"},t.a.createElement(x.f,{type:"danger",onClick:Ct},Ut.rt("Stop")))}h(Nt,"VideoRecorderCountdownFooter"),Nt.displayName="VideoRecorderCountdownFooter";var Ft=Nt,_n=e("wSSu"),cn=e.n(_n),Rn=e("DuRM"),Vn=e("zxER"),ea=e("O86Y"),Lt=e("4tnk");const vn=574,Wn=66,Nn=100,ia={[-3]:.7,[-2]:.8,[-1]:.9,0:1,1:1.1,2:1.25,3:1.5,4:1.75,5:2};function Ea(Gt){let{children:Ct,visible:It,selectedScreen:on}=Gt;const Sn=Object(a.a)(),He=Object(Vn.c)(ke=>Object(Lt.b)(ke,"zoomLevel"))||0,re=ia[He]||1,ue=Object(n.useRef)(),ve=Object(n.useRef)(void 0),[De,We]=Object(n.useState)(!1),we=Object(n.useCallback)(ke=>{ve.current=ke,We(!0)},[]),Be=Object(Vn.c)(ea.g);return Object(n.useEffect)(()=>{const ke=Object(Rn.e)("",{show:!1,frame:!1,titleBarStyle:"default",acceptFirstMouse:!0,alwaysOnTop:!0,skipTaskbar:!1,fullscreenable:!1,resizable:!1,movable:!0,type:"clips-mini-panel",title:"Slack",width:vn*re,height:Wn,x:(window.screen.availWidth-vn)/2,y:window.screen.availHeight-Wn-Nn,parentTeamId:Be}).then(Le=>{let{window:Ze,windowToken:ot}=Le;return Object(Q.rc)(ot,!0),Object(Q.gc)(ot,!0,"screen-saver",1),Object(Q.jc)(ot,!0),ue.current=ot,Object(Rn.f)(Ze,t.a.createElement("div",{ref:we}))});return()=>{ke.then(Le=>{ve.current&&cn.a.unmountComponentAtNode(ve.current),Le==null||Le()})}},[we,Be,re]),Object(n.useEffect)(()=>{De&&(It?(Sn.info("VIDEO-RECORDER","showing mini-panel"),Object(Q.zc)(ue.current)):(Sn.info("VIDEO-RECORDER","hiding mini-panel"),Object(Q.bb)(ue.current)))},[De,It,Sn]),Object(n.useEffect)(()=>{if(!on)return;(function(){var Le=Object(O.coroutine)(function*(){const Ze=yield Object(Q.x)();if(Ze.length===0)return;var ot;const bt=(ot=Ze.find(ht=>on.display_id===ht.id.toString()))!==null&&ot!==void 0?ot:Ze[0];Object(Q.hc)(ue.current,bn(bt.bounds,re))});return h(function(){return Le.apply(this,arguments)},"updateBounds")})()()},[on,re]),De&&ve.current?cn.a.createPortal(Ct,ve.current):null}h(Ea,"VideoRecorderMiniPanelWindow");function bn(Gt,Ct){return{x:Gt.x+(Gt.width-vn*Ct)/2,y:Gt.y+Gt.height-Wn-Nn,width:vn*Ct,height:Wn*Ct}}h(bn,"calculatePosition");var Xn=e("ifKl"),vt=e("9Gfp"),Je=e("lrwl"),et=e("q7Oo");const mt=new C.b("stories_av");function Pt(Gt){let{cameraOn:Ct,countingDown:It,countdownSecondsRemaining:on,screenName:Sn,stopRecording:He,stopScreenCapture:re,getCurrentDuration:ue,cancelCountdown:ve,recordingPaused:De,pauseRecording:We,resumeRecording:we,clogButton:Be}=Gt;const ke=Object(Vn.c)(vt.a),Le=Ct;return t.a.createElement("div",{className:"p-video_recorder_minipanel"},t.a.createElement("div",{className:"p-video_recorder_minipanel__avatar"},t.a.createElement(Je.a,{userId:ke,size:24,isInteractive:!1})),t.a.createElement("div",{className:"p-video_recorder_minipanel__middle"},t.a.createElement(et.a,{secondsRemaining:on,className:Object(b.default)("p-video_recorder_minipanel__countdown",{"p-video_recorder_minipanel__countdown--hidden":!It})}),t.a.createElement("div",{className:Object(b.default)("p-video_recorder_minipanel__recording",{"p-video_recorder_minipanel__recording--visible":!It})},t.a.createElement("div",{className:"p-video_recorder_minipanel__status"},t.a.createElement(Oe,{getCurrentDuration:ue,className:"p-video_recorder_minipanel__timer"}),Sn&&t.a.createElement("span",{className:"p-video_recorder_minipanel__status_screen"},mt.t("Recording {screenName}",{screenName:Sn}))),Le&&t.a.createElement(Te.a,{screenCaptureOn:!0,startScreenCapture:Xn.a,stopScreenCapture:re,clogButton:Be}),Le&&t.a.createElement("div",{className:"p-video_recorder_footer__separator"}),t.a.createElement(ze,{recordingPaused:De,pauseRecording:We,resumeRecording:we,enableTooltip:!1}))),t.a.createElement(x.f,{type:"danger",onClick:It?ve:He},It?mt.t("Stop Recording"):mt.t("Stop")))}h(Pt,"VideoRecorderMiniPanel");var Tt=e("csgs");const Qt=new C.b("stories_av");function dt(Gt){let{setRecording:Ct,clogButton:It,clogImpression:on,initialCameraOn:Sn,initialMicrophoneOn:He,initialMediaSourceId:re,draftId:ue}=Gt;const ve=Object(n.useContext)(E.a),De=Object(a.a)(),{windowId:We,windowToken:we}=Object(n.useContext)(j.a);Object(n.useEffect)(()=>{De.info("VIDEO-RECORDER","starting")},[De]);const Be=Object(n.useRef)(!0),ke=Object(n.useCallback)(Qa=>{Be.current&&Ct(Qa),Be.current=!0},[Ct]),{setCanvasRef:Le,recording:Ze,startRecording:ot,stopRecording:bt,microphoneOn:ht,microphoneFailed:Bt,startMicrophone:Yt,stopMicrophone:Cn,screenCaptureOn:an,screenCaptureFailed:Mn,startScreenCapture:rn,stopScreenCapture:xn,cameraOn:gt,cameraFailed:Rt,startCamera:mn,stopCamera:ca,selectedScreen:da,setSelectedScreen:_a,pauseRecording:zn,resumeRecording:na,recordingPaused:ga,getCurrentDuration:ma,devicePrefsChanged:Oa,blurEnabled:ka,toggleBgBlur:Ua,bgImgEnabled:Va,setBgImage:qa,clearBgImage:ja,microphoneStream:xa,loading:Wa,rendererStream:es}=te({saveRecording:ke,initialCameraOn:Sn,initialMicrophoneOn:He}),{countingDown:Pa,countdownSecondsRemaining:ss,startCountdown:Ma,cancelCountdown:os}=ee({onCountdownFinish:ot}),za=Object(n.useCallback)(()=>{os(),xn()},[os,xn]),Ka=Object(n.useCallback)(Object(O.coroutine)(function*(){yield X(),yield y.a.delay(1e3),ot()}),[ot]);de({recording:Ze,recordingPaused:ga,stopRecording:bt}),le({recording:Ze,cameraOn:gt,screenCaptureOn:an,stopRecording:bt}),me({selectedScreen:da,screenCaptureOn:an}),be({screenCaptureOn:an,windowToken:we});const Za=Object(_.j)("4.13.0"),ds=!!(Za&&an);Object(n.useEffect)(()=>{Za&&Pa&&da&&!an&&rn(da)},[da,rn,Za,Pa,an,xn]);const ts=Object(n.useCallback)((Qa,hs,rs)=>{It(Qa,hs,{screenshare:an,camera:gt,blur_enabled:ka,bg_img_enabled:Va,length_seconds:Math.floor(ma()),...rs})},[gt,It,ma,an,ka,Va]),{closeModal:us}=H({windowId:We,recording:Ze,clogButton:ts}),is=Object(n.useCallback)(()=>{Be.current=!1,bt(),Object(_.i)()&&an&&xn()},[an,bt,xn]),Ya=!Ze&&!Pa,fs=Ya&&Object(_.i)(),gs=h(()=>t.a.createElement(P.a,null,Qa=>{let{width:hs,height:rs}=Qa;return t.a.createElement(T.b,{width:hs,height:rs},t.a.createElement("div",{className:"p-video_recorder_modal__video_section"},t.a.createElement(pe.a,{setCanvasRef:Le,initialMicrophoneOn:He,microphoneOn:ht,microphoneFailed:Bt,startMicrophone:Yt,stopMicrophone:Cn,initialCameraOn:Sn,cameraOn:gt,cameraFailed:Rt,screenCaptureOn:an,startCamera:mn,stopCamera:ca,recording:Ze,countingDown:Pa,countdownSecondsRemaining:ss,recordingPaused:ga,devicePrefsChanged:Oa,blurEnabled:ka,toggleBgBlur:Ua,bgImgEnabled:Va,setBgImage:qa,clearBgImage:ja,loading:Wa,microphoneStream:xa,rendererStream:es,clogButton:It})),fs&&t.a.createElement(Xt,{selectedScreen:da,setSelectedScreen:_a,initialMediaSourceId:re,clogButton:ts}))}),"renderScreenPickerAtBottom");gs.displayName="renderScreenPickerAtBottom";const vs=!Ze&&!Pa?Qt.t("Record video clip"):void 0;return t.a.createElement(t.a.Fragment,null,t.a.createElement(M.a,{fullscreen:!0,closeModal:us,className:Object(b.default)("p-video_recorder_modal",{"p-video_recorder_modal--screen_grid_showing":fs,"p-video_recorder_modal--recording":!Ya})},t.a.createElement(Tt.a,{showBottomBorder:!Ze&&!Pa},t.a.createElement(M.l,{title:vs,className:"p-video_recorder_header__title",titleTextClassName:"p-video_recorder_header__title_text",titleHeaderClassName:"p-video_recorder_header__title_header"},t.a.createElement("div",{className:"p-video_recorder_header__icons"},!Ze&&!Pa&&t.a.createElement(N,null),Ze&&ga&&t.a.createElement(L,{className:"p-video_recorder_header__button",onRetry:is})))),!Pa&&t.a.createElement(_e,{microphoneFailed:Bt,cameraFailed:Rt,screenCaptureFailed:Mn,clogImpression:on}),t.a.createElement("div",{className:Object(b.default)("p-video_recorder_modal__content",{"p-video_recorder_modal__content--video_only":!fs})},gs()),Pa&&t.a.createElement(Ft,{cancelCountdown:za}),!Pa&&t.a.createElement(Ke,{canRecord:gt||an||!!da,recording:Ze,cameraOn:gt,startRecording:ve?Ka:Ma,stopRecording:bt,setRecording:Ct,screenCaptureOn:an,startScreenCapture:rn,stopScreenCapture:xn,getCurrentDuration:ma,recordingPaused:ga,pauseRecording:zn,resumeRecording:na,clogButton:ts,draftId:ue})),Za&&t.a.createElement(Ea,{visible:ds,selectedScreen:da},t.a.createElement(Pt,{cameraOn:gt,countingDown:Pa,countdownSecondsRemaining:ss,screenName:da==null?void 0:da.name,stopRecording:bt,stopScreenCapture:xn,getCurrentDuration:ma,cancelCountdown:za,recordingPaused:ga,pauseRecording:zn,resumeRecording:na,clogButton:ts})))}h(dt,"VideoRecorderModal"),dt.displayName="VideoRecorderModal";var zt=dt,At=e("RVJP");const Qe=new C.b("stories_av");function nt(Gt){let{onDownload:Ct,disabled:It}=Gt;const on=Object(b.default)("p-video_recorder__borderless_button","p-video_review_modal__download",{"p-video_review_modal__download--disabled":It});return t.a.createElement(R.d,{tip:Qe.t("Your video is being processed and will be available to download soon."),tipClassName:Object(b.default)({hidden:!It}),position:"top"},t.a.createElement("span",{className:"p-video_review_modal__download_wrapper"},t.a.createElement(x.f,{type:"outline",className:on,onClick:Ct,disabled:It,"data-qa":"download_button"},t.a.createElement(A.a,{type:"cloud-download",className:"p-video_review_modal__download_icon"}),t.a.createElement("span",null,Qe.rt("Download")))))}h(nt,"DownloadButton"),nt.displayName="DownloadButton";var _t=nt;const Et=new C.b("stories_av");function kt(Gt){let{onAttach:Ct}=Gt;return t.a.createElement(x.f,{type:"primary",onClick:Ct,"aria-label":Et.t("Attach file")},Et.t("Done"))}h(kt,"AttachButton"),kt.displayName="AttachButton";var jn=kt,pn=e("tbSn"),An=e("EzYr"),lt=e("I0j/"),Dn=e("37+L"),fn=e("Z9Pi"),kn=e("gCYc"),wn=e("Kn+X"),fa=e("Zbwg"),In=e("ItxP"),ha=e("RdEv"),Dt=e("KcWJ"),jt=e("ztJi"),$t=e("CnKg"),Tn=e("6CqW"),dn=e("mQiU"),Un=e("xcHN"),Bn=e("Wn1n"),Kt=e("bczA");function Kn(Gt){let{file:Ct,draftId:It,clogButton:on,onContainerUpload:Sn,thumbnailTimestamp:He}=Gt;var re,ue,ve,De;const We=Object(a.a)(),we=Object(m.useDispatch)(),{finishUpload:Be,uploadedFileId:ke}=Object(ha.a)({file:Ct,draftId:It,onContainerUpload:Sn,thumbnailTimestamp:He}),{windowId:Le}=Object(n.useContext)(j.a),{isMainWindow:Ze,shouldUseNavigate:ot,getSiblingView:bt}=Object(n.useContext)(dn.a),ht=Object(Vn.c)(zn=>Object(kn.k)(zn,It));var Bt;const Yt=Object(Vn.c)(zn=>{var na;return(Bt=(na=Object(Kt.b)(zn))===null||na===void 0?void 0:na.threadId)!==null&&Bt!==void 0?Bt:""}),{getViewSet:Cn}=Object(Tn.a)(Le),an=Object(Vn.c)(Cn),{commentThreadId:Mn}=Object($t.i)(Yt),rn=(an==null||(re=an.secondary)===null||re===void 0||(ue=re.params)===null||ue===void 0?void 0:ue.commentThreadId)||Mn,xn=Object(Vn.c)(zn=>Object(jt.a)(zn,rn??"")),gt=an==null||(ve=an.secondary)===null||ve===void 0||(De=ve.params)===null||De===void 0?void 0:De.threadId;let Rt,mn;if(ht){const zn=Object(wn.j)(ht);zn&&zn.length===1&&(Rt=zn[0].channel_id,mn=zn[0].thread_ts)}else{const zn=Object(fn.a)(It);zn.channelId&&Object(fa.a)(zn.channelId)&&(Rt=zn.channelId),zn.threadTs&&Object(In.a)(zn.threadTs)&&(mn=zn.threadTs)}const ca=Object(Un.c)(Rt,mn),da=Object(Vn.c)(zn=>{var na;return ot?(na=bt(zn,{container:W.i.Primary}))===null||na===void 0?void 0:na.id:Object(Bn.a)(zn)});return{attachAndUpload:Object(n.useCallback)(()=>{if(We.info("VIDEO-RECORDER","attaching video"),Be(),we(Object(B.a)()),on("attach","review"),!Sn&&mn)if(Ze){if(Rt===(xn==null?void 0:xn.channelId)&&mn===(xn==null?void 0:xn.threadTs)||gt&&gt===ca||da==="Vall_threads")return;we(Object(Dt.a)({channelId:Rt,threadTs:mn}))}else we(Object(lt.a)(Object(Dn.mb)({channelId:Rt,threadTs:mn})))},[We,Be,we,on,Sn,mn,Ze,Rt,xn==null?void 0:xn.channelId,xn==null?void 0:xn.threadTs,gt,ca,da]),uploadedFileId:ke}}h(Kn,"useAttachAndClose");var aa=Kn,ln=e("5jHt"),en=e("Ilel"),xt=e("9068"),sn=e("dmdh"),Ln=h((Gt,Ct)=>{const It=document.createElement("a");It.href=Gt,It.download=Ct,document.body.appendChild(It),It.click(),document.body.removeChild(It)},"downloadWebmLink"),yn=h(Gt=>{const Ct=["video/mp4","video/webm"];if(Gt){for(let It=0;It<Ct.length;It++)if(Gt.type.includes(Ct[It]))return!0}return!1},"isFileMp4OrWebm");function Zt(Gt){let{downloadLink:Ct,fileName:It,clogButton:on,uploadedFileId:Sn,file:He,action:re}=Gt;const ue=Object(m.useDispatch)(),ve=Object(Vn.c)(ke=>Object(sn.e)(ke,Sn)),De=Object(Vn.c)(ke=>Object(ln.a)(ke,ve)),We=Object(n.useCallback)(()=>{Ct&&(Ln(Ct,It),on("download","review"))},[on,Ct,It]),we=Object(n.useCallback)(()=>{ue(Object(en.a)({file:ve,action:re})),on("download","review")},[ue,ve,on,re]);let Be=We;return yn(He)||De&&(ve&&!Object(xt.d)(ve)?Be=we:Be=void 0),Be}h(Zt,"useDownload");var qn=Zt,ta=e("1Np4"),la=e("4cU5");function Yn(Gt){let{recordDuration:Ct,actualDuration:It,screenOn:on,cameraOn:Sn,blurEnabled:He,bgImgEnabled:re,workerExperimentGroup:ue,canvasRecording:ve}=Gt;const De=Object(a.a)(),We=Object(Vn.c)(Be=>Object(ta.a)({state:Be})),we=Object(n.useRef)(!1);Object(n.useEffect)(()=>{if(Ct&&Ct!==1/0&&It){if(we.current)return;we.current=!0;const Be=Math.abs(Ct-It);Be>1&&De.error("VIDEO-RECORDER","large difference in expected duration"),De.info("VIDEO-RECORDER",`duration difference: ${Be}`);const ke=We.createMetricsTrace({samplingOptions:{sampleRate:1,sampleType:la.b}});ke.store({name:"video_recorder_duration_metrics:large_difference",value:Be>1?1:0}),ke.store({name:"video_recorder_duration_metrics:difference_ms",value:Be*1e3}),ke.addTags({screen:on,camera:Sn,blur:He,bg:re,worker:ue,canvas:ve}),We.reportTrace(ke)}},[It,Ct,De,We,on,Sn,He,re,ue,ve])}h(Yn,"useDurationLogging");var Jt=Yn,Qn=e("ouAP"),Zn=e("c15m");function Hn(Gt){let{downloadLink:Ct,file:It,fileName:on,didScreenShare:Sn,cameraOn:He,draftId:re,duration:ue,fromComputer:ve,retry:De,clogButton:We,clogImpression:we,onContainerUpload:Be,blurEnabled:ke,bgImgEnabled:Le,canvasRecording:Ze}=Gt;var ot;const bt=Object(a.a)(),{windowId:ht,windowToken:Bt}=Object(n.useContext)(j.a);Object(n.useEffect)(()=>{bt.info("VIDEO-RECORDER",`reviewing ${ve?"uploaded":`${ue} second`} video`)},[ve,bt,ue]),Object(n.useEffect)(()=>{Object(Q.eb)()&&Object(Q.w)(Bt||Object(Q.P)())},[Bt]);const[Yt,Cn]=Object(n.useState)(),an=Object(n.useCallback)((ga,ma,Oa)=>{We(ga,ma,{screenshare:Sn,camera:He,blur_enabled:ke,bg_img_enabled:Le,length_seconds:Math.floor(ue),...Oa})},[He,We,Sn,ue,ke,Le]),{closeModal:Mn}=H({windowId:ht,reviewing:!0,clogButton:an}),{attachAndUpload:rn,uploadedFileId:xn}=aa({file:It,draftId:re,clogButton:an,onContainerUpload:Be,thumbnailTimestamp:Yt}),gt=Object(n.useCallback)(()=>{De(),We("retry","review")},[We,De]),Rt=qn({downloadLink:Ct,fileName:on,clogButton:an,uploadedFileId:xn,file:It,action:Qn.a.DownloadFile}),[mn,ca]=Object(n.useState)(),da=Object(Vn.c)(ga=>Object(At.d)(ga,"stream_renderer_worker"));Jt({recordDuration:ue,actualDuration:mn,screenOn:Sn,cameraOn:He,blurEnabled:ke,bgImgEnabled:Le,workerExperimentGroup:da??"unknown",canvasRecording:Ze});const _a=t.a.createElement("div",{className:"p-video_review_modal__additional_controls"},t.a.createElement(pn.a,{onSubmit:Cn,downloadLink:Ct,recordDuration:ue,className:"p-video_recorder_header__button p-video_review_modal__thumbnail",clogButton:We,clogImpression:we}),!ve&&t.a.createElement(_t,{disabled:!Rt,onDownload:Rt}),t.a.createElement(jn,{onAttach:rn})),zn=Object(n.useMemo)(()=>({"p-video_review_modal__video_container--camera_only":!Sn&&He}),[He,Sn]),na=!(It==null||(ot=It.type)===null||ot===void 0)&&ot.includes("mp4")?"video/mp4":void 0;return t.a.createElement(An.a,{url:Ct,mimeType:na,duration:ue,additionalControls:_a,modalHeaderChildren:t.a.createElement(M.l,null,t.a.createElement(L,{onRetry:gt,className:"p-video_recorder_header__button p-video_review_modal__retry"})),videoClassNames:zn,onClose:Mn,onDurationChanged:ca})}h(Hn,"VideoReviewModal"),Hn.displayName="VideoReviewModal";var Sa=Hn;function Ca(Gt){let{draftId:Ct,onContainerUpload:It}=Gt;const on=Object(a.a)();Object(s.a)(),p();const[Sn,He]=Object(n.useState)(),{blob:re,duration:ue,didScreenShare:ve,cameraOn:De,fromComputer:We,blurEnabled:we,bgImgEnabled:Be,canvasRecording:ke}=Sn||{},{initialCameraOn:Le,initialMicrophoneOn:Ze,initialMediaSourceId:ot}=g(Sn),{clogButton:bt,clogImpression:ht}=Object(r.a)({recording:Sn}),Bt=Object(n.useCallback)(()=>{on.info("VIDEO-RECORDER","retrying"),He(void 0)},[on]),{file:Yt,fileName:Cn,downloadLink:an}=f(re,ve,We);return Sn&&Yt&&Cn&&an?t.a.createElement(Sa,{draftId:Ct,file:Yt,fileName:Cn,didScreenShare:ve||!1,cameraOn:De||!1,fromComputer:We||!1,downloadLink:an,duration:ue||0,retry:Bt,clogButton:bt,clogImpression:ht,onContainerUpload:It,blurEnabled:we||!1,bgImgEnabled:Be||!1,canvasRecording:ke||!1}):t.a.createElement(zt,{draftId:Ct,setRecording:He,clogButton:bt,clogImpression:ht,initialCameraOn:Le,initialMicrophoneOn:Ze,initialMediaSourceId:ot})}h(Ca,"VideoRecorder"),Ca.displayName="VideoRecorder";var La=i.default=Ca},xhb0:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("EIVZ"),s=e.n(a),l=e("MaHh"),o=e.n(l),f=e("18hm"),r=e.n(f),m=e("V/As"),c=e("nd5U");const u=h(d=>{let{headerInfo:p,isUnlinked:v=!1}=d;const g=Object(m.b)(p,56);return t.a.createElement("div",{className:"p-identity_transfer_modal__logo"},t.a.createElement("div",{className:"p-identity_transfer_modal__logo--left"},t.a.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:s.a})),t.a.createElement("div",{className:"p-identity_transfer_modal__logo__arrows"},t.a.createElement("img",{alt:"",src:v?r.a:o.a})),t.a.createElement("div",{className:"p-identity_transfer_modal__logo--right"},t.a.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:g})))},"IdentityTransferModalLogo");u.displayName="IdentityTransferModalLogo",i.a=u},xueD:function(J,i,e){"use strict";var n=e("DwFS");const t=Object(n.a)("Triggers a side-effect that opens the share dialog in client (noop)");t.meta={name:"createAction",key:"createActionopenShareDialogCircular",description:"Triggers a side-effect that opens the share dialog in client (noop)"},i.a=t},y4hh:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("x6tY"),s=e("FXMY"),l=e("beVI"),o=e("nNoG"),f=e("Tevt"),r=e("zxER"),m=e("8eQr"),c=e("CF/G"),u=e("G0eX");function d(b){let{teamId:y}=b;const C=Object(r.c)(_=>Object(l.s)(_,y));return C?t.a.createElement(t.a.Fragment,null,Object(u.h)(C)):null}h(d,"CanvasSharedOrgMessageTeamName");var p=e("2yT+"),v=e("/CFe");const g=new o.b("share-dialog");var O=i.a=t.a.memo(h(function(y){let{file:C,currentTab:_,switchTabs:j}=y;const E=Object(r.c)(U=>Object(s.a)(U,{file:C})),M=Object(r.c)(l.i),T=Object(n.useCallback)(()=>{j(p.a.Settings)},[j]),P=Object(a.db)(C);if(!Object(a.u)(C)||_===p.a.Settings||!(P.length>1||E))return null;const B=Object(m.a)(M==null?void 0:M.id,P),R=B.length>3?g.rt("People from {orgCount} different organizations can view this canvas. {link}",{orgCount:P.length,link:j?t.a.createElement(f.a,{onClick:T},g.rt("See General")):null}):g.rt("People from {teamList} can view this canvas.",{teamList:Object(o.h)(B.map(U=>t.a.createElement(d,{key:U,teamId:U})),{conj:"and",react:!0,strong:!0})});return t.a.createElement("div",{className:"p-shared_msg_org__desc","data-qa":v.b.ORG_SHARING_MESSAGE},t.a.createElement(c.a,{teamIds:B.slice(0,3),size:16}),t.a.createElement("div",{"data-qa":v.b.ORG_SHARING_MESSAGE_LABEL},R))},"CanvasSharedOrgMessage"))},y6n1:function(J,i,e){"use strict";e.d(i,"a",function(){return a});var n=e("RVJP"),t=e("UIWO");const a=h(s=>Object(t.a)(s)?!0:Object(n.d)(s,"sc_getting_started_experiments2")==="treatment","scGettingStartedExperiments2Enabled")},y8dB:function(J,i,e){"use strict";var n=e("NFsq"),t=e("TSHB"),a=e("BeL+");const s=["channel_join","channel_leave","group_join","group_leave"],l=["app_conversation_join","app_conversation_leave"],o=[...s,...l];function f(u){let{rollupSubtypes:d=o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object(n.a)(d,u)}h(f,"isRollupSubtype");const r=h(u=>u==="channel_join"||u==="group_join","isJoin"),m=h(u=>{const d={},p=[];for(let v=0;v<u.length;v++){const g=u[v];if(g&&p.push(g),Object(n.a)(l,g==null?void 0:g.subtype)&&(d[g.ts]={[g.user]:{action:g.subtype==="app_conversation_join"?"join":"leave",inviter:g.inviter,ts:g.ts,timestamps:[g.ts]}}),Object(n.a)(s,g==null?void 0:g.subtype)){for(d[g.ts]={[g.user]:{actions:[g.subtype],inviter:g.inviter,ts:g.ts,timestamps:[g.ts]}};v+1<u.length;){const O=u[v+1];if(Object(n.a)(s,O==null?void 0:O.subtype)){const b=d[g.ts][O.user]&&d[g.ts][O.user].actions;!b||!b.length?d[g.ts][O.user]={actions:[O.subtype],inviter:O.inviter,ts:O.ts,timestamps:[O.ts]}:b.length===1&&O.subtype!==b[0]?(b.push(O.subtype),d[g.ts][O.user].timestamps.push(O.ts),O.inviter&&(d[g.ts][O.user].inviter=O.inviter)):b.length===2&&O.subtype!==b[1]&&(d[g.ts][O.user].actions=[b[1],O.subtype],d[g.ts][O.user].timestamps.push(O.ts),O.inviter&&(d[g.ts][O.user].inviter=O.inviter)),v+=1}else break}d[g.ts]=Object(t.a)(d[g.ts],O=>{let{actions:b,inviter:y,ts:C,timestamps:_}=O;return{action:Object(a.a)(b.map(j=>r(j)?"join":"leave")).join(","),inviter:y,ts:C,timestamps:_}})}}return{messages:p,rollups:d}},"computeRollups");var c=i.a=m},yCtb:function(J,i,e){"use strict";e.d(i,"a",function(){return n});function n(t){let{text:a,type:s}=t;return!!(a&&!a.trim()||s==="paragraph_break"||s==="line_break"||s==="space_hard")}h(n,"isMrkdwnWhitespace")},yH2S:function(J,i,e){"use strict";e.d(i,"a",function(){return c}),e.d(i,"b",function(){return p});var n=e("q1tI"),t=e.n(n),a=e("Cfcg"),s=e("2IYT"),l=e("zb/F"),o=e("nNoG");const f=new o.b("message"),r={code:"code",codeBlock:"codeBlock"};function m(v){let{children:g,blockType:O,...b}=v,y;const C=t.a.Children.only(g),_=t.a.cloneElement(C,{...b,ref:E=>{E&&(y=E)}}),j=Object(n.useCallback)(()=>[{label:O==="codeBlock"?f.t("Copy this code block"):f.t("Copy this code"),click:()=>y&&Object(l.e)(y.innerText)}],[O,y]);return t.a.createElement(s.a,{getTemplate:j},_)}h(m,"BaseCopyCodeBlockContextMenuTrigger"),m.displayName="BaseCopyCodeBlockContextMenuTrigger";const c=Object(a.a)(()=>({}),()=>({}))(m),u=t.a.forwardRef((v,g)=>{let{children:O,...b}=v;const y=t.a.Children.only(O);return t.a.cloneElement(y,{...b,ref:g,onMouseDown:d})});function d(v){if(v.button!==0||v.detail<3)return;v.preventDefault();const g=window.getSelection(),O=document.createRange();g==null||g.removeAllRanges(),O.selectNodeContents(v.currentTarget),g==null||g.addRange(O)}h(d,"selectContentsOnTripleMouseDown");const p=Object(a.a)(()=>({}),()=>({}),null,{forwardRef:!0})(u)},yHsb:function(J,i,e){"use strict";e.d(i,"b",function(){return y}),e.d(i,"a",function(){return C});var n=e("9oTK"),t=e("SQ0V"),a=e("s4P+"),s=e("eMSv"),l=e("WCk1"),o=e("417x"),f=e("lvG7");const r=Object(l.a)("Get SIWS transfer payload",(j,E,M)=>{let{appId:T,clientMsgId:P,url:B,channelId:R}=M;return j(Object(s.b)({appId:T,clientMsgId:P,uri:B,reason:"siws-get-transfer-payload",channelId:R})).then(U=>({...Object(o.a)(U)})).catch(U=>{var K;throw((K=U.data)===null||K===void 0?void 0:K.error)==="invalid_client_cache"&&j(Object(f.a)()),U})});r.meta={name:"createFetcher",key:"createFetchergetTransferPayload",description:"Get SIWS transfer payload"};var m=r,c=e("kBpe"),u=e("q1tI"),d=e.n(u),p=e("3l96"),v=e("LaOi");const g=Object(t.c)("opens the Identity Transfer Modal when we want to Reverify Email",function(){var j=Object(n.coroutine)(function*(E,M,T){let{appId:P,domain:B,url:R,channelId:U}=T;E(Object(p.a)({element:d.a.createElement(v.a,{appId:P,domain:B,url:R,channelId:U,reverifyEmail:!0}),isStackable:!0}))});return function(E,M,T){return j.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkopenIdentityTransferReverificationModal",description:"opens the Identity Transfer Modal when we want to Reverify Email"};var O=e("RVJP");const b={window:null,appId:void 0},y=Object(t.c)("Fetch and open the initialization URL for an identity link",function(){var j=Object(n.coroutine)(function*(E,M,T){let{appId:P,url:B,domain:R,clientMsgId:U,shouldCloseWindowOnCompletion:K=!1,channelId:V}=T;const z=Object(a.a)({getState:M,label:"IDENTITY_LINKS"});let N=null;const A=Object(O.d)(M(),"identity_transfer_reverification_strings")==="on";try{if(Object(c.i)()){const{initiateUrl:x}=yield E(m({appId:P,clientMsgId:U,url:B,channelId:V}));window.open(x,"_blank","noopener,noreferrer")}else{N=window.open("","_blank");const{initiateUrl:x}=yield E(m({appId:P,clientMsgId:U,url:B,channelId:V}));N.location.href=x,z.info(`opened identity transfer window for appId ${P}`),K&&(b.window=N,b.appId=P)}}catch(x){const k=x==null?void 0:x.data;z.error(`error getting transfer payload for link with appId ${P}`,k==null?void 0:k.error),(k==null?void 0:k.error)===s.a.EmailNotVerified&&A?(N==null||N.close(),E(g({appId:P,channelId:V,domain:R,url:B}))):N?N.location.href=B:window.open(B,"_blank","noopener,noreferrer")}});return function(E,M,T){return j.apply(this,arguments)}}());y.meta={name:"createThunk",key:"createThunkopenIdentityTransferLink",description:"Fetch and open the initialization URL for an identity link"};const C=Object(t.c)("Close the browser window used for the identity transfer flow with the given app, if it exists",(j,E,M)=>{let{appId:T}=M;const P=Object(a.a)({getState:E,label:"IDENTITY_LINKS"});if(P.info(`checking if there's an identity transfer window to close for appId ${T}`),T&&b.appId===T&&b.window){try{var B,R;b==null||(B=b.window)===null||B===void 0||(R=B.close)===null||R===void 0||R.call(B),P.info(`closed identity transfer window for appId ${T}`)}catch(U){P.error(`error attempting to close identity transfer window for appId ${T}`,U)}b.window=null,b.appId=void 0}});C.meta={name:"createThunk",key:"createThunkcloseIdentityTransferWindowForAppId",description:"Close the browser window used for the identity transfer flow with the given app, if it exists"};const _={lastOpenedWindowRef:b}},yHuM:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("zxER"),s=e("BHdc"),l=e("E3dU"),o=e("E97Y"),f=e("M2+7"),r=e("Ccc1"),m=e("QYtq"),c=e("Z29U"),u=e("NV6F"),d=e("QLhP"),p=e("nNoG"),v=e("/MKj"),g=e("GhjL"),O=e("OwMQ"),b=e("9Gfp"),y=e("DQNL"),C=e("i5Ig"),_=e("VSuV");const j=10,E=new p.b("channel_token"),M=h(U=>{let{userGroupId:K,targetBounds:V}=U;const z=Object(v.useDispatch)(),[N,A]=Object(n.useState)(!1),x=Object(a.c)(G=>Object(g.g)(G,K)),k=Object(a.c)(G=>Object(g.d)(G,K));var F;const L=(F=Object(a.c)(b.a))!==null&&F!==void 0?F:void 0,S=Object(y.v)(k),I=!S&&!Object(y.y)(k),W=x===C.a,D=!S&&!I&&W&&!N;if(Object(n.useEffect)(()=>{D&&(z(Object(O.a)({groupId:K,reason:"texty-tooltip"})),A(!0))},[z,K,D]),W)return null;let H=x.map((G,te)=>t.a.createElement(_.a,{key:G,userId:G,isFirst:te===0,isSelf:L===G}));x.length>j+1&&(H=H.slice(0,j).concat(E.rt("{count} others",{count:x.length-j})));const Z=Object(p.h)(H,{noEscape:!0,react:!0});return t.a.createElement(m.a,{isOpen:!0,position:"top",targetBounds:V,overlayClassName:"c-popover c-popover--no-pointer",allowanceX:0,allowanceY:0,zIndex:"above_fs",shouldFocusAfterRender:!1,shouldFade:!0,ariaHideApp:!1},t.a.createElement(c.b,{position:"top",className:"c-tooltip__tip--usergroup"},Z))},"TextyTooltipUserGroup");M.displayName="TextyTooltipUserGroup";var T=M;const P=new p.b("channel_token"),B=h(U=>{let{memberId:K,userGroupId:V,channelId:z,title:N,targetBounds:A}=U;const x=Object(a.c)(L=>Object(l.d)(L,z));if(Object(a.c)(L=>Object(d.e)(L,K)))return t.a.createElement(m.a,{isOpen:!0,position:"top",targetBounds:A,overlayClassName:"c-popover c-popover--no-pointer",allowanceX:0,allowanceY:0,offsetY:-12,zIndex:"above_fs",shouldFocusAfterRender:!1,shouldFade:!0,ariaHideApp:!1},Object(u.B)({hideCoveragePlanLink:!0,memberId:K,hideButtons:!0}));let F=N;if(K)F=t.a.createElement(f.b,{id:K,showAvatar:!0,showPresence:!0,invert:!0});else if(z){const L=Object(o.q)(x),S=Object(o.j)(x);!L&&S?F=P.t("Private channel info"):F=t.a.createElement(r.a,{channelId:z,invert:!0})}else if(V)return t.a.createElement(T,{targetBounds:A,userGroupId:V});return t.a.createElement(m.a,{isOpen:!0,position:"top",targetBounds:A,overlayClassName:"c-popover c-popover--no-pointer",allowanceX:0,allowanceY:0,zIndex:"above_fs",shouldFocusAfterRender:!1,shouldFade:!0,ariaHideApp:!1},t.a.createElement(c.b,{position:"top",className:Object(s.default)({"c-tooltip__tip--member":K,"c-tooltip__tip--channel":z})},F))},"TextyTooltip");B.displayName="TextyTooltip";var R=i.a=B},yLDf:function(J,i,e){"use strict";e.d(i,"a",function(){return O});var n=e("mM05"),t=e.n(n),a=e("XIp8"),s=e("m7fc"),l=e("F294"),o=e("2iJX"),f=e("qAkX"),r=e("0qhH"),m=e("XpTY"),c=e("W8kP"),u=e("nBOy");const d=/^\s+$/,p=/^\s+/,v=/\s+$/;function g(){let{ops:b,trimStart:y=!0,trimEnd:C=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!b||!b.length||!y&&!C)return b;let _=Object(a.a)(b);if(y){_=Object(s.a)(_,M=>Object(r.a)(M)&&(Object(r.b)(M).match(d)||M.insert==="")&&!Object(m.a)(M.attributes||{}));const j=Object(l.a)(_)||{},E=Object(u.a)(new t.a(_),0);if(Object(r.a)(j||{})&&!Object(m.a)(E||{})){const M=Object(r.b)(j).replace(p,()=>"");j.insert=M}}if(C){_=Object(o.a)(_,E=>Object(r.a)(E)&&(Object(r.b)(E).match(d)||E.insert==="")&&!Object(m.a)(E.attributes||{}));const j=Object(f.a)(_)||{};if(Object(r.a)(j)&&!Object(m.a)(j.attributes||{})){const E=Object(r.b)(j).replace(v,()=>"");j.insert=E}}return _}h(g,"trimOps");function O(){let{delta:b,trimStart:y=!0,trimEnd:C=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(b&&Object(c.a)(b))return b;const _=b==null?void 0:b.ops,j=g({ops:_,trimStart:y,trimEnd:C});return new t.a(j)}h(O,"trimDelta")},yMyB:function(J,i,e){"use strict";var n=e("SEZ6");const t=h((a,s)=>Object(n.b)(a,s),"canUndoSendMessagesInChannel");i.a=t},yUsG:function(J,i,e){"use strict";e.d(i,"a",function(){return f});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),s=e("jWAO"),l=e("WAPM");const o=new a.b("share-dialog");function f(r){let m,c;return r.useMultiSelect&&(r.postingToChannelDisallowed?(c="error",m=o.t("Cannot send message to this channel")):r.canShareToAppDm()?r.totalNumberDestinationMembers&&r.totalNumberDestinationMembers>8?(c="error",m=o.t("Only 9 people can be in a direct message.",{fallbackHash:"c5025ffb71ed93ce11de6543bdada04e1ade99b6"})):r.deactivatedMemberIds.length>0&&r.deactivatedMemberIds.length===r.destinationMemberIds.length&&(r.deactivatedMemberIds.length===1?(c="error",m=o.t("This account has been deactivated.")):(c="error",m=o.t("These accounts have been deactivated."))):(c="error",m=o.t("Sending messages to this app has been turned off"))),(r.isHostedFile||r.isHostedMessageFile)&&r.slackConnectFileSharingBlocked&&(c="default",m=o.t("Your admins have disabled file upload in this Slack Connect conversation.",{fallbackHash:"71383217c9d64f51dc2d041efbda8a8a4e8a3005",fallbackHashNs:"file-upload"})),r.destinationError==="invalid_user_combination"&&(c="error",m=r.isFreePlanTeam?o.rt("On the free plan, Slack Connect DMs are currently limited to one-on-one conversations. Need to work as a team? <a>Learn more about Slack Connect channels</a>",{fallbackHash:"b280216d36c500bdca4ad6778c0a88045a4ec1f0",fallbackHashNs:"drafts","<a>":d=>{let{text:p}=d;return t.a.createElement(l.a,{articleId:115004151203},p)}}):null),!m||!c?null:t.a.createElement(s.d,{className:"p-composer_page__destination_alert",level:c,type:"inline","data-qa":"share_dialog_alert_message"},m)}h(f,"ShareDialogAlertMessage")},yVVx:function(J,i,e){"use strict";var n=e("9oTK"),t=e("q1tI"),a=e.n(t),s=e("fujP"),l=e("SQ0V"),o=e("3l96"),f=e("dmdh"),r=e("x6tY"),m=e("7ibc"),c=e("FXMY"),u=e("/n9c"),d=e("hjzp"),p=e("ylvb"),v=e("OtLZ"),g=e("Wy5O"),O=e("9Gfp"),b=e("E3dU"),y=e("Yauy"),C=e("E97Y"),_=e("gVOt"),j=e("y/e0"),E=e("gNhz");function M(z){let{state:N,channel:A}=z;if(Object(C.g)(A)){const x=Object(_.a)(A);return x?[x]:void 0}if(Object(C.i)(A)){const x=Object(O.a)(N),k=Object(y.C)(A)||[];return Object(v.a)(k,x)}}h(M,"getMemberIdsFromImOrMpim");var P=h(z=>{let{state:N,channelCanvas:A,embeddedCanvas:x}=z;if(!Object(r.g)(x)||!Object(r.h)(A))return null;const k=A.linked_channel_id;if(!k)return null;const F=Object(b.d)(N,k);if(Object(C.h)(F)){const W=M({state:N,channel:F});var L;const D=(L=Object(r.D)(x))!==null&&L!==void 0?L:[],H=Object(O.a)(N),Z=D.filter(X=>X.user_id!==H),G=Z.map(X=>X.user_id);if(Object(g.a)(W,G).length>0)return null;const se=Z.map(X=>X.access);return se.every(X=>X===se[0])?se[0]:E.a.Read}if(Object(j.a)(F)){const W=Object(r.Z)(x),D=Object(r.Y)(x);if(W.includes(k)){var S;return(S=x.shares)===null||S===void 0?void 0:S.public[k][0].access}if(D.includes(k)){var I;return(I=x.shares)===null||I===void 0?void 0:I.private[k][0].access}return null}return null},"getAccessForChannelCanvasLinkedChannel"),B=e("2VFn"),R=e("GlHf"),U=e("Mqk2");const K=Object(l.c)("Opens the modal to share a quip doc",function(){var z=Object(n.coroutine)(function*(N,A,x){let{source:k,parentCanvasId:F,embeddedCanvasId:L,isNewStandaloneCanvas:S}=x;const I=A(),W=Object(m.e)(I);var D;const H=(D=Object(R.d)(I))!==null&&D!==void 0?D:B.c;if(!F||!L||!W)return;const Z=Object(f.e)(I,F),G=Object(f.e)(I,L);if(!Z||!G||!Object(r.g)(Z)||!Object(r.g)(G)&&!S)return;const te=Object(c.a)(I,{file:G});if(!Object(r.h)(Z)||Object(r.h)(G)&&!S||!Object(r.ac)(G)||te)return;let se;Object(s.a)(Object(r.O)(G))?se=yield N(Object(U.d)({fileId:L,reason:"open-embedded-canvas-share-dialog"})):se=G;const $=Object(d.a)(F),X=Object(r.Y)(se),q=P({state:I,channelCanvas:Z,embeddedCanvas:se});if(q||X.includes($)){var Y,ee,w;const ae=(Y=se.shares)===null||Y===void 0||(ee=Y.private)===null||ee===void 0||(w=ee[$])===null||w===void 0?void 0:w[0].access,de=q??ae;N(Object(p.a)({parentCanvasId:Z.id,embeddedCanvasId:G.id,accessLevel:Object(r.Yb)(G)?de:E.a.Read,reason:"silent-share-embedded-canvas"}));return}const ne=a.a.createElement(u.b,{parentCanvas:Z,embeddedCanvas:G,source:k});N(Object(o.a)({element:ne,forceTargetWindowId:H!==B.c?H:void 0}))});return function(N,A,x){return z.apply(this,arguments)}}());K.meta={name:"createThunk",key:"createThunkmaybeOpenShareEmbeddedCanvasModal",description:"Opens the modal to share a quip doc"};var V=i.a=K},yVnW:function(J,i,e){"use strict"},yd6n:function(J,i,e){"use strict";e.d(i,"a",function(){return a}),e.d(i,"l",function(){return r}),e.d(i,"k",function(){return c}),e.d(i,"i",function(){return u}),e.d(i,"j",function(){return d}),e.d(i,"e",function(){return p}),e.d(i,"g",function(){return O}),e.d(i,"f",function(){return b}),e.d(i,"m",function(){return _}),e.d(i,"d",function(){return V}),e.d(i,"c",function(){return N}),e.d(i,"n",function(){return F}),e.d(i,"b",function(){return L}),e.d(i,"h",function(){return S});var n=e("vIgB"),t=e("wBgp");const a=[n.d.String,n.d.Integer,n.d.Number,n.d.Boolean,n.d.SlackTypesRichText,n.d.SlackTypesExpandedRichText,n.d.SlackTypesBlocks,n.d.SlackTypesChannelId,n.d.SlackTypesCanvasId,n.d.SlackTypesDate,n.d.SlackTypesDynamicPair,n.d.SlackTypesInteractivity,n.d.SlackTypesMessageContext,n.d.SlackTypesTimestamp,n.d.SlackTypesUserId,n.d.SlackTypesUserEmail,n.d.SlackTypesUsergroupId,n.d.SlackUserPermission,n.d.SlackTypesCredentialOauth2,n.d.SlackTypesTeamId,n.d.SlackTypesCurrency],s={[n.d.String]:[n.d.String,n.d.Integer,n.d.Number,n.d.Boolean,n.d.SlackTypesChannelId,n.d.SlackTypesUserId,n.d.SlackTypesUserEmail,n.d.SlackTypesUsergroupId,n.d.SlackTypesTimestamp,n.d.SlackTypesDate,n.d.SlackTypesCanvasId,n.d.SlackTypesTeamId,n.d.SlackTypesCurrency,n.d.SlackTypesRichText,n.d.SlackTypesExpandedRichText],[n.d.SlackTypesRichText]:[t.i,t.c,t.j,t.d,t.e,n.d.String,n.d.Integer,n.d.Number,n.d.Boolean,n.d.SlackTypesChannelId,n.d.SlackTypesUserId,n.d.SlackTypesUserEmail,n.d.SlackTypesMessageContext,n.d.SlackTypesUsergroupId,n.d.SlackTypesTimestamp,n.d.SlackTypesDate,n.d.SlackTypesRichText,n.d.SlackTypesExpandedRichText,n.d.SlackTypesCanvasId,n.d.SlackTypesTeamId,n.d.SlackTypesCurrency],[n.d.SlackTypesExpandedRichText]:[t.i,t.c,t.j,t.d,t.e,n.d.String,n.d.Integer,n.d.Number,n.d.Boolean,n.d.SlackTypesChannelId,n.d.SlackTypesUserId,n.d.SlackTypesUserEmail,n.d.SlackTypesMessageContext,n.d.SlackTypesUsergroupId,n.d.SlackTypesTimestamp,n.d.SlackTypesDate,n.d.SlackTypesRichText,n.d.SlackTypesExpandedRichText,n.d.SlackTypesCanvasId,n.d.SlackTypesTeamId,n.d.SlackTypesCurrency],[n.d.SlackTypesBlocks]:[n.d.String,n.d.Integer,n.d.Number,n.d.Boolean,n.d.SlackTypesChannelId,n.d.SlackTypesUserId,n.d.SlackTypesUserEmail,n.d.SlackTypesMessageContext,n.d.SlackTypesUsergroupId,n.d.SlackTypesTimestamp,n.d.SlackTypesDate,n.d.SlackTypesTeamId,n.d.SlackTypesCurrency],[n.d.Integer]:[n.d.Integer,n.d.Number],[n.d.Number]:[n.d.Integer,n.d.Number],[n.d.Boolean]:[n.d.Boolean],[n.d.SlackTypesChannelId]:[n.d.SlackTypesChannelId],[n.d.SlackTypesDate]:[n.d.SlackTypesDate],[n.d.SlackTypesDynamicPair]:[n.d.SlackTypesDynamicPair],[n.d.SlackTypesInteractivity]:[n.d.SlackTypesInteractivity],[n.d.SlackTypesMessageContext]:[n.d.SlackTypesMessageContext],[n.d.SlackTypesTimestamp]:[n.d.SlackTypesTimestamp],[n.d.SlackTypesUserId]:[n.d.SlackTypesUserId,n.d.SlackTypesUserEmail],[n.d.SlackTypesUserEmail]:[n.d.SlackTypesUserEmail,n.d.SlackTypesUserId],[n.d.SlackTypesUsergroupId]:[n.d.SlackTypesUsergroupId],[n.d.SlackUserPermission]:[n.d.SlackUserPermission],[n.d.SlackTypesCredentialOauth2]:[n.d.SlackTypesCredentialOauth2],[n.d.SlackTypesCanvasId]:[n.d.SlackTypesCanvasId],[n.d.SlackTypesTeamId]:[n.d.SlackTypesTeamId],[n.d.SlackTypesCurrency]:[n.d.SlackTypesCurrency]},l=[n.d.String,n.d.Integer,n.d.Number,n.d.Boolean,n.d.SlackTypesTimestamp,n.d.SlackTypesUserId,n.d.SlackTypesUserEmail,n.d.SlackTypesMessageContext,n.d.SlackTypesChannelId,n.d.SlackTypesCanvasId,n.d.SlackTypesUsergroupId,n.d.SlackTypesTeamId,n.d.SlackTypesFileId],o=[n.d.String,n.d.SlackTypesUserId,n.d.SlackTypesChannelId,n.d.SlackTypesFileId],f={[n.d.SlackTypesMessageContext]:["canvas_create","canvas_update_content","channel_canvas_create"]},r=h(I=>{let{type:W,isHidden:D}=I;const H=s[n.d.String];return!D&&H.includes(W)},"isValidStringInputVariable"),m=h(I=>{let{type:W,isHidden:D,items:H}=I;return D?!1:W===n.d.Array?(H==null?void 0:H.type)===n.d.String:s[n.d.String].includes(W)},"isValidDynamicInputVariable"),c=h((I,W)=>{let{type:D,items:H,isHidden:Z}=I;const G=s[n.d.SlackTypesRichText];return Z||W&&f[D]&&!f[D].includes(W)?!1:D===n.d.Array&&H?l.includes(H.type):G.includes(D)},"isValidRichTextInputVariable"),u=h(I=>{let{type:W,isHidden:D}=I;const H=s[n.d.Integer];return!D&&H.includes(W)},"isValidIntegerInputVariable"),d=h(I=>{let{type:W,isHidden:D}=I;const H=s[n.d.Number];return!D&&H.includes(W)},"isValidNumberInputVariable"),p=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.Boolean},"isValidBooleanInputVariable"),v=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.SlackTypesChannelId},"isValidChannelIdInputVariable"),g=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.SlackTypesDynamicPair},"isValidDynamicPairInputVariable"),O=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.SlackTypesDate},"isValidDateInputVariable"),b=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.SlackTypesChannelId},"isValidChannelInputVariable"),y=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.SlackTypesInteractivity},"isValidInteractivityInputVariable"),C=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.SlackTypesMessageContext},"isValidMessageContextInputVariable"),_=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.SlackTypesTimestamp},"isValidTimestampInputVariable"),j=h(I=>{let{type:W,isHidden:D}=I;const H=s[n.d.SlackTypesUserId];return!D&&H.includes(W)},"isValidUserIdInputVariable"),E=h(I=>{let{type:W,isHidden:D}=I;const H=s[n.d.SlackTypesUserEmail];return!D&&H.includes(W)},"isValidUserEmailInputVariable"),M=h(I=>E(I)||j(I),"isValidUserTypeVariable"),T=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.SlackTypesCurrency},"isValidCurrencyVariable"),P=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.SlackTypesUsergroupId},"isValidUserGroupIdInputVariable"),B=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.SlackUserPermission},"isValidUserPermissionInputVariable"),R=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.SlackTypesCredentialOauth2},"isValidCredentialOauth2Variable"),U=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.SlackTypesTeamId},"isValidTeamIdInputVariable"),K=h(I=>{let{type:W,isHidden:D}=I;return!D&&W===n.d.SlackTypesFileId},"isValidFileIdInputVariable"),V=h((I,W)=>{var D;return I.isHidden?!1:((D=W.items)===null||D===void 0?void 0:D.type)==="slack#/types/mixed"?I.type==="array":I.type==="array"?!I.items||I.items.type==="slack#/types/mixed"?!0:F(I.items,W.items):F(I,W.items)},"isValidArrayInputVariable"),z=h((I,W)=>I.type!==n.d.Object||I.isHidden?!1:(W.required||[]).every(H=>{var Z;const G=(Z=W.properties)===null||Z===void 0?void 0:Z[H];return!I.objectProperties||!G?!1:I.objectProperties.some(te=>{const se=te.name===H,$=te.type===G.type;return se&&$})}),"isValidObjectInputVariable"),N=h((I,W)=>{var D;return I.type!==n.d.Object||I.isHidden?!1:Boolean((D=I.objectProperties)===null||D===void 0?void 0:D.some(H=>W.type===n.d.Array?V(H,W):F(H,W)))},"isObjectVariableWithValidProperties"),A=h((I,W)=>I.isHidden||I.type!==n.d.Array||!I.items?!1:I.items.type===W&&o.includes(I.items.type),"isValidArrayVariableWithItemTypeMatchOptionType"),x=h(I=>{let{type:W,isHidden:D,items:H}=I;return D||W!==n.d.Array||!H?!1:o.includes(H.type)},"isArrayVariableWithItemTypeCoercibleToString"),k=h((I,W)=>I.type!==n.d.Object||I.isHidden||!I.objectProperties?!1:I.objectProperties.some(D=>D.type===W),"isObjectVariableWithValidDynamicOptionType");function F(I,W){if(I.isHidden)return!1;switch(W.type){case n.d.Boolean:return p(I);case n.d.Integer:return u(I);case n.d.Number:return d(I);case n.d.String:return r(I);case n.d.SlackTypesBlocks:case n.d.SlackTypesRichText:case n.d.SlackTypesExpandedRichText:return c(I);case n.d.SlackTypesChannelId:return v(I);case n.d.SlackTypesDate:return O(I);case n.d.SlackTypesDynamicPair:return g(I);case n.d.SlackTypesCredentialOauth2:return R(I);case n.d.SlackTypesInteractivity:return y(I);case n.d.SlackTypesMessageContext:return C(I);case n.d.SlackTypesTimestamp:return _(I);case n.d.SlackTypesUserEmail:case n.d.SlackTypesUserId:return M(I);case n.d.SlackTypesCurrency:return T(I);case n.d.SlackTypesUsergroupId:return P(I);case n.d.SlackUserPermission:return B(I);case n.d.SlackTypesTeamId:return U(I);case n.d.SlackTypesFileId:return K(I);default:return I.type===W.type}}h(F,"isValidVariableForInputParameter");const L=h(I=>{let{type:W,isHidden:D,source:H,sourceReference:Z}=I;return b({type:W,isHidden:D})&&H==="trigger"&&Z==="{{data.channel_id}}"},"isChannelWhereWorkflowRanVariable"),S=h((I,W)=>{if(I.isHidden)return!1;if(k(I,W))return!0;switch(W){case n.d.Integer:return u(I);case n.d.Number:return d(I);case n.d.Boolean:return p(I);case n.d.SlackTypesUserId:return M(I)||A(I,W);case n.d.SlackTypesChannelId:return v(I)||A(I,W);case n.d.String:return r(I)||x(I);case n.d.SlackTypesDate:return O(I);default:return I.type===W}},"isValidDynamicInputKeyValueOptionVariable")},yhu1:function(J,i,e){"use strict";e.d(i,"a",function(){return u});var n=e("q1tI"),t=e.n(n),a=e("nNoG"),s=e("Tevt"),l=e("WAPM"),o=e("Ccc1"),f=e("Cwwo"),r=e("G0eX"),m=e("ZerW");const c=new a.b("invite-errors"),u=h((d,p,v,g,O,b)=>{const{errorKey:y,accessType:C,currentTeamName:_,hostTeamName:j,channelName:E,channelId:M}=d,T=d.inviteesCount||1,P=Object(r.v)(null,"admin"),B=360003534892;switch(y){case"url_in_message":return c.t("Sorry, but URLs are not allowed in the custom message. Please remove it and try again!");case"invalid_email":return c.t("{inviteesCount, plural, =1 {That doesn\u2019t} other {These don\u2019t}} look like a valid email {inviteesCount, plural, =1 {address} other {addresses}}!",{inviteesCount:T});case"user_is_profile_only":case"already_in_team":case"already_in_team_invited_user":return c.t("{inviteesCount, plural, =1 {This person is} other {These people are}} already in your workspace.",{inviteesCount:T});case"user_disabled":return O?c.t("{inviteesCount, plural, =1 {This person is} other {These people are}} already in your workspace, but their account is deactivated. To manage their {inviteesCount, plural, =1 {account} other {accounts}} go to Workspace Settings > Manage Members.",{inviteesCount:T}):c.rt("{inviteesCount, plural, =1 {This person is} other {These people are}} already in your workspace, but their account is deactivated. You can <Link>manage</Link> their {inviteesCount, plural, =1 {account} other {accounts}}.",{inviteesCount:T},R=>{let{text:U}=R;return t.a.createElement(s.a,{href:P},U)});case"already_invited":return c.t("{inviteesCount, plural, =1 {This person has} other {These people have}} already been invited to your workspace.",{inviteesCount:T});case"sent_recently":return c.t("{inviteesCount, plural, =1 {This person was} other {These people were}} recently invited. No need to invite them again just yet.",{inviteesCount:T});case"invite_failed":return c.t("Something went wrong with {inviteesCount, plural, =1 {this invite} other {this invites}} :(",{inviteesCount:T});case"ura_limit_reached":return c.t("You\u2019ve reached your workspace limit for Single-Channel Guests. You must invite more paid members first.");case"user_limit_reached":return c.t("You\u2019ve reached the maximum number of users for this workspace.");case"not_allowed":return c.t("You can\u2019t invite this type of account based on your current SSO settings.");case"custom_message_not_allowed":return c.t("Sorry, you can\u2019t add a custom message to this invite. Please remove it and try again!");case"domain_mismatch":return c.t("Your SSO settings prevent you from inviting people from this email domain.");case"invite_limit_reached":return O?c.t("Your workspace has reached its invitation limit. Once people accept the existing invitations, you\u2019ll be able to send out more."):c.rt("Your workspace has exceeded the limit on invitations. After more people have accepted the ones your workspace has sent, you can send more. Revoking invitations will not lift the limit. Our Help Center has <Link>more details on invitation limits</Link>.",null,R=>{let{text:U}=R;return t.a.createElement(l.a,{articleId:201330256,hash:"invitation-limits",forceOpenInBrowser:!0},U)});case"too_long":return c.t("{inviteesCount, plural, =1 {This person\u2019s name exceeds} other {These people\u2019s names exceed}} the 35-character limit.",{inviteesCount:T});case"org_user_is_disabled":return c.t("{inviteesCount, plural, =1 {This person has a deactivated account} other {These people have deactivated accounts}} for your organization.",{inviteesCount:T});case"org_user_is_disabled_but_present":return c.t("{inviteesCount, plural, =1 {This person is} other {These people are}} already in your workspace, but they have been deactivated by your organization. Contact an organization administrator to re-enable their {inviteesCount, plural, =1 {account} other {accounts}}.",{inviteesCount:T});case"mismatch_with_pending_team_invite":switch(C){case f.a.SingleChannelGuest:return c.t("{inviteesCount, plural, =1 {This person} other {These people}} can\u2019t be invited, because they have already been invited as a Single-Channel Guest to your organization.",{inviteesCount:T});case f.a.MultiChannelGuest:return c.t("{inviteesCount, plural, =1 {This person} other {These people}} can\u2019t be invited, because they have already been invited as a Multi-Channel Guest to your organization.",{inviteesCount:T});default:return c.t("{inviteesCount, plural, =1 {This person} other {These people}} can\u2019t be invited, because they have already been invited as a Full Member to your organization.",{inviteesCount:T})}case"user_type_mismatch":return c.t("{inviteesCount, plural, =1 {This person already has an account} other {These people already have accounts}} for your organization.",{inviteesCount:T});case"org_user_is_restricted":return c.t("{inviteesCount, plural, =1 {This person already has a Multi-Channel Guest account} other {These people already have Multi-Channel Guest accounts}} for your organization, so you can only invite them in that role.",{inviteesCount:T});case"org_user_is_ultra_restricted":return c.t("{inviteesCount, plural, =1 {This person already has a Single-Channel Guest account} other {These people already have Single-Channel Guest accounts}} for your organization, so you can only invite them in that role.",{inviteesCount:T});case"org_user_not_ultra_restricted":case"org_user_not_restricted":return c.t("{inviteesCount, plural, =1 {This person already has a Full Member account} other {These people already have Full Member accounts}} for your organization, so you can only invite them in that role.",{inviteesCount:T});case"requires_channel":return c.t("Pick at least one channel before inviting Multi-Channel Guests.");case"requires_one_channel":return c.t("Pick a channel before inviting Single-Channel Guests.");case"already_requested":return c.t("You have already requested an invite for {inviteesCount, plural, =1 {this person} other {these people}}. We\u2019ll update you when an admin approves or denies this request.",{inviteesCount:T});case"existing_request":return c.t("Someone has already requested an invite for {inviteesCount, plural, =1 {this person} other {these people}}. We\u2019ll update you when an admin approves or denies this request.",{inviteesCount:T});case"not_enough_channels":return c.t("This person is a Single-Channel Guest and can\u2019t be added to a second channel.");case"already_in_channel":return c.t("{inviteesCount, plural, =1 {User is} other {Users are}} already in this channel.",{inviteesCount:T});case"channel_not_found":return c.t("A valid channel name is required.",{});case"user_not_found":return c.t("This user can\u2019t be added.");case"method_not_supported_for_channel_type":return c.t("A valid channel name is required.",{});case"user_is_restricted":return c.t("{inviteesCount, plural, =1 {User is a Multi-Channel Guest} other {Users are Multi-Channel Guests}}. Only your Workspace Admin can add them to a channel.",{inviteesCount:T});case"org_user_not_in_team":case"invitee_is_not_a_member_of_this_workspace":return c.t("{inviteesCount, plural, =1 {This person isn\u2019t} other {These people aren\u2019t}} a member of any workspaces where this channel lives, so they can\u2019t be added to it. You might want to try again from channel details.",{currentTeamName:_,inviteesCount:T,fallbackHash:"c71a7a230a60170fceecfda9a0797fcab6337ade"});case"too_many_users":return c.t("You can only add up to 1,000 users at a time.");case"cant_invite_to_managed_channel":return M?c.rt("It looks like {inviteesCount, plural, =1 {this user isn\u2019t} other {these users aren\u2019t}} in an IDP group connected to <t1></t1>, so it\u2019s not possible to add them to this channel.",{channelName:E,inviteesCount:T,"<t1>":()=>t.a.createElement(o.a,{channelId:M})}):c.t("It looks like {inviteesCount, plural, =1 {this user isn\u2019t} other {these users aren\u2019t}} in an IDP group connected to #{channelName}, so it\u2019s not possible to add them to this channel.",{inviteesCount:T,channelName:E});case"no_urls_allowed":return c.t("Unfortunately, custom messages can\u2019t contain URLs.");case"team_user_disabled_org_user_active":return v&&p&&O?c.t("{inviteesCount, plural, =1 {This person has} other {These people have}} been removed from this workspace. To manage their {inviteesCount, plural, =1 {account} other {accounts}} go to Workspace Settings > Manage Members.",{inviteesCount:T}):v&&p&&!O?c.rt("{inviteesCount, plural, =1 {This person has} other {These people have}} been removed from this workspace. You can <Link>manage</Link> their {inviteesCount, plural, =1 {account} other {accounts}}.",{inviteesCount:T},R=>{let{text:U}=R;return t.a.createElement(s.a,{href:P},U)}):v||O?c.t("{inviteesCount, plural, =1 {This person has} other {These people have}} been removed from this workspace. Contact an admin to manage their {inviteesCount, plural, =1 {account} other {accounts}}.",{inviteesCount:T}):c.rt("{inviteesCount, plural, =1 {This person is} other {These people are}} already in your workspace, but their account is deactivated. You can <Link>manage</Link> their {inviteesCount, plural, =1 {account} other {accounts}}.",{inviteesCount:T},R=>{let{text:U}=R;return t.a.createElement(s.a,{href:P},U)});case"too_many_members":return O?c.t("This channel has reached capacity, so you can\u2019t add more people right now."):c.rt("This channel is only allowed a certain number of members, so you can\u2019t add more people right now. <a>Reach out to your admins</a> if you have questions.",null,R=>{let{text:U}=R;return t.a.createElement(l.a,{articleId:B,hash:"find-owners-and-admins",forceOpenInBrowser:!0},U)});case"no_perms":return c.t("You can\u2019t invite {inviteesCount, plural, =1 {this person} other {these people}} based on your\xA0organization\u2019s settings.",{inviteesCount:T});case"no_permission":return c.t("You don\u2019t have permission to invite people to this channel.");case"cant_invite":return c.t("{inviteesCount, plural, =1 {This person} other {These people}} can\u2019t be added to the channel because they may not have Slack Connect enabled, or may not have permission to use it.",{inviteesCount:T});case"restricted_action":return c.rt("Your organization\u2019s settings prevent you from using <strong>Slack Connect</strong> to invite people outside of {currentTeamName}.",{currentTeamName:_});case"not_allowed_for_grid_workspace":return g?t.a.createElement(m.a,{processingOrgMembers:!1,canConvertToExternalSharedChannel:!1,channel:g}):void 0;case"not_owner":return j?c.rt("Only the channel owner, {hostTeam}, can invite additional organizations to join this channel.",{hostTeam:j}):c.t("Only the channel owner can add people to this channel.");case"user_cannot_view_record":return b?c.t("{inviteesCount, plural, =1 {This person} other {These people}} cannot view this record. You might want to modify their permissions in Salesforce.",{inviteesCount:T}):"This person cannot view this record. You might want to modify their permissions in Salesforce.";case"record_channels_not_enabled":return b?c.t("{inviteesCount, plural, =1 {This person} other {These people}} can\u2019t join this channel because they don\u2019t have access to the record channels pilot feature. The product development team has been notified of this request, nothing more to do here!",{inviteesCount:T}):"This person can\u2019t join this channel because they don\u2019t have access to the record channels pilot feature. The product development team has been notified of this request, nothing more to do here.";case"fatal_error":return c.rt("<b>Something went wrong.</b> Sorry about that \u2014 please try again later, and contact Slack if this problem persists.",{fallbackHash:"878b2348d4744f144224180a68a308032036d775",fallbackHashNs:"enterprise_settings"});default:return}},"getInviteErrorText");u.displayName="getInviteErrorText"},ytio:function(J,i,e){"use strict";e.d(i,"b",function(){return a}),e.d(i,"c",function(){return s}),e.d(i,"a",function(){return l});var n=e("ZKjC"),t=e("UY4Z");const a=Object(n.b)(function(o){let{fileId:f,ts:r,channelId:m,viewContext:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var u,d;const p=Object(t.a)({fileId:f,ts:r,channelId:m,viewContext:c});return(o==null||(u=o.inlineFilePreviews)===null||u===void 0||(d=u.files)===null||d===void 0?void 0:d[p])||!1});a.meta={name:"createSelector",key:"createSelectorisFileExpanded",description:function(o){let{fileId:f,ts:r,channelId:m,viewContext:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var u,d;const p=Object(t.a)({fileId:f,ts:r,channelId:m,viewContext:c});return(o==null||(u=o.inlineFilePreviews)===null||u===void 0||(d=u.files)===null||d===void 0?void 0:d[p])||!1}};const s=Object(n.b)(function(o){let{fileId:f,ts:r,channelId:m,viewContext:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var u,d;const p=Object(t.a)({fileId:f,ts:r,channelId:m,viewContext:c});return(o==null||(u=o.inlineFilePreviews)===null||u===void 0||(d=u.expanding)===null||d===void 0?void 0:d[p])||!1});s.meta={name:"createSelector",key:"createSelectorisFileExpanding",description:function(o){let{fileId:f,ts:r,channelId:m,viewContext:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var u,d;const p=Object(t.a)({fileId:f,ts:r,channelId:m,viewContext:c});return(o==null||(u=o.inlineFilePreviews)===null||u===void 0||(d=u.expanding)===null||d===void 0?void 0:d[p])||!1}};const l=Object(n.b)(o=>{var f;return(o==null||(f=o.inlineFilePreviews)===null||f===void 0?void 0:f.expanding)&&Object.keys(o.inlineFilePreviews.expanding).length>0});l.meta={name:"createSelector",key:"createSelectorisAnyFileExpanding",description:o=>{var f;return(o==null||(f=o.inlineFilePreviews)===null||f===void 0?void 0:f.expanding)&&Object.keys(o.inlineFilePreviews.expanding).length>0}}},yvAn:function(J,i,e){"use strict";var n=e("9oTK"),t=e("Lgge"),a=e("s4P+"),s=e("ykb+"),l=e("vaRI");function o(){return new Worker(e.p+"gantry-v2-eval-test.worker.js")}h(o,"Worker_fn");function f(){return new t.a(j=>{const E=Object(s.b)()||Object(s.f)()||Object(s.c)()?new o:new Worker("/eval-test.worker.js");E.addEventListener("message",M=>{E.terminate(),j(M.data)})})}h(f,"canEvalInWorker");function r(){return m.apply(this,arguments)}h(r,"supportsStreamRendererWorker");function m(){return m=Object(n.coroutine)(function*(){return!("MediaStreamTrackProcessor"in window)||!("MediaStreamTrackGenerator"in window)||!("OffscreenCanvas"in window)||!("ImageBitmap"in window)||!("createImageBitmap"in window)?!1:f()}),m.apply(this,arguments)}h(m,"_supportsStreamRendererWorker");var c=e("JBzN");const u=20,d=8,p=1e3/20,v=1280,g=720,O=1920,b=1080,y=5e3;let C=h(class Us extends EventTarget{addEventListener(E,M){super.addEventListener(E,M)}static getMIMEType(){return["video/mp4;codecs=avc1,mp4a","video/x-matroska;codecs=avc1,mp4a","video/webm;codecs=avc1,mp4a","video/mp4;codecs=avc1","video/x-matroska;codecs=avc1","video/webm;codecs=avc1","video/mp4","video/webm"].find(M=>MediaRecorder.isTypeSupported(M))}static getAudioMIMEType(){return["audio/mp4","audio/webm;codecs=opus","audio/webm"].find(E=>MediaRecorder.isTypeSupported(E))}initEffectRenderer(E,M){var T=this;return Object(n.coroutine)(function*(){if(!T.canvas)return;T.dispatchEvent(new Event("loadingstart"));const P=(yield Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-effect-renderer"),e.e("gantry-v2-async-effect-renderer")]).then(e.bind(null,"XOBc"))).default;T.effectRenderer=new P({mode:E,video:T.cameraVideo,width:T.canvas.width,height:T.canvas.height}),M&&T.effectRenderer.setBg(M),T.useEffectRendererWorker?yield T.effectRenderer.predict():(yield T.effectRenderer.modelP,T.effectRenderer.initPredict()),T.dispatchEvent(new Event("loadingend"))})()}startMicrophone(){var E=this;return Object(n.coroutine)(function*(){if(E.microphoneOn&&E.microphoneStream)return E.microphoneStream;if(E.microphoneStreamPromise)return E.microphoneStreamPromise;if(!(yield Object(l.a)("microphone"))){const P=new Error("system access to microphone not granted");throw E.dispatchEvent(new ErrorEvent("microphoneerror",{error:P,message:P.message})),P}const T={audio:{autoGainControl:E.autoGainControl,noiseSuppression:E.noiseSuppression,echoCancellation:{ideal:!1},deviceId:E.microphoneId},video:!1};E.microphoneStreamPromise=t.a.resolve(navigator.mediaDevices.getUserMedia(T));try{E.microphoneStream=yield E.microphoneStreamPromise}catch(P){throw E.stopMicrophone(),E.dispatchEvent(new ErrorEvent("microphoneerror",{error:P,message:P.message})),P}finally{E.microphoneStreamPromise=void 0}return E.microphoneStream.addEventListener("inactive",()=>{E.stopMicrophone()}),E.microphoneStream.getTracks().forEach(P=>{P.addEventListener("ended",()=>{E.stopMicrophone()})}),E.microphoneOn=!0,!E.rendering&&!E.useStreamRendererWorker&&E.render(),E.dispatchEvent(new Event("microphonestart")),E.microphoneStream})()}stopMicrophone(){var E=this;return Object(n.coroutine)(function*(){var M;E.microphoneStreamPromise&&(yield E.microphoneStreamPromise),!(!E.microphoneOn||!E.microphoneStream)&&(E.microphoneOn=!1,E.microphoneStream.getTracks().forEach(T=>T.stop()),E.microphoneStream=void 0,(M=E.cameraStream)===null||M===void 0||M.getAudioTracks().forEach(T=>T.stop()),E.dispatchEvent(new Event("microphoneend")))})()}startCamera(){var E=this;return Object(n.coroutine)(function*(){if(E.cameraOn&&E.cameraStream)return E.cameraStream;if(E.cameraStreamPromise)return E.cameraStreamPromise;const M={audio:{autoGainControl:E.autoGainControl,noiseSuppression:E.noiseSuppression,echoCancellation:{ideal:!1},deviceId:E.microphoneId},video:{deviceId:E.cameraId,width:E.width,height:E.height}};E.cameraStreamPromise=t.a.resolve(navigator.mediaDevices.getUserMedia(M));try{E.cameraStream=yield E.cameraStreamPromise}catch(T){throw E.stopCamera(),E.dispatchEvent(new ErrorEvent("cameraerror",{error:T,message:T.message})),T}finally{E.cameraStreamPromise=void 0}return E.cameraStream.addEventListener("inactive",()=>{E.stopCamera()}),E.cameraStream.getVideoTracks().forEach(T=>{T.addEventListener("ended",()=>{E.stopCamera()})}),E.cameraVideo.srcObject=E.cameraStream,E.cameraVideo.muted=!0,E.cameraVideo.play(),E.cameraOn=!0,(yield E.useStreamRendererWorker)?(E.cameraReadable=new MediaStreamTrackProcessor({track:E.cameraStream.getVideoTracks()[0]}).readable,E.updateStreamRendererWorker({cameraReadable:E.cameraReadable})):E.rendering||E.render(),E.dispatchEvent(new Event("camerastart")),E.cameraStream})()}stopCamera(){var E=this;return Object(n.coroutine)(function*(){E.cameraStreamPromise&&(yield E.cameraStreamPromise),!(!E.cameraOn||!E.cameraStream)&&(E.cameraOn=!1,E.cameraStream.getTracks().forEach(M=>M.stop()),E.cameraStream=void 0,E.cameraVideo.srcObject=null,E.dispatchEvent(new Event("cameraend")))})()}startScreenCapture(E){var M=this;return Object(n.coroutine)(function*(){if(M.screenOn&&M.screenStream)return M.screenStream;if(M.screenStreamPromise)return M.screenStreamPromise;if(E){const T={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:E,maxWidth:M.screenWidth,maxHeight:M.screenHeight,maxFrameRate:30}}},P=navigator.mediaDevices;M.screenStreamPromise=P.getUserMedia(T)}else{const T={audio:!1,video:{width:M.screenWidth,height:M.screenHeight,cursor:"always",frameRate:30}},P=navigator.mediaDevices;M.screenStreamPromise=t.a.resolve(P.getDisplayMedia(T))}try{M.screenStream=yield M.screenStreamPromise}catch(T){throw M.stopScreenCapture(),M.dispatchEvent(new ErrorEvent("screenerror",{error:T,message:T.message})),T}finally{M.screenStreamPromise=void 0}return M.screenStream.addEventListener("inactive",()=>{M.stopScreenCapture()}),M.screenStream.getTracks().forEach(T=>{T.addEventListener("ended",()=>{M.stopScreenCapture()})}),M.screenVideo.srcObject=M.screenStream,M.screenVideo.muted=!0,M.screenVideo.play(),M.screenOn=!0,M.useCanvasRecording=!0,M.resetGCO(),(yield M.useStreamRendererWorker)?(M.screenReadable=new MediaStreamTrackProcessor({track:M.screenStream.getVideoTracks()[0]}).readable,M.updateStreamRendererWorker({screenReadable:M.screenReadable})):M.rendering||M.render(),M.dispatchEvent(new Event("screenstart")),M.screenStream})()}stopScreenCapture(){!this.screenOn||!this.screenStream||(this.screenOn=!1,this.screenStream.getTracks().forEach(E=>E.stop()),this.screenStream=void 0,this.screenVideo.srcObject=null,this.dispatchEvent(new Event("screenend")))}startDummyAudio(){this.dummyAudioContext=new(window.AudioContext||window.webkitAudioContext);const E=this.dummyAudioContext.destination,M=this.dummyAudioContext.createGain();M.gain.value=.001,M.connect(E);const T=this.dummyAudioContext.createOscillator();T.frequency.value=10,T.connect(M),T.start()}stopDummyAudio(){this.dummyAudioContext&&this.dummyAudioContext.close()}startAudioRecording(){var E;if(this.recording)return;const M=(E=this.microphoneStream)===null||E===void 0?void 0:E.getTracks()[0];M&&(this.audioRecordStream=new MediaStream([M]),this.audioRecordData=[],this.audioMediaRecorder=new MediaRecorder(this.audioRecordStream,{mimeType:this.mimeType,audioBitsPerSecond:128e3}),this.audioMediaRecorder.addEventListener("dataavailable",T=>{T.data&&T.data.size>0&&this.audioRecordData.push(T.data)}),this.audioMediaRecorder.addEventListener("stop",()=>{const T=new Blob(this.audioRecordData,{type:this.mimeType});this.dispatchEvent(new BlobEvent("recordingend",{data:T})),this.recording=!1}),this.audioMediaRecorder.start(y),this.dispatchEvent(new Event("recordingstart")),this.recording=!0)}stopAudioRecording(){var E;this.recording&&(this.stopDummyAudio(),(E=this.audioMediaRecorder)===null||E===void 0||E.stop(),this.recording=!1)}startRecording(){var E,M,T,P;if(this.recording||!this.canvas||!this.mimeType)return;this.useCanvasRecording=this.screenOn||!!this.bgBlur||!!this.bgImg;let B;this.rendererTrackGenerator?B=this.rendererTrackGenerator:(this.canvasStream=this.canvas.captureStream(30),B=this.canvasStream.getTracks()[0]);const R=(E=this.cameraStream)===null||E===void 0?void 0:E.getVideoTracks()[0];var U;const K=(U=(M=this.cameraStream)===null||M===void 0?void 0:M.getAudioTracks()[0])!==null&&U!==void 0?U:(T=this.microphoneStream)===null||T===void 0?void 0:T.getTracks()[0];this.cameraOn&&this.microphoneOn&&!(!((P=this.cameraStream)===null||P===void 0)&&P.getAudioTracks()[0])&&this.logger.info("camera is on but could not get audio track from the camera stream. Fell back to microphone stream");const V=[];B&&V.push(B);const z=[];if(R&&z.push(R),this.microphoneOn&&K&&(V.push(K),z.push(K)),!V.length&&!z.length)throw new Error("no tracks to record");this.canvasRecordStream=new MediaStream(V),this.canvasRecordData=[],this.canvasMediaRecorder=new MediaRecorder(this.canvasRecordStream,{mimeType:this.mimeType,videoBitsPerSecond:8e6,audioBitsPerSecond:128e3}),this.canvasMediaRecorder.addEventListener("dataavailable",N=>{N.data&&N.data.size>0&&(this.canvasRecordData.push(N.data),this.logger.info(`canvas recorder got ${N.data.size} bytes, total ${this.canvasRecordData.reduce((A,x)=>A+x.size,0)}`))}),this.canvasMediaRecorder.addEventListener("stop",()=>{const N=new Blob(this.canvasRecordData,{type:this.mimeType});this.useCanvasRecording&&(this.logger.info("using canvas recording"),this.dispatchEvent(new BlobEvent("recordingend",{data:N}))),this.recording=!1}),this.canvasMediaRecorder.start(y),this.logger.info("Started canvas media recorder"),this.useCanvasRecording||(this.cameraRecordStream=new MediaStream(z),this.cameraRecordData=[],this.cameraMediaRecorder=new MediaRecorder(this.cameraRecordStream,{mimeType:this.mimeType,videoBitsPerSecond:4e6,audioBitsPerSecond:128e3}),this.cameraMediaRecorder.addEventListener("dataavailable",N=>{N.data&&N.data.size>0&&(this.logger.info(`camera recorder got ${N.data.size} bytes`),this.cameraRecordData.push(N.data))}),this.cameraMediaRecorder.addEventListener("stop",()=>{const N=new Blob(this.cameraRecordData,{type:this.mimeType});this.useCanvasRecording||(this.logger.info("using camera recording"),this.dispatchEvent(new BlobEvent("recordingend",{data:N}))),this.recording=!1}),this.cameraMediaRecorder.start(y),this.logger.info("Started camera media recorder")),this.dispatchEvent(new Event("recordingstart")),this.startDummyAudio(),this.recording=!0,this.frameTimings={last:0,sum:0,count:0,drops:0,draw:0}}stopRecording(){this.recording&&(this.stopDummyAudio(),this.canvasMediaRecorder&&this.canvasMediaRecorder.state!=="inactive"&&this.canvasMediaRecorder.stop(),this.cameraMediaRecorder&&this.cameraMediaRecorder.state!=="inactive"&&this.cameraMediaRecorder.stop(),this.recording=!1)}stop(){var E=this;return Object(n.coroutine)(function*(){var M;if(!E.useStreamRendererWorker&&(!((M=E.frameTimings)===null||M===void 0)&&M.count)&&E.cameraOn){var T;E.dispatchEvent(new CustomEvent("frametimingdata",{detail:{frameTimings:E.frameTimings,effect:(T=E.effectRenderer)===null||T===void 0?void 0:T.mode}})),E.frameTimings=void 0}if(E.stopRecording(),E.stopScreenCapture(),E.stopCamera(),E.stopMicrophone(),E.renderTimeout&&(clearTimeout(E.renderTimeout),E.renderTimeout=void 0),E.streamRendererWorker){const P=new t.a(B=>{E.onFrameTimingData=B});(yield E.streamRendererWorker).postMessage({type:"end"}),yield P}})()}pauseRecording(){var E,M,T;((E=this.canvasMediaRecorder)===null||E===void 0?void 0:E.state)==="recording"&&this.canvasMediaRecorder.pause(),((M=this.cameraMediaRecorder)===null||M===void 0?void 0:M.state)==="recording"&&this.cameraMediaRecorder.pause(),((T=this.audioMediaRecorder)===null||T===void 0?void 0:T.state)==="recording"&&this.audioMediaRecorder.pause(),this.recordingPaused=!0,this.dispatchEvent(new Event("recordingpaused"))}resumeRecording(){var E,M,T;((E=this.canvasMediaRecorder)===null||E===void 0?void 0:E.state)==="paused"&&this.canvasMediaRecorder.resume(),((M=this.cameraMediaRecorder)===null||M===void 0?void 0:M.state)==="paused"&&this.cameraMediaRecorder.resume(),((T=this.audioMediaRecorder)===null||T===void 0?void 0:T.state)==="paused"&&this.audioMediaRecorder.resume(),this.recordingPaused=!1,this.dispatchEvent(new Event("recordingresumed"))}toggleBgBlur(){var E=this;return Object(n.coroutine)(function*(){E.bgImg&&E.clearBgImage(),E.bgBlur=!E.bgBlur,(yield E.useStreamRendererWorker)?E.updateStreamRendererWorker({effect:E.bgBlur?"blur":!1}):(E.effectRenderer?E.effectRenderer.setMode("blur"):yield E.initEffectRenderer("blur"),E.bgBlur?(E.useCanvasRecording=!0,E.canvas&&(E.canvas.width=E.width,E.canvas.height=E.height)):E.canvas&&(E.resetGCO(),E.canvas.width=E.screenWidth,E.canvas.height=E.screenHeight)),E.effectRenderer&&E.canvas&&E.effectRenderer.setDimensions(E.canvas.width,E.canvas.height)})()}setBgImage(E){var M=this;return Object(n.coroutine)(function*(){if(M.bgBlur&&M.toggleBgBlur(),M.bgImg=E,yield M.useStreamRendererWorker){const{width:T,height:P}=Object(c.b)({sourceWidth:E.width,sourceHeight:E.height,targetWidth:M.width,targetHeight:M.height}),B=yield createImageBitmap(E,{resizeWidth:T,resizeHeight:P});M.updateStreamRendererWorker({effect:"bg",bgImg:B})}else M.effectRenderer?(M.effectRenderer.setMode("bg"),M.effectRenderer.setBg(E)):yield M.initEffectRenderer("bg",E),M.useCanvasRecording=!0})()}clearBgImage(){var E=this;return Object(n.coroutine)(function*(){E.resetGCO(),E.bgImg=null,(yield E.useStreamRendererWorker)&&E.updateStreamRendererWorker({effect:!1})})()}resetGCO(){this.ctx&&(this.ctx.globalCompositeOperation="copy")}maybeLogFrameTimings(){if(this.frameTimings){const{sum:E,count:M,drops:T,draw:P}=this.frameTimings;if(M>0&&M%300===0){const B=1e3/(E/M),R=T/M,U=P/M;this.logger.info(`fps: ${B}, relative drops: ${R}, draw time: ${U}`)}}}render(){var E=this;return Object(n.coroutine)(function*(){if(yield E.useStreamRendererWorker)throw new Error("rendering but using worker??");if(!E.ctx||!E.canvas){E.rendering=!1;return}if(!E.cameraOn&&!E.screenOn){E.ctx.clearRect(0,0,E.canvas.width,E.canvas.height),E.rendering=!1;return}E.rendering=!0;const M=performance.now();if(E.frameTimings){if(E.frameTimings.last!==0){const B=M-E.frameTimings.last;E.frameTimings.sum+=B,E.frameTimings.count+=1,B>p&&(E.frameTimings.drops+=1)}E.frameTimings.last=M}if(E.screenOn){E.ctx.clearRect(0,0,E.screenWidth,E.screenHeight);const{x:B,y:R,width:U,height:K}=Object(c.c)({sourceWidth:E.screenVideo.videoWidth,sourceHeight:E.screenVideo.videoHeight,targetWidth:E.canvas.width,targetHeight:E.canvas.height});if(E.ctx.drawImage(E.screenVideo,B,R,U,K),E.cameraOn){E.ctx.save();const V=E.canvas.height/5,{width:z,height:N}=Object(c.c)({sourceWidth:E.cameraVideo.videoWidth,sourceHeight:E.cameraVideo.videoHeight,targetWidth:1/0,targetHeight:V}),A=E.canvas.width-V-u,x=E.canvas.height-V-u,k=A+(V-z)/2,F=x;if(Object(c.a)(E.ctx,{x:A,y:x,width:V,height:V,radius:d,clip:!0}),E.effectRenderer&&(E.bgBlur||E.bgImg)){const L=yield E.effectRenderer.render();L&&E.ctx.drawImage(L,k,F,z,N)}else E.ctx.drawImage(E.cameraVideo,k,F,z,N);E.ctx.restore()}}else if(E.cameraOn){const{x:B,y:R,width:U,height:K}=Object(c.c)({sourceWidth:E.cameraVideo.videoWidth,sourceHeight:E.cameraVideo.videoHeight,targetWidth:E.canvas.width,targetHeight:E.canvas.height});E.canvas&&E.effectRenderer&&(E.bgBlur||E.bgImg)?(yield E.effectRenderer.render(),E.ctx.drawImage(E.effectRenderer.canvas,0,0)):E.ctx.drawImage(E.cameraVideo,B,R,U,K)}else E.ctx.clearRect(0,0,E.canvas.width,E.canvas.height);E.frameTimings&&(E.frameTimings.draw+=performance.now()-E.frameTimings.last);const P=performance.now()-M;E.renderTimeout=setTimeout(E.render.bind(E),E.renderInterval-P),E.maybeLogFrameTimings()})()}initStreamRendererWorker(){var E=this;return Object(n.coroutine)(function*(){if(!E.canvas)return;Object(s.b)()||Object(s.f)()||Object(s.c)()?E.streamRendererWorker=new t.a(P=>{e.e("gantry-v2-async-stream-renderer").then(e.bind(null,"r/fM")).then(B=>{const R=B.default;P(new R)})}):E.streamRendererWorker=t.a.resolve(new Worker("/stream-renderer.worker.js"));const M=yield E.streamRendererWorker;E.rendererTrackGenerator=new MediaStreamTrackGenerator({kind:"video"}),E.rendererWritable=E.rendererTrackGenerator.writable,E.rendererStream=new MediaStream([E.rendererTrackGenerator]);const T=E.rendererWritable;M.postMessage({type:"init",writable:T,width:E.width,height:E.height},[T]),M.addEventListener("message",P=>{if(P.data.type==="frametimingdata"){var B;P.data.frameTimings.count&&E.dispatchEvent(new CustomEvent("frametimingdata",{detail:{frameTimings:P.data.frameTimings,effect:P.data.effect}})),(B=E.onFrameTimingData)===null||B===void 0||B.call(E)}else P.data.type==="loading"&&(P.data.loading?E.dispatchEvent(new Event("loadingstart")):E.dispatchEvent(new Event("loadingend")))}),E.dispatchEvent(new Event("rendererstream"))})()}updateStreamRendererWorker(E){var M=this;return Object(n.coroutine)(function*(){if(!M.streamRendererWorker)return;const T={type:"update",...E},P=[];T.cameraReadable&&P.push(T.cameraReadable),T.screenReadable&&P.push(T.screenReadable),T.bgImg&&P.push(T.bgImg),(yield M.streamRendererWorker).postMessage(T,P)})()}constructor({width:E=v,height:M=g,screenWidth:T=O,screenHeight:P=b,canvas:B,microphoneId:R,cameraId:U,noiseSuppression:K=!1,autoGainControl:V=!1,shouldStartCamera:z=!0,shouldStartScreenCapture:N=!1,shouldStartMicrophone:A=!0,audioOnly:x=!1,bgBlur:k=!1,bgImg:F=null,useEffectRendererWorker:L=!1,useStreamRendererWorker:S=!1}){super(),this.useStreamRendererWorker=t.a.resolve(S&&r()),this.width=E,this.height=M,this.screenWidth=T,this.screenHeight=P,this.rendering=!1,this.recording=!1,this.recordingPaused=!1,this.microphoneOn=!1,this.cameraOn=!1,this.screenOn=!1,this.audioOnly=x,R&&(this.microphoneId=R),U&&(this.cameraId=U),this.noiseSuppression=K,this.autoGainControl=V,this.cameraVideo=document.createElement("video"),this.screenVideo=document.createElement("video"),!x&&B&&(this.canvas=B,this.canvas&&(this.canvas.width=k?this.width:this.screenWidth),this.canvas&&(this.canvas.height=k?this.height:this.screenHeight),this.useStreamRendererWorker.then(I=>{I||(this.ctx=B.getContext("2d",{alpha:!1}))})),this.mimeType=x?Us.getAudioMIMEType():Us.getMIMEType(),this.canvasRecordData=[],this.cameraRecordData=[],this.audioRecordData=[],this.useCanvasRecording=!1,this.renderInterval=30,A&&this.startMicrophone(),!x&&z&&this.startCamera(),!x&&N&&this.startScreenCapture(),x||(this.bgBlur=k,this.bgImg=F,this.cameraVideo.width=E,this.cameraVideo.height=M),this.useEffectRendererWorker=L,this.useStreamRendererWorker.then(I=>{I&&this.initStreamRendererWorker()}),this.logger=Object(a.b)({label:"STREAM-MANAGER"})}},"StreamManager");C.displayName="StreamManager";var _=i.a=C},z00e:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("q1tI"),t=e.n(n),a=e("N5xo");function s(){const[l,o]=Object(n.useState)(Math.floor(Date.now()/1e3));return Object(a.a)(()=>{o(Math.floor(Date.now()/1e3))}),l}h(s,"useCurrentTime")},z5hj:function(J,i,e){"use strict";e.d(i,"b",function(){return n}),e.d(i,"a",function(){return t}),e.d(i,"c",function(){return a});const n={NOTIFY_BACKEND_OF_SSB_DOWNLOAD:"notify_backend_of_ssb_download",TRIGGER_MOBILE_FALLBACK_EMAIL:"trigger_mobile_fallback_email",TRIGGER_MOBILE_MAGIC_LOGIN_EMAIL:"trigger_mobile_magic_login_email",TRIGGER_BULK_SSB_MAGIC_LOGIN_EMAIL:"trigger_bulk_ssb_magic_login_email",VIDEO_CLIPS_FALLBACK_EMAIL:"execute_video_clips_fallback_event"},t={SSB_DOWNLOAD_FALLBACK_EVENT_HANDLER:"ssb_download_fallback_event_handler",MOBILE_PROMO_FALLBACK_EVENT_HANDLER:"mobile_promo_fallback_event_handler",MOBILE_PROMO_MAGIC_LOGIN_EVENT_HANDLER:"mobile_promo_magic_login_event_handler",ADD_WORKSPACES_TO_SSB_EVENT_HANDLER:"add_workspaces_to_ssb_event_handler",VIDEO_CLIPS_FALLBACK_EVENT_HANDLER:"video_clips_fallback_event_handler"},a={MOBILE_AWARENESS_BANNER:"mobile_awareness_banner",MOBILE_AWARENESS_DIRECT_MESSAGE_PROMO:"mobile_awareness_direct_message_promo",PERSISTENT_MOBILE_PROMO:"persistent_mobile_promo",MOBILE_SOCIAL_PROOF_BANNER:"mobile_social_proof_banner",VIDEO_CLIPS_FALLBACK_EVENT_HANDLER:"video_clips_fallback_event_handler"}},z9VZ:function(J,i,e){"use strict";e.d(i,"a",function(){return S});var n=e("Lgge"),t=e("n3tL"),a=e("3Hq1"),s=e("Z0Cl"),l=e("NFsq"),o=e("fujP"),f=e("OZf9"),r=e("zmn3"),m=e("SQ0V"),c=e("9Gfp"),u=e("JoR1"),d=e("O86Y"),p=e("8Ut9"),v=e("IaLB"),g=e("v5z3"),O=e("QbPB");const b=Object(m.c)("Maybe update current Progressive Disclosure reacji tip to success",(D,H,Z)=>{let{key:G}=Z;const te=H();if(!Object(v.Y)(te)||!Object(v.pb)(te,{tip:g.f.Reacji}))return;const{entityId:se}=Object(p.a)(G);D(Object(O.a)({tip:g.f.Reacji,tipState:g.g.Success,messageTs:se}))});b.meta={name:"createThunk",key:"createThunkmaybeUpdateProgressiveDisclosureReacjiTip",description:"Maybe update current Progressive Disclosure reacji tip to success"};var y=e("YBS9"),C=e("FVTI"),_=e("Orok"),j=e("yrot"),E=e("i7CO"),M=e("kJif"),T=e("uEJH"),P=e("+J8q"),B=e("Oy0v"),R=e("q1tI"),U=e.n(R),K=e("/Q0P");const V=U.a.lazy(()=>Promise.resolve().then(e.bind(null,"hYzt"))),z=Object(m.c)("Open the Reaction Error dialog component",(D,H,Z)=>{D(Object(K.a)({element:U.a.createElement(V,Z)}))});z.meta={name:"createThunk",key:"createThunkopenReactionErrorDialog",description:"Open the Reaction Error dialog component"},z.propTypes={error:t.default.oneOf(["too_many_emoji","too_many_reactions"]).isRequired};var N=z;const A=50,x=23,k="invalid_name",F="too_many_emoji",L="too_many_reactions",S={reactionToggleButton:"reaction_toggle_button"},I=Object(m.c)("Change a reaction from a user action, make an API call to commit that action, fetch and update reactions for that key",function(D,H){let{key:Z,name:G,actionSource:te,useDefaultSkinToneForMultiSkinToneEmoji:se=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var $;if(Object(a.a)(Z))return!1;const X=H(),q=Object(d.g)(X),Y=Object(u.u)(X,"preferred_skin_tone"),ee=G&&Object(E.a)(G,q)||"",w=G&&Object(M.a)(X,Z,G)||"",ne=ee&&!se?w:Object(P.a)(w,Y,q),ae=Object(y.a)(X,Z),de=Object(y.b)(X,Z,ne),ge=Object(c.a)(X),le={key:Z,name:ne,userId:ge,url:de&&de.url||void 0,fromUserAction:!0},Q=($=Object(B.a)(ne))===null||$===void 0?void 0:$.name,ie=h(Se=>{if(te===S.reactionToggleButton){var Pe;return((Pe=Object(B.a)(Se))===null||Pe===void 0?void 0:Pe.name)===Q}return Se===ne},"nameFilterRule"),oe=Object(s.a)(ae,Se=>ie(Se.name)&&Object(l.a)(Se.users,ge)),me=Object(o.a)(oe);if(me){const Se=Object(j.q)(X,{text:ne,teamId:q}),Pe=!!(de&&de.url);if(!Se&&!Pe)return n.a.reject(new Error(k));if(!de&&ae&&ae.length>=A)return D(N({error:F})),n.a.resolve();if((ae||[]).filter(Fe=>Fe.users.indexOf(ge)>-1).length>=x)return D(N({error:L})),n.a.resolve();D(Object(C.a)(le)),D(b({key:Z}))}else Object(f.a)(oe,Se=>D(Object(_.a)({...le,name:Se.name})));let be;return me?be=D(Object(T.b)({reactionKey:Z,name:ne,add:me,reason:"changeReactionFromUserAction"})):be=n.a.all(Object(r.a)(oe,Se=>D(Object(T.b)({reactionKey:Z,name:Se.name,add:me,reason:"changeReactionFromUserAction"})))),be.catch(function(){let{data:Se}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Se&&Se.error&&Se.error!=="no_reaction")throw le.fromUserAction=!1,me?D(Object(_.a)(le)):Object(f.a)(oe,Pe=>D(Object(C.a)({...le,name:Pe.name}))),new Error(Se.error)})});I.meta={name:"createThunk",key:"createThunkchangeReactionFromUserAction",description:"Change a reaction from a user action, make an API call to commit that action, fetch and update reactions for that key"},I.propTypes={key:t.default.string.isRequired,name:t.default.string.isRequired};var W=i.b=I},zBqE:function(J,i,e){"use strict";var n=e("9oTK"),t=e("q1tI"),a=e.n(t),s=e("Cfcg"),l=e("7EGn"),o=e("OZf9"),f=e("Bw5p"),r=e("ifKl"),m=e("3Hq1"),c=e("BHdc"),u=e("Z7Ay"),d=e("4cU5"),p=e("1Np4"),v=e("s4P+"),g=e("9Gfp"),O=e("JoR1"),b=e("N8ug"),y=e("2IYT"),C=e("nNoG"),_=e("zb/F"),j=e("FH+Z"),E=e("pFNT"),M=e("nFQW"),T=e("r4kb"),P=e.n(T);const B=new C.b("stories_av"),R=h(L=>{let{memberId:S,videoRef:I,isPreviewing:W=!1,isPlaying:D}=L;const[H,Z]=Object(t.useState)(!0),G=Object(t.useCallback)(()=>{Z(!0)},[Z]),te=Object(t.useCallback)(()=>{Z(!1)},[Z]),se=Object(t.useCallback)(()=>{var Y;I==null||(Y=I.current)===null||Y===void 0||Y.play()},[I]),$=Object(t.useCallback)(()=>{var Y;I==null||(Y=I.current)===null||Y===void 0||Y.pause()},[I]),X=I==null?void 0:I.current;Object(t.useEffect)(()=>{if(X)return X.addEventListener("play",G),X.addEventListener("pause",te),X.addEventListener("ended",te),()=>{X.removeEventListener("play",G),X.removeEventListener("pause",te),X.removeEventListener("ended",te)}},[X,G,te]);const q=D!==void 0?D:H;return a.a.createElement("div",{className:"p-audio_only_animation"},a.a.createElement("div",{className:"p-audio_only_animation__alignment"},a.a.createElement("img",{src:P.a,className:Object(c.default)("p-audio_only_animation__waves",{"p-audio_only_animation__waves--paused":!q}),alt:""}),a.a.createElement(E.c,{size:135,userId:S,isInteractive:!1,className:"p-audio_only_animation__avatar"})),W&&(I==null?void 0:I.current)&&a.a.createElement(M.a,{icon:H?"pause":"play",onClick:H?$:se,className:"p-audio_only_animation__playback","aria-label":H?B.t("Pause"):B.t("Play")}))},"AudioOnlyAnimation");R.displayName="AudioOnlyAnimation";var U=R,K=e("P1Ik");const V=new C.b("stories_av"),z="MEDIA-PLAYER";let N=!1,A=h(class extends t.PureComponent{componentDidMount(){var S=this;return Object(n.coroutine)(function*(){S.props.file&&S.createTrace(),S.props.autoPlay&&S.maybeStartTTFFSpan(),yield S.setupVideo(!1)})()}componentDidUpdate(S){var I=this;return Object(n.coroutine)(function*(){var W,D;if(((W=I.props.file)===null||W===void 0?void 0:W.id)!==((D=S.file)===null||D===void 0?void 0:D.id)&&(I.timingData={},I.createTrace()),I.props.url!==S.url&&I.props.autoPlay&&I.maybeStartTTFFSpan(),S.enableMediaCaptions!==I.props.enableMediaCaptions){var H;const G=(H=I.videoRef.current)===null||H===void 0?void 0:H.textTracks[0];G&&(G.mode=I.props.enableMediaCaptions?"showing":"hidden")}if(S.shiftCaptionsUp!==I.props.shiftCaptionsUp&&I.props.enableMediaCaptions){var Z;const G=(Z=I.videoRef.current)===null||Z===void 0?void 0:Z.textTracks[0];if(!G)return;const te=Object(l.a)(I.videoRef,"current.clientWidth")<500?50:80;G.mode="hidden",I.props.shiftCaptionsUp?Object(o.a)(G==null?void 0:G.cues,se=>{se.line=se.text.length>te?-5:-4}):Object(o.a)(G==null?void 0:G.cues,se=>{se.line="auto"}),G.mode="showing"}(I.props.url!==S.url||I.props.hls!==S.hls&&I.state.errorSrcNotSupported)&&(yield I.setupVideo(!0))})()}componentWillUnmount(){this.currentTrace&&(this.maybeAddBitrateSpan(),this.tryReportTrace(this.currentTrace)),this.hlsjs&&this.hlsjs.destroy()}onVideoError(){var S;const I=(S=this.videoRef.current)===null||S===void 0?void 0:S.error;I?(this.logError(`error code: ${I.code}, msg: ${I.message}`),I.code===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED&&this.setState(()=>({errorSrcNotSupported:!0}))):this.logError("unknown error")}onLoadedData(){if(!this.videoRef.current)return;const S=this.videoRef.current,{mediaPlaybackSpeed:I,isAudioOnly:W,mediaVolume:D}=this.props;if(!W&&!S.videoWidth&&!S.videoHeight)return;if(S.addEventListener("ended",Z=>{this.getCurrentTime()===this.getDuration()&&(this.props.onEnd(Z),this.logInfo("ended"))}),S.addEventListener("play",Z=>{this.closeTTFFSpan(),this.setState(()=>({isPlaying:!0})),this.props.onPlay(Z,S.currentTime),this.logInfo("play")}),S.addEventListener("pause",Z=>{this.setState(()=>({isPlaying:!1})),this.props.onPause(Z,S.currentTime),this.logInfo("pause")}),S.addEventListener("waiting",()=>{this.logInfo("waiting")}),S.addEventListener("stalled",()=>{this.currentTrace&&this.currentTrace.count({name:"stall"}),this.logInfo("stalled")}),!W){if(this.props.shouldComputeHeight){const Z=S.clientWidth,G=S.videoWidth/S.videoHeight,te=Math.min(S.clientHeight,Z/G);this.setState(()=>({height:te}))}this.props.onDimensionsChange({videoWidth:S.videoWidth,videoHeight:S.videoHeight})}this.setPlaybackRate(I),this.setMuted(this.state.muted),this.setVolume(D??1),this.props.initialTimeElapsed&&this.setCurrentTime(this.props.initialTimeElapsed,this.props.autoPlay),this.currentTrace&&this.currentTrace.addTags({media_duration:S.duration});const H=S.textTracks[0];H?(H.mode=this.props.enableMediaCaptions?"showing":"hidden",this.logInfo(`initial captions state: ${this.props.enableMediaCaptions?"showing":"hidden"}`)):(this.logInfo("no text track"),S.textTracks.addEventListener("addtrack",Z=>{const G=Z.track||S.textTracks[0];G&&(G.mode=this.props.enableMediaCaptions?"showing":"hidden",this.logInfo(`new text track: ${this.props.enableMediaCaptions?"showing":"hidden"}`))}))}onLoadedMetadata(S){const I=this.videoRef.current,W=(I==null?void 0:I.duration)===1/0||I==null?void 0:I.duration;this.props.onLoadedMetadata(S,W)}onTimeUpdate(){var S;const I=(S=this.videoRef)===null||S===void 0?void 0:S.current;if(!I)return;const W=I.duration===1/0?void 0:I.duration;this.props.onProgress(I.currentTime,W)}onDurationChange(){var S,I;this.logInfo(`duration: ${(S=this.videoRef)===null||S===void 0||(I=S.current)===null||I===void 0?void 0:I.duration}`)}onContainerResize(){let{bounds:S}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.props.onDimensionsChange({containerWidth:S==null?void 0:S.width,containerHeight:S==null?void 0:S.height})}setupVideo(S){var I=this;return Object(n.coroutine)(function*(){var W;const D=(W=I.videoRef)===null||W===void 0?void 0:W.current;if(D&&(!I.videoSourceSet||S)){if(I.videoSourceSet=!0,I.props.hls&&!N){if(D.canPlayType("application/vnd.apple.mpegurl")){I.logInfo("Using native hls"),D.src=I.props.hls,I.setState(()=>({useSource:!1,useHls:!0}));return}const Z=(yield e.e("vendors~gantry-v2-async-hls.js").then(e.t.bind(null,"F4PH",7))).default;if(Z.isSupported()){I.logInfo("Using hls.js"),I.hlsjs&&(I.hlsjs.detachMedia(D),I.hlsjs.destroy());const G={xhrSetup(se){se.withCredentials=!0}},te=new Z(G);I.props.hlsEmbed?te.loadSource(I.props.hlsEmbed):te.loadSource(I.props.hls),te.attachMedia(D),I.hlsjs=te,te.on(Z.Events.ERROR,(se,$)=>{I.logErrorOnce(`hls error: ${$.type} ${$.details}, fatal: ${$.fatal}`),$.details===Z.ErrorDetails.BUFFER_STALLED_ERROR&&I.currentTrace&&I.currentTrace.count({name:"stall"}),I.logInfo("Not using hls"),I.setState(()=>({useSource:!0,useHls:!1,errorSrcNotSupported:!1})),te.destroy()}),I.setState(()=>({useSource:!1,useHls:!0}));return}}I.logInfo("Not using hls"),I.setState(()=>({useSource:!0,useHls:!1,errorSrcNotSupported:!1}))}})()}getCurrentTime(){var S;return((S=this.videoRef.current)===null||S===void 0?void 0:S.currentTime)||0}getDuration(){var S;const I=(S=this.videoRef.current)===null||S===void 0?void 0:S.duration;return I!==void 0?I:1/0}setCurrentTime(S){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var W;!((W=this.videoRef)===null||W===void 0)&&W.current&&(this.videoRef.current.currentTime=S,I&&this.videoRef.current.paused&&(this.maybeStartTTFFSpan(),this.videoRef.current.play()))}setPlaybackRate(S){var I;!((I=this.videoRef)===null||I===void 0)&&I.current&&j.b.includes(S)&&(this.videoRef.current.playbackRate=S)}setMuted(S){var I;!((I=this.videoRef)===null||I===void 0)&&I.current&&(this.setState(()=>({muted:S})),this.videoRef.current.muted=S)}setVolume(S){var I;!((I=this.videoRef)===null||I===void 0)&&I.current&&(this.videoRef.current.volume=S)}getDebugInfo(){var S;const{file:I}=this.props,W=(S=this.videoRef)===null||S===void 0?void 0:S.current;return{file:Object(f.a)(I,["id","url_private","hls","mp4","vtt","mimetype","subtype","size","created"]),video:{...Object(f.a)(W,["src","videoWidth","videoHeight","readyState","networkState","currentTime","duration","volume","playbackRate","paused","webkitDecodedFrameCount","webkitDroppedFrameCount"]),error:(W==null?void 0:W.error)&&{code:W.error.code,message:W.error.message}},hlsjs:this.hlsjs&&Object(f.a)(this.hlsjs,["url","currentLevel","firstLevel","loadLevel","nextAutoLevel","nextLevel","nextLoadLevel","startLevel","bandwidthEstimate"])}}getContextMenuTemplate(){const{file:S,logger:I}=this.props;return[{label:V.t("Copy link to file",{fallbackHash:"48e492b25c556bd0c091ea5d7ee8d509028c4f59",fallbackHashNs:"file"}),click:()=>Object(_.e)(S==null?void 0:S.permalink)},{label:V.t("Copy debug info",{fallbackHash:"af74f7c5362aaee985bf8cda3dd75fc80751ce51",fallbackHashNs:"prefs"}),click:()=>{try{Object(_.e)(JSON.stringify(this.getDebugInfo(),null,"	"))}catch(W){I.error("MEDIA_PLAYER","Error copying debug info",W)}}}]}createTrace(){var S;this.currentTrace&&(this.maybeAddBitrateSpan(),this.tryReportTrace(this.currentTrace)),this.currentTrace=this.props.tracer.createMetricsTrace({label:"media_player:metrics",tags:{file:(S=this.props.file)===null||S===void 0?void 0:S.id,media_type:"video"},samplingOptions:{sampleRate:.2,sampleType:d.g.SESSION}}),this.currentTrace.count({name:"stall",value:0})}tryReportTrace(S){const{logger:I,tracer:W}=this.props;if(S)try{W.reportTrace(S)}catch(D){I.error("MEDIA_PLAYER","Failed to report trace",D)}}maybeStartTTFFSpan(){this.timingData.ttff||(this.timingData.ttff={start:performance.now()})}closeTTFFSpan(){this.timingData.ttff&&!this.timingData.ttff.end&&(this.timingData.ttff.end=performance.now(),this.currentTrace&&this.currentTrace.store({name:"time_to_first_frame_ms",value:this.timingData.ttff.end-this.timingData.ttff.start}))}maybeAddBitrateSpan(){var S,I;if(this.currentTrace&&this.hlsjs&&isFinite(this.hlsjs.currentLevel)&&isFinite((S=this.hlsjs.levels)===null||S===void 0||(I=S[this.hlsjs.currentLevel])===null||I===void 0?void 0:I.bitrate)){var W,D;this.currentTrace.store({name:"indicated_bitrate:avg",value:(W=this.hlsjs.levels)===null||W===void 0||(D=W[this.hlsjs.currentLevel])===null||D===void 0?void 0:D.bitrate})}}togglePlayPause(){var S;if(!(!((S=this.videoRef)===null||S===void 0)&&S.current))return;const I=this.videoRef.current;I.paused?I.play():I.pause()}isPlaying(){return this.state.isPlaying}pause(){var S;const I=(S=this.videoRef)===null||S===void 0?void 0:S.current;I==null||I.pause()}play(){var S;const I=(S=this.videoRef)===null||S===void 0?void 0:S.current;I==null||I.play()}getLogContextString(){var S;return((S=this.props.file)===null||S===void 0?void 0:S.id)||""}logInfo(S){this.props.logger.info(this.getLogContextString(),S)}logWarn(S){this.props.logger.warn(this.getLogContextString(),S)}logError(S){this.props.logger.error(this.getLogContextString(),new Error(`${z}: ${S}`))}logErrorOnce(S){if(this.loggedErrors.has(S)){this.logWarn(S);return}this.loggedErrors.add(S),this.logError(S)}renderVideo(){const{controlsList:S,enableControls:I,label:W,title:D,url:H,mimeType:Z,enableMediaCaptions:G,autoPlay:te,thumbVideo:se,vtt:$,preload:X}=this.props;if(!H)return null;const{useSource:q,useHls:Y}=this.state;return a.a.createElement("video",{autoPlay:te&&(q||Y),"aria-label":W,className:"p-media_viewer__video",controls:I?!0:void 0,controlsList:I?S:void 0,style:{height:this.state.height||void 0},title:D,onLoadedData:this.onLoadedData,onLoadedMetadata:this.onLoadedMetadata,ref:this.videoRef,onTimeUpdate:this.onTimeUpdate,onDurationChange:this.onDurationChange,disablePictureInPicture:!0,key:`[${this.props.userIndex}][${this.props.storyIndex}]`,poster:se,onError:this.onVideoError,src:q&&!Z?H:void 0,preload:X},q&&Z?a.a.createElement("source",{src:H,type:Z}):null,q&&$&&a.a.createElement(K.a,{vtt:$,enableMediaCaptions:G}))}render(){const{disableContextMenu:S,isAudioOnly:I,memberId:W,className:D,styleProps:H}=this.props;return a.a.createElement(b.a,{onResize:this.onContainerResize},Z=>{let{measureRef:G}=Z;const te=a.a.createElement("div",{className:Object(c.default)("p-media_viewer__video_container",D),"data-media-focus-container":!0,onClick:this.togglePlayPause,ref:G,style:H},I&&W&&a.a.createElement(U,{memberId:W,videoRef:this.videoRef,isPlaying:this.state.isPlaying}),this.renderVideo());return S?te:a.a.createElement(y.a,{getTemplate:this.getContextMenuTemplate,desktopAppOnly:!1},te)})}constructor(S){super(S),this.onLoadedData=this.onLoadedData.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onDurationChange=this.onDurationChange.bind(this),this.onContainerResize=this.onContainerResize.bind(this),this.getContextMenuTemplate=this.getContextMenuTemplate.bind(this),this.onVideoError=this.onVideoError.bind(this),this.onLoadedMetadata=this.onLoadedMetadata.bind(this),this.togglePlayPause=this.togglePlayPause.bind(this),this.videoRef=Object(t.createRef)(),this.state={height:null,muted:S.isMuted,useSource:!1,useHls:!1,errorSrcNotSupported:!1,isPlaying:!1},this.timingData={},this.loggedErrors=new Set,this.videoSourceSet=!1}},"MediaVideo");A.displayName="MediaVideo",A.defaultProps={userIndex:0,storyIndex:0,autoPlay:!0,shouldComputeHeight:!0,onEnd:r.a,onPlay:r.a,onPause:r.a,onProgress:r.a,onDimensionsChange:r.a,onLoadedMetadata:r.a,mediaPlaybackSpeed:1,initialTimeElapsed:0,isMuted:!1,disableContextMenu:!1,enableControls:!1,controlsList:""};var x;const k=h((L,S)=>{let{isMuted:I,mediaPlaybackSpeed:W}=S;return{enableMediaCaptions:Object(O.u)(L,"enable_media_captions"),mediaPlaybackSpeed:Object(m.a)(W)?Object(O.u)(L,"media_playback_speed"):W,isMuted:Object(m.a)(I)?Object(O.u)(L,"media_muted"):I,mediaVolume:(x=Object(O.u)(L,"media_volume"))!==null&&x!==void 0?x:1,tracer:Object(p.a)({state:L}),logger:Object(v.a)({state:L,label:z}),featureTinyspeck:Object(g.i)(L,"feature_tinyspeck")}},"mapStateToProps");var F=i.a=Object(s.a)(k,void 0,void 0,{forwardRef:!0})(A);Object(u.a)("mediaVideo",{forceUseSource:L=>{N=L}})},zE4u:function(J,i,e){"use strict";e.d(i,"b",function(){return _}),e.d(i,"a",function(){return j});var n=e("LK2A"),t=e("xueD"),a=e("gBoP"),s=e("WBOM"),l=e("dmdh"),o=e("x6tY"),f=e("mivN"),r=e("Ilel"),m=e("ouAP"),c=e("7Yrm"),u=e("R1mX"),d=e("twB+"),p=e("lhZz"),v=e("PhUj"),g=e("3L56"),O=e("yVVx"),b=e("7ibc"),y=e("VmGj"),C=e("/n9c");const _=new d.a;let j=h(class Js{static getOrCreate(M){return _.get(M,(T,P)=>new Js({teamId:T}))}getChannelIdAndTs_(M){const T=Object(s.e)(this.getState(),M);return T&&T.type===s.a.MESSAGE?{messageTs:T.ts,channelId:T.channelId}:null}shareSlackObject_(M,T,P,B){if(T===n.SlackObjectType.UNFURL){const R=this.getChannelIdAndTs_(M);R&&Object(p.dispatchForTeamId)(this.teamId,Object(t.a)({channelId:R.channelId,ts:R.messageTs,isStackable:!0}))}else if(T===n.SlackObjectType.FILE){const R=Object(s.e)(this.getState(),M);if(R!=null&&R.fileId){const U=Object(l.e)(this.getState(),R.fileId);U&&(Object(o.u)(U)?Object(p.dispatchForTeamId)(this.teamId,Object(v.b)({fileId:R.fileId,isStackable:!0})):Object(p.dispatchForTeamId)(this.teamId,Object(t.a)({fileId:R.fileId,isStackable:!0,isSlackDoc:!1})))}}else if(T===n.SlackObjectType.DOCUMENT&&P){const R=this.getState();if(Object(b.e)(R)){const U=Object(s.e)(this.getState(),M),K=U==null?void 0:U.fileId;K&&Object(p.dispatchForTeamId)(this.teamId,Object(g.a)({quipThreadId:P,reason:"share-embedded-canvas"})).then(V=>{let z;switch(B){case n.UnfurlType.CARD:z=C.a.CARD;break;case n.UnfurlType.INLINE:z=C.a.INLINE;break;case n.UnfurlType.LINK:z=C.a.LINK;break;default:z=C.a.OTHER;break}Object(p.dispatchForTeamId)(this.teamId,Object(O.a)({source:z,parentCanvasId:V,embeddedCanvasId:K}))})}}}openInNewWindow_(M){const T=Object(s.e)(this.getState(),M);if(T!=null&&T.fileId){const P=Object(l.e)(this.getState(),T.fileId);Object(o.u)(P)&&Object(p.dispatchForTeamId)(this.teamId,Object(f.a)({fileId:P.id}))}}downloadFile_(M){const T=Object(s.e)(this.getState(),M);if(T!=null&&T.fileId){const P=Object(l.e)(this.getState(),T.fileId);Object(p.dispatchForTeamId)(this.teamId,Object(r.a)({file:P,action:m.a.DownloadFile}))}}previewFile_(M){const T=Object(s.e)(this.getState(),M);T!=null&&T.fileId&&Object(p.dispatchForTeamId)(this.teamId,Object(y.a)({fileId:T.fileId}))}viewFullScreen_(M){const T=Object(s.e)(this.getState(),M);T!=null&&T.fileId&&Object(p.dispatchForTeamId)(this.teamId,Object(c.a)({fileId:T.fileId,channelId:void 0,isStackable:!0}))}editFile_(M){const T=Object(s.e)(this.getState(),M);if(T!=null&&T.fileId){const P=Object(l.e)(this.getState(),T.fileId);Object(p.dispatchForTeamId)(this.teamId,Object(u.a)({file:P,isStackable:!0}))}}saveSlackObject(M){let{objectPermalink:T}=M;const P=this.getChannelIdAndTs_(T);P&&Object(p.dispatchForTeamId)(this.teamId,Object(a.c)(P))}removeSavedSlackObject(M){let{objectPermalink:T}=M;const P=this.getChannelIdAndTs_(T);P&&Object(p.dispatchForTeamId)(this.teamId,Object(a.i)(P))}performSlackObjectAction(M){let{objectPermalink:T,action:P,objectType:B,quipThreadId:R,unfurlType:U}=M;switch(P){case n.SlackObjectActionType.SHARE:this.shareSlackObject_(T,B,R,U);break;case n.SlackObjectActionType.OPEN_IN_NEW_WINDOW:this.openInNewWindow_(T);break;case n.SlackObjectActionType.DOWNLOAD:this.downloadFile_(T);break;case n.SlackObjectActionType.PREVIEW_FILE:this.previewFile_(T);break;case n.SlackObjectActionType.VIEW_FULL_SCREEN:this.viewFullScreen_(T);break;case n.SlackObjectActionType.EDIT_FILE:this.editFile_(T);break;default:break}}constructor({teamId:M}){this.teamId=M,this.getState=()=>Object(p.getStateByTeamId)(M)}},"QuipSlackObjectUIProvider")},zIFg:function(J,i,e){"use strict";e.d(i,"a",function(){return O}),e.d(i,"b",function(){return y}),e.d(i,"c",function(){return _});var n=e("9oTK"),t=e.n(n),a=e("oTSI"),s=e("q74J"),l=e("uAML"),o=e("Z7Ay"),f=e("Lgge"),r=e("SQ0V"),m=e("lhZz"),c=e("rKeN"),u=e("p98f"),d=e("aVws"),p=e("YOgf"),v=e("iAR/"),g=e("7y/j");const O=Object(r.c)("Fetch and upsert org guidelines",function(){var E=Object(n.coroutine)(function*(M,T,P){let{teamId:B,type:R,token:U}=P,K;try{K=yield M(Object(s.a)({type:R,...U&&{token:U},reason:"client_redux_store"}))}catch{return}const{has_guidelines:V}=K;if(!V)return C(B,R);const{content:z,url:N}=K.guidelines,{is_enabled:A,updated:x}=K.metadata;M(Object(v.a)({type:R,guidelines:{enabled:A,contentOps:z?Object(p.a)(T(),z).ops:null,link:N??null,updated:x}})),C(B,R)});return function(M,T,P){return E.apply(this,arguments)}}());O.meta={name:"createThunk",key:"createThunkfetchAndSetOrgGuidelines",description:"Fetch and upsert org guidelines"};const b=Object(a.a)(()=>new l.b({fetch:(E,M)=>f.a.map(M,T=>Object(m.dispatchForTeamId)(E,O({teamId:E,type:T}))),isEnabled:Object(a.a)(E=>{const M=Object(m.getStateByTeamId)(E);return!M||Object(u.a)()?!1:Object(c.a)(M)}),metricsName:g.a})),y=h((E,M)=>b().markObjectsAsStale(Object(d.b)(E,g.a),[M]),"markGuidelinesAsStale"),C=h((E,M)=>b().markObjectsAsFresh(Object(d.b)(E,g.a),[M]),"markGuidelinesAsFresh"),_=h((E,M)=>b().maybeRefetch(Object(d.b)(E,g.a),M),"maybeRefetchGuidelines"),j={fetchAndSetOrgGuidelines:O};Object(o.b)("conditionalFetchManagerSlackConnectGuidelines",b)},zKt1:function(J,i,e){"use strict";e.d(i,"c",function(){return R}),e.d(i,"b",function(){return U}),e.d(i,"d",function(){return V}),e.d(i,"e",function(){return N});var n=e("mM05"),t=e.n(n),a=e("OZf9"),s=e("fujP"),l=e("CpTu"),o=e("BeL+"),f=e("m8R6"),r=e("5SjC"),m=e("/0zS"),c=e("tfz1"),u=e("0qhH"),d=e("htTJ");function p(x){var k;return!!(!(x==null||(k=x.attributes)===null||k===void 0)&&k.unlink)}h(p,"isOpUnlink");var v=e("dA19"),g=e("fR2/"),O=e("x4bu"),b=e("MvaT"),y=e("6Fta"),C=e("qfW3"),_=e("3yyz"),j=e("Y/OQ"),E=e("mSgU"),M=e("Z44y");const T=/https?:\/\/.*\.(fbcdn|cdninstagram|twimg)\.(net|com)\/.*(\.|=)(jpe?g|gif|png|svg|bmp)/,P=["dropbox.com"],B=h(x=>x&&(T.test(x)?x:x.split("?")[0]),"sanitizeImageUrlWithParams"),R=h(x=>{const k=B(x);return k?/(\.|=)(jpe?g|gif|png|svg|bmp)/.test(k):!1},"isImageUrl"),U=h(x=>{if(x){for(let k=0;k<P.length;k++)if(x.indexOf(P[k])>=0)return!0}return!1},"isImageFromDeniedDomains"),K=h(function(x){let{doImageReplacement:k,ignoreExistingLinks:F,limitCodeBlockLinksToFullURLs:L,ignoreUnbalancedParentheses:S=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!x)return new t.a;const I=Object(b.a)(x),W=new t.a;return Object(r.a)(x,(D,H)=>{const Z=Object(c.a)(H);if(!Object(u.a)(D)||F&&Object(d.a)(D)||p(D)||Object(d.c)(D)){W.insert(D.insert||"",{...D.attributes});return}const G=Object(O.a)(D),te=L&&Z,se=Object(m.a)({input:G,ignorePhoneMatches:te,ignoreEmailMatches:te,ignoreLinksWithoutHttp:te,ignoreUnbalancedParentheses:!!S});if(!se.length){W.insert(D.insert||"",{...D.attributes});return}let $=0;const X=D&&D.attributes;if(Object(a.a)(se,q=>{const{url:Y,type:ee,text:w,offset:ne}=q||{};if(ne>$&&(W.insert(G.slice($,ne),X),$=ne),!(!Y||!w)){if(k&&ee==="url"&&R(Y)&&!U(Y)){const ae=B(Y);W.insert({slackdocimage:ae})}else W.insert(w,{...X,link:Y});$=ne+w.length}}),$<G.length&&$>=0){const q=G.slice($);W.insert(q,X)}}),I?W:Object(y.a)(W)},"linkifyDeltaText"),V=h(x=>{if(!x)return new t.a;const k=x.map(S=>{if(Object(d.a)(S)){const I={insert:S.insert},W={...S.attributes};return delete W.link,Object(s.a)(W)||(I.attributes=W),I}return S}),F=new t.a().compose(new t.a(k));return K(F,{doImageReplacement:Object(M.a)()})},"relinkifyDeltaText"),z=h((x,k,F)=>{const L=k+Object(_.a)(x);return Object(l.a)(F,S=>{if(S.text===x.insert)return!1;const I=S.offset,W=S.offset+S.text.length;return I>=k&&I<=L||W<=k&&W<=L||I<k&&W<=L})},"isOpInRangeOfMatches"),N=h(x=>{if(!x)return new t.a;const k=Object(o.a)(E.b.concat(E.d)),F=Object(j.a)(x.ops,{replaceLinks:!1,replaceCode:!0,embedReplacement:" "}),L=Object(m.a)({input:F});let S=0;const I=x.map(D=>{const H=S,Z=Object(_.a)(D);let G=!1;if(S+=Z,!Object(d.a)(D))return D;if(Object(v.a)(D)||Object(g.a)(D))return{...D,attributes:{...Object(f.a)(D.attributes,"link")}};if(Object(d.c)(D))return D;z(D,H,L)&&(G=!0);const te=H===0?" ":F.substr(H-1,1),se=te.match(/^\s$/)||k.includes(te),$=H+Z===F.length?" ":F.substr(H+Z,1),X=k.includes($)||$.match(/^\s$/);if(!G&&(!se||!X)){var q;const Y=Object(O.a)(D),ee=!G&&Object(m.a)({input:Y});ee&&ee.length===1&&ee[0].url===((q=D.attributes)===null||q===void 0?void 0:q.link)&&(G=!0)}if(!G&&Object(C.a)(D)&&(G=!0),G){const Y={insert:D.insert},ee={...D.attributes};return delete ee.link,Object(s.a)(ee)||(Y.attributes=ee),Y}return D}),W=new t.a().compose(new t.a(I));return K(W,{doImageReplacement:Object(M.a)()})},"relinkifyDeltaTextWhileRetainingExistingLinks");var A=i.a=K},zP0t:function(J,i,e){"use strict";e.r(i);var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("ktUG"),l=e("nNoG"),o=e("69o4"),f=e("uVZW"),r=e("Trx9"),m=e("o3gz"),c=e("03PU");const u=new l.b("trials_highlight_paid_features"),d=h(v=>{let{children:g,isOpen:O=!1}=v;const b=Object(a.useDispatch)(),y=Object(n.useCallback)(()=>b(Object(o.a)({spaceName:f.g.IN_PRODUCT_COACHMARK,action:f.f.DISMISS})),[b]),C=Object(n.useCallback)(()=>{window.open("https://slack.com/blog/news/pricing-and-plan-updates"),y()},[y]),_=t.a.createElement("video",{className:"p-clips_repackaging_coachmark__hero",playsInline:!0,autoPlay:!0,muted:!0,poster:"/img/trial/clips-repackaging-hero.png"},t.a.createElement("source",{type:"video/mp4",src:"/img/trial/clips-repackaging-hero.mp4"}),t.a.createElement("source",{type:"video/webm",src:"/img/trial/clips-repackaging-hero.webm"})),j=t.a.createElement(m.a,{arrowPosition:20,centerOnArrow:!0,closeBackgroundStyle:"dark",hero:_,isOpen:O,title:u.t("New for your team: Clips"),bodyText:u.t("Make a quick voice recording on the go, or share your screen in a video. Read about more new features and plan limit changes."),linkClogElementName:"see_details",linkText:u.t("See details"),onClickLink:C,closeCoachmark:y,width:324});return t.a.createElement(r.a,{eventId:s.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:s.UiComponentName.CLIPS_REPACKAGING_COACHMARK},t.a.createElement(c.b,{coachmarkAnchorClassNames:"p-clips_repackaging_coachmark",coachmarkElement:j,orientation:"top"},g))},"ClipsRepackagingCoachmark");d.displayName="ClipsRepackagingCoachmark";var p=i.default=d},zZFv:function(J,i,e){"use strict";e.d(i,"a",function(){return s});var n=e("BeL+"),t=e("fR2/"),a=e("kzMN");function s(l){const o=[];return!l||!l.contents?o:(l.contents.forEach(f=>{Object(t.a)(f)&&Object(a.a)(Object(t.b)(f))&&o.push(Object(t.b)(f))}),Object(n.a)(o))}h(s,"getBroadcastKeywordsFromContents")},zcRq:function(J,i,e){"use strict";e.d(i,"a",function(){return o});var n=e("SQ0V"),t=e("Sczb"),a=e("fujP"),s=e("Wy5O"),l=e("zmn3");const o=Object(n.c)("Gets URLs to unfurl from ops for message sending APIs",function(f,r){let{draftId:m,ops:c}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=r();if(!m||!c)return;const d=Object(t.h)(u,{ops:c});if(!d||Object(a.a)(d))return[];const p=Object(t.e)(u,m),v=Object(s.a)(d,p??[]);return Object(l.a)(v,O=>({url:O}))});o.meta={name:"createThunk",key:"createThunkgetDraftUnfurlsForMessageSend",description:"Gets URLs to unfurl from ops for message sending APIs"}},zg12:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("ifKl"),s=e("Cfcg"),l=e("71i0"),o=e.n(l),f=e("hUMe"),r=e("Yauy"),m=e("lV/E"),c=e("8aX7"),u=e("Tevt"),d=e("E3dU"),p=e("Zdzc"),v=e("zm5I"),g=e("nNoG"),O=e("BHdc"),b=e("oEDn"),y=e("zMr6"),C=e("fenk"),_=e("plSA"),j=e("YUBf"),E=e("jWAO"),M=e("daiH"),T=e("Trx9"),P=e("ktUG"),B=e("IaLB"),R=e("+kJ4"),U=e("TIBL"),K=e("3G7u"),V=e("beVI"),z=e("G0eX"),N=e("F0YV"),A=e("n7UZ"),x=e("SQ0V"),k=e("Lgge"),F=e("CMT/"),L=e("GV2D"),S=e("wFOH");const I=Object(x.c)("Open an SCDM with an external user",(Te,Oe,Ce)=>{let{memberId:ce}=Ce;return Te(Object(F.a)({memberIds:[ce]})).then(he=>{const Me=he.id,Ae=Object(S.a)(Oe(),Me);Te(Object(L.a)({channelId:Me,startTs:Ae==null?void 0:Ae.ts}))}).catch(he=>k.a.reject(he))});I.meta={name:"createThunk",key:"createThunkopenScdm",description:"Open an SCDM with an external user"};var W=e("FGjW"),D=e("y6n1"),H=e("Ccc1"),Z=e("MhVz"),G=e.n(Z),te=e("kG/e"),se=e.n(te),$=e("kxML"),X=e.n($),q=e("6HaY"),Y=e.n(q),ee=e("+iwk"),w=e.n(ee),ne=e("Unj8"),ae=e.n(ne),de=e("qiCS"),ge=e("lIcY"),le=e("AKIH"),Q=e("s9Q6"),ie=e("/0Xg"),oe=e("j5vF");function me(){return me=Object.assign||function(Te){for(var Oe=1;Oe<arguments.length;Oe++){var Ce=arguments[Oe];for(var ce in Ce)Object.prototype.hasOwnProperty.call(Ce,ce)&&(Te[ce]=Ce[ce])}return Te},me.apply(this,arguments)}h(me,"_extends");const be=new g.b("setup_page"),Se={onClick:{enableClogAction:!0},elementName:"go_to_hub_in_other_workspace"},Pe={elementName:"dm_inviting_user",onClick:{enableClogAction:!0}},Ue={elementName:"ok",onClick:{enableClogAction:!0}};var Fe;(function(Te){Te.WelcomeStep="welcome_step",Te.PromoteScdmStep="promote_scdm_step"})(Fe||(Fe={}));const je={ICONS_HEADER:"welcome-modal-icons-header",HEADER:"sc_welcome_modal_header",BODY:"sc_welcome_modal_body",BODY_TEXT:"sc_welcome_modal_body_text",ALERT:"sc_welcome_modal_alert",BUTTON:"sc_welcome_modal_ok_button",FOOTER:"sc_welcome_modal_footer",FOOTER_BLURB:"sc_welcome_modal_footer_blurb",SCDM_FOOTER_BLURB:"sc_welcome_modal_scdm_footer_blurb"};let _e=h(class extends n.Component{renderWelcomeModalScreen(){const{sharedChannelConnected:Oe,shouldShowScdmStep:Ce,otherWorkspaceId:ce,goToHubInOtherWorkspace:he,experimentScGettingStartedExperiments2GroupTreatment:Me,hasAcceptedInviteOnFreeTrial:Ae,isUserExternalLimited:xe}=this.props,Re=Object(O.default)("p-shared_invite_creator_welcome_modal__image",{"p-shared_invite_creator_welcome_modal__image--confirmation":!Me,"p-shared_invite_creator_welcome_modal__image--connection":Me&&!Oe,"p-shared_invite_creator_welcome_modal__image--collaboration":Me&&Oe}),Ge=Me&&Ae,ze=Ge?xe:!0;return t.a.createElement(t.a.Fragment,null,t.a.createElement(j.i,null,t.a.createElement(j.j,{className:Re,src:this.getHeaderIllustration(),alt:""}),!Oe&&!Me&&this.getTeamIconsHeader(),t.a.createElement(j.l,{"data-qa":je.HEADER,title:this.getHeaderText()})),t.a.createElement(j.d,{"data-qa":je.BODY},t.a.createElement(j.e,{"data-qa":je.BODY_TEXT},Ge&&t.a.createElement("p",{className:"margin_bottom_125"},this.getFreeTrialBodyText()),ze&&this.getBodyText()),ce&&t.a.createElement(j.e,{className:"margin_top_75"},t.a.createElement(E.d,{type:E.c.custom,"data-qa":je.ALERT},be.rt("This channel will be added to your {otherWorkspaceName} workspace.",{otherWorkspaceName:t.a.createElement(u.a,{onClick:he,autoClogProps:Se,className:"p-shared_invite_creator_welcome_modal__alert_link",renderAsSpan:!0},t.a.createElement(f.a,{bold:!1,id:ce}))})))),t.a.createElement(j.g,null,t.a.createElement(j.c,{onClick:this.onClickPrimaryCTA,className:"p-shared_invite_creator_welcome_modal__ok_button",type:"primary",size:"medium","data-qa":je.BUTTON,autoClogProps:{elementName:Ce?"continue":"done",onClick:{enableClogAction:!0}}},this.getButtonText())),this.renderAdditionalFooter())}render(){const{closeModal:Oe,sharedInviteFlowError:Ce,sharedChannelConnected:ce,inviteId:he,connectInvite:Me,experimentScGettingStartedExperiments2GroupTreatment:Ae}=this.props,{currentStep:xe,shouldShowSpeedBump:Re}=this.state;if(Ce){const{header:Ie,body:Ne}=this.getErrorText();return t.a.createElement(T.a,{eventId:P.EventId.NEWXP_TEAM_CREATE,coreInviteId:he,uiStep:P.UiStep.SETUP_SHARED_CHANNEL_CREATOR_WELCOME_MODAL,stepVariant:Ce===C.a.ConnectionLimitExceeded?"connection_limit_exceeded_error":"error"},t.a.createElement(j.a,{closeModal:Oe},t.a.createElement(j.i,{className:"p-shared_invite_creator_welcome_modal__header--error","data-qa":je.HEADER},Ie),t.a.createElement(j.d,{className:"p-shared_invite_creator_welcome_modal__content--error","data-qa":je.BODY},Ne),t.a.createElement(j.g,null,t.a.createElement(j.c,{type:"primary",size:"medium","data-qa":je.BUTTON,autoClogProps:Ue},this.getButtonText()))))}let Ge;(Me==null?void 0:Me.invite_type)===_.b.Im?Ge="shared_dm":Ge=ce?"shared_invite_connected":"pending_shared_invite_connection";const ze=xe===Fe.PromoteScdmStep?P.UiStep.PROMOTE_SCDM_WHILE_SC_PENDING:P.UiStep.SETUP_SHARED_CHANNEL_CREATOR_WELCOME_MODAL;return t.a.createElement(T.a,{eventId:P.EventId.NEWXP_TEAM_CREATE,coreInviteId:he,uiStep:ze,stepVariant:Ge,trackClogRef:Ie=>{this.trackClog=Ie}},t.a.createElement(j.a,me({centered:!0,showCloseButton:!ce,closeModal:Oe},!Ae&&{maxWidth:560}),t.a.createElement(j.f.Consumer,null,Ie=>{let{showSpeedBump:Ne}=Ie;return Ne(Re),xe===Fe.PromoteScdmStep?t.a.createElement(W.b,{connectInvite:Me,teamToPrompt:W.a.InvitingTeam,setShouldShowSpeedBump:this.setShouldShowSpeedBump}):this.renderWelcomeModalScreen()})))}constructor(Oe){var Ce;super(Oe),Ce=this,this.getTeamIconsHeader=()=>{const{customAwayIcon:ce,customHomeIcon:he}=this.props;return!he||!ce?null:t.a.createElement("div",{className:"p-shared_invite_creator_welcome_modal__team_icons","data-qa":je.ICONS_HEADER},t.a.createElement(N.a,{icon:he,size:36,className:"p-shared_invite_creator_welcome_modal__team_icon--icon"}),t.a.createElement("span",{className:"p-shared_invite_creator_welcome_modal__team_icon--dot"}),t.a.createElement("span",{className:"p-shared_invite_creator_welcome_modal__team_icon--dot"}),t.a.createElement("span",{className:"p-shared_invite_creator_welcome_modal__team_icon--dot"}),t.a.createElement(N.a,{icon:ce,size:36,className:"p-shared_invite_creator_welcome_modal__team_icon--icon"}))},this.getHeaderText=()=>{const{channelName:ce,sharedChannelConnected:he,sharedInviteFlowError:Me,connectInvite:Ae,experimentScGettingStartedExperiments2GroupTreatment:xe,hasAcceptedInviteOnFreeTrial:Re}=this.props;if((Ae==null?void 0:Ae.invite_type)===_.b.Im)return be.rt("This is Slack, a messaging app built for work");const Ge=h(Ie=>{let{tag:Ne,text:Ke}=Ie;var Ve;const $e=!(Ae==null||(Ve=Ae.channel)===null||Ve===void 0)&&Ve.is_private?"lock":"channel";switch(Ne){case"span":return t.a.createElement("span",{className:"p-shared_invite_creator_welcome_modal__channel"},t.a.createElement(b.a,{className:"p-shared_invite_creator_welcome_modal__channel_icon",type:$e,size:"inherit"})," ",Ke);default:return null}},"channelNameHandler");Ge.displayName="channelNameHandler";let ze;return xe?(he?ze=be.rt("Welcome to the channel!"):ze=be.rt("All set \u2014 admins are taking a look"),Re&&(ze=be.rt("Ta-da! Your team\u2019s on a free trial of Slack"))):he?ze=be.rt("You\u2019re now part of <span>{channelName}</span>",{channelName:ce},Ge):ze=be.rt("You\u2019ll be joining <span>{channelName}</span> soon",{channelName:ce},Ge),Me?be.rt("Couldn\u2019t accept invitation"):ze},this.getFreeTrialBodyText=()=>{var ce;const{trialExpirationDate:he,experimentScGettingStartedExperiments2GroupTreatment:Me,connectInvite:Ae,channelId:xe,channelName:Re,isUserExternalLimited:Ge}=this.props,ze=!(Ae==null||(ce=Ae.channel)===null||ce===void 0)&&ce.is_private?y.e:y.a,Ie=t.a.createElement(H.a,{channelId:xe,overrideHiddenName:Re,overrideHiddenIcon:ze,showTeam:!1});return Me?Ge?be.rt("You\u2019ve accepted this invitation and your team\u2019s now on a free trial of Slack Pro. Your trial includes Slack Connect and other features that help your team work better, together. It goes through {trialEndDate}, absolutely free. {learnMoreLink}",{trialEndDate:he,learnMoreLink:t.a.createElement(u.a,{href:Object(ie.w)()},Me&&be.t("Learn more"))}):be.rt("You\u2019ve accepted this invitation to <strong>{channelName}</strong> and your team\u2019s now on a free trial of Slack Pro. Your trial includes Slack Connect and other features that help your team work better, together. It goes through {trialEndDate}, absolutely free. {learnMoreLink}",{channelName:Ie,trialEndDate:he,learnMoreLink:t.a.createElement(u.a,{href:Object(ie.w)()},Me&&be.t("Learn more"))}):be.t("")},this.getBodyText=()=>{var ce;const{invitingTeamId:he,channelId:Me,channelName:Ae,sharedChannelConnected:xe,connectInvite:Re,isUserExternalLimited:Ge,shouldShowScdmStep:ze,pendingApprovalTeamIds:Ie,experimentScGettingStartedExperiments2GroupTreatment:Ne,hasAcceptedInviteOnFreeTrial:Ke}=this.props;if((Re==null?void 0:Re.invite_type)===_.b.Im)return be.rt("You\u2019re here! Now you can send messages, share all sorts of files, and collaborate on specific projects \u2014 with anyone, no matter where they work.");const Ve=this.props.invitingTeamName||t.a.createElement(f.a,{id:he}),$e=!(Re==null||(ce=Re.channel)===null||ce===void 0)&&ce.is_private?y.e:y.a,tt=t.a.createElement(H.a,{channelId:Me,overrideHiddenName:Ae,overrideHiddenIcon:$e,showTeam:!1});return ze?be.rt("{possessiveTeamName} admins have to sign off on channels with people outside their company. Once that\u2019s done, you\u2019ll be notified.",{possessiveTeamName:this.props.invitingTeamName?Object(g.c)(this.props.invitingTeamName):t.a.createElement(f.a,{id:he})}):xe?Ge?Ne?Ke?be.rt("In <strong>{channelName}</strong>, you can post and reply to messages, but you\u2019ll need to get approval before you can add any other people to the channel.",{channelName:tt}):be.rt("<strong>{channelName}</strong> is where you\u2019ll work with {invitingMember} and others from <strong>{invitingTeam}</strong>. You can post and reply to messages, but you\u2019ll need to get approval before you can add any other people to the channel.",{channelName:tt,invitingMember:this.getInvitingMemberEntity(!1),invitingTeam:Ve}):be.rt("This is where you\u2019ll be working with <strong>{invitingTeamName}</strong>. You can post messages and share files.",{invitingTeamName:Ve}):Ne?be.rt("<strong>{channelName}</strong> is where you\u2019ll work with {invitingMember} and others from <strong>{invitingTeam}</strong>.",{channelName:tt,invitingMember:this.getInvitingMemberEntity(!1),invitingTeam:Ve}):be.rt("This is where you\u2019ll be working with <strong>{invitingTeamName}</strong>. You can add your coworkers, reply to messages, and share files.",{invitingTeamName:Ve,fallbackHash:"c9953a3520f354bd683f79886ceb1b97e9e5a032"}):Ie!=null&&Ie.length?Ne?Ke?be.rt("Once admins from your organization and {invitingTeam} review this invitation, you\u2019ll be added to <strong>{channelName}</strong>.",{invitingTeam:Ve,channelName:tt}):Ie.length===1?Ie[0]===he?be.rt("You\u2019ve accepted this invite from {invitingMember}! To keep things secure, admins from {invitingTeam} need to approve it before you\u2019re added to <strong>{channelName}</strong>.",{channelName:tt,invitingMember:this.getInvitingMemberEntity(!0),invitingTeam:Ve}):be.rt("You\u2019ve accepted this invite from {invitingMember}! To keep things secure, admins from your organization need to approve it before you\u2019re added to <strong>{channelName}</strong>.",{channelName:tt,invitingMember:this.getInvitingMemberEntity(!0)}):be.rt("You\u2019ve accepted this invite from {invitingMember}! To keep things secure, admins from your organization and {invitingTeam} need to approve it before you\u2019re added to <strong>{channelName}</strong>.",{channelName:tt,invitingMember:this.getInvitingMemberEntity(!0),invitingTeam:Ve}):Ie.length===1?be.rt("Admins from {approvingTeam} get a chance to review this request. Once they give it the thumbs up, you\u2019ll be added to the channel.",{approvingTeam:t.a.createElement(f.a,{bold:!1,id:Ie[0]})}):be.rt("Admins from {approvingTeam1} and {approvingTeam2} get a chance to review this request. Once they give it the thumbs up, you\u2019ll be added to the channel.",{approvingTeam1:t.a.createElement(f.a,{bold:!1,id:Ie[0]}),approvingTeam2:t.a.createElement(f.a,{bold:!1,id:Ie[1]})}):be.rt("All organizations will need the approval of their admins to work together using Slack Connect. Once approved, you\u2019ll be connected.")},this.getErrorText=()=>{const{sharedInviteFlowError:ce,connectInvite:he}=this.props;return Object(U.a)(ce,{connectInvite:he,fallbackCopy:{header:be.t("Couldn\u2019t accept invitation"),body:be.t("This invitation is no longer available. You may want to reach out to the person who sent you this link for help.")}})},this.getButtonText=()=>{const{sharedInviteFlowError:ce,shouldShowScdmStep:he,experimentScGettingStartedExperiments2GroupTreatment:Me}=this.props;return he?be.t("Continue"):ce?be.t("OK"):Me?be.t("Got It"):be.t("Done")},this.setShouldShowSpeedBump=ce=>{this.setState(()=>({shouldShowSpeedBump:ce})),ce&&this.trackClog({action:P.UiAction.IMPRESSION,elementName:"enter_speedbump"})},this.onClickPrimaryCTA=()=>{const{shouldShowScdmStep:ce,closeModal:he}=this.props;return ce?this.setState(()=>({currentStep:Fe.PromoteScdmStep})):he()},this.getInvitingMemberEntity=function(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const{connectInvite:he}=Ce.props,Me=he==null?void 0:he.invite.inviting_user;return t.a.createElement(c.a,{member:Me??void 0,id:Me==null?void 0:Me.id,forceRealName:!0,isBold:ce})},this.getHeaderIllustration=()=>{const{isDarkMode:ce,sharedChannelConnected:he,experimentScGettingStartedExperiments2GroupTreatment:Me}=this.props;return Me?he?ce?Y.a:X.a:ce?ae.a:w.a:ce?se.a:G.a},this.getScdmFooterText=()=>{const{navigateToInvitingMemberDM:ce,experimentScGettingStartedExperiments2GroupTreatment:he}=this.props,Me=this.getInvitingMemberEntity(!1),Ae=h(xe=>t.a.createElement(u.a,{onClick:ce,autoClogProps:Pe,renderAsSpan:!0},xe),"generateDmLink");return he?be.rt("While you wait for approval, <a>send {member} a message</a> to let them know you accepted the invite.",{member:Me},xe=>{let{text:Re}=xe;return Ae(Re)}):be.rt("Want to let {member} know you\u2019ve accepted their invite? <a>Send them a message</a> while you wait.",{member:Me},xe=>{let{text:Re}=xe;return Ae(Re)})},this.renderAdditionalFooter=()=>{const{connectInvite:ce,shouldShowScdmStep:he,shouldShowScdmFooter:Me}=this.props,Ae=ce==null?void 0:ce.invite.inviting_user,xe=ce==null?void 0:ce.invite.inviting_team,Re=Object(O.default)("p-shared_invite_creator_welcome_modal__footer",{"p-shared_invite_creator_welcome_modal__footer--sandwich":he,"p-shared_invite_creator_welcome_modal__footer--scdm":Me});return he?t.a.createElement(j.g,{className:Re,"data-qa":je.FOOTER,isAdaptive:!0},t.a.createElement("div",{className:"p-shared_invite_creator_welcome_modal__footer_body","data-qa":je.FOOTER_BLURB},t.a.createElement("img",{src:o.a,alt:be.t("sandwich illustration"),height:64}),t.a.createElement("div",{className:"margin_left_75"},be.rt("Typically this takes around <strong>10 to 15 minutes</strong> \u2014 or about how long you need to make a decent sandwich.")))):Me?t.a.createElement(j.g,{className:Re,"data-qa":je.FOOTER,isAdaptive:!0},t.a.createElement("div",{className:"p-shared_invite_creator_welcome_modal__footer_body","data-qa":je.SCDM_FOOTER_BLURB},xe&&Ae&&t.a.createElement(M.a,{className:"p-shared_invite_creator_welcome_modal__inviting_member_icon",team:xe,user:Ae,size:40,shouldRenderTeamBadge:!0,allowDefaultProfileImage:!0}),t.a.createElement("div",null,this.getScdmFooterText()))):null},this.trackClog=a.a,this.state={currentStep:Fe.WelcomeStep,shouldShowSpeedBump:!1}}},"SharedInviteCreatorWelcomeModal");_e.displayName="SharedInviteCreatorWelcomeModal",_e.defaultProps={shouldShowScdmStep:!1,shouldShowScdmFooter:!1};const pe=h((Te,Oe)=>{var Ce;const ce=Object(V.g)(Te),he={sharedInviteFlowError:Object(B.F)(Te)||Object(B.I)(Te),experimentScGettingStartedExperiments2GroupTreatment:Object(D.a)(Te),trialExpirationDate:Object(le.a)(Object(Q.g)(Te))};if(!Oe.connectInvite){var Me;const ut=Object(d.d)(Te,Oe.channelId),rt=Oe.channelName||Object(r.t)(Te,ut,{publicChannelIncludeHashSign:!1});return{...he,channelId:(ut==null?void 0:ut.id)||"",inviteId:(Me=Object(B.H)(Te))===null||Me===void 0?void 0:Me.id,invitingTeamId:Object(m.a)(ut),channelName:rt,sharedChannelConnected:Oe.sharedChannelConnected}}const{invite:Ae,channel:xe,acceptances:Re}=Oe.connectInvite,Ge=Ae.inviting_team.icon,ze=Ge&&!Ge.image_default?Ge:void 0,Ie=Object(z.w)(ce)?Object(z.m)(ce):void 0,Ne=Oe.sharedChannelConnected!==void 0?Oe.sharedChannelConnected:(Re==null||(Ce=Re[0])===null||Ce===void 0?void 0:Ce.approval_status)==="approved",Ke=Object(K.a)({invite:Oe.connectInvite}),Ve=Object(d.m)(Te,Ae.inviting_user.id),$e=Ae.is_sponsored&&Object(z.H)(ce),tt=!Ne&&Object(p.b)(Te)&&Oe.promptForScdmAfterAcceptInWeb&&!Object(r.W)(Ve)&&!$e,qe=!Oe.otherWorkspaceId&&Oe.promptForScdmAfterAcceptInSlack&&!Ne&&Object(p.b)(Te)&&!Object(r.W)(Ve);return{...he,channelId:(xe==null?void 0:xe.id)||"",inviteId:Ae.id,invitingTeamId:Ae.inviting_team.id,channelName:(xe==null?void 0:xe.name)||"",sharedChannelConnected:Ne,invitingTeamName:Ae.inviting_team.name,customHomeIcon:Ie,customAwayIcon:ze,isUserExternalLimited:Object(A.a)(Te,(xe==null?void 0:xe.id)||""),isDarkMode:Object(v.a)(Te)==="dark",shouldShowScdmStep:tt,shouldShowScdmFooter:qe,pendingApprovalTeamIds:Ke,isSponsoredInvite:$e}},"mapStateToProps"),fe=h((Te,Oe)=>{let{connectInvite:Ce}=Oe;const ce=h(()=>{Te(Object(R.a)()),window.history.replaceState("","",Object(de.b)(window.location.href,ge.a))},"closeModal");return{closeModal:ce,navigateToInvitingMemberDM:()=>{ce(),Te(I({memberId:Ce==null?void 0:Ce.invite.inviting_user.id}))}}},"mapDispatchToProps"),Ee=_e;var ye=i.a=Object(s.a)(pe,fe)(_e)},zlyu:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("C3Bw"),s=e("BHdc"),l=e("ifKl"),o=e("oaNE"),f=e("1ufr"),r=e("WIr4"),m=e("FWtP"),c=e("nNoG"),u=e("gPPH"),d=e("nFQW"),p=e("ZobM"),v=e("Tevt"),g=e("hp0J"),O=e("Trx9"),b=e("Cfcg"),y=e("RVJP"),C=e("Atq3"),_=e("iUFw");function j(){return j=Object.assign||function(D){for(var H=1;H<arguments.length;H++){var Z=arguments[H];for(var G in Z)Object.prototype.hasOwnProperty.call(Z,G)&&(D[G]=Z[G])}return D},j.apply(this,arguments)}h(j,"_extends");let E=h(class extends n.PureComponent{componentDidMount(){this.focusOnButton()}focusOnButton(){this.buttonRef.current&&this.buttonRef.current.focus()}render(){const{children:H,...Z}=this.props;return t.a.createElement(_.d,j({ref:this.buttonRef,"data-qa":"coachmark_close_button"},Z),H)}constructor(H){super(H),this.buttonRef=t.a.createRef(),this.focusOnButton=this.focusOnButton.bind(this)}},"DeprecatedCoachmarkCloseButton");E.displayName="DeprecatedCoachmarkCloseButton";var M=E,T=e("ktUG"),P=e("rq2v"),B=e("jWHu"),R=e("somW"),U=e("UL37"),K=e("khnw");function V(){return V=Object.assign||function(D){for(var H=1;H<arguments.length;H++){var Z=arguments[H];for(var G in Z)Object.prototype.hasOwnProperty.call(Z,G)&&(D[G]=Z[G])}return D},V.apply(this,arguments)}h(V,"deprecated_coachmark_extends");const z=new c.b("generic_dialog"),N=Object(m.a)(D=>({qa:D})),A=Object(m.a)((D,H)=>({overlay:D,content:H}),2),x=Object(m.a)(D=>[{elementName:`${D}_close_coachmark_button`,action:T.UiAction.CLOSE,onClick:{enableClogAction:!0}},{elementName:`${D}_secondary_cta`,onClick:{enableClogAction:!0}},{elementName:`${D}_primary_cta`,onClick:{enableClogAction:!0}}]),k=h(D=>{D.stopPropagation()},"stopPropagation"),F=h(D=>{(D==null?void 0:D.keyCode)===K.q&&D.stopPropagation()},"maybeStopPropagation"),L=[10,20,30,40,50,60,70,80,90,95];class S extends n.PureComponent{componentDidMount(){this.props.isOpen&&(this.maybeUpdateCoachmarkPosition(),this.pollForChangesToAnchorPosition()),this.props.isMegaphoneCoachmark&&!this.context.isInMegaphoneContainerContext&&Object(B.b)(B.a.DeprecatedCoachmark)}componentDidUpdate(H){this.props.isOpen&&this.maybeUpdateCoachmarkPosition(),!H.isOpen&&this.props.isOpen&&this.pollForChangesToAnchorPosition(),H.isOpen&&!this.props.isOpen&&this.maybeClearInterval()}componentWillUnmount(){this.maybeClearInterval()}onAfterOpen(){const{anchorElement:H,onAfterOpen:Z}=this.props;H&&(Z==null||Z(H))}maybeClearInterval(){this.intervalId&&clearInterval(this.intervalId)}pollForChangesToAnchorPosition(){this.intervalId=this.props.window.setInterval(this.maybeUpdateCoachmarkPosition,50)}maybeUpdateCoachmarkPosition(){const{anchorElement:H,forceCoachmarkRefurbish:Z,window:G}=this.props;if(!H)return;const te=H.getBoundingClientRect(),se=G.innerWidth;(!this.lastAnchorPosition||this.lastWindowWidth!==se||te.x!==this.lastAnchorPosition.x||te.y!==this.lastAnchorPosition.y||Z&&(te.width!==this.lastAnchorPosition.width||te.height!==this.lastAnchorPosition.height))&&(this.lastAnchorPosition=te,this.lastWindowWidth=se,this.forceUpdate())}getComputedStyles(H,Z){const{offsetX:G,offsetY:te,centerOnArrow:se,forceCoachmarkRefurbish:$,window:X}=this.props,q=X.scrollX||X.pageXOffset,Y=X.scrollY||X.pageYOffset,ee=X.innerWidth,w=X.innerHeight,ne=20,ae={};if($){switch(Z){case"top-left":ae.left=H.left+G,ae.top=H.top-ne+te;break;case"top":ae.left=H.left+G,ae.top=H.top-ne+te,se&&(ae.left+=H.width/2);break;case"top-right":ae.left=H.left+G,ae.top=H.top-ne+te,se&&(ae.left+=H.width);break;case"bottom-left":ae.left=H.left+G,ae.top=H.top+H.height+ne+te;break;case"bottom":ae.left=H.left+G,ae.top=H.top+H.height+ne+te,se&&(ae.left+=H.width/2);break;case"bottom-right":ae.left=H.left+G,ae.top=H.top+H.height+ne+te,se&&(ae.left+=H.width);break;case"left-top":ae.left=H.left+G+ne,ae.top=H.top+te;break;case"left":ae.left=H.left+G+ne,ae.top=H.top+H.height/2+te;break;case"left-bottom":ae.left=H.left+G+ne,ae.top=H.top+H.height+te;break;case"right-top":ae.left=H.left+H.width+ne+G,ae.top=H.top+te;break;case"right":ae.left=H.left+H.width+ne+G,ae.top=H.top+H.height/2+te;break;case"right-bottom":ae.left=H.left+H.width+ne+G,ae.top=H.top+H.height+te;break;default:Object(C.a)(Z);break}return ae}switch(Z){case"top":ae.left=H.left+q+G,ae.top=H.top+Y-H.height+te,se&&(ae.left+=H.width/2);break;case"bottom":ae.left=H.left+q+G,ae.top=H.top+Y+H.height+ne+te,se&&(ae.left+=H.width/2);break;case"right":ae.left=H.left+q+H.width+ne+G,ae.top=H.top+Y+H.height/2+te;break;case"left":ae.left=H.left+q+G,ae.top=H.top+Y+H.height/2+te;break;case"bottom-left":ae.right=ee-H.right+G,ae.top=H.top+Y+H.height+ne+te;break;case"top-left":ae.right=ee-H.right+G,ae.bottom=w-H.top+te,se&&(ae.left+=H.width/2);break;case"left-top":ae.left=H.left+q+G,ae.top=H.top+te;break;default:break}return ae}renderModalContent(){const{children:H,closeCoachmark:Z,isOpen:G,onClickPrimaryButton:te,onClickSecondaryButton:se,onClickTertiaryButton:$,primaryCallToActionText:X,secondaryCallToActionText:q,tertiaryCallToActionText:Y,primaryCallToActionType:ee,secondaryCallToActionType:w,autoClogProps:ne,contentLabel:ae,labelledby:de,describedby:ge,hideCloseButton:le,experimentNonModalCoachmarkGroupTreatment:Q,enableSectionNavigation:ie}=this.props,oe=Y||q||X,[me,be,Se]=x(ne==null?void 0:ne.elementName),Pe=t.a.createElement(g.a,null,!le&&t.a.createElement(d.a,{className:"c-coachmark__close",onClick:Z,"aria-label":z.t("Close"),"data-qa":"close_coachmark_button",autoClogProps:me,autoFocus:!!(ae||de||ge)&&!oe},t.a.createElement(p.a,{name:"close",size:"20"})),H,oe&&t.a.createElement("div",{className:"c-coachmark__footer"},Y&&t.a.createElement(t.a.Fragment,null,t.a.createElement(v.a,{onClick:$,"data-action-type":"tertiary"},Y),t.a.createElement("div",{className:"flex_one"})),q&&t.a.createElement(M,{onClick:se,type:w,className:"margin_right_75","data-action-type":"secondary",autoClogProps:be},q),X&&t.a.createElement(M,{onClick:te,type:ee,"data-action-type":"primary",autoClogProps:Se},X)));return Q?t.a.createElement(R.a,{id:this.id,index:U.a.SECONDARY_VIEW+.1,focusFn:l.a,onFocus:k,enableSectionNavigation:ie&&G,onKeyDown:F},Pe):Pe}render(){const{anchorElement:H,arrowPosition:Z,closeCoachmark:G,coachmarkClassNames:te,overlayClassNames:se,modalBodyOpenClassNames:$,qa:X,isOpen:q,orientation:Y,centerOnArrow:ee,style:w,overlayStyle:ne,autoClogProps:ae,contentLabel:de,labelledby:ge,describedby:le,forceCoachmarkRefurbish:Q,UNSAFE_parentSelector:ie,shouldCloseOnOverlayClick:oe,isModal:me,experimentNonModalCoachmarkGroupTreatment:be}=this.props;if(!q||!H||!this.lastAnchorPosition)return null;const Se=Object(s.default)("c-coachmark",`c-coachmark--${Y}`,`c-coachmark--${Z}`,{"c-coachmark--center_on_arrow":ee,"c-coachmark--refurbish":Q},te),Pe=Object(s.default)("c-coachmark__overlay",se),Ue=Object(s.default)($),Fe=this.getComputedStyles(this.lastAnchorPosition,Y),je=Object(o.a)({},Fe,w),_e=Object(o.a)({position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"transparent",zIndex:1e3},ne),pe={...ae};return delete pe.elementName,t.a.createElement(O.a,V({disableValidationWarnings:!0,enableClogImpressionOffScreen:!0,clogImpression:q},pe),t.a.createElement(a.a,V({data:N(X),className:Se,isOpen:q,onRequestClose:G,overlayClassName:Pe,bodyOpenClassName:Ue,ref:this.contentRef,shouldCloseOnEsc:!0,style:A(_e,je),contentLabel:de},be?{ariaHideApp:me,aria:{labelledby:ge,describedby:le,modal:me}}:{aria:{labelledby:ge,describedby:le}},{onAfterOpen:this.onAfterOpen,parentSelector:ie,shouldCloseOnOverlayClick:oe}),this.renderModalContent()))}constructor(H){super(H),this.contentRef=t.a.createRef(),this.id=`Coachmark_${Object(u.a)()}`,Object(r.a)(this,["maybeUpdateCoachmarkPosition","onAfterOpen"])}}h(S,"deprecated_coachmark_DeprecatedBaseCoachmark"),S.displayName="DeprecatedBaseCoachmark",S.defaultProps={arrowPosition:50,closeCoachmark:l.a,qa:"coachmark",offsetX:0,offsetY:0,onClickPrimaryButton:l.a,onClickSecondaryButton:l.a,onClickTertiaryButton:l.a,primaryCallToActionType:"primary",secondaryCallToActionType:"outline",centerOnArrow:!1,autoClogProps:{elementName:"unset"},isMegaphoneCoachmark:!0,shouldCloseOnOverlayClick:!0,isModal:!1,enableSectionNavigation:!0},S.contextType=P.a;const I=h(D=>({experimentNonModalCoachmarkGroupTreatment:Object(y.d)(D,"non_modal_coachmark")==="treatment"}),"mapStateToProps");var W=i.a=Object(f.a)(Object(b.a)(I,void 0,void 0,{forwardRef:!0})(S))},zonX:function(J,i,e){"use strict";e.d(i,"a",function(){return c});var n=e("q1tI"),t=e.n(n),a=e("/MKj"),s=e("zxER"),l=e("v5z3"),o=e("IaLB"),f=e("uVZW"),r=e("eWGC");const m={[l.g.Flag]:o.qb,[l.g.Explainer]:o.pb,[l.g.Success]:o.sb},c=h((u,d)=>{const p=m[d],v=Object(s.c)(O=>p(O,{tip:u})),g=Object(a.useDispatch)();Object(n.useEffect)(()=>{l.h[u]&&v&&g(Object(r.a)({notificationName:l.h[u],action:f.f.IMPRESSION,step:d}))},[g,v,d,u])},"useRecordMegaphoneImpressionForProgressiveDisclosure")},zyFp:function(J,i,e){"use strict";var n=e("q1tI"),t=e.n(n),a=e("SQ0V"),s=e("oY18"),l=e("rAyg"),o=e("pu3F"),f=e("nNoG");const r=new f.b("multi_file_upload"),m={name:"warning"},c=Object(a.c)("renders a toast with error message for uploading too many files",u=>{const d=r.t("You can only upload {count, plural, =1 {# file} other {# files}} at a time.",{count:o.z}),p=t.a.createElement(l.a,{svgIconProps:m,svgIconClassName:"sk_reddish_orange"},t.a.createElement("span",null,d));setTimeout(()=>u(Object(s.a)({element:p})),500)});c.meta={name:"createThunk",key:"createThunkrenderFileLimitToast",description:"renders a toast with error message for uploading too many files"},i.a=c},zygp:function(J,i,e){"use strict";e.d(i,"a",function(){return _}),e.d(i,"g",function(){return T}),e.d(i,"f",function(){return R}),e.d(i,"c",function(){return V}),e.d(i,"b",function(){return N}),e.d(i,"e",function(){return A}),e.d(i,"d",function(){return x});var n=e("OtLZ"),t=e("1myf"),a=e("lE2N"),s=e("wd/R"),l=e.n(s),o=e("SQ0V"),f=e("ZKjC"),r=e("JoR1");const m=h(function(){let{nextDndStartTs:k,nextDndEndTs:F,now:L=l()().unix()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return k===1||F===1?!1:k<=L&&F>L},"calculateIfMemberIsInDnd"),c={calculateIfMemberIsInDnd:m};var u=e("8sbp"),d=e("C3vN"),p=e("cQ/D"),v=e("rsVu"),g=e("nNoG"),O=e("s4P+"),b=e("IYwZ");const y=new g.b("drafts");var C;(function(k){k[k.TuesToFriFrom0To8=0]="TuesToFriFrom0To8",k[k.TuesToFriFrom8To12=1]="TuesToFriFrom8To12",k[k.TuesToThursFrom12To24=2]="TuesToThursFrom12To24",k[k.Fri12ThroughSun24=3]="Fri12ThroughSun24",k[k.MondayFrom0To8=4]="MondayFrom0To8",k[k.MondayFrom8To12=5]="MondayFrom8To12",k[k.MondayFrom12To24=6]="MondayFrom12To24",k[k.Unknown=7]="Unknown"})(C||(C={}));var _;(function(k){k[k.LaterTodayAtNineAM=0]="LaterTodayAtNineAM",k[k.LaterTodayAtOnePM=1]="LaterTodayAtOnePM",k[k.TomorrowAtNineAM=2]="TomorrowAtNineAM",k[k.TomorrowAtOnePM=3]="TomorrowAtOnePM",k[k.MondayAtNineAM=4]="MondayAtNineAM",k[k.NextMondayAtNineAM=5]="NextMondayAtNineAM",k[k.MemberSpecificSchedulingTime=6]="MemberSpecificSchedulingTime",k[k.Custom=7]="Custom"})(_||(_={}));const j=Object.freeze({SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6});function E(){return l()().unix()}h(E,"getNow");function M(k){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E();if(k===_.LaterTodayAtNineAM)return l.a.unix(F).hour(9).minute(0).second(0).unix();if(k===_.LaterTodayAtOnePM)return l.a.unix(F).hour(13).minute(0).second(0).unix();if(k===_.TomorrowAtNineAM)return l.a.unix(F).hour(9).minute(0).second(0).add(1,"d").unix();if(k===_.TomorrowAtOnePM)return l.a.unix(F).hour(13).minute(0).second(0).add(1,"d").unix();if(k===_.MondayAtNineAM||k===_.NextMondayAtNineAM){const L=l()().day()<j.MONDAY?j.MONDAY:j.MONDAY+7;return l.a.unix(F).day(L).hour(9).minute(0).second(0).unix()}return k===_.Custom&&Object(O.b)().error('cannot get scheduling time for "Custom" option \u2014 this is likely a coding error'),0}h(M,"getTimeForStandardSchedulingOption");const T=Object(o.c)("gets time for scheduling option",(k,F,L)=>{let{option:S,draftId:I}=L;return S===_.MemberSpecificSchedulingTime?z(F(),I):M(S)});T.meta={name:"createThunk",key:"createThunkgetTimeForSchedulingOptionThunk",description:"gets time for scheduling option"};function P(){const k=l()().day(),F=l()().hour();return k>=j.TUESDAY&&k<=j.FRIDAY&&F>=0&&F<8?C.TuesToFriFrom0To8:k>=j.TUESDAY&&k<=j.FRIDAY&&F>=8&&F<12?C.TuesToFriFrom8To12:k>=j.TUESDAY&&k<=j.THURSDAY&&F>=12?C.TuesToThursFrom12To24:k===j.FRIDAY&&F>=12||k===j.SATURDAY||k===j.SUNDAY?C.Fri12ThroughSun24:k===j.MONDAY&&F>=0&&F<8?C.MondayFrom0To8:k===j.MONDAY&&F>=8&&F<12?C.MondayFrom8To12:k===j.MONDAY&&F>=12?C.MondayFrom12To24:C.Unknown}h(P,"getCurrentScheduledSendTimeBlock");function B(){switch(P()){case C.TuesToFriFrom0To8:return[_.LaterTodayAtNineAM,_.MondayAtNineAM,_.Custom];case C.TuesToFriFrom8To12:return[_.LaterTodayAtOnePM,_.MondayAtNineAM,_.Custom];case C.TuesToThursFrom12To24:return[_.TomorrowAtNineAM,_.MondayAtNineAM,_.Custom];case C.Fri12ThroughSun24:return[_.MondayAtNineAM,_.Custom];case C.MondayFrom0To8:return[_.LaterTodayAtNineAM,_.NextMondayAtNineAM,_.Custom];case C.MondayFrom8To12:return[_.LaterTodayAtOnePM,_.NextMondayAtNineAM,_.Custom];case C.MondayFrom12To24:return[_.TomorrowAtNineAM,_.NextMondayAtNineAM,_.Custom];default:return[_.Custom]}}h(B,"getStandardScheduledSendMenuOptions");const R=Object(f.b)((k,F)=>{let{draftId:L}=F;const S=B(),I=z(k,L);if(!I)return S;const D=Object(n.a)([...S,_.MemberSpecificSchedulingTime],_.Custom).map(G=>{const se=G===_.MemberSpecificSchedulingTime?I:M(G);return{schedulingOption:G,schedulingTime:se}}),Z=Object(t.a)(Object(a.a)(D,"schedulingTime"),"schedulingTime").map(G=>G.schedulingOption);return Z.push(_.Custom),Z});R.meta={name:"createSelector",key:"createSelectorgetScheduledSendMenuOptions",description:(k,F)=>{let{draftId:L}=F;const S=B(),I=z(k,L);if(!I)return S;const D=Object(n.a)([...S,_.MemberSpecificSchedulingTime],_.Custom).map(G=>{const se=G===_.MemberSpecificSchedulingTime?I:M(G);return{schedulingOption:G,schedulingTime:se}}),Z=Object(t.a)(Object(a.a)(D,"schedulingTime"),"schedulingTime").map(G=>G.schedulingOption);return Z.push(_.Custom),Z}};const U=Object(o.c)("gets label for scheduling option in or without 24hr option",(k,F,L)=>{let{schedulingOption:S}=L;const I=F();if(Object(r.u)(I,"time24"))switch(S){case _.LaterTodayAtNineAM:return y.t("Later today at 09:00");case _.LaterTodayAtOnePM:return y.t("Later today at 13:00");case _.TomorrowAtNineAM:return y.t("Tomorrow  at 09:00");case _.TomorrowAtOnePM:return y.t("Tomorrow at 13:00");case _.MondayAtNineAM:return y.t("Monday at 09:00");case _.NextMondayAtNineAM:return y.t("Next Monday at 09:00");case _.Custom:return y.t("Custom time");default:return""}else switch(S){case _.LaterTodayAtNineAM:return y.t("Later today at 9:00 AM");case _.LaterTodayAtOnePM:return y.t("Later today at 1:00 PM");case _.TomorrowAtNineAM:return y.t("Tomorrow at 9:00 AM");case _.TomorrowAtOnePM:return y.t("Tomorrow at 1:00 PM");case _.MondayAtNineAM:return y.t("Monday at 9:00 AM");case _.NextMondayAtNineAM:return y.t("Next Monday at 9:00 AM");case _.Custom:return y.t("Custom time");default:return""}});U.meta={name:"createThunk",key:"createThunkgetLabelForStandardSchedulingOptionThunk",description:"gets label for scheduling option in or without 24hr option"};function K(k){const F=Object(d.E)(k);if(!F)return!1;const L=F/60,S=l()().utcOffset(L),I=S.day(),W=S.hour();return I===j.FRIDAY&&W>=9||I===j.SATURDAY||I===j.SUNDAY}h(K,"shouldScheduleForMemberAfterWeekend");const V=Object(o.c)("gets label for scheduling option",(k,F,L)=>{let{option:S,draftId:I}=L;if(S===_.MemberSpecificSchedulingTime){const W=F(),D=z(W,I);if(!D)return"";const H=Object(u.b)(W,I);if(!H)return"";const Z=Object(v.a)(D,{do24hrTime:Object(r.u)(W,"time24")}),te=l.a.unix(D).day();if(K(H)){const $=te===j.MONDAY?y.t("Monday"):y.t("Sunday");return y.t("{scheduledDayString} at {timeString}",{scheduledDayString:$,timeString:Z})}return te===l()().day()?y.t("Later today at {timeString}",{timeString:Z}):y.t("Tomorrow at {timeString}",{timeString:Z})}return k(U({schedulingOption:S}))});V.meta={name:"createThunk",key:"createThunkgetLabelForSchedulingOptionThunk",description:"gets label for scheduling option"};function z(k,F){const L=Object(u.b)(k,F);if(!L)return;const S=Object(d.m)(L),I=Object(d.E)(L);if(!I)return;const{nextDndStartTs:W,nextDndEndTs:D}=Object(b.c)(k,S)||{},H=m({nextDndStartTs:W,nextDndEndTs:D}),Z=Object(p.a)(Date.now(),L);if(H||Z){const G=I/60,te=l()().utcOffset(G),se=te.day(),$=te.hour();if(K(L)){const Y=se<j.MONDAY?j.MONDAY:j.MONDAY+7;return l()().utcOffset(G).day(Y).hour(9).minute(0).second(0).unix()}let q=l()().utcOffset(G).hour(9).minute(0).second(0);return $>=9&&(q=q.add(1,"days")),q.unix()}}h(z,"getMemberSpecificSchedulingTime");const N=Object(f.b)((k,F)=>{let{dateScheduled:L,now:S=E(),draftId:I}=F;if(L)return L;const W=z(k,I);if(W)return W;const D=l.a.unix(S).minute(0).second(0).add(1,"hour").unix();return D<A(S)?l.a.unix(D).add(1,"hour").unix():D});N.meta={name:"createSelector",key:"createSelectorgetDefaultCustomTime",description:(k,F)=>{let{dateScheduled:L,now:S=E(),draftId:I}=F;if(L)return L;const W=z(k,I);if(W)return W;const D=l.a.unix(S).minute(0).second(0).add(1,"hour").unix();return D<A(S)?l.a.unix(D).add(1,"hour").unix():D}};function A(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E();return l.a.unix(k).add(5,"minutes").second(0).unix()}h(A,"getMinimumCustomTime");function x(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E();return l.a.unix(k).add(120,"days").second(0).unix()}h(x,"getMaximumCustomTime")}}]);})();
